2024-08-30 12:56:04.944 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-08-30 12:56:05.177 -05:00 [DBG] Hosting starting
2024-08-30 12:56:05.261 -05:00 [INF] User profile is available. Using 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-30 12:56:05.273 -05:00 [DBG] Reading data from file 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys\key-12ed5171-7863-4d3e-a216-6f5439158e60.xml'.
2024-08-30 12:56:05.311 -05:00 [DBG] Found key {12ed5171-7863-4d3e-a216-6f5439158e60}.
2024-08-30 12:56:05.331 -05:00 [DBG] Considering key {12ed5171-7863-4d3e-a216-6f5439158e60} with expiration date 2024-09-28 19:27:42Z as default key.
2024-08-30 12:56:05.338 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-30 12:56:05.342 -05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-08-30 12:56:05.349 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-30 12:56:05.354 -05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-08-30 12:56:05.355 -05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-08-30 12:56:05.358 -05:00 [DBG] Using key {12ed5171-7863-4d3e-a216-6f5439158e60} as the default key.
2024-08-30 12:56:05.359 -05:00 [DBG] Key ring with default key {12ed5171-7863-4d3e-a216-6f5439158e60} was loaded during application startup.
2024-08-30 12:56:06.033 -05:00 [INF] Now listening on: https://localhost:7299
2024-08-30 12:56:06.034 -05:00 [INF] Now listening on: http://localhost:5219
2024-08-30 12:56:06.034 -05:00 [DBG] Loaded hosting startup assembly biblioteca-backend
2024-08-30 12:56:06.034 -05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-08-30 12:56:06.034 -05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-08-30 12:56:06.034 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-30 12:56:06.034 -05:00 [INF] Hosting environment: Development
2024-08-30 12:56:06.035 -05:00 [INF] Content root path: C:\Users\spatino\Documents\Proyeco - Biblioteca\biblioteca-backend
2024-08-30 12:56:06.035 -05:00 [DBG] Hosting started
2024-08-30 12:56:06.136 -05:00 [DBG] Connection id "0HN693K2M5BEM" accepted.
2024-08-30 12:56:06.138 -05:00 [DBG] Connection id "0HN693K2M5BEM" started.
2024-08-30 12:56:06.139 -05:00 [DBG] Connection id "0HN693K2M5BEN" accepted.
2024-08-30 12:56:06.141 -05:00 [DBG] Connection id "0HN693K2M5BEN" started.
2024-08-30 12:56:06.189 -05:00 [DBG] Connection id "0HN693K2M5BEM" received FIN.
2024-08-30 12:56:06.189 -05:00 [DBG] Connection id "0HN693K2M5BEN" received FIN.
2024-08-30 12:56:06.201 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-08-30 12:56:06.201 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-08-30 12:56:06.254 -05:00 [DBG] Connection id "0HN693K2M5BEM" stopped.
2024-08-30 12:56:06.265 -05:00 [DBG] Connection id "0HN693K2M5BEM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-30 12:56:06.267 -05:00 [DBG] Connection id "0HN693K2M5BEN" stopped.
2024-08-30 12:56:06.274 -05:00 [DBG] Connection id "0HN693K2M5BEN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-30 12:56:07.422 -05:00 [DBG] Connection id "0HN693K2M5BEO" accepted.
2024-08-30 12:56:07.424 -05:00 [DBG] Connection id "0HN693K2M5BEO" started.
2024-08-30 12:56:07.598 -05:00 [DBG] Connection 0HN693K2M5BEO established using the following protocol: "Tls12"
2024-08-30 12:56:07.857 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/index.html - null null
2024-08-30 12:56:18.282 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-08-30 12:56:18.327 -05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-08-30 12:56:18.334 -05:00 [DBG] Request did not match any endpoints
2024-08-30 12:56:18.528 -05:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-08-30 12:56:18.530 -05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-08-30 12:56:18.675 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
2024-08-30 12:56:18.679 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
2024-08-30 12:56:18.694 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 16.9359ms
2024-08-30 12:56:18.707 -05:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-08-30 12:56:18.710 -05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-08-30 12:56:18.729 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/index.html - 200 null text/html;charset=utf-8 10887.874ms
2024-08-30 12:56:18.899 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 220.4715ms
2024-08-30 12:56:19.265 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
2024-08-30 12:56:19.266 -05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-08-30 12:56:19.266 -05:00 [DBG] Request did not match any endpoints
2024-08-30 12:56:19.791 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 526.038ms
2024-08-30 12:57:58.786 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-08-30 12:57:58.985 -05:00 [DBG] Hosting starting
2024-08-30 12:57:59.034 -05:00 [INF] User profile is available. Using 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-30 12:57:59.043 -05:00 [DBG] Reading data from file 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys\key-12ed5171-7863-4d3e-a216-6f5439158e60.xml'.
2024-08-30 12:57:59.055 -05:00 [DBG] Found key {12ed5171-7863-4d3e-a216-6f5439158e60}.
2024-08-30 12:57:59.069 -05:00 [DBG] Considering key {12ed5171-7863-4d3e-a216-6f5439158e60} with expiration date 2024-09-28 19:27:42Z as default key.
2024-08-30 12:57:59.075 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-30 12:57:59.078 -05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-08-30 12:57:59.081 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-30 12:57:59.085 -05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-08-30 12:57:59.088 -05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-08-30 12:57:59.089 -05:00 [DBG] Using key {12ed5171-7863-4d3e-a216-6f5439158e60} as the default key.
2024-08-30 12:57:59.090 -05:00 [DBG] Key ring with default key {12ed5171-7863-4d3e-a216-6f5439158e60} was loaded during application startup.
2024-08-30 12:57:59.385 -05:00 [INF] Now listening on: https://localhost:7299
2024-08-30 12:57:59.385 -05:00 [INF] Now listening on: http://localhost:5219
2024-08-30 12:57:59.385 -05:00 [DBG] Loaded hosting startup assembly biblioteca-backend
2024-08-30 12:57:59.385 -05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-08-30 12:57:59.385 -05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-08-30 12:57:59.385 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-30 12:57:59.385 -05:00 [INF] Hosting environment: Development
2024-08-30 12:57:59.385 -05:00 [INF] Content root path: C:\Users\spatino\Documents\Proyeco - Biblioteca\biblioteca-backend
2024-08-30 12:57:59.385 -05:00 [DBG] Hosting started
2024-08-30 12:57:59.998 -05:00 [DBG] Connection id "0HN693L4K1HC8" accepted.
2024-08-30 12:57:59.999 -05:00 [DBG] Connection id "0HN693L4K1HC8" started.
2024-08-30 12:58:00.008 -05:00 [DBG] Connection id "0HN693L4K1HC9" accepted.
2024-08-30 12:58:00.008 -05:00 [DBG] Connection id "0HN693L4K1HC9" started.
2024-08-30 12:58:00.041 -05:00 [DBG] Connection id "0HN693L4K1HC9" received FIN.
2024-08-30 12:58:00.041 -05:00 [DBG] Connection id "0HN693L4K1HC8" received FIN.
2024-08-30 12:58:00.052 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-08-30 12:58:00.052 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-08-30 12:58:00.099 -05:00 [DBG] Connection id "0HN693L4K1HC9" stopped.
2024-08-30 12:58:00.099 -05:00 [DBG] Connection id "0HN693L4K1HC8" stopped.
2024-08-30 12:58:00.101 -05:00 [DBG] Connection id "0HN693L4K1HC9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-30 12:58:00.101 -05:00 [DBG] Connection id "0HN693L4K1HC8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-30 12:58:00.227 -05:00 [DBG] Connection id "0HN693L4K1HCA" accepted.
2024-08-30 12:58:00.227 -05:00 [DBG] Connection id "0HN693L4K1HCA" started.
2024-08-30 12:58:00.363 -05:00 [DBG] Connection 0HN693L4K1HCA established using the following protocol: "Tls12"
2024-08-30 12:58:00.489 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/index.html - null null
2024-08-30 12:58:00.892 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-08-30 12:58:00.929 -05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-08-30 12:58:00.929 -05:00 [DBG] Request did not match any endpoints
2024-08-30 12:58:01.029 -05:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-08-30 12:58:01.031 -05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-08-30 12:58:01.069 -05:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-08-30 12:58:01.075 -05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-08-30 12:58:01.085 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/index.html - 200 null text/html;charset=utf-8 606.8679ms
2024-08-30 12:58:01.195 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
2024-08-30 12:58:01.200 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
2024-08-30 12:58:01.207 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 11.8924ms
2024-08-30 12:58:01.272 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 71.9627ms
2024-08-30 12:58:01.427 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
2024-08-30 12:58:01.427 -05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-08-30 12:58:01.427 -05:00 [DBG] Request did not match any endpoints
2024-08-30 12:58:01.626 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 199.6665ms
2024-08-30 13:00:02.668 -05:00 [DBG] Connection id "0HN693L4K1HCB" accepted.
2024-08-30 13:00:02.669 -05:00 [DBG] Connection id "0HN693L4K1HCB" started.
2024-08-30 13:00:02.697 -05:00 [DBG] Connection 0HN693L4K1HCB established using the following protocol: "Tls12"
2024-08-30 13:00:02.699 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - null null
2024-08-30 13:00:02.729 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-08-30 13:00:02.730 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 13:00:02.736 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:00:02.739 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:00:02.739 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:00:02.741 -05:00 [DBG] The request is a preflight request.
2024-08-30 13:00:02.743 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - 204 null null 44.436ms
2024-08-30 13:00:02.748 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Perfiles/ - application/json 60
2024-08-30 13:00:02.749 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-08-30 13:00:02.752 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-08-30 13:00:02.753 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-08-30 13:00:02.754 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:00:02.755 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:00:02.755 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:00:02.894 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-30 13:00:02.898 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-08-30 13:00:02.933 -05:00 [INF] Route matched with {action = "Post", controller = "Perfiles"}. Executing controller action with signature System.Object Post(biblioteca_backend.Models.DTOs.LogInModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-08-30 13:00:02.936 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 13:00:02.937 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 13:00:02.938 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 13:00:02.938 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 13:00:02.939 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 13:00:02.944 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-08-30 13:00:03.149 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-08-30 13:00:03.185 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-08-30 13:00:03.205 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-08-30 13:00:03.210 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' using the name '' in request data ...
2024-08-30 13:00:03.211 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-08-30 13:00:03.218 -05:00 [DBG] Connection id "0HN693L4K1HCB", Request id "0HN693L4K1HCB:00000003": started reading request body.
2024-08-30 13:00:03.218 -05:00 [DBG] Connection id "0HN693L4K1HCB", Request id "0HN693L4K1HCB:00000003": done reading request body.
2024-08-30 13:00:03.222 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.LogInModel'
2024-08-30 13:00:03.223 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-08-30 13:00:03.223 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-08-30 13:00:03.223 -05:00 [DBG] Attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-08-30 13:00:03.231 -05:00 [DBG] Done attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-08-30 13:00:03.335 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) - Validation state: "Valid"
2024-08-30 13:00:03.362 -05:00 [DBG] Iniciando sesión...
2024-08-30 13:00:04.340 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 13:00:04.435 -05:00 [DBG] Compiling query expression: 
'DbSet<Perfil>()
    .FirstOrDefault(p => p.Correo == __8__locals1_logInModel_Correo_0 && p.Contrasena == __claveCifrada_1)'
2024-08-30 13:00:04.698 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Perfil>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Perfil.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Perfil.Apellido (string) Required, 1], [Property: Perfil.Contrasena (string) Required, 2], [Property: Perfil.Correo (string) Required, 3], [Property: Perfil.Direccion (string) Required, 4], [Property: Perfil.IdRol (int) Required FK Index, 5], [Property: Perfil.Nombre (string) Required, 6], [Property: Perfil.Telefono (string) Required, 7] }
        SELECT TOP(1) p.Id, p.Apellido, p.Contrasena, p.Correo, p.Direccion, p.IdRol, p.Nombre, p.Telefono
        FROM Perfil AS p
        WHERE (p.Correo == @__8__locals1_logInModel_Correo_0) && (p.Contrasena == @__claveCifrada_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Perfil>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-08-30 13:00:04.743 -05:00 [DBG] Creating DbConnection.
2024-08-30 13:00:04.783 -05:00 [DBG] Created DbConnection. (39ms).
2024-08-30 13:00:04.786 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:00:05.277 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:00:05.280 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 13:00:05.288 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-08-30 13:00:05.301 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (21ms).
2024-08-30 13:00:05.316 -05:00 [DBG] Executing DbCommand [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-08-30 13:00:05.452 -05:00 [INF] Executed DbCommand (134ms) [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-08-30 13:00:05.462 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:00:05.482 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 19ms reading results.
2024-08-30 13:00:05.484 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:00:05.497 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (11ms).
2024-08-30 13:00:05.509 -05:00 [WRN] Correo o contraseña no encontrados
2024-08-30 13:00:05.530 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2187.818ms.
2024-08-30 13:00:05.536 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 13:00:05.539 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 13:00:05.539 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 13:00:05.539 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 13:00:05.542 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-08-30 13:00:05.543 -05:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-08-30 13:00:05.553 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) in 2605.9388ms
2024-08-30 13:00:05.553 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-08-30 13:00:05.559 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 13:00:05.568 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:00:05.571 -05:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-08-30 13:00:05.572 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Perfiles/ - 200 0 text/plain; charset=utf-8 2824.049ms
2024-08-30 13:00:16.245 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - null null
2024-08-30 13:00:16.247 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-08-30 13:00:16.247 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 13:00:16.248 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:00:16.248 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:00:16.248 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:00:16.248 -05:00 [DBG] The request is a preflight request.
2024-08-30 13:00:16.249 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - 204 null null 4.2651ms
2024-08-30 13:00:16.252 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Perfiles/ - application/json 54
2024-08-30 13:00:16.252 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-08-30 13:00:16.253 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-08-30 13:00:16.253 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-08-30 13:00:16.253 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:00:16.253 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:00:16.254 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:00:16.256 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-30 13:00:16.256 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-08-30 13:00:16.256 -05:00 [INF] Route matched with {action = "Post", controller = "Perfiles"}. Executing controller action with signature System.Object Post(biblioteca_backend.Models.DTOs.LogInModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-08-30 13:00:16.256 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 13:00:16.256 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 13:00:16.257 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 13:00:16.257 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 13:00:16.257 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 13:00:16.258 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-08-30 13:00:16.260 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-08-30 13:00:16.260 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-08-30 13:00:16.260 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' using the name '' in request data ...
2024-08-30 13:00:16.260 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-08-30 13:00:16.260 -05:00 [DBG] Connection id "0HN693L4K1HCB", Request id "0HN693L4K1HCB:00000007": started reading request body.
2024-08-30 13:00:16.261 -05:00 [DBG] Connection id "0HN693L4K1HCB", Request id "0HN693L4K1HCB:00000007": done reading request body.
2024-08-30 13:00:16.261 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.LogInModel'
2024-08-30 13:00:16.261 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-08-30 13:00:16.261 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-08-30 13:00:16.261 -05:00 [DBG] Attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-08-30 13:00:16.261 -05:00 [DBG] Done attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-08-30 13:00:16.294 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) - Validation state: "Valid"
2024-08-30 13:00:16.296 -05:00 [DBG] Iniciando sesión...
2024-08-30 13:00:16.317 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 13:00:16.322 -05:00 [DBG] Creating DbConnection.
2024-08-30 13:00:16.322 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 13:00:16.322 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:00:16.325 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:00:16.325 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 13:00:16.325 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:00:16.325 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:00:16.326 -05:00 [DBG] Executing DbCommand [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-08-30 13:00:16.334 -05:00 [INF] Executed DbCommand (8ms) [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-08-30 13:00:16.334 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:00:16.334 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 13:00:16.334 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:00:16.334 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 13:00:16.337 -05:00 [WRN] Correo o contraseña no encontrados
2024-08-30 13:00:16.337 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 43.562ms.
2024-08-30 13:00:16.338 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 13:00:16.338 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 13:00:16.338 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 13:00:16.338 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 13:00:16.338 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-08-30 13:00:16.339 -05:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-08-30 13:00:16.339 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) in 81.8532ms
2024-08-30 13:00:16.339 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-08-30 13:00:16.339 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 13:00:16.339 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:00:16.339 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 13:00:16.340 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Perfiles/ - 200 0 text/plain; charset=utf-8 88.3898ms
2024-08-30 13:00:25.878 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - null null
2024-08-30 13:00:25.878 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-08-30 13:00:25.878 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 13:00:25.879 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:00:25.879 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:00:25.879 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:00:25.879 -05:00 [DBG] The request is a preflight request.
2024-08-30 13:00:25.879 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - 204 null null 1.8707ms
2024-08-30 13:00:25.882 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Perfiles/ - application/json 54
2024-08-30 13:00:25.882 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-08-30 13:00:25.882 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-08-30 13:00:25.882 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-08-30 13:00:25.882 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:00:25.882 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:00:25.882 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:00:25.886 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-30 13:00:25.887 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-08-30 13:00:25.887 -05:00 [INF] Route matched with {action = "Post", controller = "Perfiles"}. Executing controller action with signature System.Object Post(biblioteca_backend.Models.DTOs.LogInModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-08-30 13:00:25.887 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 13:00:25.887 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 13:00:25.887 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 13:00:25.887 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 13:00:25.887 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 13:00:25.887 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-08-30 13:00:25.889 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-08-30 13:00:25.889 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-08-30 13:00:25.889 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' using the name '' in request data ...
2024-08-30 13:00:25.889 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-08-30 13:00:25.889 -05:00 [DBG] Connection id "0HN693L4K1HCB", Request id "0HN693L4K1HCB:0000000B": started reading request body.
2024-08-30 13:00:25.889 -05:00 [DBG] Connection id "0HN693L4K1HCB", Request id "0HN693L4K1HCB:0000000B": done reading request body.
2024-08-30 13:00:25.889 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.LogInModel'
2024-08-30 13:00:25.889 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-08-30 13:00:25.889 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-08-30 13:00:25.889 -05:00 [DBG] Attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-08-30 13:00:25.889 -05:00 [DBG] Done attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-08-30 13:00:25.916 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) - Validation state: "Valid"
2024-08-30 13:00:25.919 -05:00 [DBG] Iniciando sesión...
2024-08-30 13:00:25.985 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 13:00:25.986 -05:00 [DBG] Creating DbConnection.
2024-08-30 13:00:25.986 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 13:00:25.986 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:00:25.986 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:00:25.986 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 13:00:25.986 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:00:25.986 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:00:25.986 -05:00 [DBG] Executing DbCommand [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-08-30 13:00:25.987 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-08-30 13:00:25.987 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:00:25.987 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 13:00:25.987 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:00:25.987 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 13:00:25.990 -05:00 [WRN] Correo o contraseña no encontrados
2024-08-30 13:00:25.992 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 75.3679ms.
2024-08-30 13:00:25.992 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 13:00:25.992 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 13:00:25.992 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 13:00:25.992 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 13:00:25.992 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-08-30 13:00:25.992 -05:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-08-30 13:00:25.992 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) in 105.3079ms
2024-08-30 13:00:25.992 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-08-30 13:00:25.993 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 13:00:25.993 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:00:25.993 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 13:00:25.993 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Perfiles/ - 200 0 text/plain; charset=utf-8 110.8799ms
2024-08-30 13:16:51.486 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-08-30 13:16:52.227 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 13:16:53.301 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 13:17:32.128 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-08-30 13:17:32.880 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 13:17:32.897 -05:00 [DBG] Creating DbConnection.
2024-08-30 13:17:32.970 -05:00 [DBG] Created DbConnection. (64ms).
2024-08-30 13:17:32.975 -05:00 [DBG] Migrating using database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:17:32.982 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:17:33.306 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:17:33.312 -05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-08-30 13:17:33.318 -05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2024-08-30 13:17:33.319 -05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (9ms).
2024-08-30 13:17:33.326 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-08-30 13:17:33.350 -05:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-08-30 13:17:33.352 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:17:33.361 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (5ms).
2024-08-30 13:17:33.363 -05:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-08-30 13:17:33.363 -05:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-08-30 13:17:33.363 -05:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-08-30 13:17:33.363 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:17:33.364 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:17:33.365 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-08-30 13:17:33.377 -05:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-08-30 13:17:33.377 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:17:33.378 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 13:17:33.378 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:17:33.378 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:17:33.378 -05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-08-30 13:17:33.379 -05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-08-30 13:17:33.379 -05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-08-30 13:17:33.379 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-08-30 13:17:33.380 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-08-30 13:17:33.380 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:17:33.380 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 13:17:33.380 -05:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-08-30 13:17:33.380 -05:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-08-30 13:17:33.380 -05:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-08-30 13:17:33.380 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:17:33.380 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:17:33.380 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-08-30 13:17:33.381 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-08-30 13:17:33.381 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:17:33.381 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 13:17:33.395 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:17:33.395 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:17:33.395 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 13:17:33.395 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:17:33.395 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:17:33.395 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-08-30 13:17:33.402 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-08-30 13:17:33.404 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:17:33.405 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-08-30 13:17:33.405 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:17:33.405 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 13:17:33.415 -05:00 [INF] Applying migration '20240830181653_V3.0.4'.
2024-08-30 13:17:33.459 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:17:33.459 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:17:33.461 -05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-30 13:17:33.467 -05:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-08-30 13:17:33.468 -05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-08-30 13:17:33.468 -05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-08-30 13:17:33.469 -05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-08-30 13:17:33.469 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Libro] ADD [Stock] int NOT NULL DEFAULT 0;
2024-08-30 13:17:33.495 -05:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Libro] ADD [Stock] int NOT NULL DEFAULT 0;
2024-08-30 13:17:33.496 -05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-08-30 13:17:33.496 -05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-08-30 13:17:33.496 -05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-08-30 13:17:33.496 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240830181653_V3.0.4', N'8.0.6');
2024-08-30 13:17:33.499 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240830181653_V3.0.4', N'8.0.6');
2024-08-30 13:17:33.500 -05:00 [DBG] Committing transaction.
2024-08-30 13:17:33.504 -05:00 [DBG] Committed transaction.
2024-08-30 13:17:33.505 -05:00 [DBG] Disposing transaction.
2024-08-30 13:17:33.505 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:17:33.505 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 13:17:33.507 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 13:17:33.509 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:17:33.509 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 13:22:14.261 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-08-30 13:22:14.565 -05:00 [DBG] Hosting starting
2024-08-30 13:22:14.651 -05:00 [INF] User profile is available. Using 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-30 13:22:14.660 -05:00 [DBG] Reading data from file 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys\key-12ed5171-7863-4d3e-a216-6f5439158e60.xml'.
2024-08-30 13:22:14.670 -05:00 [DBG] Found key {12ed5171-7863-4d3e-a216-6f5439158e60}.
2024-08-30 13:22:14.680 -05:00 [DBG] Considering key {12ed5171-7863-4d3e-a216-6f5439158e60} with expiration date 2024-09-28 19:27:42Z as default key.
2024-08-30 13:22:14.684 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-30 13:22:14.687 -05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-08-30 13:22:14.689 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-30 13:22:14.696 -05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-08-30 13:22:14.698 -05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-08-30 13:22:14.703 -05:00 [DBG] Using key {12ed5171-7863-4d3e-a216-6f5439158e60} as the default key.
2024-08-30 13:22:14.704 -05:00 [DBG] Key ring with default key {12ed5171-7863-4d3e-a216-6f5439158e60} was loaded during application startup.
2024-08-30 13:22:15.048 -05:00 [INF] Now listening on: https://localhost:7299
2024-08-30 13:22:15.049 -05:00 [INF] Now listening on: http://localhost:5219
2024-08-30 13:22:15.049 -05:00 [DBG] Loaded hosting startup assembly biblioteca-backend
2024-08-30 13:22:15.049 -05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-08-30 13:22:15.049 -05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-08-30 13:22:15.049 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-30 13:22:15.049 -05:00 [INF] Hosting environment: Development
2024-08-30 13:22:15.049 -05:00 [INF] Content root path: C:\Users\spatino\Documents\Proyeco - Biblioteca\biblioteca-backend
2024-08-30 13:22:15.049 -05:00 [DBG] Hosting started
2024-08-30 13:22:15.067 -05:00 [DBG] Connection id "0HN6942M8L2IT" accepted.
2024-08-30 13:22:15.067 -05:00 [DBG] Connection id "0HN6942M8L2IU" accepted.
2024-08-30 13:22:15.068 -05:00 [DBG] Connection id "0HN6942M8L2IT" started.
2024-08-30 13:22:15.068 -05:00 [DBG] Connection id "0HN6942M8L2IU" started.
2024-08-30 13:22:15.089 -05:00 [DBG] Connection id "0HN6942M8L2IU" received FIN.
2024-08-30 13:22:15.089 -05:00 [DBG] Connection id "0HN6942M8L2IT" received FIN.
2024-08-30 13:22:15.100 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-08-30 13:22:15.100 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-08-30 13:22:15.148 -05:00 [DBG] Connection id "0HN6942M8L2IU" stopped.
2024-08-30 13:22:15.148 -05:00 [DBG] Connection id "0HN6942M8L2IT" stopped.
2024-08-30 13:22:15.151 -05:00 [DBG] Connection id "0HN6942M8L2IT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-30 13:22:15.151 -05:00 [DBG] Connection id "0HN6942M8L2IU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-30 13:22:15.404 -05:00 [DBG] Connection id "0HN6942M8L2IV" accepted.
2024-08-30 13:22:15.404 -05:00 [DBG] Connection id "0HN6942M8L2IV" started.
2024-08-30 13:22:15.558 -05:00 [DBG] Connection 0HN6942M8L2IV established using the following protocol: "Tls12"
2024-08-30 13:22:15.729 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/index.html - null null
2024-08-30 13:22:16.296 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-08-30 13:22:16.393 -05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-08-30 13:22:16.394 -05:00 [DBG] Request did not match any endpoints
2024-08-30 13:22:16.712 -05:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-08-30 13:22:16.716 -05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-08-30 13:22:16.768 -05:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-08-30 13:22:16.769 -05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-08-30 13:22:16.778 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/index.html - 200 null text/html;charset=utf-8 1055.4736ms
2024-08-30 13:22:16.905 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
2024-08-30 13:22:16.923 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 17.7018ms
2024-08-30 13:22:17.030 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
2024-08-30 13:22:17.127 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 98.0321ms
2024-08-30 13:22:17.206 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
2024-08-30 13:22:17.207 -05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-08-30 13:22:17.207 -05:00 [DBG] Request did not match any endpoints
2024-08-30 13:22:17.411 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 204.9104ms
2024-08-30 13:32:32.948 -05:00 [DBG] Connection id "0HN6942M8L2J0" accepted.
2024-08-30 13:32:32.949 -05:00 [DBG] Connection id "0HN6942M8L2J0" started.
2024-08-30 13:32:32.980 -05:00 [DBG] Connection 0HN6942M8L2J0 established using the following protocol: "Tls12"
2024-08-30 13:32:32.983 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - null null
2024-08-30 13:32:32.995 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-08-30 13:32:32.996 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 13:32:32.998 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:32:32.999 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:32:33.000 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:32:33.000 -05:00 [DBG] The request is a preflight request.
2024-08-30 13:32:33.001 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - 204 null null 17.9144ms
2024-08-30 13:32:33.005 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Perfiles/ - application/json 54
2024-08-30 13:32:33.008 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-08-30 13:32:33.011 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-08-30 13:32:33.011 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-08-30 13:32:33.011 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:32:33.012 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:32:33.012 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:32:33.101 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-30 13:32:33.105 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-08-30 13:32:33.129 -05:00 [INF] Route matched with {action = "Post", controller = "Perfiles"}. Executing controller action with signature System.Object Post(biblioteca_backend.Models.DTOs.LogInModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-08-30 13:32:33.130 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 13:32:33.131 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 13:32:33.131 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 13:32:33.131 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 13:32:33.131 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 13:32:33.133 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-08-30 13:32:33.289 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-08-30 13:32:33.316 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-08-30 13:32:33.331 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-08-30 13:32:33.334 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' using the name '' in request data ...
2024-08-30 13:32:33.335 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-08-30 13:32:33.345 -05:00 [DBG] Connection id "0HN6942M8L2J0", Request id "0HN6942M8L2J0:00000003": started reading request body.
2024-08-30 13:32:33.345 -05:00 [DBG] Connection id "0HN6942M8L2J0", Request id "0HN6942M8L2J0:00000003": done reading request body.
2024-08-30 13:32:33.349 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.LogInModel'
2024-08-30 13:32:33.350 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-08-30 13:32:33.350 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-08-30 13:32:33.350 -05:00 [DBG] Attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-08-30 13:32:33.358 -05:00 [DBG] Done attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-08-30 13:32:33.464 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) - Validation state: "Valid"
2024-08-30 13:32:35.360 -05:00 [DBG] Iniciando sesión...
2024-08-30 13:32:36.209 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 13:32:36.271 -05:00 [DBG] Compiling query expression: 
'DbSet<Perfil>()
    .FirstOrDefault(p => p.Correo == __8__locals1_logInModel_Correo_0 && p.Contrasena == __claveCifrada_1)'
2024-08-30 13:32:36.693 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Perfil>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Perfil.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Perfil.Apellido (string) Required, 1], [Property: Perfil.Contrasena (string) Required, 2], [Property: Perfil.Correo (string) Required, 3], [Property: Perfil.Direccion (string) Required, 4], [Property: Perfil.IdRol (int) Required FK Index, 5], [Property: Perfil.Nombre (string) Required, 6], [Property: Perfil.Telefono (string) Required, 7] }
        SELECT TOP(1) p.Id, p.Apellido, p.Contrasena, p.Correo, p.Direccion, p.IdRol, p.Nombre, p.Telefono
        FROM Perfil AS p
        WHERE (p.Correo == @__8__locals1_logInModel_Correo_0) && (p.Contrasena == @__claveCifrada_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Perfil>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-08-30 13:32:36.743 -05:00 [DBG] Creating DbConnection.
2024-08-30 13:32:36.765 -05:00 [DBG] Created DbConnection. (20ms).
2024-08-30 13:32:36.767 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:32:37.082 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:32:37.084 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 13:32:37.092 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-08-30 13:32:37.104 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (18ms).
2024-08-30 13:32:37.122 -05:00 [DBG] Executing DbCommand [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-08-30 13:32:37.174 -05:00 [INF] Executed DbCommand (62ms) [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-08-30 13:32:37.221 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:32:37.255 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:32:37.267 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 84ms reading results.
2024-08-30 13:32:37.272 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:32:37.280 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (9ms).
2024-08-30 13:32:37.281 -05:00 [DBG] Compiling query expression: 
'DbSet<Rol>()
    .FirstOrDefault(r => r.Id == ___perfil_IdRol_0)'
2024-08-30 13:32:37.287 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Rol>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Rol.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Rol.Nombre (string) Required, 1] }
        SELECT TOP(1) r.Id, r.Nombre
        FROM Rol AS r
        WHERE r.Id == @___perfil_IdRol_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Rol>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-08-30 13:32:37.288 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:32:37.290 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:32:37.290 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 13:32:37.290 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:32:37.291 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:32:37.291 -05:00 [DBG] Executing DbCommand [Parameters=[@___perfil_IdRol_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Nombre]
FROM [Rol] AS [r]
WHERE [r].[Id] = @___perfil_IdRol_0
2024-08-30 13:32:37.297 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@___perfil_IdRol_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Nombre]
FROM [Rol] AS [r]
WHERE [r].[Id] = @___perfil_IdRol_0
2024-08-30 13:32:37.316 -05:00 [DBG] The navigation 'Perfil.Rol' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:32:37.338 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Rol' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:32:37.344 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:32:37.344 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 47ms reading results.
2024-08-30 13:32:37.344 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:32:37.345 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 13:32:37.394 -05:00 [INF] Inicio de sesión exitoso
2024-08-30 13:32:37.399 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 3930.9108ms.
2024-08-30 13:32:37.406 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 13:32:37.408 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 13:32:37.408 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 13:32:37.409 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 13:32:37.410 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 13:32:37.410 -05:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-30 13:32:37.424 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) in 4289.0238ms
2024-08-30 13:32:37.424 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-08-30 13:32:37.427 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 13:32:37.433 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:32:37.443 -05:00 [DBG] Disposed connection to database '' on server '' (10ms).
2024-08-30 13:32:37.444 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Perfiles/ - 200 null application/json; charset=utf-8 4439.0297ms
2024-08-30 13:32:37.481 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 13:32:37.481 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-08-30 13:32:37.481 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 13:32:37.481 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 13:32:37.481 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 13:32:37.481 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:32:37.482 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:32:37.482 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:32:37.482 -05:00 [DBG] The request is a preflight request.
2024-08-30 13:32:37.483 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 1.6933ms
2024-08-30 13:32:37.481 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 13:32:37.485 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:32:37.485 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:32:37.485 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:32:37.485 -05:00 [DBG] The request is a preflight request.
2024-08-30 13:32:37.485 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 4.4002ms
2024-08-30 13:32:37.489 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-08-30 13:32:37.490 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 13:32:37.490 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-08-30 13:32:37.490 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 13:32:37.491 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:32:37.491 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:32:37.491 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:32:37.495 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 13:32:37.495 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 13:32:37.507 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 13:32:37.509 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 13:32:37.509 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:32:37.509 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:32:37.509 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:32:37.597 -05:00 [DBG] Successfully validated the token.
2024-08-30 13:32:37.597 -05:00 [DBG] Successfully validated the token.
2024-08-30 13:32:37.599 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 13:32:37.599 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 13:32:37.607 -05:00 [DBG] Authorization was successful.
2024-08-30 13:32:37.607 -05:00 [DBG] Authorization was successful.
2024-08-30 13:32:37.607 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 13:32:37.607 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 13:32:37.610 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 13:32:37.610 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 13:32:37.610 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 13:32:37.610 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 13:32:37.610 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 13:32:37.610 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 13:32:37.610 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 13:32:37.611 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 13:32:37.613 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-08-30 13:32:37.613 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 13:32:37.613 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 13:32:37.613 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 13:32:37.613 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 13:32:37.613 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 13:32:37.614 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 13:32:37.617 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 13:32:37.620 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 13:32:37.621 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-08-30 13:32:37.623 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 13:32:37.623 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 13:32:37.623 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 13:32:37.625 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 13:32:37.646 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 13:32:37.675 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 13:32:37.681 -05:00 [DBG] Consultando libros...
2024-08-30 13:32:37.700 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 13:32:37.700 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 13:32:37.704 -05:00 [DBG] Compiling query expression: 
'DbSet<Genero>()'
2024-08-30 13:32:37.708 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Genero>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Genero.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Genero.Nombre (string) Required, 1] }
        SELECT g.Id, g.Nombre
        FROM Genero AS g), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Genero>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-08-30 13:32:37.718 -05:00 [DBG] Compiling query expression: 
'DbSet<Libro>()
    .Join(
        inner: DbSet<Genero>(), 
        outerKeySelector: L => L.IdGenero, 
        innerKeySelector: G => G.Id, 
        resultSelector: (L, G) => new { 
            L = L, 
            G = G
         })
    .Where(<>h__TransparentIdentifier0 => True)
    .Select(<>h__TransparentIdentifier0 => new { 
        id = <>h__TransparentIdentifier0.L.Id, 
        titulo = <>h__TransparentIdentifier0.L.Titulo, 
        autor = <>h__TransparentIdentifier0.L.Autor, 
        anio = <>h__TransparentIdentifier0.L.Anio, 
        idGenero = <>h__TransparentIdentifier0.L.IdGenero, 
        genero = <>h__TransparentIdentifier0.G.Nombre, 
        activo = <>h__TransparentIdentifier0.L.Activo
     })'
2024-08-30 13:32:37.722 -05:00 [DBG] Creating DbConnection.
2024-08-30 13:32:37.722 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 13:32:37.724 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:32:37.726 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:32:37.726 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 13:32:37.726 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:32:37.726 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:32:37.727 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 13:32:37.764 -05:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 13:32:37.782 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:32:37.789 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:32:37.789 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:32:37.789 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:32:37.790 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:32:37.790 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:32:37.790 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:32:37.790 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:32:37.790 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:32:37.790 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:32:37.791 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:32:37.791 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:32:37.791 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:32:37.795 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:32:37.795 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 30ms reading results.
2024-08-30 13:32:37.799 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:32:37.800 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType5<int, string, string, int, int, string, bool>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            id -> 0
            titulo -> 1
            autor -> 2
            anio -> 3
            idGenero -> 4
            genero -> 5
            activo -> 6
        SELECT l.Id AS id, l.Titulo AS titulo, l.Autor AS autor, l.Anio AS anio, l.IdGenero AS idGenero, g.Nombre AS genero, l.Activo AS activo
        FROM Libro AS l
        INNER JOIN Genero AS g ON l.IdGenero == g.Id), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType5<int, string, string, int, int, string, bool>>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-08-30 13:32:37.800 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (1ms).
2024-08-30 13:32:37.802 -05:00 [DBG] Creating DbConnection.
2024-08-30 13:32:37.803 -05:00 [DBG] Created DbConnection. (1ms).
2024-08-30 13:32:37.804 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:32:37.804 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:32:37.804 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 13:32:37.804 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:32:37.804 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:32:37.804 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 13:32:37.805 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 158.8636ms.
2024-08-30 13:32:37.808 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 13:32:37.808 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 13:32:37.808 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 13:32:37.808 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 13:32:37.809 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 13:32:37.809 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 13:32:37.814 -05:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 13:32:37.817 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 203.0868ms
2024-08-30 13:32:37.818 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 13:32:37.821 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 13:32:37.821 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:32:37.822 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 13:32:37.822 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 333.1541ms
2024-08-30 13:32:37.816 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:32:37.825 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 10ms reading results.
2024-08-30 13:32:37.826 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:32:37.826 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 13:32:37.834 -05:00 [INF] Consulta de libros exitosa
2024-08-30 13:32:37.835 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 159.3766ms.
2024-08-30 13:32:37.835 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 13:32:37.835 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 13:32:37.835 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 13:32:37.835 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 13:32:37.837 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 13:32:37.837 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 13:32:37.844 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 234.1748ms
2024-08-30 13:32:37.845 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 13:32:37.845 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 13:32:37.845 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:32:37.845 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 13:32:37.845 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 350.7694ms
2024-08-30 13:38:53.808 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 13:38:53.810 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 13:38:53.810 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 13:38:53.810 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:38:53.811 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:38:53.811 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:38:53.811 -05:00 [DBG] The request is a preflight request.
2024-08-30 13:38:53.811 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 4.126ms
2024-08-30 13:38:53.812 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-08-30 13:38:53.812 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 13:38:53.812 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 13:38:53.812 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:38:53.813 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:38:53.813 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:38:53.813 -05:00 [DBG] The request is a preflight request.
2024-08-30 13:38:53.813 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 1.6069ms
2024-08-30 13:38:53.931 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 13:38:53.931 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 13:38:53.931 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 13:38:53.931 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 13:38:53.933 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:38:53.933 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:38:53.934 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:38:53.944 -05:00 [DBG] Successfully validated the token.
2024-08-30 13:38:53.945 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 13:38:53.945 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-08-30 13:38:53.945 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 13:38:53.946 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-08-30 13:38:53.946 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 13:38:53.946 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:38:53.946 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:38:53.946 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:38:53.947 -05:00 [DBG] Successfully validated the token.
2024-08-30 13:38:53.947 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 13:38:53.952 -05:00 [DBG] Authorization was successful.
2024-08-30 13:38:53.953 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 13:38:53.957 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-08-30 13:38:53.958 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 13:38:53.958 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 13:38:53.958 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 13:38:53.959 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 13:38:53.959 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 13:38:53.960 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 13:38:53.960 -05:00 [DBG] Authorization was successful.
2024-08-30 13:38:53.961 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 13:38:53.961 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 13:38:53.961 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 13:38:53.962 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 13:38:53.962 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 13:38:53.962 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 13:38:53.962 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 13:38:53.962 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 13:38:53.963 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 13:38:54.111 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 13:38:54.113 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 13:38:54.114 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 13:38:54.115 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-08-30 13:38:54.115 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 13:38:54.115 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 13:38:54.116 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 13:38:54.116 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 13:38:54.259 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 13:38:54.301 -05:00 [DBG] Consultando libros...
2024-08-30 13:38:54.483 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 13:38:54.488 -05:00 [DBG] Creating DbConnection.
2024-08-30 13:38:54.488 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 13:38:54.489 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:38:54.489 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:38:54.489 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 13:38:54.490 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:38:54.490 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:38:54.491 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 13:38:54.541 -05:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 13:38:54.482 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 13:38:54.542 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:38:54.542 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:38:54.542 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:38:54.543 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:38:54.543 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:38:54.544 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:38:54.544 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:38:54.544 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:38:54.545 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:38:54.545 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:38:54.546 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:38:54.546 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:38:54.546 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:38:54.547 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:38:54.548 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 5ms reading results.
2024-08-30 13:38:54.548 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:38:54.548 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 13:38:54.549 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 437.9222ms.
2024-08-30 13:38:54.549 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 13:38:54.549 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 13:38:54.549 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 13:38:54.550 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 13:38:54.550 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 13:38:54.550 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 13:38:54.551 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 590.8972ms
2024-08-30 13:38:54.551 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 13:38:54.553 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 13:38:54.553 -05:00 [DBG] Creating DbConnection.
2024-08-30 13:38:54.553 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:38:54.553 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 13:38:54.553 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 13:38:54.554 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:38:54.554 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 608.6552ms
2024-08-30 13:38:54.554 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:38:54.554 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 13:38:54.554 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:38:54.555 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:38:54.555 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 13:38:54.580 -05:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 13:38:54.581 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:38:54.582 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-08-30 13:38:54.582 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:38:54.582 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 13:38:54.589 -05:00 [INF] Consulta de libros exitosa
2024-08-30 13:38:54.589 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 329.881ms.
2024-08-30 13:38:54.589 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 13:38:54.589 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 13:38:54.589 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 13:38:54.590 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 13:38:54.590 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 13:38:54.590 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 13:38:54.590 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 627.7233ms
2024-08-30 13:38:54.591 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 13:38:54.591 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 13:38:54.591 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:38:54.591 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 13:38:54.591 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 660.99ms
2024-08-30 13:39:04.217 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 13:39:04.221 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 13:39:04.221 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-08-30 13:39:04.221 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 13:39:04.221 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 13:39:04.221 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:39:04.221 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 13:39:04.221 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:39:04.221 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:39:04.222 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:39:04.222 -05:00 [DBG] The request is a preflight request.
2024-08-30 13:39:04.222 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:39:04.222 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:39:04.222 -05:00 [DBG] The request is a preflight request.
2024-08-30 13:39:04.222 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 5.027ms
2024-08-30 13:39:04.222 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 0.8424ms
2024-08-30 13:39:04.227 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 13:39:04.227 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 13:39:04.227 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 13:39:04.227 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 13:39:04.227 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:39:04.227 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:39:04.227 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:39:04.228 -05:00 [DBG] Successfully validated the token.
2024-08-30 13:39:04.229 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 13:39:04.230 -05:00 [DBG] Authorization was successful.
2024-08-30 13:39:04.230 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 13:39:04.231 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 13:39:04.231 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-08-30 13:39:04.231 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 13:39:04.231 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 13:39:04.231 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 13:39:04.231 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-08-30 13:39:04.231 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 13:39:04.231 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 13:39:04.231 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 13:39:04.231 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:39:04.231 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 13:39:04.231 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:39:04.231 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 13:39:04.231 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:39:04.232 -05:00 [DBG] Successfully validated the token.
2024-08-30 13:39:04.232 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 13:39:04.232 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 13:39:04.232 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 13:39:04.232 -05:00 [DBG] Authorization was successful.
2024-08-30 13:39:04.232 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 13:39:04.232 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-08-30 13:39:04.232 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-08-30 13:39:04.232 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 13:39:04.232 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 13:39:04.232 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 13:39:04.233 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 13:39:04.233 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 13:39:04.233 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 13:39:04.233 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 13:39:04.233 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 13:39:04.233 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 13:39:04.233 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 13:39:04.297 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 13:39:04.297 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 13:39:04.299 -05:00 [DBG] Consultando libros...
2024-08-30 13:39:04.341 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 13:39:04.342 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 13:39:04.342 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 13:39:04.342 -05:00 [DBG] Creating DbConnection.
2024-08-30 13:39:04.343 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 13:39:04.343 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:39:04.343 -05:00 [DBG] Creating DbConnection.
2024-08-30 13:39:04.343 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:39:04.343 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 13:39:04.343 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:39:04.343 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 13:39:04.343 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:39:04.343 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:39:04.343 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 13:39:04.346 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 13:39:04.346 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:39:04.346 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:39:04.347 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:39:04.347 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:39:04.347 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:39:04.347 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:39:04.347 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:39:04.347 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:39:04.347 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:39:04.348 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:39:04.348 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:39:04.348 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:39:04.348 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:39:04.348 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:39:04.349 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-08-30 13:39:04.349 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:39:04.349 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 13:39:04.349 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 7.7164ms.
2024-08-30 13:39:04.349 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 13:39:04.349 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 13:39:04.350 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 13:39:04.350 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 13:39:04.350 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 13:39:04.350 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 13:39:04.350 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 117.1204ms
2024-08-30 13:39:04.350 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 13:39:04.350 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 13:39:04.352 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:39:04.353 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 13:39:04.353 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 122.557ms
2024-08-30 13:39:04.359 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:39:04.359 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 13:39:04.369 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2024-08-30 13:39:04.369 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2024-08-30 13:39:04.370 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 13:39:04.373 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 13:39:04.374 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:39:04.375 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-08-30 13:39:04.375 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:39:04.375 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 13:39:04.381 -05:00 [INF] Consulta de libros exitosa
2024-08-30 13:39:04.381 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 84.209ms.
2024-08-30 13:39:04.381 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 13:39:04.382 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 13:39:04.382 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 13:39:04.382 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 13:39:04.382 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 13:39:04.382 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 13:39:04.382 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 150.6009ms
2024-08-30 13:39:04.382 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 13:39:04.382 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 13:39:04.382 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:39:04.382 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 13:39:04.382 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 156.0105ms
2024-08-30 13:39:32.614 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/ - null null
2024-08-30 13:39:32.614 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 13:39:32.614 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 13:39:32.614 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:39:32.615 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:39:32.615 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:39:32.615 -05:00 [DBG] The request is a preflight request.
2024-08-30 13:39:32.615 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/ - 204 null null 1.1635ms
2024-08-30 13:39:32.626 -05:00 [INF] Request starting HTTP/2 PUT https://localhost:7299/api/Libros/ - application/json 138
2024-08-30 13:39:32.626 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 13:39:32.626 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Put (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 13:39:32.626 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Put (biblioteca-backend)'
2024-08-30 13:39:32.626 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:39:32.627 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:39:32.627 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:39:32.627 -05:00 [DBG] Successfully validated the token.
2024-08-30 13:39:32.627 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 13:39:32.629 -05:00 [DBG] Authorization was successful.
2024-08-30 13:39:32.629 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Put (biblioteca-backend)'
2024-08-30 13:39:32.636 -05:00 [INF] Route matched with {action = "Put", controller = "Libros"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(biblioteca_backend.Models.Libro) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 13:39:32.636 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 13:39:32.636 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 13:39:32.636 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 13:39:32.636 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 13:39:32.636 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 13:39:32.636 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 13:39:32.637 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 13:39:32.637 -05:00 [DBG] Attempting to bind parameter 'libro' of type 'biblioteca_backend.Models.Libro' ...
2024-08-30 13:39:32.637 -05:00 [DBG] Attempting to bind parameter 'libro' of type 'biblioteca_backend.Models.Libro' using the name '' in request data ...
2024-08-30 13:39:32.637 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-08-30 13:39:32.638 -05:00 [DBG] Connection id "0HN6942M8L2J0", Request id "0HN6942M8L2J0:0000001F": started reading request body.
2024-08-30 13:39:32.639 -05:00 [DBG] Connection id "0HN6942M8L2J0", Request id "0HN6942M8L2J0:0000001F": done reading request body.
2024-08-30 13:39:32.641 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.Libro'
2024-08-30 13:39:32.641 -05:00 [DBG] Done attempting to bind parameter 'libro' of type 'biblioteca_backend.Models.Libro'.
2024-08-30 13:39:32.641 -05:00 [DBG] Done attempting to bind parameter 'libro' of type 'biblioteca_backend.Models.Libro'.
2024-08-30 13:39:32.641 -05:00 [DBG] Attempting to validate the bound parameter 'libro' of type 'biblioteca_backend.Models.Libro' ...
2024-08-30 13:39:32.646 -05:00 [DBG] Done attempting to validate the bound parameter 'libro' of type 'biblioteca_backend.Models.Libro'.
2024-08-30 13:39:32.672 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Put (biblioteca-backend) - Validation state: "Valid"
2024-08-30 13:39:32.676 -05:00 [DBG] Actualizando libro con id 1...
2024-08-30 13:39:32.677 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 13:39:32.678 -05:00 [DBG] Compiling query expression: 
'DbSet<Libro>()
    .FirstOrDefault(e => e.Id == __libro_Id_0)'
2024-08-30 13:39:32.685 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Libro>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Libro.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Libro.Activo (bool) Required, 1], [Property: Libro.Anio (int) Required, 2], [Property: Libro.Autor (string) Required, 3], [Property: Libro.IdGenero (int) Required FK Index, 4], [Property: Libro.Stock (int) Required, 5], [Property: Libro.Titulo (string) Required, 6] }
        SELECT TOP(1) l.Id, l.Activo, l.Anio, l.Autor, l.IdGenero, l.Stock, l.Titulo
        FROM Libro AS l
        WHERE l.Id == @__libro_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Libro>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-08-30 13:39:32.686 -05:00 [DBG] Creating DbConnection.
2024-08-30 13:39:32.686 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 13:39:32.686 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:39:32.686 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:39:32.686 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 13:39:32.686 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:39:32.686 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:39:32.686 -05:00 [DBG] Executing DbCommand [Parameters=[@__libro_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Activo], [l].[Anio], [l].[Autor], [l].[IdGenero], [l].[Stock], [l].[Titulo]
FROM [Libro] AS [l]
WHERE [l].[Id] = @__libro_Id_0
2024-08-30 13:39:32.689 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__libro_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Activo], [l].[Anio], [l].[Autor], [l].[IdGenero], [l].[Stock], [l].[Titulo]
FROM [Libro] AS [l]
WHERE [l].[Id] = @__libro_Id_0
2024-08-30 13:39:32.692 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:39:32.704 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:39:32.704 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 15ms reading results.
2024-08-30 13:39:32.704 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:39:32.704 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 13:39:32.715 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:39:32.720 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-08-30 13:39:32.726 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-08-30 13:39:32.738 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-08-30 13:39:32.869 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:39:32.869 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:39:32.874 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 13:39:32.874 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:39:32.874 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:39:32.875 -05:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Stock] = @p4, [Titulo] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-08-30 13:39:32.891 -05:00 [INF] Executed DbCommand (17ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Stock] = @p4, [Titulo] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-08-30 13:39:32.902 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:39:32.902 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 10ms reading results.
2024-08-30 13:39:32.903 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:39:32.903 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 13:39:32.906 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:39:32.909 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-08-30 13:39:32.911 -05:00 [INF] Libro actualizado con id 1
2024-08-30 13:39:32.912 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Put (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 239.9654ms.
2024-08-30 13:39:32.912 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 13:39:32.912 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 13:39:32.912 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 13:39:32.912 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 13:39:32.912 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 13:39:32.912 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType10`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-30 13:39:32.914 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Put (biblioteca-backend) in 277.5683ms
2024-08-30 13:39:32.914 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Put (biblioteca-backend)'
2024-08-30 13:39:32.914 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 13:39:32.914 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:39:32.914 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 13:39:32.915 -05:00 [INF] Request finished HTTP/2 PUT https://localhost:7299/api/Libros/ - 200 null application/json; charset=utf-8 288.5641ms
2024-08-30 13:39:32.932 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 13:39:32.932 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 13:39:32.932 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 13:39:32.932 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:39:32.932 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:39:32.932 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:39:32.933 -05:00 [DBG] The request is a preflight request.
2024-08-30 13:39:32.933 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 1.2224ms
2024-08-30 13:39:32.936 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 13:39:32.936 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 13:39:32.936 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 13:39:32.936 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 13:39:32.936 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:39:32.936 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:39:32.936 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:39:32.937 -05:00 [DBG] Successfully validated the token.
2024-08-30 13:39:32.937 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 13:39:32.937 -05:00 [DBG] Authorization was successful.
2024-08-30 13:39:32.937 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 13:39:32.937 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 13:39:32.937 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 13:39:32.937 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 13:39:32.937 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 13:39:32.937 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 13:39:32.937 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 13:39:32.938 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 13:39:32.938 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 13:39:32.938 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 13:39:32.938 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-08-30 13:39:32.938 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 13:39:32.938 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 13:39:32.938 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 13:39:32.939 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 13:39:32.975 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 13:39:32.976 -05:00 [DBG] Consultando libros...
2024-08-30 13:39:32.977 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 13:39:32.978 -05:00 [DBG] Creating DbConnection.
2024-08-30 13:39:32.978 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 13:39:32.978 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:39:32.978 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:39:32.978 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 13:39:32.978 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:39:32.978 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:39:32.978 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 13:39:32.982 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 13:39:32.982 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:39:32.982 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 13:39:32.982 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:39:32.982 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 13:39:32.986 -05:00 [INF] Consulta de libros exitosa
2024-08-30 13:39:32.987 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 11.9498ms.
2024-08-30 13:39:32.987 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 13:39:32.987 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 13:39:32.987 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 13:39:32.987 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 13:39:32.987 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 13:39:32.987 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 13:39:32.987 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 49.5276ms
2024-08-30 13:39:32.987 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 13:39:32.987 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 13:39:32.987 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:39:32.987 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 13:39:32.988 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 52.3664ms
2024-08-30 13:41:55.107 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-08-30 13:41:55.107 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 13:41:55.108 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 13:41:55.108 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:41:55.108 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:41:55.108 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:41:55.108 -05:00 [DBG] The request is a preflight request.
2024-08-30 13:41:55.118 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 11.9374ms
2024-08-30 13:41:55.385 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 13:41:55.386 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 13:41:55.386 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 13:41:55.386 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:41:55.387 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:41:55.387 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:41:55.388 -05:00 [DBG] The request is a preflight request.
2024-08-30 13:41:55.388 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 2.833ms
2024-08-30 13:41:55.507 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-08-30 13:41:55.508 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 13:41:55.508 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-08-30 13:41:55.508 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 13:41:55.509 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:41:55.511 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:41:55.512 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:41:55.513 -05:00 [DBG] Successfully validated the token.
2024-08-30 13:41:55.513 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 13:41:55.514 -05:00 [DBG] Authorization was successful.
2024-08-30 13:41:55.514 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 13:41:55.515 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-08-30 13:41:55.515 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 13:41:55.515 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 13:41:55.516 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 13:41:55.516 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 13:41:55.516 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 13:41:55.516 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 13:41:55.517 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 13:41:56.004 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 13:41:56.007 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 13:41:56.007 -05:00 [DBG] Creating DbConnection.
2024-08-30 13:41:56.008 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 13:41:56.008 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:41:56.008 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:41:56.009 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 13:41:56.012 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:41:56.012 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-08-30 13:41:56.013 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 13:41:56.319 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 13:41:56.319 -05:00 [INF] Executed DbCommand (306ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 13:41:56.319 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 13:41:56.319 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 13:41:56.320 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 13:41:56.320 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:41:56.320 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:41:56.320 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:41:56.320 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:41:56.321 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:41:56.321 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:41:56.321 -05:00 [DBG] Successfully validated the token.
2024-08-30 13:41:56.321 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 13:41:56.322 -05:00 [DBG] Authorization was successful.
2024-08-30 13:41:56.322 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 13:41:56.322 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:41:56.322 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 13:41:56.322 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 13:41:56.323 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:41:56.323 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:41:56.323 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 13:41:56.324 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:41:56.324 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 13:41:56.324 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 13:41:56.324 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:41:56.324 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 13:41:56.324 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:41:56.324 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 13:41:56.325 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:41:56.325 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:41:56.328 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:41:56.330 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:41:56.330 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:41:56.331 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 13:41:56.331 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 11ms reading results.
2024-08-30 13:41:56.331 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:41:56.331 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 13:41:56.331 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 13:41:56.332 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-08-30 13:41:56.332 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 327.5466ms.
2024-08-30 13:41:56.332 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 13:41:56.332 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 13:41:56.333 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 13:41:56.333 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 13:41:56.333 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 13:41:56.333 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 13:41:56.333 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 13:41:56.333 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 13:41:56.340 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 13:41:56.340 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 13:41:56.341 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 824.9758ms
2024-08-30 13:41:56.341 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 13:41:56.345 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 13:41:56.346 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:41:56.347 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 13:41:56.347 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 854.8717ms
2024-08-30 13:41:56.584 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 13:41:56.617 -05:00 [DBG] Consultando libros...
2024-08-30 13:41:56.620 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 13:41:56.622 -05:00 [DBG] Creating DbConnection.
2024-08-30 13:41:56.623 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 13:41:56.623 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:41:56.623 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:41:56.623 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 13:41:56.624 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:41:56.624 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:41:56.624 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 13:41:56.652 -05:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 13:41:56.652 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:41:56.653 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 13:41:56.653 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:41:56.653 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 13:41:56.666 -05:00 [INF] Consulta de libros exitosa
2024-08-30 13:41:56.667 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 82.3288ms.
2024-08-30 13:41:56.667 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 13:41:56.667 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 13:41:56.667 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 13:41:56.667 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 13:41:56.668 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 13:41:56.668 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 13:41:56.669 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 344.2559ms
2024-08-30 13:41:56.669 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 13:41:56.669 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 13:41:56.670 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:41:56.670 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 13:41:56.671 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 368.093ms
2024-08-30 13:43:16.944 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 13:43:16.945 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 13:43:16.945 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 13:43:16.945 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:43:16.945 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:43:16.945 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:43:16.945 -05:00 [DBG] The request is a preflight request.
2024-08-30 13:43:16.946 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 1.3894ms
2024-08-30 13:43:16.977 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 13:43:16.980 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-08-30 13:43:16.980 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 13:43:16.980 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 13:43:16.985 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 13:43:16.985 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 13:43:16.986 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 13:43:16.986 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:43:16.986 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:43:16.986 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:43:16.986 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:43:16.986 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:43:16.986 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:43:16.986 -05:00 [DBG] The request is a preflight request.
2024-08-30 13:43:16.987 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 7.1995ms
2024-08-30 13:43:16.987 -05:00 [DBG] Successfully validated the token.
2024-08-30 13:43:16.987 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 13:43:16.987 -05:00 [DBG] Authorization was successful.
2024-08-30 13:43:16.988 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 13:43:16.988 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 13:43:16.988 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 13:43:16.988 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 13:43:16.988 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 13:43:16.988 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 13:43:16.989 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 13:43:16.989 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 13:43:16.989 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 13:43:16.990 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 13:43:16.990 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-08-30 13:43:16.990 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 13:43:16.991 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 13:43:16.991 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 13:43:16.991 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 13:43:17.017 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-08-30 13:43:17.101 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 13:43:17.101 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-08-30 13:43:17.101 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 13:43:17.107 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 13:43:17.108 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:43:17.110 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:43:17.110 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:43:17.112 -05:00 [DBG] Consultando libros...
2024-08-30 13:43:17.112 -05:00 [DBG] Successfully validated the token.
2024-08-30 13:43:17.112 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 13:43:17.113 -05:00 [DBG] Authorization was successful.
2024-08-30 13:43:17.113 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 13:43:17.113 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-08-30 13:43:17.113 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 13:43:17.113 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 13:43:17.113 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 13:43:17.113 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 13:43:17.113 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 13:43:17.113 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 13:43:17.114 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 13:43:17.114 -05:00 [DBG] Creating DbConnection.
2024-08-30 13:43:17.114 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 13:43:17.114 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 13:43:17.114 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:43:17.117 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:43:17.198 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 13:43:17.198 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 13:43:17.198 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:43:17.198 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:43:17.198 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 13:43:17.200 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 13:43:17.200 -05:00 [DBG] Creating DbConnection.
2024-08-30 13:43:17.200 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 13:43:17.200 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:43:17.201 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:43:17.201 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 13:43:17.201 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:43:17.201 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:43:17.201 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 13:43:17.214 -05:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 13:43:17.215 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:43:17.215 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:43:17.215 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:43:17.215 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:43:17.215 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:43:17.216 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:43:17.216 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:43:17.216 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:43:17.216 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:43:17.216 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:43:17.216 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:43:17.216 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:43:17.217 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:43:17.217 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:43:17.217 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-08-30 13:43:17.217 -05:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 13:43:17.217 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:43:17.217 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 13:43:17.217 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:43:17.218 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 19.3491ms.
2024-08-30 13:43:17.218 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 13:43:17.218 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:43:17.218 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 13:43:17.218 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 13:43:17.225 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 13:43:17.225 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 13:43:17.225 -05:00 [INF] Consulta de libros exitosa
2024-08-30 13:43:17.225 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 13:43:17.226 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 13:43:17.226 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 13:43:17.226 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 112.7477ms
2024-08-30 13:43:17.226 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 13:43:17.226 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 118.0686ms.
2024-08-30 13:43:17.227 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 13:43:17.227 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:43:17.227 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 13:43:17.227 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 13:43:17.227 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 13:43:17.227 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 210.5933ms
2024-08-30 13:43:17.227 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 13:43:17.228 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 13:43:17.228 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 13:43:17.228 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 13:43:17.229 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 239.7932ms
2024-08-30 13:43:17.229 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 13:43:17.229 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 13:43:17.229 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:43:17.229 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 13:43:17.229 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 276.4971ms
2024-08-30 13:49:18.828 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 13:49:18.828 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 13:49:18.828 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 13:49:18.828 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:49:18.828 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:49:18.828 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:49:18.828 -05:00 [DBG] The request is a preflight request.
2024-08-30 13:49:18.835 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 7.2947ms
2024-08-30 13:49:18.836 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-08-30 13:49:18.836 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 13:49:18.836 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 13:49:18.836 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:49:18.836 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:49:18.836 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:49:18.837 -05:00 [DBG] The request is a preflight request.
2024-08-30 13:49:18.837 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 0.7319ms
2024-08-30 13:49:18.914 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 13:49:18.914 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 13:49:18.914 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 13:49:18.914 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 13:49:18.914 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-08-30 13:49:18.914 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:49:18.914 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:49:18.914 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:49:18.914 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 13:49:18.914 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-08-30 13:49:18.915 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 13:49:18.915 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:49:18.915 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:49:18.915 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:49:18.916 -05:00 [DBG] Successfully validated the token.
2024-08-30 13:49:18.916 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 13:49:18.916 -05:00 [DBG] Authorization was successful.
2024-08-30 13:49:18.916 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 13:49:18.917 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-08-30 13:49:18.917 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 13:49:18.917 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 13:49:18.917 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 13:49:18.917 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 13:49:18.917 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 13:49:18.918 -05:00 [DBG] Successfully validated the token.
2024-08-30 13:49:18.918 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 13:49:18.918 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 13:49:18.918 -05:00 [DBG] Authorization was successful.
2024-08-30 13:49:18.918 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 13:49:18.918 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 13:49:18.918 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 13:49:18.918 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 13:49:18.918 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 13:49:18.918 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 13:49:18.920 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 13:49:18.920 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 13:49:18.921 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 13:49:18.921 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 13:49:18.921 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 13:49:18.922 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-08-30 13:49:18.923 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 13:49:18.923 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 13:49:19.006 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 13:49:19.006 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 13:49:19.006 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 13:49:19.063 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 13:49:19.086 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 13:49:19.086 -05:00 [DBG] Creating DbConnection.
2024-08-30 13:49:19.086 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 13:49:19.087 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:49:19.092 -05:00 [DBG] Consultando libros...
2024-08-30 13:49:19.100 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 13:49:19.101 -05:00 [DBG] Creating DbConnection.
2024-08-30 13:49:19.101 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 13:49:19.101 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:49:19.122 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:49:19.122 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 13:49:19.122 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:49:19.122 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:49:19.123 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 13:49:19.131 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 13:49:19.132 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:49:19.132 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 13:49:19.132 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:49:19.132 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 13:49:19.141 -05:00 [INF] Consulta de libros exitosa
2024-08-30 13:49:19.141 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 78.2353ms.
2024-08-30 13:49:19.141 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 13:49:19.141 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 13:49:19.142 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 13:49:19.142 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:49:19.142 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 13:49:19.142 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 13:49:19.142 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 13:49:19.142 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 221.6114ms
2024-08-30 13:49:19.142 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 13:49:19.142 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 13:49:19.142 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 13:49:19.142 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:49:19.142 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:49:19.143 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 13:49:19.143 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:49:19.143 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 229.1286ms
2024-08-30 13:49:19.143 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 13:49:19.146 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 13:49:19.146 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:49:19.146 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:49:19.146 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:49:19.146 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:49:19.147 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:49:19.147 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:49:19.147 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:49:19.147 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:49:19.150 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:49:19.152 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:49:19.152 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:49:19.152 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:49:19.152 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:49:19.152 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:49:19.152 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 6ms reading results.
2024-08-30 13:49:19.153 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:49:19.153 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 13:49:19.153 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 146.3508ms.
2024-08-30 13:49:19.153 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 13:49:19.153 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 13:49:19.153 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 13:49:19.153 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 13:49:19.154 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 13:49:19.154 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 13:49:19.154 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 236.3401ms
2024-08-30 13:49:19.154 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 13:49:19.154 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 13:49:19.154 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:49:19.154 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 13:49:19.156 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 240.6822ms
2024-08-30 13:49:32.882 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 13:49:32.883 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 13:49:32.883 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 13:49:32.883 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:49:32.883 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:49:32.883 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:49:32.883 -05:00 [DBG] The request is a preflight request.
2024-08-30 13:49:32.883 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 3.3885ms
2024-08-30 13:49:32.909 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-08-30 13:49:32.914 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 13:49:32.914 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 13:49:32.914 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 13:49:32.918 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:49:32.918 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 13:49:32.918 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:49:32.918 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:49:32.918 -05:00 [DBG] The request is a preflight request.
2024-08-30 13:49:32.918 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 9.2718ms
2024-08-30 13:49:32.918 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 13:49:32.918 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 13:49:32.919 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:49:32.919 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:49:32.919 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:49:32.919 -05:00 [DBG] Successfully validated the token.
2024-08-30 13:49:32.919 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 13:49:32.920 -05:00 [DBG] Authorization was successful.
2024-08-30 13:49:32.920 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 13:49:32.920 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 13:49:32.920 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 13:49:32.920 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 13:49:32.920 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 13:49:32.920 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 13:49:32.920 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 13:49:32.921 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 13:49:32.922 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 13:49:32.922 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 13:49:32.922 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-08-30 13:49:32.922 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 13:49:32.922 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 13:49:32.922 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 13:49:32.923 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 13:49:33.013 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-08-30 13:49:33.013 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 13:49:33.013 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 13:49:33.014 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-08-30 13:49:33.015 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 13:49:33.015 -05:00 [DBG] Consultando libros...
2024-08-30 13:49:33.016 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:49:33.016 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:49:33.016 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:49:33.016 -05:00 [DBG] Successfully validated the token.
2024-08-30 13:49:33.016 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 13:49:33.016 -05:00 [DBG] Authorization was successful.
2024-08-30 13:49:33.016 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 13:49:33.016 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 13:49:33.016 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-08-30 13:49:33.017 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 13:49:33.017 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 13:49:33.017 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 13:49:33.017 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 13:49:33.017 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 13:49:33.017 -05:00 [DBG] Creating DbConnection.
2024-08-30 13:49:33.017 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 13:49:33.017 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 13:49:33.017 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:49:33.017 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 13:49:33.017 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:49:33.017 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 13:49:33.018 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:49:33.065 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-08-30 13:49:33.065 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 13:49:33.065 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 13:49:33.066 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 13:49:33.066 -05:00 [DBG] Creating DbConnection.
2024-08-30 13:49:33.066 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 13:49:33.066 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:49:33.067 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:49:33.067 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 13:49:33.067 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:49:33.067 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:49:33.067 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 13:49:33.071 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 13:49:33.072 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:49:33.072 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:49:33.072 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:49:33.072 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:49:33.072 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:49:33.072 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:49:33.073 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:49:33.073 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:49:33.073 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:49:33.073 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:49:33.073 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:49:33.073 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:49:33.073 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:49:33.073 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:49:33.073 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-08-30 13:49:33.073 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:49:33.074 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 13:49:33.074 -05:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 13:49:33.074 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 8.6779ms.
2024-08-30 13:49:33.074 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:49:33.074 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 13:49:33.074 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 13:49:33.074 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 13:49:33.074 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:49:33.074 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 13:49:33.074 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 13:49:33.074 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 13:49:33.074 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 13:49:33.074 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 13:49:33.080 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 62.8107ms
2024-08-30 13:49:33.080 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 13:49:33.080 -05:00 [INF] Consulta de libros exitosa
2024-08-30 13:49:33.080 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 13:49:33.080 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 67.1187ms.
2024-08-30 13:49:33.080 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:49:33.080 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 13:49:33.080 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 13:49:33.080 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 13:49:33.080 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 67.8399ms
2024-08-30 13:49:33.080 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 13:49:33.081 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 13:49:33.081 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 13:49:33.081 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 13:49:33.081 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 159.6735ms
2024-08-30 13:49:33.081 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 13:49:33.081 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 13:49:33.081 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:49:33.081 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 13:49:33.082 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 172.4781ms
2024-08-30 13:49:58.621 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 13:49:58.621 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 13:49:58.621 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 13:49:58.621 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:49:58.621 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:49:58.621 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:49:58.621 -05:00 [DBG] The request is a preflight request.
2024-08-30 13:49:58.622 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 0.9891ms
2024-08-30 13:49:58.624 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 13:49:58.625 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 13:49:58.625 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 13:49:58.625 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 13:49:58.625 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:49:58.625 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:49:58.625 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:49:58.625 -05:00 [DBG] Successfully validated the token.
2024-08-30 13:49:58.625 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 13:49:58.626 -05:00 [DBG] Authorization was successful.
2024-08-30 13:49:58.626 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 13:49:58.626 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 13:49:58.626 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 13:49:58.626 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 13:49:58.626 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 13:49:58.626 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 13:49:58.626 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 13:49:58.626 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 13:49:58.627 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 13:49:58.627 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 13:49:58.627 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-08-30 13:49:58.627 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 13:49:58.627 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 13:49:58.627 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 13:49:58.627 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 13:49:58.693 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 13:49:58.693 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-08-30 13:49:58.696 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 13:49:58.696 -05:00 [DBG] Consultando libros...
2024-08-30 13:49:58.696 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 13:49:58.696 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:49:58.697 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:49:58.697 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:49:58.697 -05:00 [DBG] The request is a preflight request.
2024-08-30 13:49:58.697 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 3.3903ms
2024-08-30 13:49:58.698 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 13:49:58.699 -05:00 [DBG] Creating DbConnection.
2024-08-30 13:49:58.699 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 13:49:58.699 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:49:58.699 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:49:58.699 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 13:49:58.700 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:49:58.700 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:49:58.701 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 13:49:58.705 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-08-30 13:49:58.706 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 13:49:58.706 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-08-30 13:49:58.706 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 13:49:58.706 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 13:49:58.706 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:49:58.706 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:49:58.706 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:49:58.706 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 13:49:58.706 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:49:58.706 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:49:58.706 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 13:49:58.710 -05:00 [DBG] Successfully validated the token.
2024-08-30 13:49:58.712 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 13:49:58.712 -05:00 [INF] Consulta de libros exitosa
2024-08-30 13:49:58.712 -05:00 [DBG] Authorization was successful.
2024-08-30 13:49:58.712 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 18.88ms.
2024-08-30 13:49:58.712 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 13:49:58.713 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-08-30 13:49:58.713 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 13:49:58.713 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 13:49:58.713 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 13:49:58.713 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 13:49:58.713 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 13:49:58.713 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 13:49:58.713 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 13:49:58.713 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 13:49:58.713 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 13:49:58.713 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 13:49:58.713 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 13:49:58.713 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 13:49:58.713 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 13:49:58.716 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 89.2992ms
2024-08-30 13:49:58.716 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 13:49:58.716 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 13:49:58.716 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:49:58.716 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 13:49:58.716 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 92.1355ms
2024-08-30 13:49:58.787 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 13:49:58.788 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 13:49:58.789 -05:00 [DBG] Creating DbConnection.
2024-08-30 13:49:58.789 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 13:49:58.789 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:49:58.789 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:49:58.789 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 13:49:58.789 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:49:58.789 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:49:58.789 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 13:49:58.793 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 13:49:58.793 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:49:58.793 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:49:58.794 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:49:58.794 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:49:58.794 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:49:58.794 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:49:58.794 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:49:58.794 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:49:58.794 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:49:58.795 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:49:58.795 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:49:58.795 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:49:58.795 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:49:58.795 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:49:58.795 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-08-30 13:49:58.795 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:49:58.795 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 13:49:58.796 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 8.0121ms.
2024-08-30 13:49:58.796 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 13:49:58.796 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 13:49:58.796 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 13:49:58.796 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 13:49:58.796 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 13:49:58.796 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 13:49:58.797 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 83.5125ms
2024-08-30 13:49:58.797 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 13:49:58.797 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 13:49:58.797 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:49:58.797 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 13:49:58.797 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 91.8935ms
2024-08-30 13:53:44.619 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 13:53:44.620 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 13:53:44.620 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 13:53:44.620 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:53:44.620 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:53:44.620 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:53:44.620 -05:00 [DBG] The request is a preflight request.
2024-08-30 13:53:44.620 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 0.7295ms
2024-08-30 13:53:44.653 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-08-30 13:53:44.653 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 13:53:44.653 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 13:53:44.658 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:53:44.658 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:53:44.658 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:53:44.658 -05:00 [DBG] The request is a preflight request.
2024-08-30 13:53:44.658 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 4.9883ms
2024-08-30 13:53:44.680 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 13:53:44.680 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 13:53:44.680 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 13:53:44.680 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 13:53:44.680 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:53:44.680 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:53:44.680 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:53:44.681 -05:00 [DBG] Successfully validated the token.
2024-08-30 13:53:44.681 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 13:53:44.681 -05:00 [DBG] Authorization was successful.
2024-08-30 13:53:44.681 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 13:53:44.681 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 13:53:44.681 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 13:53:44.681 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 13:53:44.681 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 13:53:44.681 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 13:53:44.682 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 13:53:44.682 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 13:53:44.682 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 13:53:44.682 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 13:53:44.683 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-08-30 13:53:44.683 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 13:53:44.686 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 13:53:44.686 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 13:53:44.686 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 13:53:44.808 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 13:53:44.825 -05:00 [DBG] Consultando libros...
2024-08-30 13:53:44.831 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 13:53:44.832 -05:00 [DBG] Creating DbConnection.
2024-08-30 13:53:44.832 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 13:53:44.832 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:53:44.832 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:53:44.832 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 13:53:44.832 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:53:44.832 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:53:44.832 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 13:53:44.882 -05:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 13:53:44.882 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:53:44.882 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 13:53:44.882 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:53:44.882 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 13:53:44.904 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-08-30 13:53:44.904 -05:00 [INF] Consulta de libros exitosa
2024-08-30 13:53:44.907 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 95.9869ms.
2024-08-30 13:53:44.918 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 13:53:44.918 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 13:53:44.918 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-08-30 13:53:44.918 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 13:53:44.918 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 13:53:44.918 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 13:53:44.918 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 13:53:44.919 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:53:44.919 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:53:44.919 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 13:53:44.919 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:53:44.919 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 13:53:44.919 -05:00 [DBG] Successfully validated the token.
2024-08-30 13:53:44.919 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 237.2438ms
2024-08-30 13:53:44.919 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 13:53:44.919 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 13:53:44.919 -05:00 [DBG] Authorization was successful.
2024-08-30 13:53:44.919 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 13:53:44.919 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 13:53:44.919 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:53:44.919 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-08-30 13:53:44.919 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 13:53:44.919 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 13:53:44.919 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 13:53:44.919 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 239.5294ms
2024-08-30 13:53:44.919 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 13:53:44.920 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 13:53:44.920 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 13:53:44.920 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 13:53:44.920 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 13:53:45.031 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 13:53:45.032 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 13:53:45.032 -05:00 [DBG] Creating DbConnection.
2024-08-30 13:53:45.032 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 13:53:45.033 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:53:45.033 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:53:45.033 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 13:53:45.033 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:53:45.033 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:53:45.033 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 13:53:45.038 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 13:53:45.039 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:53:45.039 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:53:45.039 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:53:45.039 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:53:45.039 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:53:45.039 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:53:45.039 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:53:45.039 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:53:45.039 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:53:45.039 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:53:45.039 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:53:45.039 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:53:45.040 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:53:45.040 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:53:45.040 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-08-30 13:53:45.040 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:53:45.040 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 13:53:45.040 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 8.4519ms.
2024-08-30 13:53:45.040 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 13:53:45.040 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 13:53:45.040 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 13:53:45.040 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 13:53:45.040 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 13:53:45.041 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 13:53:45.041 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 121.0236ms
2024-08-30 13:53:45.041 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 13:53:45.041 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 13:53:45.041 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:53:45.041 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 13:53:45.041 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 138.6023ms
2024-08-30 13:55:44.304 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 13:55:44.305 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 13:55:44.305 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 13:55:44.305 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:55:44.305 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:55:44.305 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:55:44.305 -05:00 [DBG] The request is a preflight request.
2024-08-30 13:55:44.305 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 0.8922ms
2024-08-30 13:55:44.306 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-08-30 13:55:44.306 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 13:55:44.306 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 13:55:44.306 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:55:44.306 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:55:44.306 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:55:44.306 -05:00 [DBG] The request is a preflight request.
2024-08-30 13:55:44.306 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 0.592ms
2024-08-30 13:55:44.439 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 13:55:44.439 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 13:55:44.439 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 13:55:44.439 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 13:55:44.439 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:55:44.439 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:55:44.439 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:55:44.440 -05:00 [DBG] Successfully validated the token.
2024-08-30 13:55:44.440 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 13:55:44.440 -05:00 [DBG] Authorization was successful.
2024-08-30 13:55:44.440 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 13:55:44.446 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 13:55:44.447 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 13:55:44.447 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 13:55:44.447 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 13:55:44.447 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 13:55:44.447 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 13:55:44.448 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 13:55:44.448 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 13:55:44.448 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 13:55:44.449 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-08-30 13:55:44.449 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 13:55:44.449 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 13:55:44.449 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 13:55:44.449 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 13:55:44.547 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 13:55:44.552 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-08-30 13:55:44.552 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 13:55:44.553 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-08-30 13:55:44.553 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 13:55:44.553 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:55:44.553 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:55:44.553 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:55:44.555 -05:00 [DBG] Successfully validated the token.
2024-08-30 13:55:44.555 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 13:55:44.556 -05:00 [DBG] Authorization was successful.
2024-08-30 13:55:44.556 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 13:55:44.556 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-08-30 13:55:44.556 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 13:55:44.556 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 13:55:44.556 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 13:55:44.556 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 13:55:44.556 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 13:55:44.558 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 13:55:44.558 -05:00 [DBG] Consultando libros...
2024-08-30 13:55:44.558 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 13:55:44.560 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 13:55:44.560 -05:00 [DBG] Creating DbConnection.
2024-08-30 13:55:44.560 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 13:55:44.560 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:55:44.561 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:55:44.561 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 13:55:44.561 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:55:44.561 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:55:44.561 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 13:55:44.606 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 13:55:44.608 -05:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 13:55:44.608 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:55:44.608 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 13:55:44.609 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:55:44.609 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 13:55:44.614 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 13:55:44.614 -05:00 [DBG] Creating DbConnection.
2024-08-30 13:55:44.614 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 13:55:44.614 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:55:44.614 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:55:44.615 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 13:55:44.615 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:55:44.615 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:55:44.615 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 13:55:44.626 -05:00 [INF] Consulta de libros exitosa
2024-08-30 13:55:44.626 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 79.259ms.
2024-08-30 13:55:44.646 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 13:55:44.664 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 13:55:44.669 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 13:55:44.684 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 13:55:44.684 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 13:55:44.685 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 13:55:44.686 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 238.1377ms
2024-08-30 13:55:44.686 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 13:55:44.686 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 13:55:44.686 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:55:44.686 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 13:55:44.686 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 247.4146ms
2024-08-30 13:55:44.692 -05:00 [INF] Executed DbCommand (77ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 13:55:44.692 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:55:44.693 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:55:44.693 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:55:44.693 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:55:44.693 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:55:44.693 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:55:44.693 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:55:44.693 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:55:44.693 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:55:44.693 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:55:44.693 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:55:44.693 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:55:44.693 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:55:44.694 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:55:44.694 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-08-30 13:55:44.694 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:55:44.694 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 13:55:44.694 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 87.9109ms.
2024-08-30 13:55:44.695 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 13:55:44.695 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 13:55:44.695 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 13:55:44.695 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 13:55:44.695 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 13:55:44.695 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 13:55:44.696 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 139.1036ms
2024-08-30 13:55:44.696 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 13:55:44.696 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 13:55:44.696 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:55:44.696 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 13:55:44.697 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 144.4675ms
2024-08-30 13:58:18.688 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 13:58:18.688 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 13:58:18.688 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 13:58:18.689 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:58:18.689 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:58:18.689 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:58:18.689 -05:00 [DBG] The request is a preflight request.
2024-08-30 13:58:18.689 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 0.845ms
2024-08-30 13:58:18.689 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-08-30 13:58:18.690 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 13:58:18.690 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 13:58:18.690 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:58:18.691 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:58:18.691 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:58:18.691 -05:00 [DBG] The request is a preflight request.
2024-08-30 13:58:18.691 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 1.8891ms
2024-08-30 13:58:18.711 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 13:58:18.712 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 13:58:18.712 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 13:58:18.712 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 13:58:18.712 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:58:18.712 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:58:18.712 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:58:18.717 -05:00 [DBG] Successfully validated the token.
2024-08-30 13:58:18.717 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 13:58:18.717 -05:00 [DBG] Authorization was successful.
2024-08-30 13:58:18.717 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 13:58:18.718 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 13:58:18.718 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 13:58:18.718 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 13:58:18.718 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 13:58:18.718 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 13:58:18.718 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 13:58:18.719 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 13:58:18.719 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 13:58:18.719 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 13:58:18.720 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-08-30 13:58:18.720 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 13:58:18.720 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 13:58:18.720 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 13:58:18.720 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 13:58:18.723 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-08-30 13:58:18.723 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 13:58:18.723 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-08-30 13:58:18.723 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 13:58:18.723 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:58:18.724 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:58:18.724 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:58:18.724 -05:00 [DBG] Successfully validated the token.
2024-08-30 13:58:18.724 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 13:58:18.724 -05:00 [DBG] Authorization was successful.
2024-08-30 13:58:18.734 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 13:58:18.734 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-08-30 13:58:18.734 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 13:58:18.734 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 13:58:18.735 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 13:58:18.735 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 13:58:18.735 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 13:58:18.735 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 13:58:18.735 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 13:58:18.944 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 13:58:19.017 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 13:58:19.018 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 13:58:19.018 -05:00 [DBG] Creating DbConnection.
2024-08-30 13:58:19.019 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 13:58:19.019 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:58:19.019 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:58:19.019 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 13:58:19.019 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:58:19.019 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:58:19.019 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 13:58:19.022 -05:00 [DBG] Consultando libros...
2024-08-30 13:58:19.024 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 13:58:19.025 -05:00 [DBG] Creating DbConnection.
2024-08-30 13:58:19.025 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 13:58:19.025 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:58:19.027 -05:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 13:58:19.027 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:58:19.027 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:58:19.027 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:58:19.028 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:58:19.041 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:58:19.042 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:58:19.042 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:58:19.043 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:58:19.043 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:58:19.051 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:58:19.051 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:58:19.051 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:58:19.051 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:58:19.051 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:58:19.051 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 24ms reading results.
2024-08-30 13:58:19.051 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:58:19.051 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 13:58:19.052 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 34.6847ms.
2024-08-30 13:58:19.052 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 13:58:19.052 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 13:58:19.052 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 13:58:19.052 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 13:58:19.052 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 13:58:19.052 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 13:58:19.052 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 317.4948ms
2024-08-30 13:58:19.052 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 13:58:19.053 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 13:58:19.053 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:58:19.053 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 13:58:19.053 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 330.024ms
2024-08-30 13:58:19.077 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:58:19.077 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 13:58:19.077 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:58:19.077 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:58:19.077 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 13:58:19.085 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 13:58:19.085 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:58:19.085 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 13:58:19.085 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:58:19.085 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 13:58:19.088 -05:00 [INF] Consulta de libros exitosa
2024-08-30 13:58:19.088 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 143.63ms.
2024-08-30 13:58:19.088 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 13:58:19.089 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 13:58:19.089 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 13:58:19.089 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 13:58:19.089 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 13:58:19.089 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 13:58:19.089 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 370.5729ms
2024-08-30 13:58:19.089 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 13:58:19.089 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 13:58:19.089 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:58:19.089 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 13:58:19.090 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 378.2558ms
2024-08-30 13:59:09.738 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 13:59:09.741 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 13:59:09.741 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 13:59:09.741 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:59:09.741 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:59:09.741 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:59:09.742 -05:00 [DBG] The request is a preflight request.
2024-08-30 13:59:09.742 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 3.9532ms
2024-08-30 13:59:09.742 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-08-30 13:59:09.742 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 13:59:09.743 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 13:59:09.743 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:59:09.743 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:59:09.743 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:59:09.743 -05:00 [DBG] The request is a preflight request.
2024-08-30 13:59:09.743 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 0.4703ms
2024-08-30 13:59:09.841 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 13:59:09.841 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-08-30 13:59:09.841 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 13:59:09.841 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 13:59:09.841 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 13:59:09.841 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-08-30 13:59:09.841 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 13:59:09.841 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 13:59:09.841 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:59:09.841 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:59:09.841 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:59:09.841 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:59:09.841 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:59:09.841 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:59:09.841 -05:00 [DBG] Successfully validated the token.
2024-08-30 13:59:09.841 -05:00 [DBG] Successfully validated the token.
2024-08-30 13:59:09.841 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 13:59:09.841 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 13:59:09.842 -05:00 [DBG] Authorization was successful.
2024-08-30 13:59:09.842 -05:00 [DBG] Authorization was successful.
2024-08-30 13:59:09.842 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 13:59:09.842 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 13:59:09.842 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-08-30 13:59:09.842 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 13:59:09.842 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 13:59:09.842 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 13:59:09.842 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 13:59:09.842 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 13:59:09.842 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 13:59:09.842 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 13:59:09.842 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 13:59:09.842 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 13:59:09.842 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 13:59:09.842 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 13:59:09.843 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 13:59:09.843 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 13:59:09.843 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 13:59:09.844 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 13:59:09.844 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 13:59:09.845 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-08-30 13:59:09.845 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 13:59:09.845 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 13:59:09.845 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 13:59:09.845 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 13:59:09.972 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 13:59:10.015 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 13:59:10.016 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 13:59:10.016 -05:00 [DBG] Creating DbConnection.
2024-08-30 13:59:10.016 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 13:59:10.017 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:59:10.017 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:59:10.017 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 13:59:10.017 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:59:10.017 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:59:10.019 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 13:59:10.022 -05:00 [DBG] Consultando libros...
2024-08-30 13:59:10.023 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 13:59:10.023 -05:00 [DBG] Creating DbConnection.
2024-08-30 13:59:10.023 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 13:59:10.023 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:59:10.024 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:59:10.024 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 13:59:10.024 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:59:10.024 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:59:10.024 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 13:59:10.025 -05:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 13:59:10.026 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:59:10.026 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:59:10.026 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:59:10.026 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:59:10.028 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:59:10.028 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:59:10.029 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:59:10.029 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:59:10.029 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:59:10.029 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:59:10.029 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:59:10.029 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:59:10.029 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:59:10.029 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:59:10.029 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-08-30 13:59:10.029 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:59:10.029 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 13:59:10.030 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 56.9832ms.
2024-08-30 13:59:10.030 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 13:59:10.030 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 13:59:10.030 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 13:59:10.030 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 13:59:10.030 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 13:59:10.030 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 13:59:10.030 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 188.1668ms
2024-08-30 13:59:10.030 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 13:59:10.031 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 13:59:10.031 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:59:10.031 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 13:59:10.037 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 190.267ms
2024-08-30 13:59:10.122 -05:00 [INF] Executed DbCommand (98ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 13:59:10.123 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:59:10.123 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 13:59:10.123 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:59:10.123 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 13:59:10.129 -05:00 [INF] Consulta de libros exitosa
2024-08-30 13:59:10.130 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 114.8181ms.
2024-08-30 13:59:10.130 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 13:59:10.130 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 13:59:10.130 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 13:59:10.130 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 13:59:10.130 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 13:59:10.130 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 13:59:10.130 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 287.8219ms
2024-08-30 13:59:10.131 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 13:59:10.131 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 13:59:10.131 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:59:10.131 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 13:59:10.131 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 290.6876ms
2024-08-30 13:59:25.070 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 13:59:25.071 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 13:59:25.071 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 13:59:25.071 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-08-30 13:59:25.071 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:59:25.071 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:59:25.071 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:59:25.071 -05:00 [DBG] The request is a preflight request.
2024-08-30 13:59:25.071 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 0.8074ms
2024-08-30 13:59:25.071 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 13:59:25.071 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 13:59:25.071 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:59:25.071 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:59:25.073 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:59:25.075 -05:00 [DBG] The request is a preflight request.
2024-08-30 13:59:25.079 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 13:59:25.079 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 13:59:25.079 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 13:59:25.079 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 13:59:25.080 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:59:25.080 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:59:25.080 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:59:25.080 -05:00 [DBG] Successfully validated the token.
2024-08-30 13:59:25.080 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 13:59:25.080 -05:00 [DBG] Authorization was successful.
2024-08-30 13:59:25.080 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 13:59:25.080 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 13:59:25.081 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 13:59:25.081 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 13:59:25.081 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 13:59:25.081 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 13:59:25.081 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 13:59:25.082 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 13:59:25.082 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 4.5911ms
2024-08-30 13:59:25.083 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 13:59:25.083 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 13:59:25.083 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-08-30 13:59:25.083 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 13:59:25.083 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 13:59:25.083 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 13:59:25.083 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 13:59:25.216 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 13:59:25.264 -05:00 [DBG] Consultando libros...
2024-08-30 13:59:25.265 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 13:59:25.266 -05:00 [DBG] Creating DbConnection.
2024-08-30 13:59:25.266 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 13:59:25.266 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:59:25.266 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:59:25.266 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 13:59:25.266 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:59:25.266 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:59:25.267 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 13:59:25.468 -05:00 [INF] Executed DbCommand (201ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 13:59:25.468 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:59:25.468 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 13:59:25.468 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:59:25.468 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 13:59:25.566 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-08-30 13:59:25.566 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 13:59:25.566 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-08-30 13:59:25.566 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 13:59:25.567 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 13:59:25.567 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 13:59:25.568 -05:00 [INF] CORS policy execution successful.
2024-08-30 13:59:25.568 -05:00 [DBG] Successfully validated the token.
2024-08-30 13:59:25.568 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 13:59:25.568 -05:00 [DBG] Authorization was successful.
2024-08-30 13:59:25.568 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 13:59:25.568 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-08-30 13:59:25.568 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 13:59:25.586 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 13:59:25.586 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 13:59:25.586 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 13:59:25.586 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 13:59:25.586 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 13:59:25.587 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 13:59:25.788 -05:00 [INF] Consulta de libros exitosa
2024-08-30 13:59:25.790 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 13:59:25.790 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 574.2016ms.
2024-08-30 13:59:25.790 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 13:59:25.790 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 13:59:25.790 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 13:59:25.790 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 13:59:25.790 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 13:59:25.790 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 13:59:25.791 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 13:59:25.791 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 709.1317ms
2024-08-30 13:59:25.791 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 13:59:25.791 -05:00 [DBG] Creating DbConnection.
2024-08-30 13:59:25.791 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 13:59:25.791 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 13:59:25.791 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:59:25.791 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:59:25.791 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 13:59:25.791 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:59:25.791 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 713.1468ms
2024-08-30 13:59:25.791 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 13:59:25.791 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:59:25.791 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 13:59:25.791 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 13:59:25.981 -05:00 [INF] Executed DbCommand (189ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 13:59:25.981 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:59:25.981 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:59:25.981 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:59:25.981 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:59:25.981 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:59:25.982 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:59:25.982 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:59:25.982 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:59:25.982 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:59:25.982 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:59:25.982 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:59:25.982 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:59:25.982 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 13:59:25.982 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:59:25.982 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-08-30 13:59:25.982 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:59:25.982 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 13:59:25.982 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 192.5737ms.
2024-08-30 13:59:25.983 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 13:59:25.983 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 13:59:25.983 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 13:59:25.983 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 13:59:25.983 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 13:59:25.983 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 13:59:25.983 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 396.8934ms
2024-08-30 13:59:25.983 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 13:59:25.983 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 13:59:25.983 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 13:59:25.983 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 13:59:25.984 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 418.0394ms
2024-08-30 14:03:37.801 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 14:03:37.802 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:03:37.802 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:03:37.802 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:03:37.802 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:03:37.802 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:03:37.802 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:03:37.802 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 1.3111ms
2024-08-30 14:03:37.821 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 14:03:37.821 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-08-30 14:03:37.821 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:03:37.821 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 14:03:37.821 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 14:03:37.821 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:03:37.821 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:03:37.821 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:03:37.821 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:03:37.822 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:03:37.822 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:03:37.822 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:03:37.822 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:03:37.822 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:03:37.822 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 0.948ms
2024-08-30 14:03:37.822 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:03:37.822 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:03:37.822 -05:00 [DBG] Authorization was successful.
2024-08-30 14:03:37.822 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:03:37.822 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 14:03:37.822 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:03:37.823 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:03:37.823 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:03:37.823 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:03:37.823 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:03:37.823 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:03:37.824 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:03:37.824 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:03:37.824 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-08-30 14:03:37.824 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:03:37.824 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:03:37.824 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:03:37.824 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:03:37.825 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-08-30 14:03:37.825 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 14:03:37.825 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-08-30 14:03:37.829 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 14:03:37.869 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:03:37.869 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:03:37.869 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:03:37.869 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:03:37.871 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:03:37.871 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:03:37.871 -05:00 [DBG] Authorization was successful.
2024-08-30 14:03:37.871 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 14:03:37.871 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-08-30 14:03:37.871 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:03:37.871 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:03:37.871 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:03:37.872 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:03:37.872 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:03:37.873 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 14:03:37.874 -05:00 [DBG] Consultando libros...
2024-08-30 14:03:37.874 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 14:03:37.923 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:03:37.923 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:03:37.923 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:03:37.924 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:03:37.924 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:03:37.924 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:03:37.924 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:03:37.924 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:03:37.924 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:03:37.924 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:03:37.924 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:03:37.924 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:03:37.924 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 14:03:37.924 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:03:37.924 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:03:37.925 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:03:37.925 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:03:37.925 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:03:37.925 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 14:03:37.937 -05:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 14:03:37.937 -05:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 14:03:37.937 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:03:37.937 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:03:37.937 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:03:37.937 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:03:37.937 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:03:37.937 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:03:37.937 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:03:37.937 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:03:37.937 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:03:37.937 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:03:37.939 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:03:37.939 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:03:37.939 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:03:37.940 -05:00 [INF] Consulta de libros exitosa
2024-08-30 14:03:37.940 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:03:37.940 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 71.0499ms.
2024-08-30 14:03:37.940 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:03:37.940 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:03:37.940 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:03:37.940 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:03:37.940 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:03:37.940 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:03:37.940 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:03:37.940 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:03:37.940 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-08-30 14:03:37.940 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:03:37.940 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:03:37.940 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:03:37.941 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:03:37.941 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 18.0101ms.
2024-08-30 14:03:37.941 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 117.6476ms
2024-08-30 14:03:37.941 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:03:37.941 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:03:37.941 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:03:37.941 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:03:37.941 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:03:37.941 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:03:37.941 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:03:37.941 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:03:37.941 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:03:37.941 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:03:37.941 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 120.4231ms
2024-08-30 14:03:37.941 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 67.9711ms
2024-08-30 14:03:37.942 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 14:03:37.942 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:03:37.942 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:03:37.942 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:03:37.942 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 117.1012ms
2024-08-30 14:03:59.348 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 14:03:59.348 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:03:59.349 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:03:59.349 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:03:59.349 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:03:59.349 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:03:59.349 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:03:59.349 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 1.1159ms
2024-08-30 14:03:59.351 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 14:03:59.352 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:03:59.352 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 14:03:59.352 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:03:59.352 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:03:59.352 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:03:59.352 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:03:59.353 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:03:59.353 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:03:59.353 -05:00 [DBG] Authorization was successful.
2024-08-30 14:03:59.353 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:03:59.353 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 14:03:59.353 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:03:59.353 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:03:59.354 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:03:59.354 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:03:59.354 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:03:59.354 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:03:59.354 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:03:59.354 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:03:59.354 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-08-30 14:03:59.354 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:03:59.354 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:03:59.355 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:03:59.355 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:03:59.848 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:03:59.935 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-08-30 14:03:59.935 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 14:03:59.935 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:03:59.935 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:03:59.935 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:03:59.935 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:03:59.935 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:03:59.935 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 0.6284ms
2024-08-30 14:04:00.257 -05:00 [DBG] Consultando libros...
2024-08-30 14:04:00.259 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:04:00.260 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:04:00.260 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:04:00.260 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:04:00.261 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:04:00.261 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:04:00.261 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:04:00.261 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:04:00.261 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 14:04:00.339 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-08-30 14:04:00.340 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 14:04:00.340 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-08-30 14:04:00.340 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 14:04:00.340 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:04:00.340 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:04:00.340 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:04:00.340 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:04:00.341 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:04:00.344 -05:00 [DBG] Authorization was successful.
2024-08-30 14:04:00.344 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 14:04:00.345 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-08-30 14:04:00.345 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:04:00.345 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:04:00.345 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:04:00.345 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:04:00.345 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:04:00.345 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 14:04:00.346 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 14:04:00.376 -05:00 [INF] Executed DbCommand (115ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 14:04:00.376 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:04:00.376 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:04:00.376 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:04:00.376 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:04:00.482 -05:00 [INF] Consulta de libros exitosa
2024-08-30 14:04:00.484 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:04:00.484 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 635.5372ms.
2024-08-30 14:04:00.484 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:04:00.484 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:04:00.484 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:04:00.484 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:04:00.484 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:04:00.485 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:04:00.485 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 1131.1328ms
2024-08-30 14:04:00.485 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:04:00.485 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:04:00.485 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:04:00.485 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:04:00.485 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 1134.1592ms
2024-08-30 14:04:00.485 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:04:00.485 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:04:00.486 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:04:00.486 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:04:00.486 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:04:00.486 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:04:00.486 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:04:00.487 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:04:00.487 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 14:04:00.511 -05:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 14:04:00.512 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:04:00.512 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:04:00.512 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:04:00.512 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:04:00.512 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:04:00.514 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:04:00.514 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:04:00.514 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:04:00.514 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:04:00.516 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:04:00.516 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:04:00.516 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:04:00.516 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:04:00.516 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:04:00.516 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-08-30 14:04:00.517 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:04:00.517 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:04:00.517 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 32.6913ms.
2024-08-30 14:04:00.517 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:04:00.517 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:04:00.517 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:04:00.517 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:04:00.517 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:04:00.517 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:04:00.518 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 172.9543ms
2024-08-30 14:04:00.518 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 14:04:00.518 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:04:00.518 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:04:00.519 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:04:00.519 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 179.2603ms
2024-08-30 14:15:27.240 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-08-30 14:15:27.441 -05:00 [DBG] Hosting starting
2024-08-30 14:15:27.493 -05:00 [INF] User profile is available. Using 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-30 14:15:27.501 -05:00 [DBG] Reading data from file 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys\key-12ed5171-7863-4d3e-a216-6f5439158e60.xml'.
2024-08-30 14:15:27.511 -05:00 [DBG] Found key {12ed5171-7863-4d3e-a216-6f5439158e60}.
2024-08-30 14:15:27.520 -05:00 [DBG] Considering key {12ed5171-7863-4d3e-a216-6f5439158e60} with expiration date 2024-09-28 19:27:42Z as default key.
2024-08-30 14:15:27.522 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-30 14:15:27.524 -05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-08-30 14:15:27.526 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-30 14:15:27.530 -05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-08-30 14:15:27.531 -05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-08-30 14:15:27.532 -05:00 [DBG] Using key {12ed5171-7863-4d3e-a216-6f5439158e60} as the default key.
2024-08-30 14:15:27.533 -05:00 [DBG] Key ring with default key {12ed5171-7863-4d3e-a216-6f5439158e60} was loaded during application startup.
2024-08-30 14:15:27.818 -05:00 [INF] Now listening on: https://localhost:7299
2024-08-30 14:15:27.818 -05:00 [INF] Now listening on: http://localhost:5219
2024-08-30 14:15:27.819 -05:00 [DBG] Loaded hosting startup assembly biblioteca-backend
2024-08-30 14:15:27.819 -05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-08-30 14:15:27.819 -05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-08-30 14:15:27.819 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-30 14:15:27.819 -05:00 [INF] Hosting environment: Development
2024-08-30 14:15:27.819 -05:00 [INF] Content root path: C:\Users\spatino\Documents\Proyeco - Biblioteca\biblioteca-backend
2024-08-30 14:15:27.819 -05:00 [DBG] Hosting started
2024-08-30 14:15:27.928 -05:00 [DBG] Connection id "0HN6950DQ4TLO" accepted.
2024-08-30 14:15:27.928 -05:00 [DBG] Connection id "0HN6950DQ4TLN" accepted.
2024-08-30 14:15:27.931 -05:00 [DBG] Connection id "0HN6950DQ4TLO" started.
2024-08-30 14:15:27.931 -05:00 [DBG] Connection id "0HN6950DQ4TLN" started.
2024-08-30 14:15:27.949 -05:00 [DBG] Connection id "0HN6950DQ4TLN" received FIN.
2024-08-30 14:15:27.950 -05:00 [DBG] Connection id "0HN6950DQ4TLO" received FIN.
2024-08-30 14:15:27.986 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-08-30 14:15:27.986 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-08-30 14:15:28.035 -05:00 [DBG] Connection id "0HN6950DQ4TLN" stopped.
2024-08-30 14:15:28.035 -05:00 [DBG] Connection id "0HN6950DQ4TLO" stopped.
2024-08-30 14:15:28.038 -05:00 [DBG] Connection id "0HN6950DQ4TLN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-30 14:15:28.038 -05:00 [DBG] Connection id "0HN6950DQ4TLO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-30 14:15:28.146 -05:00 [DBG] Connection id "0HN6950DQ4TLP" accepted.
2024-08-30 14:15:28.147 -05:00 [DBG] Connection id "0HN6950DQ4TLP" started.
2024-08-30 14:15:28.335 -05:00 [DBG] Connection 0HN6950DQ4TLP established using the following protocol: "Tls12"
2024-08-30 14:15:28.487 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/index.html - null null
2024-08-30 14:15:28.835 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-08-30 14:15:28.875 -05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-08-30 14:15:28.876 -05:00 [DBG] Request did not match any endpoints
2024-08-30 14:15:29.041 -05:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-08-30 14:15:29.043 -05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-08-30 14:15:29.163 -05:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-08-30 14:15:29.167 -05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-08-30 14:15:29.186 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/index.html - 200 null text/html;charset=utf-8 709.5476ms
2024-08-30 14:15:29.252 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
2024-08-30 14:15:29.252 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
2024-08-30 14:15:29.263 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 10.7081ms
2024-08-30 14:15:29.428 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 176.0309ms
2024-08-30 14:15:29.487 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
2024-08-30 14:15:29.487 -05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-08-30 14:15:29.487 -05:00 [DBG] Request did not match any endpoints
2024-08-30 14:15:29.673 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 186.2846ms
2024-08-30 14:15:35.788 -05:00 [DBG] Connection id "0HN6950DQ4TLQ" accepted.
2024-08-30 14:15:35.788 -05:00 [DBG] Connection id "0HN6950DQ4TLQ" started.
2024-08-30 14:15:35.798 -05:00 [DBG] Connection 0HN6950DQ4TLQ established using the following protocol: "Tls12"
2024-08-30 14:15:35.801 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 14:15:35.801 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-08-30 14:15:35.810 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 14:15:35.811 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:15:35.812 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:15:35.812 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:15:35.817 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:15:35.817 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:15:35.820 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:15:35.821 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:15:35.822 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:15:35.822 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:15:35.823 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:15:35.824 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 22.7902ms
2024-08-30 14:15:35.822 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:15:35.827 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 26.2837ms
2024-08-30 14:15:35.849 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 14:15:35.851 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-08-30 14:15:35.852 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 14:15:35.852 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:15:35.858 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 14:15:35.858 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-08-30 14:15:35.858 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:15:35.858 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 14:15:35.858 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:15:35.858 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:15:35.869 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:15:35.869 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:15:35.869 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:15:35.870 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:15:36.134 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:15:36.134 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:15:36.137 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:15:36.137 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:15:36.150 -05:00 [DBG] Authorization was successful.
2024-08-30 14:15:36.150 -05:00 [DBG] Authorization was successful.
2024-08-30 14:15:36.152 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 14:15:36.152 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:15:36.183 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-08-30 14:15:36.183 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 14:15:36.185 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:15:36.185 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:15:36.185 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:15:36.185 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:15:36.185 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:15:36.185 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:15:36.185 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:15:36.185 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:15:36.185 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:15:36.185 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:15:36.187 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 14:15:36.187 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:15:36.358 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-08-30 14:15:36.358 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-08-30 14:15:36.424 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 14:15:36.425 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:15:36.559 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:15:36.564 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:15:36.565 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-08-30 14:15:36.568 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:15:36.568 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:15:36.569 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:15:36.572 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:15:36.631 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:15:36.660 -05:00 [DBG] Consultando libros...
2024-08-30 14:15:37.640 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:15:37.640 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:15:37.699 -05:00 [DBG] Compiling query expression: 
'DbSet<Genero>()'
2024-08-30 14:15:37.709 -05:00 [DBG] Compiling query expression: 
'DbSet<Libro>()
    .Join(
        inner: DbSet<Genero>(), 
        outerKeySelector: L => L.IdGenero, 
        innerKeySelector: G => G.Id, 
        resultSelector: (L, G) => new { 
            L = L, 
            G = G
         })
    .Where(<>h__TransparentIdentifier0 => True)
    .Select(<>h__TransparentIdentifier0 => new { 
        id = <>h__TransparentIdentifier0.L.Id, 
        titulo = <>h__TransparentIdentifier0.L.Titulo, 
        autor = <>h__TransparentIdentifier0.L.Autor, 
        anio = <>h__TransparentIdentifier0.L.Anio, 
        idGenero = <>h__TransparentIdentifier0.L.IdGenero, 
        genero = <>h__TransparentIdentifier0.G.Nombre, 
        activo = <>h__TransparentIdentifier0.L.Activo
     })'
2024-08-30 14:15:37.888 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Genero>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Genero.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Genero.Nombre (string) Required, 1] }
        SELECT g.Id, g.Nombre
        FROM Genero AS g), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Genero>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-08-30 14:15:37.889 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType5<int, string, string, int, int, string, bool>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            id -> 0
            titulo -> 1
            autor -> 2
            anio -> 3
            idGenero -> 4
            genero -> 5
            activo -> 6
        SELECT l.Id AS id, l.Titulo AS titulo, l.Autor AS autor, l.Anio AS anio, l.IdGenero AS idGenero, g.Nombre AS genero, l.Activo AS activo
        FROM Libro AS l
        INNER JOIN Genero AS g ON l.IdGenero == g.Id), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType5<int, string, string, int, int, string, bool>>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-08-30 14:15:37.932 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:15:37.932 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:15:37.962 -05:00 [DBG] Created DbConnection. (31ms).
2024-08-30 14:15:37.962 -05:00 [DBG] Created DbConnection. (30ms).
2024-08-30 14:15:37.966 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:15:37.966 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:15:38.315 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:15:38.326 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:15:38.342 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2024-08-30 14:15:38.347 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (22ms).
2024-08-30 14:15:38.351 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:15:38.353 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:15:38.353 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:15:38.353 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:15:38.362 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 14:15:38.362 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 14:15:38.489 -05:00 [INF] Executed DbCommand (127ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 14:15:38.491 -05:00 [INF] Executed DbCommand (136ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 14:15:38.524 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:15:38.536 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 37ms reading results.
2024-08-30 14:15:38.539 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:15:38.554 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (15ms).
2024-08-30 14:15:38.559 -05:00 [INF] Consulta de libros exitosa
2024-08-30 14:15:38.566 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1927.6639ms.
2024-08-30 14:15:38.572 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:15:38.575 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:15:38.575 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:15:38.575 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:15:38.577 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:15:38.578 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:15:38.585 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:15:38.608 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 2416.7666ms
2024-08-30 14:15:38.609 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:15:38.612 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:15:38.615 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:15:38.616 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:15:38.616 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:15:38.616 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:15:38.617 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:15:38.617 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:15:38.617 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:15:38.617 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:15:38.617 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:15:38.617 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:15:38.618 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:15:38.618 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:15:38.620 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:15:38.622 -05:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-08-30 14:15:38.623 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 2773.4936ms
2024-08-30 14:15:38.626 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:15:38.627 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 135ms reading results.
2024-08-30 14:15:38.630 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:15:38.631 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:15:38.633 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2068.5141ms.
2024-08-30 14:15:38.636 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:15:38.637 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:15:38.637 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:15:38.638 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:15:38.639 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:15:38.639 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:15:38.676 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 2490.8119ms
2024-08-30 14:15:38.681 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 14:15:38.686 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:15:38.686 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:15:38.687 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:15:38.689 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 2843.1382ms
2024-08-30 14:16:14.787 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-08-30 14:16:14.790 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:16:14.790 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:16:14.790 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:16:14.790 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:16:14.790 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:16:14.806 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:16:14.810 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - 204 null null 20.5163ms
2024-08-30 14:16:14.815 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-08-30 14:16:14.816 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:16:14.816 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 14:16:14.816 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:16:14.816 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:16:14.817 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:16:14.817 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:16:14.820 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:16:14.820 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:16:14.821 -05:00 [DBG] Authorization was successful.
2024-08-30 14:16:14.821 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:16:14.821 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 14:16:14.822 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:16:14.822 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:16:14.822 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:16:14.822 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:16:14.822 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:16:14.822 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:16:14.824 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:16:14.824 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:16:14.824 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-08-30 14:16:14.825 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:16:14.825 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:16:14.825 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:16:14.825 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:16:14.857 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:16:14.859 -05:00 [DBG] Consultando libros...
2024-08-30 14:16:15.004 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:16:15.007 -05:00 [DBG] Compiling query expression: 
'DbSet<Libro>()
    .Join(
        inner: DbSet<Genero>(), 
        outerKeySelector: L => L.IdGenero, 
        innerKeySelector: G => G.Id, 
        resultSelector: (L, G) => new { 
            L = L, 
            G = G
         })
    .Where(<>h__TransparentIdentifier0 => True && <>h__TransparentIdentifier0.L.Stock > 0 || False)
    .Select(<>h__TransparentIdentifier0 => new { 
        id = <>h__TransparentIdentifier0.L.Id, 
        titulo = <>h__TransparentIdentifier0.L.Titulo, 
        autor = <>h__TransparentIdentifier0.L.Autor, 
        anio = <>h__TransparentIdentifier0.L.Anio, 
        idGenero = <>h__TransparentIdentifier0.L.IdGenero, 
        genero = <>h__TransparentIdentifier0.G.Nombre, 
        activo = <>h__TransparentIdentifier0.L.Activo
     })'
2024-08-30 14:16:15.026 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType5<int, string, string, int, int, string, bool>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            id -> 0
            titulo -> 1
            autor -> 2
            anio -> 3
            idGenero -> 4
            genero -> 5
            activo -> 6
        SELECT l.Id AS id, l.Titulo AS titulo, l.Autor AS autor, l.Anio AS anio, l.IdGenero AS idGenero, g.Nombre AS genero, l.Activo AS activo
        FROM Libro AS l
        INNER JOIN Genero AS g ON l.IdGenero == g.Id
        WHERE (CAST(1 AS bit) && (l.Stock > 0)) || CAST(0 AS bit)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType5<int, string, string, int, int, string, bool>>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-08-30 14:16:15.034 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:16:15.034 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:16:15.035 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:16:15.035 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:16:15.036 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:16:15.036 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:16:15.036 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:16:15.036 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Stock] > 0
2024-08-30 14:16:15.046 -05:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Stock] > 0
2024-08-30 14:16:15.046 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:16:15.046 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:16:15.046 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:16:15.046 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:16:15.049 -05:00 [INF] Consulta de libros exitosa
2024-08-30 14:16:15.049 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 192.0509ms.
2024-08-30 14:16:15.050 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:16:15.050 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:16:15.050 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:16:15.050 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:16:15.050 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:16:15.050 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:16:15.050 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 228.4344ms
2024-08-30 14:16:15.050 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:16:15.051 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:16:15.051 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:16:15.051 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:16:15.051 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 236.2207ms
2024-08-30 14:16:31.980 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-08-30 14:16:31.980 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-08-30 14:16:31.981 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:16:31.981 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:16:31.981 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:16:31.981 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:16:31.981 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:16:31.981 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 204 null null 2.1084ms
2024-08-30 14:16:31.988 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-08-30 14:16:31.988 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-08-30 14:16:31.988 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)' with route pattern 'api/Prestmaos/ConsultarPrestamos' is valid for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-08-30 14:16:31.988 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-08-30 14:16:31.988 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:16:31.988 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:16:31.989 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:16:31.989 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:16:31.989 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:16:31.990 -05:00 [DBG] Authorization was successful.
2024-08-30 14:16:31.991 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-08-30 14:16:31.998 -05:00 [INF] Route matched with {action = "ConsultarPrestamos", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsultarPrestamos() on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-08-30 14:16:31.998 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:16:31.998 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:16:31.998 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:16:31.998 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:16:31.998 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:16:31.998 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-08-30 14:16:31.999 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-08-30 14:16:32.034 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:16:32.038 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:16:32.039 -05:00 [DBG] Compiling query expression: 
'DbSet<Prestamo>()'
2024-08-30 14:16:32.051 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Prestamo>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Prestamo.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Prestamo.FechaPrestamo (DateTime) Required, 1], [Property: Prestamo.IdPerfil (int) Required FK Index, 2] }
        SELECT p.Id, p.FechaPrestamo, p.IdPerfil
        FROM Prestamo AS p), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Prestamo>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-08-30 14:16:32.052 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:16:32.052 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:16:32.052 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:16:32.052 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:16:32.052 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:16:32.052 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:16:32.052 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:16:32.052 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-08-30 14:16:32.055 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-08-30 14:16:32.064 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:16:32.070 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:16:32.071 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:16:32.071 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:16:32.071 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 15ms reading results.
2024-08-30 14:16:32.071 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:16:32.071 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:16:32.074 -05:00 [DBG] Consultando perfil con id 34
2024-08-30 14:16:32.076 -05:00 [DBG] Compiling query expression: 
'DbSet<Perfil>()
    .FirstOrDefault(p => p.Id == __id_0)'
2024-08-30 14:16:32.086 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Perfil>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Perfil.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Perfil.Apellido (string) Required, 1], [Property: Perfil.Contrasena (string) Required, 2], [Property: Perfil.Correo (string) Required, 3], [Property: Perfil.Direccion (string) Required, 4], [Property: Perfil.IdRol (int) Required FK Index, 5], [Property: Perfil.Nombre (string) Required, 6], [Property: Perfil.Telefono (string) Required, 7] }
        SELECT TOP(1) p.Id, p.Apellido, p.Contrasena, p.Correo, p.Direccion, p.IdRol, p.Nombre, p.Telefono
        FROM Perfil AS p
        WHERE p.Id == @__id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Perfil>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-08-30 14:16:32.088 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:16:32.088 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:16:32.088 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:16:32.088 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:16:32.091 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-08-30 14:16:32.097 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-08-30 14:16:32.122 -05:00 [INF] Executed DbCommand (31ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-08-30 14:16:32.142 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:16:32.155 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:16:32.172 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:16:32.173 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 50ms reading results.
2024-08-30 14:16:32.174 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:16:32.174 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:16:32.178 -05:00 [INF] Perfil encontrado con id: 34
2024-08-30 14:16:32.183 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-08-30 14:16:32.187 -05:00 [INF] Libros encontrados exitosamente
2024-08-30 14:16:32.191 -05:00 [DBG] Compiling query expression: 
'DbSet<Perfil>()
    .Join(
        inner: DbSet<Prestamo>(), 
        outerKeySelector: P => P.Id, 
        innerKeySelector: PR => PR.IdPerfil, 
        resultSelector: (P, PR) => new { 
            P = P, 
            PR = PR
         })
    .Join(
        inner: DbSet<DetallePrestamoLibro>(), 
        outerKeySelector: <>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.PR.Id, 
        innerKeySelector: DP => DP.IdPrestamo, 
        resultSelector: (<>h__TransparentIdentifier0, DP) => new { 
            <>h__TransparentIdentifier0 = <>h__TransparentIdentifier0, 
            DP = DP
         })
    .Join(
        inner: DbSet<Libro>(), 
        outerKeySelector: <>h__TransparentIdentifier1 => <>h__TransparentIdentifier1.DP.IdLibro, 
        innerKeySelector: L => L.Id, 
        resultSelector: (<>h__TransparentIdentifier1, L) => new { 
            <>h__TransparentIdentifier1 = <>h__TransparentIdentifier1, 
            L = L
         })
    .Where(<>h__TransparentIdentifier2 => <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.P.Id == __idPerfil_0)
    .Select(<>h__TransparentIdentifier2 => new Libro{ 
        Id = <>h__TransparentIdentifier2.L.Id, 
        Titulo = <>h__TransparentIdentifier2.L.Titulo, 
        Autor = <>h__TransparentIdentifier2.L.Autor, 
        IdGenero = <>h__TransparentIdentifier2.L.IdGenero, 
        Anio = <>h__TransparentIdentifier2.L.Anio, 
        Activo = <>h__TransparentIdentifier2.L.Activo 
    }
    )'
2024-08-30 14:16:32.203 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Libro>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            Id -> 0
            Titulo -> 1
            Autor -> 2
            IdGenero -> 3
            Anio -> 4
            Activo -> 5
        SELECT l.Id, l.Titulo, l.Autor, l.IdGenero, l.Anio, l.Activo
        FROM Perfil AS p
        INNER JOIN Prestamo AS p0 ON p.Id == p0.IdPerfil
        INNER JOIN DetallePrestamoLibro AS d ON p0.Id == d.IdPrestamo
        INNER JOIN Libro AS l ON d.IdLibro == l.Id
        WHERE p.Id == @__idPerfil_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Libro>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-08-30 14:16:32.203 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:16:32.204 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:16:32.204 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:16:32.204 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:16:32.204 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:16:32.204 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-08-30 14:16:32.210 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-08-30 14:16:32.212 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:16:32.212 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-08-30 14:16:32.212 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:16:32.212 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:16:32.215 -05:00 [DBG] Consultando perfil con id 40
2024-08-30 14:16:32.218 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:16:32.219 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:16:32.219 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:16:32.219 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:16:32.219 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:16:32.219 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-08-30 14:16:32.220 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-08-30 14:16:32.220 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:16:32.220 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:16:32.220 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:16:32.220 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:16:32.220 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:16:32.221 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:16:32.223 -05:00 [INF] Perfil encontrado con id: 40
2024-08-30 14:16:32.225 -05:00 [DBG] Consultando libros del préstamo del perfil con id 40
2024-08-30 14:16:32.229 -05:00 [INF] Libros encontrados exitosamente
2024-08-30 14:16:32.231 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:16:32.231 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:16:32.231 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:16:32.231 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:16:32.232 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:16:32.232 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-08-30 14:16:32.233 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-08-30 14:16:32.233 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:16:32.233 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:16:32.233 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:16:32.234 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:16:32.236 -05:00 [DBG] Consultando perfil con id 31
2024-08-30 14:16:32.237 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:16:32.237 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:16:32.237 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:16:32.237 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:16:32.237 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:16:32.237 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-08-30 14:16:32.238 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-08-30 14:16:32.239 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:16:32.239 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:16:32.239 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:16:32.239 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:16:32.239 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:16:32.239 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:16:32.243 -05:00 [INF] Perfil encontrado con id: 31
2024-08-30 14:16:32.248 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-08-30 14:16:32.252 -05:00 [INF] Libros encontrados exitosamente
2024-08-30 14:16:32.253 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:16:32.253 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:16:32.253 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:16:32.253 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:16:32.253 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:16:32.254 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-08-30 14:16:32.254 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-08-30 14:16:32.254 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:16:32.255 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:16:32.255 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:16:32.255 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:16:32.255 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 220.8044ms.
2024-08-30 14:16:32.255 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:16:32.255 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:16:32.255 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:16:32.255 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:16:32.255 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:16:32.256 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.DTOs.ConsultaPrestamoModel, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:16:32.270 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) in 271.8069ms
2024-08-30 14:16:32.270 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-08-30 14:16:32.270 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:16:32.270 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:16:32.270 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:16:32.271 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 200 null application/json; charset=utf-8 282.9185ms
2024-08-30 14:17:07.507 -05:00 [DBG] Connection id "0HN6950DQ4TLR" accepted.
2024-08-30 14:17:07.507 -05:00 [DBG] Connection id "0HN6950DQ4TLR" started.
2024-08-30 14:17:07.530 -05:00 [DBG] Connection 0HN6950DQ4TLR established using the following protocol: "Tls12"
2024-08-30 14:17:07.531 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - null null
2024-08-30 14:17:07.532 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-08-30 14:17:07.532 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:17:07.532 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:17:07.532 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:17:07.532 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:17:07.532 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:17:07.533 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - 204 null null 2.0656ms
2024-08-30 14:17:07.547 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Perfiles/ - application/json 60
2024-08-30 14:17:07.548 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-08-30 14:17:07.551 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-08-30 14:17:07.551 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-08-30 14:17:07.551 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:17:07.551 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:17:07.551 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:17:07.551 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-30 14:17:07.552 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-08-30 14:17:07.554 -05:00 [INF] Route matched with {action = "Post", controller = "Perfiles"}. Executing controller action with signature System.Object Post(biblioteca_backend.Models.DTOs.LogInModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-08-30 14:17:07.554 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:17:07.554 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:17:07.554 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:17:07.554 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:17:07.554 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:17:07.554 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-08-30 14:17:07.555 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-08-30 14:17:07.555 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-08-30 14:17:07.556 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' using the name '' in request data ...
2024-08-30 14:17:07.557 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-08-30 14:17:07.563 -05:00 [DBG] Connection id "0HN6950DQ4TLR", Request id "0HN6950DQ4TLR:00000003": started reading request body.
2024-08-30 14:17:07.564 -05:00 [DBG] Connection id "0HN6950DQ4TLR", Request id "0HN6950DQ4TLR:00000003": done reading request body.
2024-08-30 14:17:07.568 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.LogInModel'
2024-08-30 14:17:07.568 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-08-30 14:17:07.568 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-08-30 14:17:07.568 -05:00 [DBG] Attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-08-30 14:17:07.574 -05:00 [DBG] Done attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-08-30 14:17:07.601 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:17:09.709 -05:00 [DBG] Iniciando sesión...
2024-08-30 14:17:09.713 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:17:09.714 -05:00 [DBG] Compiling query expression: 
'DbSet<Perfil>()
    .FirstOrDefault(p => p.Correo == __8__locals1_logInModel_Correo_0 && p.Contrasena == __claveCifrada_1)'
2024-08-30 14:17:09.718 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Perfil>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Perfil.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Perfil.Apellido (string) Required, 1], [Property: Perfil.Contrasena (string) Required, 2], [Property: Perfil.Correo (string) Required, 3], [Property: Perfil.Direccion (string) Required, 4], [Property: Perfil.IdRol (int) Required FK Index, 5], [Property: Perfil.Nombre (string) Required, 6], [Property: Perfil.Telefono (string) Required, 7] }
        SELECT TOP(1) p.Id, p.Apellido, p.Contrasena, p.Correo, p.Direccion, p.IdRol, p.Nombre, p.Telefono
        FROM Perfil AS p
        WHERE (p.Correo == @__8__locals1_logInModel_Correo_0) && (p.Contrasena == @__claveCifrada_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Perfil>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-08-30 14:17:09.721 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:17:09.721 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:17:09.721 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:09.721 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:09.721 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:17:09.721 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:17:09.722 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:17:09.722 -05:00 [DBG] Executing DbCommand [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-08-30 14:17:09.725 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-08-30 14:17:09.725 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:17:09.725 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:09.726 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:17:09.726 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:09.726 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:17:09.727 -05:00 [DBG] Compiling query expression: 
'DbSet<Rol>()
    .FirstOrDefault(r => r.Id == ___perfil_IdRol_0)'
2024-08-30 14:17:09.731 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Rol>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Rol.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Rol.Nombre (string) Required, 1] }
        SELECT TOP(1) r.Id, r.Nombre
        FROM Rol AS r
        WHERE r.Id == @___perfil_IdRol_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Rol>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-08-30 14:17:09.732 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:09.732 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:09.732 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:17:09.732 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:17:09.732 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:17:09.733 -05:00 [DBG] Executing DbCommand [Parameters=[@___perfil_IdRol_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Nombre]
FROM [Rol] AS [r]
WHERE [r].[Id] = @___perfil_IdRol_0
2024-08-30 14:17:09.734 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@___perfil_IdRol_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Nombre]
FROM [Rol] AS [r]
WHERE [r].[Id] = @___perfil_IdRol_0
2024-08-30 14:17:09.737 -05:00 [DBG] The navigation 'Perfil.Rol' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:17:09.740 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Rol' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:17:09.744 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:09.744 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 10ms reading results.
2024-08-30 14:17:09.744 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:09.745 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:17:09.757 -05:00 [INF] Inicio de sesión exitoso
2024-08-30 14:17:09.760 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2158.9888ms.
2024-08-30 14:17:09.760 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:17:09.761 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:17:09.761 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:17:09.761 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:17:09.761 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:17:09.761 -05:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-30 14:17:09.763 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) in 2209.1166ms
2024-08-30 14:17:09.763 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-08-30 14:17:09.763 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:17:09.763 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:09.764 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:17:09.764 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Perfiles/ - 200 null application/json; charset=utf-8 2226.068ms
2024-08-30 14:17:09.790 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-08-30 14:17:09.790 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:17:09.791 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:17:09.791 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:17:09.791 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:17:09.791 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:17:09.791 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:17:09.791 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - 204 null null 1.3028ms
2024-08-30 14:17:09.794 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-08-30 14:17:09.795 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:17:09.795 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 14:17:09.795 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:17:09.795 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:17:09.795 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:17:09.795 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:17:09.795 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:17:09.795 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:17:09.795 -05:00 [DBG] Authorization was successful.
2024-08-30 14:17:09.795 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:17:09.796 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 14:17:09.796 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:17:09.796 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:17:09.796 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:17:09.796 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:17:09.796 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:17:09.796 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:17:09.796 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:17:09.796 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:17:09.796 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-08-30 14:17:09.796 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:17:09.796 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:17:09.796 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:17:09.796 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:17:09.823 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:17:09.826 -05:00 [DBG] Consultando libros...
2024-08-30 14:17:09.827 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:17:09.827 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:17:09.827 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:17:09.828 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:09.828 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:09.828 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:17:09.828 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:17:09.828 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:17:09.828 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Stock] > 0
2024-08-30 14:17:09.831 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Stock] > 0
2024-08-30 14:17:09.832 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:09.832 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:17:09.832 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:09.832 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:17:09.835 -05:00 [INF] Consulta de libros exitosa
2024-08-30 14:17:09.835 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 11.3142ms.
2024-08-30 14:17:09.835 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:17:09.835 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:17:09.835 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:17:09.835 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:17:09.835 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:17:09.835 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:17:09.835 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 39.4462ms
2024-08-30 14:17:09.835 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:17:09.835 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:17:09.835 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:09.836 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:17:09.836 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 41.6659ms
2024-08-30 14:17:17.440 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=34 - null null
2024-08-30 14:17:17.440 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-08-30 14:17:17.440 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:17:17.440 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:17:17.441 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:17:17.441 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:17:17.441 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:17:17.441 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=34 - 204 null null 0.9526ms
2024-08-30 14:17:17.446 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=34 - null null
2024-08-30 14:17:17.446 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-08-30 14:17:17.446 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-08-30 14:17:17.446 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-08-30 14:17:17.447 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:17:17.447 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:17:17.447 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:17:17.447 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:17:17.447 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:17:17.448 -05:00 [DBG] Authorization was successful.
2024-08-30 14:17:17.448 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-08-30 14:17:17.451 -05:00 [INF] Route matched with {action = "Get", controller = "Prestmaos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-08-30 14:17:17.451 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:17:17.451 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:17:17.452 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:17:17.452 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:17:17.452 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:17:17.453 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-08-30 14:17:17.453 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-08-30 14:17:17.453 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-08-30 14:17:17.453 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-08-30 14:17:17.454 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-08-30 14:17:17.454 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-08-30 14:17:17.454 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-08-30 14:17:17.454 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-08-30 14:17:17.485 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:17:17.487 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-08-30 14:17:17.488 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:17:17.494 -05:00 [INF] Libros encontrados exitosamente
2024-08-30 14:17:17.494 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:17:17.495 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:17:17.495 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:17.495 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:17.495 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:17:17.495 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:17:17.495 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:17:17.495 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-08-30 14:17:17.501 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-08-30 14:17:17.501 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:17.501 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:17:17.501 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:17.501 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:17:17.501 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.5412ms.
2024-08-30 14:17:17.501 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:17:17.501 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:17:17.501 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:17:17.502 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:17:17.502 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:17:17.502 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Collections.Generic.List`1[[biblioteca_backend.Models.Libro, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-30 14:17:17.503 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) in 50.1694ms
2024-08-30 14:17:17.503 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-08-30 14:17:17.503 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:17:17.503 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:17.503 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:17:17.503 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=34 - 200 null application/json; charset=utf-8 57.1721ms
2024-08-30 14:17:18.588 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=34 - null null
2024-08-30 14:17:18.588 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-08-30 14:17:18.588 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:17:18.588 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:17:18.588 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:17:18.588 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:17:18.588 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:17:18.589 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=34 - 204 null null 1.0024ms
2024-08-30 14:17:18.591 -05:00 [INF] Request starting HTTP/2 DELETE https://localhost:7299/api/Prestmaos/?idPerfil=34 - null null
2024-08-30 14:17:18.592 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-08-30 14:17:18.592 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-08-30 14:17:18.592 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend)'
2024-08-30 14:17:18.592 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:17:18.592 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:17:18.592 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:17:18.592 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:17:18.593 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:17:18.593 -05:00 [DBG] Authorization was successful.
2024-08-30 14:17:18.593 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend)'
2024-08-30 14:17:18.596 -05:00 [INF] Route matched with {action = "EliminarPrestamo", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EliminarPrestamo(Int32) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-08-30 14:17:18.597 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:17:18.597 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:17:18.597 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:17:18.597 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:17:18.597 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:17:18.597 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-08-30 14:17:18.598 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-08-30 14:17:18.598 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-08-30 14:17:18.598 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-08-30 14:17:18.598 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-08-30 14:17:18.598 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-08-30 14:17:18.599 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-08-30 14:17:18.599 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-08-30 14:17:18.625 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:17:18.633 -05:00 [DBG] Eliminando préstamo del perfil con id 34
2024-08-30 14:17:18.635 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-08-30 14:17:18.635 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:17:18.637 -05:00 [INF] Libros encontrados exitosamente
2024-08-30 14:17:18.638 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:17:18.638 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:17:18.638 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:18.638 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:18.638 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:17:18.638 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:17:18.638 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:17:18.638 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-08-30 14:17:18.639 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-08-30 14:17:18.639 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:18.639 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:17:18.639 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:18.639 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:17:18.641 -05:00 [DBG] Compiling query expression: 
'DbSet<Prestamo>()
    .FirstOrDefault(p => p.IdPerfil == __idPerfil_0)'
2024-08-30 14:17:18.647 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Prestamo>(
    asyncEnumerable: new SingleQueryingEnumerable<Prestamo>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Prestamo.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Prestamo.FechaPrestamo (DateTime) Required, 1], [Property: Prestamo.IdPerfil (int) Required FK Index, 2] }
            SELECT TOP(1) p.Id, p.FechaPrestamo, p.IdPerfil
            FROM Prestamo AS p
            WHERE p.IdPerfil == @__idPerfil_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Prestamo>, 
        biblioteca_backend.DBBibliotecaContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-30 14:17:18.648 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:18.648 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:18.648 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:17:18.648 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:17:18.648 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:17:18.648 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
WHERE [p].[IdPerfil] = @__idPerfil_0
2024-08-30 14:17:18.653 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
WHERE [p].[IdPerfil] = @__idPerfil_0
2024-08-30 14:17:18.653 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:17:18.654 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:18.654 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-08-30 14:17:18.654 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:18.654 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:17:18.655 -05:00 [DBG] Compiling query expression: 
'DbSet<DetallePrestamoLibro>()
    .Where(d => d.IdPrestamo == __prestamo_Id_0)'
2024-08-30 14:17:18.660 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<DetallePrestamoLibro>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: DetallePrestamoLibro.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: DetallePrestamoLibro.IdLibro (int) Required FK Index, 1], [Property: DetallePrestamoLibro.IdPrestamo (int) Required FK Index, 2] }
        SELECT d.Id, d.IdLibro, d.IdPrestamo
        FROM DetallePrestamoLibro AS d
        WHERE d.IdPrestamo == @__prestamo_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, DetallePrestamoLibro>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-08-30 14:17:18.662 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:18.662 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:18.662 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:17:18.662 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:17:18.662 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:17:18.662 -05:00 [DBG] Executing DbCommand [Parameters=[@__prestamo_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[IdLibro], [d].[IdPrestamo]
FROM [DetallePrestamoLibro] AS [d]
WHERE [d].[IdPrestamo] = @__prestamo_Id_0
2024-08-30 14:17:18.666 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__prestamo_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[IdLibro], [d].[IdPrestamo]
FROM [DetallePrestamoLibro] AS [d]
WHERE [d].[IdPrestamo] = @__prestamo_Id_0
2024-08-30 14:17:18.672 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'DetallePrestamoLibro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:17:18.673 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'DetallePrestamoLibro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:17:18.673 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'DetallePrestamoLibro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:17:18.673 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:18.673 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 7ms reading results.
2024-08-30 14:17:18.674 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:18.674 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:17:18.686 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:17:18.687 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:17:18.687 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:17:18.690 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:17:18.694 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:17:18.712 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-08-30 14:17:18.803 -05:00 [DBG] Executing 3 update commands as a batch.
2024-08-30 14:17:18.810 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:18.810 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:18.812 -05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-30 14:17:18.821 -05:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-08-30 14:17:18.824 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:17:18.824 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:17:18.826 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-08-30 14:17:18.826 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p1;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p2;
2024-08-30 14:17:18.832 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p1;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p2;
2024-08-30 14:17:18.839 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:18.839 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 6ms reading results.
2024-08-30 14:17:18.843 -05:00 [DBG] Committing transaction.
2024-08-30 14:17:18.847 -05:00 [DBG] Committed transaction.
2024-08-30 14:17:18.850 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:18.850 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:17:18.852 -05:00 [DBG] Disposing transaction.
2024-08-30 14:17:18.858 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:17:18.858 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:17:18.858 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:17:18.860 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 3 entities written to the database.
2024-08-30 14:17:18.861 -05:00 [DBG] An entity of type 'Prestamo' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:17:18.863 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:17:18.864 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:17:18.864 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-08-30 14:17:18.867 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:18.867 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:18.867 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:17:18.867 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:17:18.867 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:17:18.867 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Prestamo]
OUTPUT 1
WHERE [Id] = @p0;
2024-08-30 14:17:18.874 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Prestamo]
OUTPUT 1
WHERE [Id] = @p0;
2024-08-30 14:17:18.874 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:18.874 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:17:18.874 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:18.874 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:17:18.875 -05:00 [DBG] An entity of type 'Prestamo' tracked by 'DBBibliotecaContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:17:18.875 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-08-30 14:17:18.897 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:17:18.898 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:17:18.898 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:17:18.899 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-08-30 14:17:18.914 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:18.915 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:18.915 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:17:18.915 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:17:18.915 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:17:18.915 -05:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Stock] = @p4, [Titulo] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-08-30 14:17:18.919 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Stock] = @p4, [Titulo] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-08-30 14:17:18.921 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:18.921 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-08-30 14:17:18.921 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:18.921 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:17:18.922 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:17:18.922 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-08-30 14:17:18.923 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:17:18.923 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:17:18.923 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:17:18.927 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-08-30 14:17:18.929 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:18.929 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:18.929 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:17:18.930 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:17:18.930 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:17:18.930 -05:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Stock] = @p4, [Titulo] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-08-30 14:17:18.931 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Stock] = @p4, [Titulo] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-08-30 14:17:18.931 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:18.931 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:17:18.931 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:18.931 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:17:18.931 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:17:18.931 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-08-30 14:17:18.932 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:17:18.932 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:17:18.932 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:17:18.932 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-08-30 14:17:18.932 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:18.933 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:18.933 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:17:18.933 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:17:18.933 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:17:18.933 -05:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Stock] = @p4, [Titulo] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-08-30 14:17:18.934 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Stock] = @p4, [Titulo] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-08-30 14:17:18.934 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:18.934 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:17:18.935 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:18.935 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:17:18.935 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:17:18.935 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-08-30 14:17:18.938 -05:00 [INF] Se eliminó el préstamo del perfil con id 34
2024-08-30 14:17:18.939 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 313.8355ms.
2024-08-30 14:17:18.939 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:17:18.939 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:17:18.939 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:17:18.939 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:17:18.939 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:17:18.939 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType10`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-30 14:17:18.941 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend) in 343.5713ms
2024-08-30 14:17:18.941 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend)'
2024-08-30 14:17:18.941 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:17:18.941 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:18.941 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:17:18.942 -05:00 [INF] Request finished HTTP/2 DELETE https://localhost:7299/api/Prestmaos/?idPerfil=34 - 200 null application/json; charset=utf-8 351.0129ms
2024-08-30 14:17:18.961 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=34 - null null
2024-08-30 14:17:18.961 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-08-30 14:17:18.961 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-08-30 14:17:18.961 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-08-30 14:17:18.961 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:17:18.961 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:17:18.961 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:17:18.962 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:17:18.962 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:17:18.962 -05:00 [DBG] Authorization was successful.
2024-08-30 14:17:18.962 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-08-30 14:17:18.962 -05:00 [INF] Route matched with {action = "Get", controller = "Prestmaos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-08-30 14:17:18.962 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:17:18.962 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:17:18.963 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:17:18.963 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:17:18.963 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:17:18.963 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-08-30 14:17:18.963 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-08-30 14:17:18.963 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-08-30 14:17:18.963 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-08-30 14:17:18.964 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-08-30 14:17:18.964 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-08-30 14:17:18.964 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-08-30 14:17:18.964 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-08-30 14:17:19.008 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:17:19.012 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-08-30 14:17:19.012 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:17:19.015 -05:00 [INF] Libros encontrados exitosamente
2024-08-30 14:17:19.015 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:17:19.015 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:17:19.015 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:19.015 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:19.015 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:17:19.015 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:17:19.015 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:17:19.016 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-08-30 14:17:19.016 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-08-30 14:17:19.016 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:19.016 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:17:19.016 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:19.017 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:17:19.017 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 7.2857ms.
2024-08-30 14:17:19.017 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:17:19.017 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:17:19.017 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:17:19.017 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:17:19.017 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:17:19.017 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Collections.Generic.List`1[[biblioteca_backend.Models.Libro, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-30 14:17:19.017 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) in 54.6242ms
2024-08-30 14:17:19.018 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-08-30 14:17:19.018 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:17:19.018 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:19.018 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:17:19.018 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=34 - 200 null application/json; charset=utf-8 57.7725ms
2024-08-30 14:17:36.812 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-08-30 14:17:36.812 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-08-30 14:17:36.812 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:17:36.813 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:17:36.813 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:17:36.813 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:17:36.813 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:17:36.813 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 204 null null 0.8063ms
2024-08-30 14:17:36.832 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-08-30 14:17:36.832 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-08-30 14:17:36.832 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)' with route pattern 'api/Prestmaos/ConsultarPrestamos' is valid for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-08-30 14:17:36.833 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-08-30 14:17:36.833 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:17:36.833 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:17:36.833 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:17:36.833 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:17:36.833 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:17:36.833 -05:00 [DBG] Authorization was successful.
2024-08-30 14:17:36.834 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-08-30 14:17:36.834 -05:00 [INF] Route matched with {action = "ConsultarPrestamos", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsultarPrestamos() on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-08-30 14:17:36.834 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:17:36.834 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:17:36.834 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:17:36.834 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:17:36.834 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:17:36.834 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-08-30 14:17:36.835 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-08-30 14:17:36.905 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:17:36.906 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:17:36.907 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:17:36.907 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:17:36.908 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:36.909 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:36.910 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:17:36.910 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:17:36.910 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:17:36.911 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-08-30 14:17:36.914 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-08-30 14:17:36.914 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:17:36.915 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:17:36.915 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:36.915 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-08-30 14:17:36.915 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:36.915 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:17:36.919 -05:00 [DBG] Consultando perfil con id 40
2024-08-30 14:17:36.919 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:36.920 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:36.920 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:17:36.920 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:17:36.920 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:17:36.920 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-08-30 14:17:36.922 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-08-30 14:17:36.922 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:17:36.923 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:17:36.923 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:36.923 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:17:36.923 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:36.923 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:17:36.929 -05:00 [INF] Perfil encontrado con id: 40
2024-08-30 14:17:36.932 -05:00 [DBG] Consultando libros del préstamo del perfil con id 40
2024-08-30 14:17:36.935 -05:00 [INF] Libros encontrados exitosamente
2024-08-30 14:17:36.936 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:36.936 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:36.936 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:17:36.936 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:17:36.936 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:17:36.936 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-08-30 14:17:36.937 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-08-30 14:17:36.937 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:36.937 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:17:36.937 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:36.937 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:17:36.943 -05:00 [DBG] Consultando perfil con id 31
2024-08-30 14:17:36.943 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:36.944 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:36.944 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:17:36.944 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:17:36.944 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:17:36.944 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-08-30 14:17:36.945 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-08-30 14:17:36.945 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:17:36.945 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:17:36.945 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:36.945 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:17:36.945 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:36.945 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:17:36.948 -05:00 [INF] Perfil encontrado con id: 31
2024-08-30 14:17:36.952 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-08-30 14:17:36.955 -05:00 [INF] Libros encontrados exitosamente
2024-08-30 14:17:36.955 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:36.956 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:36.956 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:17:36.956 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:17:36.956 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:17:36.956 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-08-30 14:17:36.960 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-08-30 14:17:36.960 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:36.961 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:17:36.961 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:36.961 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:17:36.961 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 55.8739ms.
2024-08-30 14:17:36.962 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:17:36.962 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:17:36.962 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:17:36.962 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:17:36.962 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:17:36.962 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.DTOs.ConsultaPrestamoModel, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:17:36.962 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) in 128.254ms
2024-08-30 14:17:36.962 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-08-30 14:17:36.963 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:17:36.963 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:17:36.963 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:17:36.963 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 200 null application/json; charset=utf-8 130.9521ms
2024-08-30 14:18:02.028 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - null null
2024-08-30 14:18:02.028 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-08-30 14:18:02.028 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:18:02.028 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:18:02.028 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:18:02.028 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:18:02.028 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:18:02.029 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - 204 null null 1.3032ms
2024-08-30 14:18:02.033 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Perfiles/ - application/json 63
2024-08-30 14:18:02.033 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-08-30 14:18:02.034 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-08-30 14:18:02.034 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-08-30 14:18:02.034 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:18:02.034 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:18:02.034 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:18:02.034 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-08-30 14:18:02.034 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-08-30 14:18:02.034 -05:00 [INF] Route matched with {action = "Post", controller = "Perfiles"}. Executing controller action with signature System.Object Post(biblioteca_backend.Models.DTOs.LogInModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-08-30 14:18:02.035 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:18:02.035 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:18:02.035 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:18:02.035 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:18:02.035 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:18:02.035 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-08-30 14:18:02.035 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-08-30 14:18:02.036 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-08-30 14:18:02.037 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' using the name '' in request data ...
2024-08-30 14:18:02.037 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-08-30 14:18:02.038 -05:00 [DBG] Connection id "0HN6950DQ4TLR", Request id "0HN6950DQ4TLR:00000015": started reading request body.
2024-08-30 14:18:02.038 -05:00 [DBG] Connection id "0HN6950DQ4TLR", Request id "0HN6950DQ4TLR:00000015": done reading request body.
2024-08-30 14:18:02.038 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.LogInModel'
2024-08-30 14:18:02.038 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-08-30 14:18:02.038 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-08-30 14:18:02.038 -05:00 [DBG] Attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-08-30 14:18:02.041 -05:00 [DBG] Done attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-08-30 14:18:02.070 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:18:03.787 -05:00 [DBG] Iniciando sesión...
2024-08-30 14:18:03.788 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:18:03.790 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:18:03.790 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:18:03.790 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:03.790 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:03.790 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:18:03.791 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:03.791 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:03.791 -05:00 [DBG] Executing DbCommand [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-08-30 14:18:03.797 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-08-30 14:18:03.797 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:18:03.797 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:03.797 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:18:03.797 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:03.797 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:18:03.798 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:03.798 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:03.798 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:18:03.798 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:03.798 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:03.799 -05:00 [DBG] Executing DbCommand [Parameters=[@___perfil_IdRol_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Nombre]
FROM [Rol] AS [r]
WHERE [r].[Id] = @___perfil_IdRol_0
2024-08-30 14:18:03.801 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@___perfil_IdRol_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Nombre]
FROM [Rol] AS [r]
WHERE [r].[Id] = @___perfil_IdRol_0
2024-08-30 14:18:03.801 -05:00 [DBG] The navigation 'Perfil.Rol' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:18:03.801 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Rol' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:18:03.801 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:03.801 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:18:03.801 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:03.801 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:18:03.804 -05:00 [INF] Inicio de sesión exitoso
2024-08-30 14:18:03.804 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1733.9853ms.
2024-08-30 14:18:03.805 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:18:03.805 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:18:03.805 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:18:03.805 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:18:03.805 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:18:03.805 -05:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-30 14:18:03.805 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) in 1770.1598ms
2024-08-30 14:18:03.805 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-08-30 14:18:03.805 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:18:03.805 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:03.805 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:18:03.806 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Perfiles/ - 200 null application/json; charset=utf-8 1772.8129ms
2024-08-30 14:18:03.831 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-08-30 14:18:03.832 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:18:03.832 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:18:03.832 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:18:03.832 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:18:03.832 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:18:03.833 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:18:03.833 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - 204 null null 1.6158ms
2024-08-30 14:18:03.838 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-08-30 14:18:03.838 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:18:03.838 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 14:18:03.838 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:18:03.838 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:18:03.838 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:18:03.838 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:18:03.839 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:18:03.839 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:18:03.839 -05:00 [DBG] Authorization was successful.
2024-08-30 14:18:03.839 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:18:03.840 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 14:18:03.840 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:18:03.840 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:18:03.840 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:18:03.840 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:18:03.840 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:18:03.840 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:18:03.841 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:18:03.841 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:18:03.841 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-08-30 14:18:03.841 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:18:03.841 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:18:03.841 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:18:03.841 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:18:03.883 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:18:03.886 -05:00 [DBG] Consultando libros...
2024-08-30 14:18:03.887 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:18:03.887 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:18:03.888 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:18:03.888 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:03.888 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:03.888 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:18:03.888 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:03.888 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:03.888 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Stock] > 0
2024-08-30 14:18:03.894 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Stock] > 0
2024-08-30 14:18:03.894 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:03.894 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:18:03.894 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:03.894 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:18:03.897 -05:00 [INF] Consulta de libros exitosa
2024-08-30 14:18:03.897 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 13.609ms.
2024-08-30 14:18:03.897 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:18:03.897 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:18:03.897 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:18:03.897 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:18:03.897 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:18:03.897 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:18:03.898 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 57.289ms
2024-08-30 14:18:03.898 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:18:03.898 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:18:03.898 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:03.898 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:18:03.898 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 60.76ms
2024-08-30 14:18:08.394 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=40 - null null
2024-08-30 14:18:08.394 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-08-30 14:18:08.394 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:18:08.395 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:18:08.395 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:18:08.395 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:18:08.395 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:18:08.396 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=40 - 204 null null 1.6753ms
2024-08-30 14:18:08.399 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=40 - null null
2024-08-30 14:18:08.400 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-08-30 14:18:08.400 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-08-30 14:18:08.400 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-08-30 14:18:08.400 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:18:08.400 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:18:08.400 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:18:08.400 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:18:08.400 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:18:08.400 -05:00 [DBG] Authorization was successful.
2024-08-30 14:18:08.401 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-08-30 14:18:08.401 -05:00 [INF] Route matched with {action = "Get", controller = "Prestmaos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-08-30 14:18:08.401 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:18:08.401 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:18:08.401 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:18:08.401 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:18:08.401 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:18:08.401 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-08-30 14:18:08.402 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-08-30 14:18:08.403 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-08-30 14:18:08.403 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-08-30 14:18:08.403 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-08-30 14:18:08.403 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-08-30 14:18:08.403 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-08-30 14:18:08.403 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-08-30 14:18:08.430 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:18:08.432 -05:00 [DBG] Consultando libros del préstamo del perfil con id 40
2024-08-30 14:18:08.433 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:18:08.436 -05:00 [INF] Libros encontrados exitosamente
2024-08-30 14:18:08.437 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:18:08.437 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:18:08.437 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:08.437 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:08.437 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:18:08.437 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:08.437 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:08.437 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-08-30 14:18:08.444 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-08-30 14:18:08.444 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:08.445 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:18:08.445 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:08.445 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:18:08.445 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 14.4382ms.
2024-08-30 14:18:08.445 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:18:08.445 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:18:08.445 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:18:08.445 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:18:08.445 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:18:08.445 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Collections.Generic.List`1[[biblioteca_backend.Models.Libro, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-30 14:18:08.445 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) in 44.1614ms
2024-08-30 14:18:08.445 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-08-30 14:18:08.445 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:18:08.446 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:08.446 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:18:08.446 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=40 - 200 null application/json; charset=utf-8 46.3644ms
2024-08-30 14:18:09.429 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=40 - null null
2024-08-30 14:18:09.429 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-08-30 14:18:09.429 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:18:09.429 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:18:09.429 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:18:09.429 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:18:09.429 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:18:09.429 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=40 - 204 null null 0.8862ms
2024-08-30 14:18:09.431 -05:00 [INF] Request starting HTTP/2 DELETE https://localhost:7299/api/Prestmaos/?idPerfil=40 - null null
2024-08-30 14:18:09.431 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-08-30 14:18:09.431 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-08-30 14:18:09.431 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend)'
2024-08-30 14:18:09.432 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:18:09.432 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:18:09.432 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:18:09.432 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:18:09.432 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:18:09.432 -05:00 [DBG] Authorization was successful.
2024-08-30 14:18:09.432 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend)'
2024-08-30 14:18:09.432 -05:00 [INF] Route matched with {action = "EliminarPrestamo", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EliminarPrestamo(Int32) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-08-30 14:18:09.432 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:18:09.433 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:18:09.433 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:18:09.433 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:18:09.433 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:18:09.433 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-08-30 14:18:09.433 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-08-30 14:18:09.433 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-08-30 14:18:09.433 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-08-30 14:18:09.433 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-08-30 14:18:09.433 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-08-30 14:18:09.433 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-08-30 14:18:09.433 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-08-30 14:18:09.466 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:18:09.469 -05:00 [DBG] Eliminando préstamo del perfil con id 40
2024-08-30 14:18:09.476 -05:00 [DBG] Consultando libros del préstamo del perfil con id 40
2024-08-30 14:18:09.477 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:18:09.483 -05:00 [INF] Libros encontrados exitosamente
2024-08-30 14:18:09.484 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:18:09.484 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:18:09.484 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:09.484 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:09.484 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:18:09.484 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:09.484 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:09.485 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-08-30 14:18:09.485 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-08-30 14:18:09.485 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:09.485 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:18:09.485 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:09.485 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:18:09.486 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:09.486 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:09.486 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:18:09.486 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:09.486 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:09.486 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
WHERE [p].[IdPerfil] = @__idPerfil_0
2024-08-30 14:18:09.491 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
WHERE [p].[IdPerfil] = @__idPerfil_0
2024-08-30 14:18:09.491 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:18:09.491 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:09.491 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:18:09.492 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:09.492 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:18:09.492 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:09.493 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:09.493 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:18:09.493 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:09.493 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:09.493 -05:00 [DBG] Executing DbCommand [Parameters=[@__prestamo_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[IdLibro], [d].[IdPrestamo]
FROM [DetallePrestamoLibro] AS [d]
WHERE [d].[IdPrestamo] = @__prestamo_Id_0
2024-08-30 14:18:09.497 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__prestamo_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[IdLibro], [d].[IdPrestamo]
FROM [DetallePrestamoLibro] AS [d]
WHERE [d].[IdPrestamo] = @__prestamo_Id_0
2024-08-30 14:18:09.497 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'DetallePrestamoLibro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:18:09.497 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'DetallePrestamoLibro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:18:09.497 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'DetallePrestamoLibro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:18:09.497 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:09.497 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:18:09.498 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:09.498 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:18:09.498 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:18:09.498 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:18:09.498 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:18:09.498 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:18:09.498 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:18:09.498 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-08-30 14:18:09.498 -05:00 [DBG] Executing 3 update commands as a batch.
2024-08-30 14:18:09.498 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:09.499 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:09.499 -05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-30 14:18:09.499 -05:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-08-30 14:18:09.499 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:18:09.499 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:09.499 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:09.499 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p1;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p2;
2024-08-30 14:18:09.503 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p1;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p2;
2024-08-30 14:18:09.504 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:09.504 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:18:09.504 -05:00 [DBG] Committing transaction.
2024-08-30 14:18:09.505 -05:00 [DBG] Committed transaction.
2024-08-30 14:18:09.505 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:09.505 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:18:09.505 -05:00 [DBG] Disposing transaction.
2024-08-30 14:18:09.505 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:18:09.505 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:18:09.506 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:18:09.506 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 3 entities written to the database.
2024-08-30 14:18:09.506 -05:00 [DBG] An entity of type 'Prestamo' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:18:09.507 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:18:09.507 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:18:09.507 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-08-30 14:18:09.507 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:09.508 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:09.508 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:18:09.508 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:09.508 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:09.508 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Prestamo]
OUTPUT 1
WHERE [Id] = @p0;
2024-08-30 14:18:09.513 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Prestamo]
OUTPUT 1
WHERE [Id] = @p0;
2024-08-30 14:18:09.513 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:09.513 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:18:09.514 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:09.514 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:18:09.514 -05:00 [DBG] An entity of type 'Prestamo' tracked by 'DBBibliotecaContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:18:09.514 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-08-30 14:18:09.514 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:18:09.514 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:18:09.514 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:18:09.514 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-08-30 14:18:09.514 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:09.515 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:09.515 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:18:09.515 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:09.515 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:09.515 -05:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Stock] = @p4, [Titulo] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-08-30 14:18:09.518 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Stock] = @p4, [Titulo] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-08-30 14:18:09.518 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:09.518 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:18:09.518 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:09.518 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:18:09.518 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:18:09.518 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-08-30 14:18:09.518 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:18:09.519 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:18:09.519 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:18:09.519 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-08-30 14:18:09.520 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:09.520 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:09.520 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:18:09.520 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:09.520 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:09.520 -05:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Stock] = @p4, [Titulo] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-08-30 14:18:09.521 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Stock] = @p4, [Titulo] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-08-30 14:18:09.521 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:09.521 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:18:09.521 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:09.521 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:18:09.521 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:18:09.522 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-08-30 14:18:09.522 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:18:09.522 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:18:09.522 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:18:09.522 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-08-30 14:18:09.522 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:09.523 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:09.523 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:18:09.523 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:09.523 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:09.524 -05:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Stock] = @p4, [Titulo] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-08-30 14:18:09.525 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Stock] = @p4, [Titulo] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-08-30 14:18:09.525 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:09.525 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:18:09.525 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:09.525 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:18:09.526 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:18:09.526 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-08-30 14:18:09.531 -05:00 [INF] Se eliminó el préstamo del perfil con id 40
2024-08-30 14:18:09.531 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 64.6825ms.
2024-08-30 14:18:09.531 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:18:09.531 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:18:09.531 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:18:09.531 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:18:09.531 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:18:09.531 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType10`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-30 14:18:09.531 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend) in 98.7945ms
2024-08-30 14:18:09.532 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend)'
2024-08-30 14:18:09.532 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:18:09.532 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:09.532 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:18:09.532 -05:00 [INF] Request finished HTTP/2 DELETE https://localhost:7299/api/Prestmaos/?idPerfil=40 - 200 null application/json; charset=utf-8 101.3822ms
2024-08-30 14:18:09.537 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=40 - null null
2024-08-30 14:18:09.537 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-08-30 14:18:09.537 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-08-30 14:18:09.537 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-08-30 14:18:09.537 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:18:09.537 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:18:09.537 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:18:09.538 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:18:09.538 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:18:09.538 -05:00 [DBG] Authorization was successful.
2024-08-30 14:18:09.538 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-08-30 14:18:09.538 -05:00 [INF] Route matched with {action = "Get", controller = "Prestmaos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-08-30 14:18:09.538 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:18:09.538 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:18:09.538 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:18:09.538 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:18:09.538 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:18:09.538 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-08-30 14:18:09.538 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-08-30 14:18:09.539 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-08-30 14:18:09.539 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-08-30 14:18:09.539 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-08-30 14:18:09.539 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-08-30 14:18:09.539 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-08-30 14:18:09.539 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-08-30 14:18:09.587 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:18:09.593 -05:00 [DBG] Consultando libros del préstamo del perfil con id 40
2024-08-30 14:18:09.594 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:18:09.596 -05:00 [INF] Libros encontrados exitosamente
2024-08-30 14:18:09.596 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:18:09.596 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:18:09.596 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:09.596 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:09.597 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:18:09.597 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:09.597 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:09.597 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-08-30 14:18:09.597 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-08-30 14:18:09.597 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:09.597 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:18:09.597 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:09.597 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:18:09.598 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 10.6ms.
2024-08-30 14:18:09.598 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:18:09.598 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:18:09.598 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:18:09.598 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:18:09.598 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:18:09.598 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Collections.Generic.List`1[[biblioteca_backend.Models.Libro, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-30 14:18:09.598 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) in 59.686ms
2024-08-30 14:18:09.598 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-08-30 14:18:09.598 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:18:09.598 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:09.598 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:18:09.598 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=40 - 200 null application/json; charset=utf-8 61.5596ms
2024-08-30 14:18:15.996 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-08-30 14:18:15.996 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-08-30 14:18:15.996 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:18:15.997 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:18:15.997 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:18:15.997 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:18:15.997 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:18:15.997 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 204 null null 0.7547ms
2024-08-30 14:18:16.019 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-08-30 14:18:16.020 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-08-30 14:18:16.020 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)' with route pattern 'api/Prestmaos/ConsultarPrestamos' is valid for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-08-30 14:18:16.020 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-08-30 14:18:16.020 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:18:16.020 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:18:16.020 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:18:16.021 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:18:16.021 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:18:16.021 -05:00 [DBG] Authorization was successful.
2024-08-30 14:18:16.022 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-08-30 14:18:16.023 -05:00 [INF] Route matched with {action = "ConsultarPrestamos", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsultarPrestamos() on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-08-30 14:18:16.023 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:18:16.024 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:18:16.024 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:18:16.024 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:18:16.024 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:18:16.024 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-08-30 14:18:16.024 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-08-30 14:18:16.076 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:18:16.080 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:18:16.080 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:18:16.080 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:18:16.081 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:16.081 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:16.081 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:18:16.081 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:16.081 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:16.081 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-08-30 14:18:16.100 -05:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-08-30 14:18:16.100 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:18:16.100 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:16.101 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:18:16.101 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:16.101 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:18:16.103 -05:00 [DBG] Consultando perfil con id 31
2024-08-30 14:18:16.103 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:16.103 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:16.104 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:18:16.104 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:16.104 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:16.104 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-08-30 14:18:16.110 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-08-30 14:18:16.110 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:18:16.110 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:18:16.110 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:16.110 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:18:16.110 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:16.110 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:18:16.113 -05:00 [INF] Perfil encontrado con id: 31
2024-08-30 14:18:16.115 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-08-30 14:18:16.117 -05:00 [INF] Libros encontrados exitosamente
2024-08-30 14:18:16.118 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:16.118 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:16.118 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:18:16.118 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:16.118 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:16.118 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-08-30 14:18:16.119 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-08-30 14:18:16.119 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:16.119 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:18:16.119 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:16.119 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:18:16.119 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 42.3419ms.
2024-08-30 14:18:16.119 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:18:16.119 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:18:16.119 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:18:16.119 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:18:16.119 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:18:16.119 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.DTOs.ConsultaPrestamoModel, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:18:16.120 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) in 95.8488ms
2024-08-30 14:18:16.120 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-08-30 14:18:16.120 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:18:16.120 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:16.120 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:18:16.120 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 200 null application/json; charset=utf-8 101.0124ms
2024-08-30 14:18:24.502 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=31 - null null
2024-08-30 14:18:24.503 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-08-30 14:18:24.503 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:18:24.503 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:18:24.503 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:18:24.503 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:18:24.503 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:18:24.503 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=31 - 204 null null 1.0138ms
2024-08-30 14:18:24.507 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=31 - null null
2024-08-30 14:18:24.507 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-08-30 14:18:24.508 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-08-30 14:18:24.508 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-08-30 14:18:24.508 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:18:24.508 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:18:24.508 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:18:24.508 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:18:24.508 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:18:24.508 -05:00 [DBG] Authorization was successful.
2024-08-30 14:18:24.509 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-08-30 14:18:24.509 -05:00 [INF] Route matched with {action = "Get", controller = "Prestmaos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-08-30 14:18:24.509 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:18:24.509 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:18:24.509 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:18:24.509 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:18:24.509 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:18:24.509 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-08-30 14:18:24.509 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-08-30 14:18:24.509 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-08-30 14:18:24.509 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-08-30 14:18:24.510 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-08-30 14:18:24.510 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-08-30 14:18:24.510 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-08-30 14:18:24.510 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-08-30 14:18:24.558 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:18:24.561 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-08-30 14:18:24.561 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:18:24.564 -05:00 [INF] Libros encontrados exitosamente
2024-08-30 14:18:24.564 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:18:24.564 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:18:24.564 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:24.564 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:24.564 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:18:24.564 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:24.564 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:24.564 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-08-30 14:18:24.565 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-08-30 14:18:24.565 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:24.565 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:18:24.565 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:24.565 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:18:24.565 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 7.2424ms.
2024-08-30 14:18:24.566 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:18:24.566 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:18:24.566 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:18:24.566 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:18:24.566 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:18:24.566 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Collections.Generic.List`1[[biblioteca_backend.Models.Libro, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-30 14:18:24.566 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) in 56.7327ms
2024-08-30 14:18:24.566 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-08-30 14:18:24.566 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:18:24.566 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:24.566 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:18:24.566 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=31 - 200 null application/json; charset=utf-8 60.2853ms
2024-08-30 14:18:25.451 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=31 - null null
2024-08-30 14:18:25.451 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-08-30 14:18:25.451 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:18:25.451 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:18:25.451 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:18:25.451 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:18:25.451 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:18:25.452 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=31 - 204 null null 1.0459ms
2024-08-30 14:18:25.454 -05:00 [INF] Request starting HTTP/2 DELETE https://localhost:7299/api/Prestmaos/?idPerfil=31 - null null
2024-08-30 14:18:25.454 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-08-30 14:18:25.454 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-08-30 14:18:25.454 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend)'
2024-08-30 14:18:25.454 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:18:25.454 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:18:25.454 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:18:25.454 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:18:25.454 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:18:25.455 -05:00 [DBG] Authorization was successful.
2024-08-30 14:18:25.455 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend)'
2024-08-30 14:18:25.456 -05:00 [INF] Route matched with {action = "EliminarPrestamo", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EliminarPrestamo(Int32) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-08-30 14:18:25.456 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:18:25.456 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:18:25.456 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:18:25.456 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:18:25.456 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:18:25.456 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-08-30 14:18:25.456 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-08-30 14:18:25.456 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-08-30 14:18:25.456 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-08-30 14:18:25.456 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-08-30 14:18:25.457 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-08-30 14:18:25.457 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-08-30 14:18:25.457 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-08-30 14:18:25.488 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:18:25.492 -05:00 [DBG] Eliminando préstamo del perfil con id 31
2024-08-30 14:18:25.494 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-08-30 14:18:25.495 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:18:25.498 -05:00 [INF] Libros encontrados exitosamente
2024-08-30 14:18:25.498 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:18:25.498 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:18:25.498 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:25.499 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:25.499 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:18:25.499 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:25.499 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:25.499 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-08-30 14:18:25.499 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-08-30 14:18:25.499 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:25.499 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:18:25.499 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:25.499 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:18:25.500 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:25.500 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:25.500 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:18:25.500 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:25.500 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:25.500 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
WHERE [p].[IdPerfil] = @__idPerfil_0
2024-08-30 14:18:25.503 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
WHERE [p].[IdPerfil] = @__idPerfil_0
2024-08-30 14:18:25.503 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:18:25.503 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:25.503 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:18:25.504 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:25.504 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:18:25.504 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:25.504 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:25.504 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:18:25.504 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:25.504 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:25.504 -05:00 [DBG] Executing DbCommand [Parameters=[@__prestamo_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[IdLibro], [d].[IdPrestamo]
FROM [DetallePrestamoLibro] AS [d]
WHERE [d].[IdPrestamo] = @__prestamo_Id_0
2024-08-30 14:18:25.506 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__prestamo_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[IdLibro], [d].[IdPrestamo]
FROM [DetallePrestamoLibro] AS [d]
WHERE [d].[IdPrestamo] = @__prestamo_Id_0
2024-08-30 14:18:25.507 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'DetallePrestamoLibro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:18:25.508 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'DetallePrestamoLibro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:18:25.508 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'DetallePrestamoLibro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:18:25.508 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:25.508 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-08-30 14:18:25.508 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:25.508 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:18:25.509 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:18:25.509 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:18:25.509 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:18:25.509 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:18:25.509 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:18:25.509 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-08-30 14:18:25.509 -05:00 [DBG] Executing 3 update commands as a batch.
2024-08-30 14:18:25.509 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:25.510 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:25.510 -05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-30 14:18:25.510 -05:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-08-30 14:18:25.510 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:18:25.510 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:25.510 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:25.510 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p1;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p2;
2024-08-30 14:18:25.511 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p1;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p2;
2024-08-30 14:18:25.512 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:25.512 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:18:25.512 -05:00 [DBG] Committing transaction.
2024-08-30 14:18:25.512 -05:00 [DBG] Committed transaction.
2024-08-30 14:18:25.512 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:25.513 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:18:25.513 -05:00 [DBG] Disposing transaction.
2024-08-30 14:18:25.513 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:18:25.513 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:18:25.513 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:18:25.513 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 3 entities written to the database.
2024-08-30 14:18:25.513 -05:00 [DBG] An entity of type 'Prestamo' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:18:25.513 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:18:25.513 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:18:25.513 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-08-30 14:18:25.514 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:25.514 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:25.514 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:18:25.514 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:25.514 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:25.514 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Prestamo]
OUTPUT 1
WHERE [Id] = @p0;
2024-08-30 14:18:25.517 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Prestamo]
OUTPUT 1
WHERE [Id] = @p0;
2024-08-30 14:18:25.517 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:25.517 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:18:25.517 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:25.517 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:18:25.518 -05:00 [DBG] An entity of type 'Prestamo' tracked by 'DBBibliotecaContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:18:25.518 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-08-30 14:18:25.518 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:18:25.518 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:18:25.518 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:18:25.518 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-08-30 14:18:25.519 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:25.519 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:25.519 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:18:25.519 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:25.519 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:25.519 -05:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Stock] = @p4, [Titulo] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-08-30 14:18:25.522 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Stock] = @p4, [Titulo] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-08-30 14:18:25.524 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:25.524 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:18:25.524 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:25.524 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:18:25.525 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:18:25.525 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-08-30 14:18:25.525 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:18:25.525 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:18:25.525 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:18:25.525 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-08-30 14:18:25.526 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:25.526 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:25.526 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:18:25.526 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:25.526 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:25.526 -05:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Stock] = @p4, [Titulo] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-08-30 14:18:25.527 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Stock] = @p4, [Titulo] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-08-30 14:18:25.528 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:25.528 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:18:25.528 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:25.528 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:18:25.528 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:18:25.528 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-08-30 14:18:25.528 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:18:25.528 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:18:25.528 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:18:25.529 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-08-30 14:18:25.529 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:25.529 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:25.529 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:18:25.529 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:25.529 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:25.529 -05:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Stock] = @p4, [Titulo] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-08-30 14:18:25.531 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Stock] = @p4, [Titulo] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-08-30 14:18:25.531 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:25.531 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:18:25.531 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:25.531 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:18:25.531 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:18:25.531 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-08-30 14:18:25.534 -05:00 [INF] Se eliminó el préstamo del perfil con id 31
2024-08-30 14:18:25.534 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 45.417ms.
2024-08-30 14:18:25.534 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:18:25.534 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:18:25.534 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:18:25.534 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:18:25.534 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:18:25.534 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType10`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-30 14:18:25.535 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend) in 78.798ms
2024-08-30 14:18:25.535 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend)'
2024-08-30 14:18:25.535 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:18:25.535 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:25.535 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:18:25.535 -05:00 [INF] Request finished HTTP/2 DELETE https://localhost:7299/api/Prestmaos/?idPerfil=31 - 200 null application/json; charset=utf-8 82.1557ms
2024-08-30 14:18:25.546 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=31 - null null
2024-08-30 14:18:25.546 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-08-30 14:18:25.546 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-08-30 14:18:25.546 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-08-30 14:18:25.546 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:18:25.547 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:18:25.547 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:18:25.547 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:18:25.547 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:18:25.547 -05:00 [DBG] Authorization was successful.
2024-08-30 14:18:25.547 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-08-30 14:18:25.547 -05:00 [INF] Route matched with {action = "Get", controller = "Prestmaos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-08-30 14:18:25.547 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:18:25.547 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:18:25.547 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:18:25.547 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:18:25.547 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:18:25.547 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-08-30 14:18:25.548 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-08-30 14:18:25.548 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-08-30 14:18:25.548 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-08-30 14:18:25.548 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-08-30 14:18:25.548 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-08-30 14:18:25.548 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-08-30 14:18:25.548 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-08-30 14:18:25.583 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:18:25.585 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-08-30 14:18:25.586 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:18:25.590 -05:00 [INF] Libros encontrados exitosamente
2024-08-30 14:18:25.591 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:18:25.591 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:18:25.591 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:25.591 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:25.591 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:18:25.591 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:25.591 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:25.591 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-08-30 14:18:25.592 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-08-30 14:18:25.592 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:25.592 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:18:25.592 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:25.592 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:18:25.592 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 9.0712ms.
2024-08-30 14:18:25.592 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:18:25.592 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:18:25.592 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:18:25.592 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:18:25.592 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:18:25.592 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Collections.Generic.List`1[[biblioteca_backend.Models.Libro, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-30 14:18:25.592 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) in 45.1204ms
2024-08-30 14:18:25.592 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-08-30 14:18:25.593 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:18:25.593 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:25.593 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:18:25.593 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=31 - 200 null application/json; charset=utf-8 47.2512ms
2024-08-30 14:18:26.935 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-08-30 14:18:26.935 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-08-30 14:18:26.935 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:18:26.936 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:18:26.936 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:18:26.936 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:18:26.936 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:18:26.936 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 204 null null 0.8097ms
2024-08-30 14:18:26.940 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-08-30 14:18:26.941 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-08-30 14:18:26.941 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)' with route pattern 'api/Prestmaos/ConsultarPrestamos' is valid for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-08-30 14:18:26.941 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-08-30 14:18:26.941 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:18:26.941 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:18:26.941 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:18:26.942 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:18:26.942 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:18:26.942 -05:00 [DBG] Authorization was successful.
2024-08-30 14:18:26.942 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-08-30 14:18:26.942 -05:00 [INF] Route matched with {action = "ConsultarPrestamos", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsultarPrestamos() on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-08-30 14:18:26.942 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:18:26.942 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:18:26.942 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:18:26.943 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:18:26.943 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:18:26.943 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-08-30 14:18:26.943 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-08-30 14:18:26.979 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:18:26.979 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:18:26.979 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:18:26.979 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:18:26.980 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:26.980 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:26.980 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:18:26.980 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:26.980 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:26.980 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-08-30 14:18:26.983 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-08-30 14:18:26.984 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:26.985 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-08-30 14:18:26.994 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:26.995 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (1ms).
2024-08-30 14:18:26.998 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 19.3777ms.
2024-08-30 14:18:26.998 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:18:26.999 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:18:26.999 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:18:26.999 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:18:26.999 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:18:26.999 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.DTOs.ConsultaPrestamoModel, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:18:26.999 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) in 56.4134ms
2024-08-30 14:18:26.999 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-08-30 14:18:26.999 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:18:26.999 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:26.999 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:18:27.000 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 200 null application/json; charset=utf-8 59.5161ms
2024-08-30 14:18:53.045 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-08-30 14:18:53.045 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:18:53.045 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:18:53.046 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:18:53.046 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:18:53.046 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:18:53.046 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:18:53.046 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - 204 null null 0.9541ms
2024-08-30 14:18:53.049 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-08-30 14:18:53.050 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:18:53.050 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 14:18:53.050 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:18:53.050 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:18:53.052 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:18:53.052 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:18:53.052 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:18:53.052 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:18:53.052 -05:00 [DBG] Authorization was successful.
2024-08-30 14:18:53.052 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:18:53.053 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 14:18:53.053 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:18:53.053 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:18:53.053 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:18:53.053 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:18:53.056 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:18:53.056 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:18:53.058 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:18:53.058 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:18:53.059 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-08-30 14:18:53.059 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:18:53.059 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:18:53.059 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:18:53.059 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:18:53.096 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:18:53.099 -05:00 [DBG] Consultando libros...
2024-08-30 14:18:53.100 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:18:53.100 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:18:53.101 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:18:53.101 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:53.101 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:53.101 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:18:53.101 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:53.101 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:53.101 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Stock] > 0
2024-08-30 14:18:53.102 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Stock] > 0
2024-08-30 14:18:53.102 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:53.102 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:18:53.102 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:53.103 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:18:53.107 -05:00 [INF] Consulta de libros exitosa
2024-08-30 14:18:53.107 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 11.362ms.
2024-08-30 14:18:53.108 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:18:53.108 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:18:53.108 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:18:53.108 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:18:53.108 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:18:53.108 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:18:53.108 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 52.0204ms
2024-08-30 14:18:53.108 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:18:53.108 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:18:53.108 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:53.108 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:18:53.109 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 59.3597ms
2024-08-30 14:18:56.768 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-08-30 14:18:56.768 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:18:56.768 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 14:18:56.768 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:18:56.768 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:18:56.768 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:18:56.769 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:18:56.769 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:18:56.769 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:18:56.769 -05:00 [DBG] Authorization was successful.
2024-08-30 14:18:56.769 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:18:56.770 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 14:18:56.772 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:18:56.773 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:18:56.773 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:18:56.773 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:18:56.773 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:18:56.773 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:18:56.773 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:18:56.773 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:18:56.774 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-08-30 14:18:56.774 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:18:56.774 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:18:56.774 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:18:56.774 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:18:56.857 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:18:56.860 -05:00 [DBG] Consultando libros...
2024-08-30 14:18:56.861 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:18:56.862 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:18:56.862 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:18:56.862 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:56.862 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:56.862 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:18:56.862 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:56.862 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:18:56.862 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Stock] > 0
2024-08-30 14:18:56.863 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Stock] > 0
2024-08-30 14:18:56.863 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:56.863 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:18:56.863 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:56.863 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:18:56.866 -05:00 [INF] Consulta de libros exitosa
2024-08-30 14:18:56.866 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 9.3246ms.
2024-08-30 14:18:56.866 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:18:56.867 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:18:56.867 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:18:56.867 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:18:56.867 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:18:56.867 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:18:56.867 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 94.3453ms
2024-08-30 14:18:56.868 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:18:56.868 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:18:56.868 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:18:56.868 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:18:56.868 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 99.9405ms
2024-08-30 14:19:23.099 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-08-30 14:19:23.099 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:19:23.099 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:19:23.099 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:19:23.100 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:19:23.100 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:19:23.100 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:19:23.100 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - 204 null null 1.1128ms
2024-08-30 14:19:23.106 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-08-30 14:19:23.106 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:19:23.106 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 14:19:23.106 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:19:23.106 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:19:23.106 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:19:23.106 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:19:23.107 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:19:23.107 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:19:23.107 -05:00 [DBG] Authorization was successful.
2024-08-30 14:19:23.107 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:19:23.107 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 14:19:23.107 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:19:23.107 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:19:23.107 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:19:23.107 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:19:23.107 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:19:23.107 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:19:23.107 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:19:23.107 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:19:23.107 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-08-30 14:19:23.107 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:19:23.108 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:19:23.108 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:19:23.108 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:19:23.156 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:19:23.159 -05:00 [DBG] Consultando libros...
2024-08-30 14:19:23.160 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:19:23.161 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:19:23.161 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:19:23.161 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:19:23.161 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:19:23.161 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:19:23.161 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:19:23.161 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:19:23.161 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Stock] > 0
2024-08-30 14:19:23.173 -05:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Stock] > 0
2024-08-30 14:19:23.173 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:19:23.174 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:19:23.174 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:19:23.174 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:19:23.176 -05:00 [INF] Consulta de libros exitosa
2024-08-30 14:19:23.176 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 20.1752ms.
2024-08-30 14:19:23.176 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:19:23.176 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:19:23.177 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:19:23.177 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:19:23.177 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:19:23.177 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:19:23.177 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 69.7926ms
2024-08-30 14:19:23.177 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:19:23.177 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:19:23.177 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:19:23.177 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:19:23.178 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 71.7912ms
2024-08-30 14:19:25.526 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-08-30 14:19:25.526 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:19:25.526 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 14:19:25.526 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:19:25.526 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:19:25.526 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:19:25.526 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:19:25.526 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:19:25.527 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:19:25.527 -05:00 [DBG] Authorization was successful.
2024-08-30 14:19:25.527 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:19:25.527 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 14:19:25.527 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:19:25.527 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:19:25.527 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:19:25.527 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:19:25.527 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:19:25.527 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:19:25.527 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:19:25.528 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:19:25.528 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-08-30 14:19:25.528 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:19:25.528 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:19:25.528 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:19:25.528 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:19:25.593 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:19:25.596 -05:00 [DBG] Consultando libros...
2024-08-30 14:19:25.598 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:19:25.599 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:19:25.599 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:19:25.599 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:19:25.599 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:19:25.599 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:19:25.599 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:19:25.599 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:19:25.599 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Stock] > 0
2024-08-30 14:19:25.600 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Stock] > 0
2024-08-30 14:19:25.600 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:19:25.600 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:19:25.600 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:19:25.600 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:19:25.604 -05:00 [INF] Consulta de libros exitosa
2024-08-30 14:19:25.607 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 13.2599ms.
2024-08-30 14:19:25.608 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:19:25.608 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:19:25.609 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:19:25.610 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:19:25.610 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:19:25.610 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:19:25.611 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 83.4027ms
2024-08-30 14:19:25.612 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:19:25.612 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:19:25.612 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:19:25.612 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:19:25.612 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 86.1331ms
2024-08-30 14:21:53.463 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-08-30 14:21:53.793 -05:00 [DBG] Hosting starting
2024-08-30 14:21:53.867 -05:00 [INF] User profile is available. Using 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-30 14:21:53.878 -05:00 [DBG] Reading data from file 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys\key-12ed5171-7863-4d3e-a216-6f5439158e60.xml'.
2024-08-30 14:21:53.896 -05:00 [DBG] Found key {12ed5171-7863-4d3e-a216-6f5439158e60}.
2024-08-30 14:21:53.919 -05:00 [DBG] Considering key {12ed5171-7863-4d3e-a216-6f5439158e60} with expiration date 2024-09-28 19:27:42Z as default key.
2024-08-30 14:21:53.925 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-30 14:21:53.927 -05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-08-30 14:21:53.930 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-30 14:21:53.934 -05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-08-30 14:21:53.936 -05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-08-30 14:21:53.938 -05:00 [DBG] Using key {12ed5171-7863-4d3e-a216-6f5439158e60} as the default key.
2024-08-30 14:21:53.939 -05:00 [DBG] Key ring with default key {12ed5171-7863-4d3e-a216-6f5439158e60} was loaded during application startup.
2024-08-30 14:21:54.389 -05:00 [INF] Now listening on: https://localhost:7299
2024-08-30 14:21:54.389 -05:00 [INF] Now listening on: http://localhost:5219
2024-08-30 14:21:54.389 -05:00 [DBG] Loaded hosting startup assembly biblioteca-backend
2024-08-30 14:21:54.389 -05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-08-30 14:21:54.389 -05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-08-30 14:21:54.390 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-30 14:21:54.390 -05:00 [INF] Hosting environment: Development
2024-08-30 14:21:54.390 -05:00 [INF] Content root path: C:\Users\spatino\Documents\Proyeco - Biblioteca\biblioteca-backend
2024-08-30 14:21:54.390 -05:00 [DBG] Hosting started
2024-08-30 14:21:54.436 -05:00 [DBG] Connection id "0HN6954105UC7" accepted.
2024-08-30 14:21:54.437 -05:00 [DBG] Connection id "0HN6954105UC7" started.
2024-08-30 14:21:54.440 -05:00 [DBG] Connection id "0HN6954105UC7" received FIN.
2024-08-30 14:21:54.471 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-08-30 14:21:54.540 -05:00 [DBG] Connection id "0HN6954105UC7" stopped.
2024-08-30 14:21:54.551 -05:00 [DBG] Connection id "0HN6954105UC7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-30 14:21:54.828 -05:00 [DBG] Connection id "0HN6954105UC8" accepted.
2024-08-30 14:21:54.836 -05:00 [DBG] Connection id "0HN6954105UC8" started.
2024-08-30 14:21:54.975 -05:00 [DBG] Connection 0HN6954105UC8 established using the following protocol: "Tls12"
2024-08-30 14:21:55.080 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/index.html - null null
2024-08-30 14:21:55.784 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-08-30 14:21:55.838 -05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-08-30 14:21:55.839 -05:00 [DBG] Request did not match any endpoints
2024-08-30 14:21:56.139 -05:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-08-30 14:21:56.142 -05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-08-30 14:21:56.527 -05:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-08-30 14:21:56.529 -05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-08-30 14:21:56.533 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/index.html - 200 null text/html;charset=utf-8 1464.9194ms
2024-08-30 14:21:56.623 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
2024-08-30 14:21:56.625 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
2024-08-30 14:21:56.647 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 24.2142ms
2024-08-30 14:21:56.842 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 217.5041ms
2024-08-30 14:21:57.075 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
2024-08-30 14:21:57.076 -05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-08-30 14:21:57.076 -05:00 [DBG] Request did not match any endpoints
2024-08-30 14:21:57.367 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 291.7054ms
2024-08-30 14:21:58.110 -05:00 [DBG] Connection id "0HN6954105UC9" accepted.
2024-08-30 14:21:58.110 -05:00 [DBG] Connection id "0HN6954105UC9" started.
2024-08-30 14:21:58.125 -05:00 [DBG] Connection 0HN6954105UC9 established using the following protocol: "Tls12"
2024-08-30 14:21:58.131 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-08-30 14:21:58.139 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-08-30 14:21:58.140 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:21:58.143 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:21:58.147 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:21:58.148 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:21:58.150 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:21:58.151 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 204 null null 20.614ms
2024-08-30 14:21:58.155 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-08-30 14:21:58.155 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-08-30 14:21:58.160 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)' with route pattern 'api/Prestmaos/ConsultarPrestamos' is valid for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-08-30 14:21:58.160 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-08-30 14:21:58.161 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:21:58.164 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:21:58.164 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:21:58.401 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:21:58.405 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:21:58.421 -05:00 [DBG] Authorization was successful.
2024-08-30 14:21:58.422 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-08-30 14:21:58.447 -05:00 [INF] Route matched with {action = "ConsultarPrestamos", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsultarPrestamos() on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-08-30 14:21:58.448 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:21:58.449 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:21:58.450 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:21:58.450 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:21:58.450 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:21:58.453 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-08-30 14:21:58.682 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-08-30 14:21:58.711 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-08-30 14:21:58.837 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:22:00.085 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:22:00.139 -05:00 [DBG] Compiling query expression: 
'DbSet<Prestamo>()'
2024-08-30 14:22:00.374 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Prestamo>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Prestamo.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Prestamo.FechaPrestamo (DateTime) Required, 1], [Property: Prestamo.IdPerfil (int) Required FK Index, 2] }
        SELECT p.Id, p.FechaPrestamo, p.IdPerfil
        FROM Prestamo AS p), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Prestamo>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-08-30 14:22:00.430 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:22:00.458 -05:00 [DBG] Created DbConnection. (26ms).
2024-08-30 14:22:00.462 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:22:01.102 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:22:01.106 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:22:01.117 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-08-30 14:22:01.120 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2024-08-30 14:22:01.127 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-08-30 14:22:01.222 -05:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-08-30 14:22:01.240 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:22:01.257 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 21ms reading results.
2024-08-30 14:22:01.266 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:22:01.275 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (10ms).
2024-08-30 14:22:01.285 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2440.2192ms.
2024-08-30 14:22:01.294 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:22:01.300 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:22:01.300 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:22:01.301 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:22:01.302 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:22:01.302 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.DTOs.ConsultaPrestamoModel, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:22:01.328 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) in 2872.1989ms
2024-08-30 14:22:01.330 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-08-30 14:22:01.339 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:22:01.344 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:22:01.349 -05:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-08-30 14:22:01.350 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 200 null application/json; charset=utf-8 3195.4753ms
2024-08-30 14:22:04.054 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-08-30 14:22:04.074 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-08-30 14:22:04.075 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:22:04.075 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:22:04.076 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:22:04.076 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:22:04.077 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:22:04.081 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 204 null null 27.5966ms
2024-08-30 14:22:04.086 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-08-30 14:22:04.086 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-08-30 14:22:04.087 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)' with route pattern 'api/Prestmaos/ConsultarPrestamos' is valid for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-08-30 14:22:04.087 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-08-30 14:22:04.087 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:22:04.087 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:22:04.087 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:22:04.090 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:22:04.090 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:22:04.093 -05:00 [DBG] Authorization was successful.
2024-08-30 14:22:04.093 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-08-30 14:22:04.093 -05:00 [INF] Route matched with {action = "ConsultarPrestamos", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsultarPrestamos() on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-08-30 14:22:04.093 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:22:04.093 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:22:04.094 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:22:04.094 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:22:04.094 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:22:04.094 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-08-30 14:22:04.100 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-08-30 14:22:04.181 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:22:04.236 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:22:04.240 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:22:04.241 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:22:04.241 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:22:04.246 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:22:04.247 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:22:04.248 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-08-30 14:22:04.248 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-08-30 14:22:04.250 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-08-30 14:22:04.256 -05:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-08-30 14:22:04.256 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:22:04.257 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:22:04.257 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:22:04.257 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:22:04.257 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 75.6087ms.
2024-08-30 14:22:04.258 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:22:04.258 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:22:04.258 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:22:04.258 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:22:04.258 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:22:04.258 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.DTOs.ConsultaPrestamoModel, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:22:04.258 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) in 164.7173ms
2024-08-30 14:22:04.259 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-08-30 14:22:04.259 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:22:04.259 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:22:04.259 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:22:04.259 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 200 null application/json; charset=utf-8 173.6478ms
2024-08-30 14:22:08.417 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-08-30 14:22:08.418 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:22:08.418 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:22:08.418 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:22:08.418 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:22:08.418 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:22:08.418 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:22:08.418 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - 204 null null 0.9085ms
2024-08-30 14:22:08.438 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-08-30 14:22:08.440 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:22:08.440 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 14:22:08.440 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:22:08.440 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:22:08.440 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:22:08.440 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:22:08.447 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:22:08.447 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:22:08.452 -05:00 [DBG] Authorization was successful.
2024-08-30 14:22:08.452 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:22:08.466 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 14:22:08.466 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:22:08.466 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:22:08.466 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:22:08.466 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:22:08.466 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:22:08.466 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:22:08.469 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:22:08.500 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:22:08.504 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-08-30 14:22:08.506 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:22:08.506 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:22:08.506 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:22:08.508 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:22:08.555 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:22:08.573 -05:00 [DBG] Consultando libros...
2024-08-30 14:22:08.694 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:22:08.717 -05:00 [DBG] Compiling query expression: 
'DbSet<Libro>()
    .Join(
        inner: DbSet<Genero>(), 
        outerKeySelector: L => L.IdGenero, 
        innerKeySelector: G => G.Id, 
        resultSelector: (L, G) => new { 
            L = L, 
            G = G
         })
    .Where(<>h__TransparentIdentifier0 => True && <>h__TransparentIdentifier0.L.Stock > 0 || False)
    .Select(<>h__TransparentIdentifier0 => new { 
        id = <>h__TransparentIdentifier0.L.Id, 
        titulo = <>h__TransparentIdentifier0.L.Titulo, 
        autor = <>h__TransparentIdentifier0.L.Autor, 
        anio = <>h__TransparentIdentifier0.L.Anio, 
        idGenero = <>h__TransparentIdentifier0.L.IdGenero, 
        genero = <>h__TransparentIdentifier0.G.Nombre, 
        activo = <>h__TransparentIdentifier0.L.Activo
     })'
2024-08-30 14:22:08.885 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType5<int, string, string, int, int, string, bool>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            id -> 0
            titulo -> 1
            autor -> 2
            anio -> 3
            idGenero -> 4
            genero -> 5
            activo -> 6
        SELECT l.Id AS id, l.Titulo AS titulo, l.Autor AS autor, l.Anio AS anio, l.IdGenero AS idGenero, g.Nombre AS genero, l.Activo AS activo
        FROM Libro AS l
        INNER JOIN Genero AS g ON l.IdGenero == g.Id
        WHERE (CAST(1 AS bit) && (l.Stock > 0)) || CAST(0 AS bit)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType5<int, string, string, int, int, string, bool>>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-08-30 14:22:08.900 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:22:08.900 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:22:08.901 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:22:08.902 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:22:08.902 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:22:08.902 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:22:08.902 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:22:08.903 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Stock] > 0
2024-08-30 14:22:08.909 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Stock] > 0
2024-08-30 14:22:08.920 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:22:08.920 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 10ms reading results.
2024-08-30 14:22:08.922 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:22:08.922 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:22:08.925 -05:00 [INF] Consulta de libros exitosa
2024-08-30 14:22:08.925 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 369.3131ms.
2024-08-30 14:22:08.925 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:22:08.925 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:22:08.925 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:22:08.925 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:22:08.925 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:22:08.926 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:22:08.935 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 468.8483ms
2024-08-30 14:22:08.935 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:22:08.935 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:22:08.935 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:22:08.936 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:22:08.936 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 498.0093ms
2024-08-30 14:22:12.917 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 14:22:12.918 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:22:12.918 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-08-30 14:22:12.918 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:22:12.918 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 14:22:12.918 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:22:12.918 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:22:12.918 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:22:12.918 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:22:12.918 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:22:12.918 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:22:12.918 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:22:12.918 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:22:12.918 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:22:12.918 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 1.2524ms
2024-08-30 14:22:12.918 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 0.6248ms
2024-08-30 14:22:12.922 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-08-30 14:22:12.922 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 14:22:12.922 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 14:22:12.923 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:22:12.923 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-08-30 14:22:12.923 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 14:22:12.923 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 14:22:12.923 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:22:12.923 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:22:12.923 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:22:12.923 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:22:12.923 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:22:12.923 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:22:12.923 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:22:12.923 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:22:12.923 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:22:12.924 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:22:12.924 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:22:12.924 -05:00 [DBG] Authorization was successful.
2024-08-30 14:22:12.924 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 14:22:12.924 -05:00 [DBG] Authorization was successful.
2024-08-30 14:22:12.925 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:22:12.925 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 14:22:12.925 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:22:12.925 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:22:12.925 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:22:12.925 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:22:12.925 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:22:12.925 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:22:12.926 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:22:12.926 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:22:12.927 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-08-30 14:22:12.928 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:22:12.928 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:22:12.928 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:22:12.928 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:22:12.980 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:22:12.980 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-08-30 14:22:12.980 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:22:12.982 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:22:12.984 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:22:12.984 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:22:12.984 -05:00 [DBG] Consultando libros...
2024-08-30 14:22:12.985 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:22:12.985 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 14:22:12.985 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 14:22:12.986 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:22:13.017 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:22:13.018 -05:00 [DBG] Compiling query expression: 
'DbSet<Libro>()
    .Join(
        inner: DbSet<Genero>(), 
        outerKeySelector: L => L.IdGenero, 
        innerKeySelector: G => G.Id, 
        resultSelector: (L, G) => new { 
            L = L, 
            G = G
         })
    .Where(<>h__TransparentIdentifier0 => True)
    .Select(<>h__TransparentIdentifier0 => new { 
        id = <>h__TransparentIdentifier0.L.Id, 
        titulo = <>h__TransparentIdentifier0.L.Titulo, 
        autor = <>h__TransparentIdentifier0.L.Autor, 
        anio = <>h__TransparentIdentifier0.L.Anio, 
        idGenero = <>h__TransparentIdentifier0.L.IdGenero, 
        genero = <>h__TransparentIdentifier0.G.Nombre, 
        activo = <>h__TransparentIdentifier0.L.Activo
     })'
2024-08-30 14:22:13.019 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:22:13.020 -05:00 [DBG] Compiling query expression: 
'DbSet<Genero>()'
2024-08-30 14:22:13.022 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType5<int, string, string, int, int, string, bool>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            id -> 0
            titulo -> 1
            autor -> 2
            anio -> 3
            idGenero -> 4
            genero -> 5
            activo -> 6
        SELECT l.Id AS id, l.Titulo AS titulo, l.Autor AS autor, l.Anio AS anio, l.IdGenero AS idGenero, g.Nombre AS genero, l.Activo AS activo
        FROM Libro AS l
        INNER JOIN Genero AS g ON l.IdGenero == g.Id), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType5<int, string, string, int, int, string, bool>>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-08-30 14:22:13.022 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:22:13.022 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:22:13.022 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:22:13.023 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:22:13.023 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:22:13.023 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:22:13.023 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:22:13.023 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 14:22:13.024 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Genero>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Genero.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Genero.Nombre (string) Required, 1] }
        SELECT g.Id, g.Nombre
        FROM Genero AS g), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Genero>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-08-30 14:22:13.024 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:22:13.025 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:22:13.025 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:22:13.026 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 14:22:13.037 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:22:13.037 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 10ms reading results.
2024-08-30 14:22:13.038 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:22:13.039 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:22:13.041 -05:00 [INF] Consulta de libros exitosa
2024-08-30 14:22:13.041 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 61.1538ms.
2024-08-30 14:22:13.042 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:22:13.042 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:22:13.042 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:22:13.042 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:22:13.042 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:22:13.042 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:22:13.043 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 117.2314ms
2024-08-30 14:22:13.043 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:22:13.043 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:22:13.043 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:22:13.043 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:22:13.043 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 120.9897ms
2024-08-30 14:22:13.052 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:22:13.054 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:22:13.054 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:22:13.054 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:22:13.054 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 14:22:13.059 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 14:22:13.109 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:22:13.126 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:22:13.126 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:22:13.126 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:22:13.126 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:22:13.126 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:22:13.126 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:22:13.126 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:22:13.126 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:22:13.126 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:22:13.126 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:22:13.126 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:22:13.126 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:22:13.127 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:22:13.127 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 66ms reading results.
2024-08-30 14:22:13.127 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:22:13.127 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:22:13.127 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 109.8231ms.
2024-08-30 14:22:13.128 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:22:13.129 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:22:13.129 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:22:13.129 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:22:13.129 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:22:13.129 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:22:13.131 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 146.5712ms
2024-08-30 14:22:13.131 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 14:22:13.132 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:22:13.132 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:22:13.132 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:22:13.132 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 210.3618ms
2024-08-30 14:22:20.781 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-08-30 14:22:20.782 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:22:20.782 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:22:20.782 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:22:20.782 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:22:20.782 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:22:20.783 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:22:20.783 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - 204 null null 1.3645ms
2024-08-30 14:22:20.807 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-08-30 14:22:20.807 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:22:20.807 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 14:22:20.807 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:22:20.807 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:22:20.807 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:22:20.807 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:22:20.808 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:22:20.808 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:22:20.808 -05:00 [DBG] Authorization was successful.
2024-08-30 14:22:20.808 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:22:20.808 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 14:22:20.808 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:22:20.808 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:22:20.808 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:22:20.808 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:22:20.808 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:22:20.808 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:22:20.809 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:22:20.809 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:22:20.809 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-08-30 14:22:20.810 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:22:20.810 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:22:20.810 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:22:20.810 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:22:20.862 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:22:20.865 -05:00 [DBG] Consultando libros...
2024-08-30 14:22:20.867 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:22:20.873 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:22:20.873 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:22:20.873 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:22:20.873 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:22:20.873 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:22:20.873 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:22:20.873 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:22:20.873 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Stock] > 0
2024-08-30 14:22:20.878 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Stock] > 0
2024-08-30 14:22:20.879 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:22:20.879 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-08-30 14:22:20.880 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:22:20.880 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:22:20.883 -05:00 [INF] Consulta de libros exitosa
2024-08-30 14:22:20.884 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 21.4272ms.
2024-08-30 14:22:20.884 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:22:20.884 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:22:20.884 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:22:20.884 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:22:20.884 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:22:20.884 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:22:20.885 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 76.1902ms
2024-08-30 14:22:20.885 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:22:20.885 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:22:20.885 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:22:20.885 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:22:20.885 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 78.5611ms
2024-08-30 14:26:17.293 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-08-30 14:26:17.297 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:26:17.298 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:26:17.298 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:26:17.298 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:26:17.298 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:26:17.298 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:26:17.298 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - 204 null null 18.2315ms
2024-08-30 14:26:17.313 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-08-30 14:26:17.314 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:26:17.314 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 14:26:17.314 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:26:17.314 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:26:17.314 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:26:17.314 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:26:17.315 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:26:17.315 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:26:17.317 -05:00 [DBG] Authorization was successful.
2024-08-30 14:26:17.317 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:26:17.317 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 14:26:17.317 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:26:17.318 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:26:17.318 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:26:17.318 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:26:17.318 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:26:17.318 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:26:17.319 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:26:17.319 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:26:17.319 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-08-30 14:26:17.319 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:26:17.319 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:26:17.319 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:26:17.319 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:26:17.444 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:26:25.302 -05:00 [DBG] Consultando libros...
2024-08-30 14:26:35.663 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:26:37.660 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:26:37.660 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:26:37.660 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:26:37.660 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:26:37.660 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:26:37.660 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:26:37.660 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:26:37.660 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Stock] > 0
2024-08-30 14:26:37.665 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Stock] > 0
2024-08-30 14:26:37.666 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:26:37.666 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:26:37.666 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:26:37.666 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:28:36.511 -05:00 [INF] Consulta de libros exitosa
2024-08-30 14:28:36.511 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 139067.4085ms.
2024-08-30 14:28:36.512 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:28:36.512 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:28:36.512 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:28:36.512 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:28:36.512 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:28:36.512 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:28:36.513 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 139194.6155ms
2024-08-30 14:28:36.513 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:28:36.513 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:28:36.513 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:28:36.514 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:28:36.514 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 139200.4389ms
2024-08-30 14:29:43.132 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-08-30 14:29:43.132 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:29:43.132 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:29:43.132 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:29:43.132 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:29:43.132 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:29:43.132 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:29:43.133 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - 204 null null 0.7554ms
2024-08-30 14:29:43.204 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-08-30 14:29:43.204 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:29:43.204 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 14:29:43.204 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:29:43.205 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:29:43.205 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:29:43.205 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:29:43.205 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:29:43.205 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:29:43.205 -05:00 [DBG] Authorization was successful.
2024-08-30 14:29:43.205 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:29:43.205 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 14:29:43.205 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:29:43.206 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:29:43.206 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:29:43.207 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:29:43.207 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:29:43.208 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:29:43.209 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:29:43.209 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:29:43.210 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-08-30 14:29:43.210 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:29:43.210 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:29:43.210 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:29:43.210 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:29:43.283 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:29:45.890 -05:00 [DBG] Consultando libros...
2024-08-30 14:29:45.892 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:29:45.893 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:29:45.893 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:29:45.893 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:29:45.893 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:29:45.893 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:29:45.893 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:29:45.893 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:29:45.894 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Stock] > 0
2024-08-30 14:29:45.900 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Stock] > 0
2024-08-30 14:29:45.900 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:29:45.900 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:29:45.900 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:29:45.900 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:29:45.902 -05:00 [INF] Consulta de libros exitosa
2024-08-30 14:29:45.903 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2619.4476ms.
2024-08-30 14:29:45.903 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:29:45.903 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:29:45.903 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:29:45.903 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:29:45.903 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:29:45.903 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:29:45.903 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 2695.3685ms
2024-08-30 14:29:45.904 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:29:45.904 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:29:45.904 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:29:45.904 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:29:45.904 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 2727.3528ms
2024-08-30 14:33:39.609 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-08-30 14:33:40.282 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:33:40.892 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:34:06.090 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-08-30 14:34:06.791 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:34:06.809 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:34:06.845 -05:00 [DBG] Created DbConnection. (33ms).
2024-08-30 14:34:06.849 -05:00 [DBG] Migrating using database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:34:06.854 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:34:07.078 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:34:07.084 -05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-08-30 14:34:07.104 -05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2024-08-30 14:34:07.106 -05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (24ms).
2024-08-30 14:34:07.118 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-08-30 14:34:07.182 -05:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-08-30 14:34:07.185 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:34:07.202 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (9ms).
2024-08-30 14:34:07.206 -05:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-08-30 14:34:07.207 -05:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-08-30 14:34:07.207 -05:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-08-30 14:34:07.207 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:34:07.211 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:34:07.212 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-08-30 14:34:07.231 -05:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-08-30 14:34:07.231 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:34:07.232 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:34:07.232 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:34:07.233 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:34:07.233 -05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-08-30 14:34:07.233 -05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-08-30 14:34:07.233 -05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-08-30 14:34:07.233 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-08-30 14:34:07.234 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-08-30 14:34:07.234 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:34:07.234 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:34:07.234 -05:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-08-30 14:34:07.234 -05:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-08-30 14:34:07.234 -05:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-08-30 14:34:07.234 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:34:07.235 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:34:07.235 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-08-30 14:34:07.235 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-08-30 14:34:07.235 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:34:07.235 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:34:07.252 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:34:07.252 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:34:07.252 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:34:07.252 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:34:07.252 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:34:07.253 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-08-30 14:34:07.257 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-08-30 14:34:07.262 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:34:07.263 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-08-30 14:34:07.263 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:34:07.264 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:34:07.280 -05:00 [INF] Applying migration '20240830193340_V3.0.4'.
2024-08-30 14:34:07.345 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:34:07.345 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:34:07.347 -05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-30 14:34:07.352 -05:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-08-30 14:34:07.353 -05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-08-30 14:34:07.353 -05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-08-30 14:34:07.354 -05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-08-30 14:34:07.354 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Libro]') AND [c].[name] = N'Stock');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Libro] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Libro] DROP COLUMN [Stock];
2024-08-30 14:34:07.395 -05:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Libro]') AND [c].[name] = N'Stock');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Libro] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Libro] DROP COLUMN [Stock];
2024-08-30 14:34:07.395 -05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-08-30 14:34:07.395 -05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-08-30 14:34:07.395 -05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-08-30 14:34:07.395 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240830193340_V3.0.4', N'8.0.6');
2024-08-30 14:34:07.397 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240830193340_V3.0.4', N'8.0.6');
2024-08-30 14:34:07.398 -05:00 [DBG] Committing transaction.
2024-08-30 14:34:07.402 -05:00 [DBG] Committed transaction.
2024-08-30 14:34:07.403 -05:00 [DBG] Disposing transaction.
2024-08-30 14:34:07.403 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:34:07.403 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:34:07.405 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:34:07.406 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:34:07.407 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:34:54.230 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-08-30 14:34:54.415 -05:00 [DBG] Hosting starting
2024-08-30 14:34:54.489 -05:00 [INF] User profile is available. Using 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-30 14:34:54.507 -05:00 [DBG] Reading data from file 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys\key-12ed5171-7863-4d3e-a216-6f5439158e60.xml'.
2024-08-30 14:34:54.526 -05:00 [DBG] Found key {12ed5171-7863-4d3e-a216-6f5439158e60}.
2024-08-30 14:34:54.535 -05:00 [DBG] Considering key {12ed5171-7863-4d3e-a216-6f5439158e60} with expiration date 2024-09-28 19:27:42Z as default key.
2024-08-30 14:34:54.538 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-30 14:34:54.542 -05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-08-30 14:34:54.544 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-08-30 14:34:54.547 -05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-08-30 14:34:54.548 -05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-08-30 14:34:54.549 -05:00 [DBG] Using key {12ed5171-7863-4d3e-a216-6f5439158e60} as the default key.
2024-08-30 14:34:54.550 -05:00 [DBG] Key ring with default key {12ed5171-7863-4d3e-a216-6f5439158e60} was loaded during application startup.
2024-08-30 14:34:54.868 -05:00 [INF] Now listening on: https://localhost:7299
2024-08-30 14:34:54.868 -05:00 [INF] Now listening on: http://localhost:5219
2024-08-30 14:34:54.868 -05:00 [DBG] Loaded hosting startup assembly biblioteca-backend
2024-08-30 14:34:54.868 -05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-08-30 14:34:54.868 -05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-08-30 14:34:54.868 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-30 14:34:54.869 -05:00 [INF] Hosting environment: Development
2024-08-30 14:34:54.869 -05:00 [INF] Content root path: C:\Users\spatino\Documents\Proyeco - Biblioteca\biblioteca-backend
2024-08-30 14:34:54.869 -05:00 [DBG] Hosting started
2024-08-30 14:34:55.093 -05:00 [DBG] Connection id "0HN695B9L2RSQ" received FIN.
2024-08-30 14:34:55.103 -05:00 [DBG] Connection id "0HN695B9L2RSQ" accepted.
2024-08-30 14:34:55.104 -05:00 [DBG] Connection id "0HN695B9L2RSQ" started.
2024-08-30 14:34:55.130 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-08-30 14:34:55.189 -05:00 [DBG] Connection id "0HN695B9L2RSQ" stopped.
2024-08-30 14:34:55.196 -05:00 [DBG] Connection id "0HN695B9L2RSQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-08-30 14:34:55.278 -05:00 [DBG] Connection id "0HN695B9L2RSR" accepted.
2024-08-30 14:34:55.279 -05:00 [DBG] Connection id "0HN695B9L2RSR" started.
2024-08-30 14:34:55.629 -05:00 [DBG] Connection 0HN695B9L2RSR established using the following protocol: "Tls12"
2024-08-30 14:34:55.819 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/index.html - null null
2024-08-30 14:34:56.520 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-08-30 14:34:56.585 -05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-08-30 14:34:56.586 -05:00 [DBG] Request did not match any endpoints
2024-08-30 14:34:56.855 -05:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-08-30 14:34:56.863 -05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-08-30 14:34:56.930 -05:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-08-30 14:34:56.931 -05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-08-30 14:34:56.935 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/index.html - 200 null text/html;charset=utf-8 1129.122ms
2024-08-30 14:34:56.971 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
2024-08-30 14:34:56.997 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
2024-08-30 14:34:57.013 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 42.0285ms
2024-08-30 14:34:57.174 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 176.7682ms
2024-08-30 14:34:57.249 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
2024-08-30 14:34:57.249 -05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-08-30 14:34:57.249 -05:00 [DBG] Request did not match any endpoints
2024-08-30 14:34:57.556 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 306.8184ms
2024-08-30 14:35:11.354 -05:00 [DBG] Connection id "0HN695B9L2RSS" accepted.
2024-08-30 14:35:11.355 -05:00 [DBG] Connection id "0HN695B9L2RSS" started.
2024-08-30 14:35:11.387 -05:00 [DBG] Connection 0HN695B9L2RSS established using the following protocol: "Tls12"
2024-08-30 14:35:11.399 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-08-30 14:35:11.422 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:35:11.423 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:35:11.429 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:35:11.432 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:35:11.433 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:35:11.434 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:35:11.435 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - 204 null null 37.4253ms
2024-08-30 14:35:11.441 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-08-30 14:35:11.442 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:35:11.447 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 14:35:11.447 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:35:11.448 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:35:11.449 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:35:11.449 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:35:11.723 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:35:11.727 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:35:11.734 -05:00 [DBG] Authorization was successful.
2024-08-30 14:35:11.735 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:35:11.765 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 14:35:11.766 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:35:11.766 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:35:11.767 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:35:11.767 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:35:11.767 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:35:11.769 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:35:11.936 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-08-30 14:35:11.964 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:35:11.982 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:35:11.986 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-08-30 14:35:11.987 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:35:11.987 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:35:11.987 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:35:11.992 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:35:12.097 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:35:14.289 -05:00 [DBG] Consultando libros...
2024-08-30 14:35:15.119 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:35:15.198 -05:00 [DBG] Compiling query expression: 
'DbSet<Libro>()
    .Join(
        inner: DbSet<Genero>(), 
        outerKeySelector: L => L.IdGenero, 
        innerKeySelector: G => G.Id, 
        resultSelector: (L, G) => new { 
            L = L, 
            G = G
         })
    .Where(<>h__TransparentIdentifier0 => True && <>h__TransparentIdentifier0.L.Activo == True || False)
    .Select(<>h__TransparentIdentifier0 => new { 
        id = <>h__TransparentIdentifier0.L.Id, 
        titulo = <>h__TransparentIdentifier0.L.Titulo, 
        autor = <>h__TransparentIdentifier0.L.Autor, 
        anio = <>h__TransparentIdentifier0.L.Anio, 
        idGenero = <>h__TransparentIdentifier0.L.IdGenero, 
        genero = <>h__TransparentIdentifier0.G.Nombre, 
        activo = <>h__TransparentIdentifier0.L.Activo
     })'
2024-08-30 14:35:15.605 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType5<int, string, string, int, int, string, bool>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            id -> 0
            titulo -> 1
            autor -> 2
            anio -> 3
            idGenero -> 4
            genero -> 5
            activo -> 6
        SELECT l.Id AS id, l.Titulo AS titulo, l.Autor AS autor, l.Anio AS anio, l.IdGenero AS idGenero, g.Nombre AS genero, l.Activo AS activo
        FROM Libro AS l
        INNER JOIN Genero AS g ON l.IdGenero == g.Id
        WHERE (CAST(1 AS bit) && (l.Activo == CAST(1 AS bit))) || CAST(0 AS bit)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType5<int, string, string, int, int, string, bool>>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-08-30 14:35:15.652 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:35:15.676 -05:00 [DBG] Created DbConnection. (20ms).
2024-08-30 14:35:15.678 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:35:16.006 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:35:16.010 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:35:16.017 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-08-30 14:35:16.019 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-08-30 14:35:16.029 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-08-30 14:35:16.087 -05:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-08-30 14:35:16.103 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:35:16.113 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 18ms reading results.
2024-08-30 14:35:16.115 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:35:16.124 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (8ms).
2024-08-30 14:35:16.127 -05:00 [INF] Consulta de libros exitosa
2024-08-30 14:35:16.131 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4029.8596ms.
2024-08-30 14:35:16.136 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:35:16.137 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:35:16.138 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:35:16.138 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:35:16.139 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:35:16.140 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:35:16.158 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 4386.3932ms
2024-08-30 14:35:16.158 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:35:16.161 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:35:16.165 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:35:16.168 -05:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-08-30 14:35:16.169 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 4729.3042ms
2024-08-30 14:35:56.606 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-08-30 14:35:56.626 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 14:35:56.626 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 14:35:56.626 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:35:56.627 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:35:56.627 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:35:56.627 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:35:56.627 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:35:56.632 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:35:56.632 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:35:56.632 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:35:56.632 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:35:56.633 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:35:56.633 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:35:56.633 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 29.3218ms
2024-08-30 14:35:56.633 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 26.7762ms
2024-08-30 14:35:56.639 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-08-30 14:35:56.639 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 14:35:56.639 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 14:35:56.639 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:35:56.640 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 14:35:56.640 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-08-30 14:35:56.640 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:35:56.640 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 14:35:56.640 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:35:56.640 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:35:56.640 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:35:56.640 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:35:56.640 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:35:56.640 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:35:56.644 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:35:56.644 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:35:56.644 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:35:56.644 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:35:56.646 -05:00 [DBG] Authorization was successful.
2024-08-30 14:35:56.646 -05:00 [DBG] Authorization was successful.
2024-08-30 14:35:56.646 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 14:35:56.646 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:35:56.646 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 14:35:56.646 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:35:56.646 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:35:56.647 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:35:56.647 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:35:56.647 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:35:56.647 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:35:56.648 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:35:56.648 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:35:56.648 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-08-30 14:35:56.648 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:35:56.649 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:35:56.649 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:35:56.649 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:35:56.653 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-08-30 14:35:56.653 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:35:56.653 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:35:56.653 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:35:56.653 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:35:56.653 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:35:56.653 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 14:35:56.684 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:36:00.502 -05:00 [DBG] Consultando libros...
2024-08-30 14:36:00.502 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 14:36:00.532 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:36:00.551 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:36:00.553 -05:00 [DBG] Compiling query expression: 
'DbSet<Libro>()
    .Join(
        inner: DbSet<Genero>(), 
        outerKeySelector: L => L.IdGenero, 
        innerKeySelector: G => G.Id, 
        resultSelector: (L, G) => new { 
            L = L, 
            G = G
         })
    .Where(<>h__TransparentIdentifier0 => True)
    .Select(<>h__TransparentIdentifier0 => new { 
        id = <>h__TransparentIdentifier0.L.Id, 
        titulo = <>h__TransparentIdentifier0.L.Titulo, 
        autor = <>h__TransparentIdentifier0.L.Autor, 
        anio = <>h__TransparentIdentifier0.L.Anio, 
        idGenero = <>h__TransparentIdentifier0.L.IdGenero, 
        genero = <>h__TransparentIdentifier0.G.Nombre, 
        activo = <>h__TransparentIdentifier0.L.Activo
     })'
2024-08-30 14:36:00.560 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:36:00.561 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType5<int, string, string, int, int, string, bool>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            id -> 0
            titulo -> 1
            autor -> 2
            anio -> 3
            idGenero -> 4
            genero -> 5
            activo -> 6
        SELECT l.Id AS id, l.Titulo AS titulo, l.Autor AS autor, l.Anio AS anio, l.IdGenero AS idGenero, g.Nombre AS genero, l.Activo AS activo
        FROM Libro AS l
        INNER JOIN Genero AS g ON l.IdGenero == g.Id), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType5<int, string, string, int, int, string, bool>>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-08-30 14:36:00.561 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:36:00.562 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:36:00.562 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:36:00.563 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:36:00.563 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:36:00.563 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:36:00.563 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:36:00.563 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 14:36:00.565 -05:00 [DBG] Compiling query expression: 
'DbSet<Genero>()'
2024-08-30 14:36:00.571 -05:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 14:36:00.572 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:36:00.572 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:36:00.572 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:36:00.573 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:36:00.575 -05:00 [INF] Consulta de libros exitosa
2024-08-30 14:36:00.575 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3891.1462ms.
2024-08-30 14:36:00.576 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:36:00.576 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:36:00.576 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:36:00.576 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:36:00.576 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:36:00.576 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:36:00.577 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 3929.8936ms
2024-08-30 14:36:00.577 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:36:00.577 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:36:00.577 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:36:00.577 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:36:00.578 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 3938.6719ms
2024-08-30 14:36:00.616 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Genero>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Genero.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Genero.Nombre (string) Required, 1] }
        SELECT g.Id, g.Nombre
        FROM Genero AS g), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Genero>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-08-30 14:36:00.630 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:36:00.630 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:36:00.632 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:36:00.634 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:36:00.635 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:36:00.635 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:36:00.635 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:36:00.636 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 14:36:00.656 -05:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 14:36:00.706 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:36:00.727 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:36:00.727 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:36:00.727 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:36:00.727 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:36:00.727 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:36:00.728 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:36:00.728 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:36:00.728 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:36:00.728 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:36:00.728 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:36:00.728 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:36:00.728 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:36:00.731 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:36:00.731 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 74ms reading results.
2024-08-30 14:36:00.732 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:36:00.733 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:36:00.734 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 202.0236ms.
2024-08-30 14:36:00.737 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:36:00.737 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:36:00.739 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:36:00.739 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:36:00.740 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:36:00.740 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:36:00.748 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 4094.3036ms
2024-08-30 14:36:00.749 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 14:36:00.752 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:36:00.752 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:36:00.752 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:36:00.752 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 4114.8396ms
2024-08-30 14:36:33.120 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 14:36:33.121 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:36:33.122 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:36:33.122 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:36:33.122 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:36:33.122 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:36:33.122 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:36:33.122 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 3.0228ms
2024-08-30 14:36:33.124 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-08-30 14:36:33.124 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 14:36:33.124 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:36:33.124 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:36:33.124 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:36:33.124 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:36:33.124 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:36:33.124 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 0.7094ms
2024-08-30 14:36:33.132 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 14:36:33.133 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:36:33.133 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 14:36:33.133 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:36:33.134 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-08-30 14:36:33.134 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 14:36:33.133 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:36:33.134 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-08-30 14:36:33.134 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 14:36:33.134 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:36:33.134 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:36:33.135 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:36:33.135 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:36:33.135 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:36:33.155 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:36:33.155 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:36:33.155 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:36:33.156 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:36:33.158 -05:00 [DBG] Authorization was successful.
2024-08-30 14:36:33.158 -05:00 [DBG] Authorization was successful.
2024-08-30 14:36:33.158 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 14:36:33.158 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:36:33.159 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 14:36:33.159 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-08-30 14:36:33.159 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:36:33.159 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:36:33.159 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:36:33.159 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:36:33.159 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:36:33.159 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:36:33.159 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:36:33.159 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:36:33.159 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:36:33.159 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:36:33.160 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:36:33.160 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 14:36:33.161 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 14:36:33.161 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:36:33.165 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:36:33.166 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-08-30 14:36:33.166 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:36:33.166 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:36:33.166 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:36:33.166 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:36:33.226 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:36:33.226 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:36:33.229 -05:00 [DBG] Consultando libros...
2024-08-30 14:36:33.315 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:36:33.315 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:36:33.316 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:36:33.316 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:36:33.316 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:36:33.316 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:36:33.316 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:36:33.316 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:36:33.316 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:36:33.317 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 14:36:33.328 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:36:33.328 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:36:33.328 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:36:33.342 -05:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 14:36:33.343 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:36:33.343 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:36:33.343 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:36:33.343 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:36:33.343 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:36:33.344 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:36:33.344 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:36:33.344 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:36:33.344 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:36:33.344 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:36:33.344 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:36:33.344 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:36:33.345 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:36:33.345 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:36:33.345 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-08-30 14:36:33.345 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:36:33.345 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:36:33.345 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 119.3855ms.
2024-08-30 14:36:33.346 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:36:33.346 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:36:33.346 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:36:33.346 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:36:33.346 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:36:33.346 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:36:33.346 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:36:33.346 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:36:33.346 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 186.374ms
2024-08-30 14:36:33.346 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:36:33.346 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 14:36:33.346 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:36:33.346 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:36:33.346 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 14:36:33.347 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:36:33.347 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:36:33.347 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 213.3398ms
2024-08-30 14:36:33.348 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 14:36:33.349 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:36:33.349 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:36:33.349 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:36:33.349 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:36:33.352 -05:00 [INF] Consulta de libros exitosa
2024-08-30 14:36:33.352 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 126.3289ms.
2024-08-30 14:36:33.353 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:36:33.354 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:36:33.354 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:36:33.354 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:36:33.354 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:36:33.354 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:36:33.354 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 194.9878ms
2024-08-30 14:36:33.355 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:36:33.355 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:36:33.355 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:36:33.355 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:36:33.355 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 223.3304ms
2024-08-30 14:36:34.915 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-08-30 14:36:34.916 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:36:34.917 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:36:34.917 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:36:34.917 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:36:34.917 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:36:34.917 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:36:34.917 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - 204 null null 2.5595ms
2024-08-30 14:36:34.920 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-08-30 14:36:34.920 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:36:34.920 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 14:36:34.920 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:36:34.921 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:36:34.921 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:36:34.921 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:36:34.921 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:36:34.922 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:36:34.922 -05:00 [DBG] Authorization was successful.
2024-08-30 14:36:34.922 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:36:34.922 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 14:36:34.922 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:36:34.922 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:36:34.923 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:36:34.923 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:36:34.923 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:36:34.923 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:36:34.924 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:36:34.924 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:36:34.924 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-08-30 14:36:34.924 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:36:34.924 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:36:34.925 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:36:34.925 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:36:34.958 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:36:34.960 -05:00 [DBG] Consultando libros...
2024-08-30 14:36:34.961 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:36:34.962 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:36:34.962 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:36:34.962 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:36:34.962 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:36:34.962 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:36:34.962 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:36:34.962 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:36:34.962 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-08-30 14:36:34.965 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-08-30 14:36:34.965 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:36:34.965 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:36:34.965 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:36:34.965 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:36:34.968 -05:00 [INF] Consulta de libros exitosa
2024-08-30 14:36:34.968 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 10.0105ms.
2024-08-30 14:36:34.968 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:36:34.968 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:36:34.968 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:36:34.968 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:36:34.968 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:36:34.968 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:36:34.969 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 45.5241ms
2024-08-30 14:36:34.969 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:36:34.969 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:36:34.969 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:36:34.969 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:36:34.970 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 49.5579ms
2024-08-30 14:36:37.486 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 14:36:37.486 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:36:37.486 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 14:36:37.486 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:36:37.487 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:36:37.487 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:36:37.487 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:36:37.487 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:36:37.487 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:36:37.487 -05:00 [DBG] Authorization was successful.
2024-08-30 14:36:37.487 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:36:37.488 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 14:36:37.488 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:36:37.488 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:36:37.488 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:36:37.488 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:36:37.488 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:36:37.489 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:36:37.489 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:36:37.489 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:36:37.489 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-08-30 14:36:37.489 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:36:37.490 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:36:37.490 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:36:37.490 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:36:37.492 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-08-30 14:36:37.526 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 14:36:37.526 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-08-30 14:36:37.526 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 14:36:37.526 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:36:37.527 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:36:37.528 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:36:37.528 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:36:37.529 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:36:37.529 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:36:37.529 -05:00 [DBG] Authorization was successful.
2024-08-30 14:36:37.529 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 14:36:37.529 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-08-30 14:36:37.529 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:36:37.529 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:36:37.530 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:36:37.530 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:36:37.531 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:36:37.531 -05:00 [DBG] Consultando libros...
2024-08-30 14:36:37.531 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 14:36:37.531 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 14:36:37.565 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:36:37.565 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:36:37.566 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:36:37.566 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:36:37.567 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:36:37.567 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:36:37.567 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:36:37.567 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:36:37.567 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:36:37.567 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:36:37.567 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:36:37.567 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:36:37.567 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:36:37.567 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:36:37.567 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 14:36:37.567 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:36:37.567 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:36:37.568 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:36:37.568 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 14:36:37.573 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 14:36:37.574 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:36:37.574 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:36:37.574 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:36:37.575 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:36:37.575 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:36:37.575 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:36:37.575 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:36:37.575 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:36:37.575 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:36:37.575 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:36:37.575 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:36:37.576 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:36:37.576 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:36:37.576 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:36:37.576 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-08-30 14:36:37.576 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:36:37.576 -05:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 14:36:37.576 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:36:37.577 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:36:37.577 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 11.2496ms.
2024-08-30 14:36:37.577 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:36:37.577 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:36:37.577 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:36:37.577 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:36:37.578 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:36:37.579 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:36:37.579 -05:00 [INF] Consulta de libros exitosa
2024-08-30 14:36:37.579 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:36:37.579 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 52.7074ms.
2024-08-30 14:36:37.580 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:36:37.580 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:36:37.580 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:36:37.580 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:36:37.580 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:36:37.580 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:36:37.580 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:36:37.580 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 48.8021ms
2024-08-30 14:36:37.580 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:36:37.580 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 14:36:37.580 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 91.6851ms
2024-08-30 14:36:37.580 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:36:37.580 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:36:37.580 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:36:37.580 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:36:37.580 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:36:37.580 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:36:37.580 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:36:37.581 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 94.8612ms
2024-08-30 14:36:37.581 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 88.6814ms
2024-08-30 14:38:04.448 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 14:38:04.449 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:38:04.449 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:38:04.449 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:38:04.449 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:38:04.449 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:38:04.449 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:38:04.450 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 2.0439ms
2024-08-30 14:38:04.453 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-08-30 14:38:04.454 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 14:38:04.454 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:38:04.454 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:38:04.454 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:38:04.454 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:38:04.454 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:38:04.454 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 0.9095ms
2024-08-30 14:38:04.476 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 14:38:04.484 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:38:04.484 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 14:38:04.484 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:38:04.499 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:38:04.499 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:38:04.499 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:38:04.500 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:38:04.500 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:38:04.500 -05:00 [DBG] Authorization was successful.
2024-08-30 14:38:04.500 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:38:04.501 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 14:38:04.501 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:38:04.501 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:38:04.502 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:38:04.502 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:38:04.502 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:38:04.502 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:38:04.506 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-08-30 14:38:04.526 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:38:04.526 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 14:38:04.527 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-08-30 14:38:04.527 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 14:38:04.530 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:38:04.530 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:38:04.530 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-08-30 14:38:04.530 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:38:04.531 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:38:04.531 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:38:04.531 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:38:04.531 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:38:04.531 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:38:04.531 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:38:04.531 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:38:04.531 -05:00 [DBG] Authorization was successful.
2024-08-30 14:38:04.531 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 14:38:04.537 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-08-30 14:38:04.564 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:38:04.564 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:38:04.564 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:38:04.565 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:38:04.571 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:38:04.573 -05:00 [DBG] Consultando libros...
2024-08-30 14:38:04.573 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:38:04.573 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 14:38:04.574 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 14:38:04.574 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:38:04.581 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:38:04.583 -05:00 [DBG] Created DbConnection. (1ms).
2024-08-30 14:38:04.583 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:38:04.583 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:38:04.585 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:38:04.585 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:38:04.586 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:38:04.586 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 14:38:04.663 -05:00 [INF] Executed DbCommand (77ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 14:38:04.663 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:38:04.663 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:38:04.663 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:38:04.664 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:38:04.664 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:38:04.666 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:38:04.667 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:38:04.668 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:38:04.668 -05:00 [INF] Consulta de libros exitosa
2024-08-30 14:38:04.668 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:38:04.668 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 103.8426ms.
2024-08-30 14:38:04.669 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:38:04.669 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:38:04.669 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:38:04.669 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:38:04.669 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:38:04.669 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:38:04.669 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:38:04.669 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:38:04.669 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:38:04.669 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:38:04.669 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 14:38:04.669 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 167.2149ms
2024-08-30 14:38:04.669 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:38:04.669 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:38:04.670 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:38:04.670 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:38:04.671 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 194.439ms
2024-08-30 14:38:04.672 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 14:38:04.674 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:38:04.674 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:38:04.674 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:38:04.675 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:38:04.675 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:38:04.675 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:38:04.675 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:38:04.675 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:38:04.675 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:38:04.675 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:38:04.675 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:38:04.675 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:38:04.675 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:38:04.675 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:38:04.675 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-08-30 14:38:04.676 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:38:04.676 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:38:04.676 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 12.4878ms.
2024-08-30 14:38:04.676 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:38:04.676 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:38:04.676 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:38:04.676 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:38:04.677 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:38:04.677 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:38:04.677 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 103.8066ms
2024-08-30 14:38:04.677 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 14:38:04.677 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:38:04.677 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:38:04.677 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:38:04.678 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 171.2368ms
2024-08-30 14:38:23.857 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 14:38:23.857 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-08-30 14:38:23.857 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:38:23.857 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 14:38:23.857 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:38:23.857 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:38:23.857 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:38:23.857 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:38:23.857 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:38:23.857 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:38:23.857 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:38:23.858 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 1.9676ms
2024-08-30 14:38:23.858 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:38:23.858 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:38:23.858 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:38:23.859 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 2.0454ms
2024-08-30 14:38:23.863 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 14:38:23.863 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:38:23.863 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 14:38:23.864 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-08-30 14:38:23.864 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:38:23.864 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 14:38:23.864 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:38:23.864 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-08-30 14:38:23.864 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:38:23.864 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 14:38:23.864 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:38:23.864 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:38:23.864 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:38:23.864 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:38:23.866 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:38:23.866 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:38:23.866 -05:00 [DBG] Authorization was successful.
2024-08-30 14:38:23.866 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:38:23.866 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:38:23.866 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:38:23.866 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 14:38:23.866 -05:00 [DBG] Authorization was successful.
2024-08-30 14:38:23.866 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:38:23.866 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 14:38:23.866 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:38:23.866 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-08-30 14:38:23.867 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:38:23.867 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:38:23.867 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:38:23.867 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:38:23.867 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:38:23.867 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:38:23.867 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:38:23.867 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:38:23.867 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:38:23.867 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 14:38:23.867 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:38:23.867 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 14:38:23.867 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:38:23.867 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-08-30 14:38:23.868 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:38:23.869 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:38:23.869 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:38:23.869 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:38:23.996 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:38:23.996 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:38:24.001 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:38:24.001 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:38:24.001 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:38:24.002 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:38:24.002 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:38:24.002 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:38:24.002 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:38:24.002 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:38:24.003 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 14:38:24.003 -05:00 [DBG] Consultando libros...
2024-08-30 14:38:24.006 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:38:24.007 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:38:24.007 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 14:38:24.007 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:38:24.007 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:38:24.007 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:38:24.007 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:38:24.007 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:38:24.007 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:38:24.007 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:38:24.007 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:38:24.007 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:38:24.007 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:38:24.008 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:38:24.008 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 14:38:24.008 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:38:24.008 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:38:24.008 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:38:24.008 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:38:24.008 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:38:24.008 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:38:24.008 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:38:24.008 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:38:24.008 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:38:24.008 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-08-30 14:38:24.009 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:38:24.009 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:38:24.009 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 13.1401ms.
2024-08-30 14:38:24.009 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 14:38:24.009 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:38:24.009 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:38:24.009 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:38:24.009 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:38:24.009 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:38:24.009 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:38:24.009 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:38:24.009 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:38:24.009 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:38:24.010 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 142.7222ms
2024-08-30 14:38:24.010 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:38:24.010 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 14:38:24.013 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:38:24.013 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:38:24.013 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:38:24.013 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 149.3537ms
2024-08-30 14:38:24.013 -05:00 [INF] Consulta de libros exitosa
2024-08-30 14:38:24.015 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 17.9583ms.
2024-08-30 14:38:24.016 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:38:24.016 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:38:24.016 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:38:24.016 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:38:24.016 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:38:24.016 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:38:24.017 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 150.0685ms
2024-08-30 14:38:24.017 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:38:24.018 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:38:24.018 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:38:24.018 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:38:24.018 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 155.4132ms
2024-08-30 14:39:10.168 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-08-30 14:39:10.169 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 14:39:10.169 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:39:10.169 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:39:10.169 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 14:39:10.170 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:39:10.170 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:39:10.170 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:39:10.170 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:39:10.170 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:39:10.170 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:39:10.170 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:39:10.170 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:39:10.170 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:39:10.170 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 2.4969ms
2024-08-30 14:39:10.170 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 1.7151ms
2024-08-30 14:39:10.195 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-08-30 14:39:10.195 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 14:39:10.196 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-08-30 14:39:10.196 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 14:39:10.196 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:39:10.196 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:39:10.196 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:39:10.196 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:39:10.197 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:39:10.197 -05:00 [DBG] Authorization was successful.
2024-08-30 14:39:10.197 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 14:39:10.197 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-08-30 14:39:10.197 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:39:10.197 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:39:10.197 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:39:10.197 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:39:10.198 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:39:10.198 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 14:39:10.198 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 14:39:10.251 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 14:39:10.251 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:39:10.251 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:39:10.251 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 14:39:10.251 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:39:10.251 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:39:10.251 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:39:10.251 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:39:10.251 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:39:10.251 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:39:10.251 -05:00 [DBG] Authorization was successful.
2024-08-30 14:39:10.251 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:39:10.252 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:39:10.252 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 14:39:10.252 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:39:10.252 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:39:10.252 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:39:10.252 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:39:10.252 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:39:10.252 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:39:10.252 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:39:10.252 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:39:10.252 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:39:10.252 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:39:10.252 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:39:10.252 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:39:10.252 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:39:10.252 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:39:10.253 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 14:39:10.253 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:39:10.253 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-08-30 14:39:10.253 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:39:10.253 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:39:10.254 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:39:10.254 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:39:10.288 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:39:10.289 -05:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 14:39:10.290 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:39:10.291 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:39:10.291 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:39:10.291 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:39:10.291 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:39:10.291 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:39:10.291 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:39:10.291 -05:00 [DBG] Consultando libros...
2024-08-30 14:39:10.291 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:39:10.292 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:39:10.292 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:39:10.292 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:39:10.292 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:39:10.292 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:39:10.292 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:39:10.292 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-08-30 14:39:10.292 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:39:10.292 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:39:10.292 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:39:10.293 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 41.7948ms.
2024-08-30 14:39:10.293 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:39:10.293 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:39:10.293 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:39:10.293 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:39:10.293 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:39:10.293 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:39:10.293 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:39:10.293 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:39:10.293 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:39:10.293 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 95.6471ms
2024-08-30 14:39:10.293 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 14:39:10.293 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:39:10.294 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:39:10.294 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:39:10.294 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:39:10.294 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:39:10.294 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:39:10.294 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 99.7834ms
2024-08-30 14:39:10.294 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:39:10.294 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 14:39:10.307 -05:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 14:39:10.308 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:39:10.308 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:39:10.308 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:39:10.308 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:39:10.315 -05:00 [INF] Consulta de libros exitosa
2024-08-30 14:39:10.316 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 27.9726ms.
2024-08-30 14:39:10.316 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:39:10.316 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:39:10.316 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:39:10.316 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:39:10.317 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:39:10.317 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:39:10.317 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 64.9419ms
2024-08-30 14:39:10.317 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:39:10.317 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:39:10.317 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:39:10.318 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:39:10.319 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 68.9229ms
2024-08-30 14:39:29.432 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 14:39:29.432 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-08-30 14:39:29.432 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:39:29.432 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 14:39:29.432 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:39:29.432 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:39:29.433 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:39:29.433 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:39:29.433 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:39:29.433 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:39:29.433 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:39:29.433 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:39:29.433 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:39:29.433 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:39:29.433 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 1.1913ms
2024-08-30 14:39:29.433 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 1.0546ms
2024-08-30 14:39:29.441 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-08-30 14:39:29.442 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 14:39:29.442 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-08-30 14:39:29.442 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 14:39:29.442 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:39:29.442 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 14:39:29.442 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:39:29.442 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:39:29.443 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 14:39:29.443 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:39:29.443 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:39:29.443 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:39:29.443 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:39:29.443 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:39:29.443 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:39:29.443 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:39:29.443 -05:00 [DBG] Authorization was successful.
2024-08-30 14:39:29.443 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:39:29.444 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:39:29.444 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:39:29.444 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 14:39:29.444 -05:00 [DBG] Authorization was successful.
2024-08-30 14:39:29.444 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 14:39:29.444 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:39:29.444 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-08-30 14:39:29.449 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:39:29.444 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:39:29.449 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:39:29.449 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:39:29.449 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:39:29.449 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:39:29.449 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:39:29.449 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:39:29.450 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:39:29.450 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:39:29.450 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 14:39:29.450 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:39:29.450 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:39:29.450 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 14:39:29.450 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-08-30 14:39:29.450 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:39:29.452 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:39:29.452 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:39:29.452 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:39:29.529 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:39:29.532 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:39:29.588 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:39:29.588 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:39:29.588 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:39:29.589 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:39:29.591 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:39:29.591 -05:00 [DBG] Consultando libros...
2024-08-30 14:39:29.591 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:39:29.592 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:39:29.592 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:39:29.592 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 14:39:29.594 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:39:29.597 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 14:39:29.598 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:39:29.598 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:39:29.598 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:39:29.598 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:39:29.599 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:39:29.599 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:39:29.599 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:39:29.599 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:39:29.599 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:39:29.599 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 14:39:29.600 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:39:29.600 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:39:29.600 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:39:29.600 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:39:29.600 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:39:29.600 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:39:29.601 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:39:29.601 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:39:29.601 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:39:29.601 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:39:29.601 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:39:29.601 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 14:39:29.601 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:39:29.601 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:39:29.601 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-08-30 14:39:29.601 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:39:29.602 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:39:29.602 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:39:29.602 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:39:29.602 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:39:29.603 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 73.9847ms.
2024-08-30 14:39:29.604 -05:00 [INF] Consulta de libros exitosa
2024-08-30 14:39:29.604 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:39:29.605 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.3139ms.
2024-08-30 14:39:29.605 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:39:29.605 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:39:29.605 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:39:29.605 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:39:29.605 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:39:29.605 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:39:29.605 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:39:29.605 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:39:29.605 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:39:29.605 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 155.4494ms
2024-08-30 14:39:29.605 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 14:39:29.605 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:39:29.605 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:39:29.605 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:39:29.605 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:39:29.606 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:39:29.606 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 164.7466ms
2024-08-30 14:39:29.606 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 156.0115ms
2024-08-30 14:39:29.606 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:39:29.606 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:39:29.606 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:39:29.606 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:39:29.607 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 164.6213ms
2024-08-30 14:39:32.785 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-08-30 14:39:32.785 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 14:39:32.786 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 14:39:32.786 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:39:32.787 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 14:39:32.787 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-08-30 14:39:32.787 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 14:39:32.787 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:39:32.787 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:39:32.787 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:39:32.787 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:39:32.787 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:39:32.787 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:39:32.787 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:39:32.788 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:39:32.788 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:39:32.788 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:39:32.788 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:39:32.788 -05:00 [DBG] Authorization was successful.
2024-08-30 14:39:32.788 -05:00 [DBG] Authorization was successful.
2024-08-30 14:39:32.788 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:39:32.788 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 14:39:32.788 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 14:39:32.788 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-08-30 14:39:32.788 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:39:32.788 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:39:32.789 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:39:32.789 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:39:32.789 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:39:32.789 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:39:32.789 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:39:32.789 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:39:32.789 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:39:32.789 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 14:39:32.789 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:39:32.789 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:39:32.789 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 14:39:32.789 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:39:32.790 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:39:32.864 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-08-30 14:39:32.865 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:39:32.865 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:39:32.865 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:39:32.865 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:39:32.865 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:39:32.867 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:39:32.893 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:39:32.893 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:39:32.896 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:39:32.898 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:39:32.898 -05:00 [DBG] Consultando libros...
2024-08-30 14:39:32.898 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:39:32.898 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:39:32.898 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:39:32.898 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:39:32.899 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 14:39:32.899 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:39:32.901 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:39:32.901 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 14:39:32.901 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:39:32.901 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:39:32.901 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:39:32.901 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:39:32.901 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:39:32.902 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:39:32.902 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:39:32.910 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-08-30 14:39:32.913 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:39:32.913 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 14:39:32.913 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:39:32.913 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:39:32.913 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:39:32.913 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:39:32.916 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 14:39:32.916 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:39:32.916 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:39:32.916 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:39:32.917 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:39:32.917 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:39:32.917 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:39:32.917 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:39:32.917 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:39:32.917 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:39:32.917 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:39:32.917 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:39:32.918 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 16ms reading results.
2024-08-30 14:39:32.918 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:39:32.919 -05:00 [INF] Consulta de libros exitosa
2024-08-30 14:39:32.919 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:39:32.919 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 25.5676ms.
2024-08-30 14:39:32.919 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 54.5731ms.
2024-08-30 14:39:32.919 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:39:32.919 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:39:32.919 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:39:32.919 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:39:32.919 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:39:32.920 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:39:32.920 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:39:32.920 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:39:32.920 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:39:32.920 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:39:32.920 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:39:32.920 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:39:32.920 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 131.0553ms
2024-08-30 14:39:32.920 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 131.2337ms
2024-08-30 14:39:32.920 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:39:32.920 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 14:39:32.920 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:39:32.920 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:39:32.920 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:39:32.920 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:39:32.920 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 136.3513ms
2024-08-30 14:39:32.921 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:39:32.921 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:39:32.921 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 136.0424ms
2024-08-30 14:41:05.288 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 14:41:05.288 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-08-30 14:41:05.289 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:41:05.289 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 14:41:05.289 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:41:05.289 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:41:05.289 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:41:05.289 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:41:05.289 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:41:05.289 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:41:05.289 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:41:05.289 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:41:05.289 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:41:05.289 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:41:05.289 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 3.3954ms
2024-08-30 14:41:05.289 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 1.1292ms
2024-08-30 14:41:05.364 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 14:41:05.364 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-08-30 14:41:05.364 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:41:05.364 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-08-30 14:41:05.364 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 14:41:05.364 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-08-30 14:41:05.364 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:41:05.364 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 14:41:05.364 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:41:05.364 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:41:05.364 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:41:05.364 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:41:05.364 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:41:05.365 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:41:05.365 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:41:05.365 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:41:05.365 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:41:05.365 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:41:05.365 -05:00 [DBG] Authorization was successful.
2024-08-30 14:41:05.365 -05:00 [DBG] Authorization was successful.
2024-08-30 14:41:05.365 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 14:41:05.365 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:41:05.379 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-08-30 14:41:05.379 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 14:41:05.380 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:41:05.380 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:41:05.380 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:41:05.380 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:41:05.380 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:41:05.380 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:41:05.380 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:41:05.380 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:41:05.380 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:41:05.380 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:41:05.380 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:41:05.380 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:41:05.381 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:41:05.381 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-08-30 14:41:05.381 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:41:05.381 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:41:05.381 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:41:05.381 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:41:05.380 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 14:41:05.511 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:41:05.512 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-08-30 14:41:05.522 -05:00 [DBG] Consultando libros...
2024-08-30 14:41:05.576 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:41:05.577 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:41:05.577 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:41:05.577 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:41:05.577 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:41:05.578 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:05.578 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:05.578 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:41:05.578 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:41:05.578 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:41:05.578 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:41:05.578 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:05.578 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:41:05.578 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 14:41:05.578 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:05.578 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:41:05.578 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:41:05.579 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:41:05.579 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 14:41:05.583 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-08-30 14:41:05.583 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:41:05.584 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:41:05.584 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:41:05.584 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:41:05.584 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:41:05.584 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:41:05.584 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:41:05.584 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:41:05.584 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:41:05.585 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:41:05.585 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:41:05.585 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:41:05.585 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:41:05.585 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:05.585 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-08-30 14:41:05.585 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:05.585 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:41:05.586 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 9.7108ms.
2024-08-30 14:41:05.586 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:41:05.586 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:41:05.586 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:41:05.586 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:41:05.586 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:41:05.586 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:41:05.586 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 206.278ms
2024-08-30 14:41:05.586 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-08-30 14:41:05.587 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:41:05.587 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:05.587 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:41:05.587 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 223.0697ms
2024-08-30 14:41:05.588 -05:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 14:41:05.589 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:05.589 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:41:05.589 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:05.589 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:41:05.602 -05:00 [INF] Consulta de libros exitosa
2024-08-30 14:41:05.602 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 90.3624ms.
2024-08-30 14:41:05.602 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:41:05.602 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:41:05.602 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:41:05.602 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:41:05.602 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:41:05.602 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:41:05.603 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 222.6194ms
2024-08-30 14:41:05.603 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:41:05.603 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:41:05.603 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:05.603 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:41:05.603 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 239.3999ms
2024-08-30 14:41:17.022 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/ - null null
2024-08-30 14:41:17.022 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:41:17.022 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:41:17.022 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:41:17.023 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:41:17.023 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:41:17.023 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:41:17.024 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/ - 204 null null 1.7711ms
2024-08-30 14:41:17.027 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Libros/ - application/json 109
2024-08-30 14:41:17.027 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:41:17.027 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Post (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 14:41:17.028 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Post (biblioteca-backend)'
2024-08-30 14:41:17.028 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:41:17.028 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:41:17.028 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:41:17.028 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:41:17.028 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:41:17.029 -05:00 [DBG] Authorization was successful.
2024-08-30 14:41:17.029 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Post (biblioteca-backend)'
2024-08-30 14:41:17.033 -05:00 [INF] Route matched with {action = "Post", controller = "Libros"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(biblioteca_backend.Models.Libro) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 14:41:17.034 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:41:17.034 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:41:17.034 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:41:17.034 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:41:17.034 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:41:17.034 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:41:17.034 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:41:17.034 -05:00 [DBG] Attempting to bind parameter 'libro' of type 'biblioteca_backend.Models.Libro' ...
2024-08-30 14:41:17.035 -05:00 [DBG] Attempting to bind parameter 'libro' of type 'biblioteca_backend.Models.Libro' using the name '' in request data ...
2024-08-30 14:41:17.036 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-08-30 14:41:17.043 -05:00 [DBG] Connection id "0HN695B9L2RSS", Request id "0HN695B9L2RSS:0000004B": started reading request body.
2024-08-30 14:41:17.043 -05:00 [DBG] Connection id "0HN695B9L2RSS", Request id "0HN695B9L2RSS:0000004B": done reading request body.
2024-08-30 14:41:17.050 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.Libro'
2024-08-30 14:41:17.050 -05:00 [DBG] Done attempting to bind parameter 'libro' of type 'biblioteca_backend.Models.Libro'.
2024-08-30 14:41:17.050 -05:00 [DBG] Done attempting to bind parameter 'libro' of type 'biblioteca_backend.Models.Libro'.
2024-08-30 14:41:17.050 -05:00 [DBG] Attempting to validate the bound parameter 'libro' of type 'biblioteca_backend.Models.Libro' ...
2024-08-30 14:41:17.062 -05:00 [DBG] Done attempting to validate the bound parameter 'libro' of type 'biblioteca_backend.Models.Libro'.
2024-08-30 14:41:17.092 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Post (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:41:17.096 -05:00 [DBG] Guardando libro...
2024-08-30 14:41:17.097 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:41:17.118 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'Libro.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:41:17.148 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:41:17.152 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:41:17.154 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:41:17.167 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-08-30 14:41:17.260 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:41:17.260 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:41:17.260 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:17.260 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:17.268 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:41:17.268 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:41:17.272 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-08-30 14:41:17.277 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Libro] ([Activo], [Anio], [Autor], [IdGenero], [Titulo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-08-30 14:41:17.343 -05:00 [INF] Executed DbCommand (71ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Libro] ([Activo], [Anio], [Autor], [IdGenero], [Titulo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-08-30 14:41:17.356 -05:00 [DBG] The foreign key property 'Libro.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-08-30 14:41:17.363 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:17.363 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 19ms reading results.
2024-08-30 14:41:17.364 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:17.364 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:41:17.378 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:41:17.380 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-08-30 14:41:17.382 -05:00 [INF] Libro guardado exitosamente
2024-08-30 14:41:17.383 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Post (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 290.578ms.
2024-08-30 14:41:17.383 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:41:17.383 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:41:17.383 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:41:17.383 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:41:17.383 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:41:17.383 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType10`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-30 14:41:17.385 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Post (biblioteca-backend) in 351.3404ms
2024-08-30 14:41:17.385 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Post (biblioteca-backend)'
2024-08-30 14:41:17.385 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:41:17.385 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:17.385 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:41:17.386 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Libros/ - 200 null application/json; charset=utf-8 358.9975ms
2024-08-30 14:41:17.397 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 14:41:17.397 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:41:17.397 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:41:17.397 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:41:17.397 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:41:17.397 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:41:17.397 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:41:17.398 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 0.7915ms
2024-08-30 14:41:17.402 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 14:41:17.402 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:41:17.402 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 14:41:17.402 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:41:17.402 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:41:17.402 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:41:17.402 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:41:17.403 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:41:17.403 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:41:17.403 -05:00 [DBG] Authorization was successful.
2024-08-30 14:41:17.403 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:41:17.403 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 14:41:17.403 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:41:17.403 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:41:17.403 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:41:17.403 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:41:17.403 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:41:17.404 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:41:17.404 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:41:17.404 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:41:17.404 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-08-30 14:41:17.404 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:41:17.404 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:41:17.404 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:41:17.404 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:41:17.448 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:41:17.450 -05:00 [DBG] Consultando libros...
2024-08-30 14:41:17.451 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:41:17.451 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:41:17.451 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:41:17.451 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:17.451 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:17.451 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:41:17.451 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:41:17.451 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:41:17.451 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 14:41:17.452 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 14:41:17.452 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:17.452 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:41:17.452 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:17.452 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:41:17.454 -05:00 [INF] Consulta de libros exitosa
2024-08-30 14:41:17.454 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 6.422ms.
2024-08-30 14:41:17.454 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:41:17.455 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:41:17.455 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:41:17.455 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:41:17.455 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:41:17.455 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:41:17.455 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 51.3518ms
2024-08-30 14:41:17.455 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:41:17.455 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:41:17.455 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:17.455 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:41:17.455 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 53.519ms
2024-08-30 14:41:22.692 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/ - null null
2024-08-30 14:41:22.692 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:41:22.692 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:41:22.692 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:41:22.693 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:41:22.693 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:41:22.693 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:41:22.694 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/ - 204 null null 1.993ms
2024-08-30 14:41:22.697 -05:00 [INF] Request starting HTTP/2 PUT https://localhost:7299/api/Libros/ - application/json 113
2024-08-30 14:41:22.697 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:41:22.697 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Put (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 14:41:22.697 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Put (biblioteca-backend)'
2024-08-30 14:41:22.697 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:41:22.698 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:41:22.698 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:41:22.698 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:41:22.698 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:41:22.699 -05:00 [DBG] Authorization was successful.
2024-08-30 14:41:22.699 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Put (biblioteca-backend)'
2024-08-30 14:41:22.709 -05:00 [INF] Route matched with {action = "Put", controller = "Libros"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(biblioteca_backend.Models.Libro) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 14:41:22.709 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:41:22.709 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:41:22.709 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:41:22.709 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:41:22.709 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:41:22.709 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:41:22.709 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:41:22.710 -05:00 [DBG] Attempting to bind parameter 'libro' of type 'biblioteca_backend.Models.Libro' ...
2024-08-30 14:41:22.710 -05:00 [DBG] Attempting to bind parameter 'libro' of type 'biblioteca_backend.Models.Libro' using the name '' in request data ...
2024-08-30 14:41:22.710 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-08-30 14:41:22.710 -05:00 [DBG] Connection id "0HN695B9L2RSS", Request id "0HN695B9L2RSS:00000053": started reading request body.
2024-08-30 14:41:22.710 -05:00 [DBG] Connection id "0HN695B9L2RSS", Request id "0HN695B9L2RSS:00000053": done reading request body.
2024-08-30 14:41:22.711 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.Libro'
2024-08-30 14:41:22.711 -05:00 [DBG] Done attempting to bind parameter 'libro' of type 'biblioteca_backend.Models.Libro'.
2024-08-30 14:41:22.711 -05:00 [DBG] Done attempting to bind parameter 'libro' of type 'biblioteca_backend.Models.Libro'.
2024-08-30 14:41:22.711 -05:00 [DBG] Attempting to validate the bound parameter 'libro' of type 'biblioteca_backend.Models.Libro' ...
2024-08-30 14:41:22.712 -05:00 [DBG] Done attempting to validate the bound parameter 'libro' of type 'biblioteca_backend.Models.Libro'.
2024-08-30 14:41:22.762 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Put (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:41:22.767 -05:00 [DBG] Actualizando libro con id 86...
2024-08-30 14:41:22.767 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:41:22.768 -05:00 [DBG] Compiling query expression: 
'DbSet<Libro>()
    .FirstOrDefault(e => e.Id == __libro_Id_0)'
2024-08-30 14:41:22.775 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Libro>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Libro.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Libro.Activo (bool) Required, 1], [Property: Libro.Anio (int) Required, 2], [Property: Libro.Autor (string) Required, 3], [Property: Libro.IdGenero (int) Required FK Index, 4], [Property: Libro.Titulo (string) Required, 5] }
        SELECT TOP(1) l.Id, l.Activo, l.Anio, l.Autor, l.IdGenero, l.Titulo
        FROM Libro AS l
        WHERE l.Id == @__libro_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Libro>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-08-30 14:41:22.778 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:41:22.778 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:41:22.778 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:22.778 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:22.778 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:41:22.778 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:41:22.778 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:41:22.778 -05:00 [DBG] Executing DbCommand [Parameters=[@__libro_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Activo], [l].[Anio], [l].[Autor], [l].[IdGenero], [l].[Titulo]
FROM [Libro] AS [l]
WHERE [l].[Id] = @__libro_Id_0
2024-08-30 14:41:22.780 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__libro_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Activo], [l].[Anio], [l].[Autor], [l].[IdGenero], [l].[Titulo]
FROM [Libro] AS [l]
WHERE [l].[Id] = @__libro_Id_0
2024-08-30 14:41:22.780 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:41:22.780 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:22.780 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:41:22.780 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:22.780 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:41:22.781 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:41:22.781 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:41:22.782 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:41:22.782 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-08-30 14:41:22.785 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:22.785 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:22.785 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:41:22.785 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:41:22.785 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:41:22.786 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-08-30 14:41:22.792 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-08-30 14:41:22.793 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:22.793 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-08-30 14:41:22.793 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:22.793 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:41:22.793 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:41:22.794 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-08-30 14:41:22.797 -05:00 [INF] Libro actualizado con id 86
2024-08-30 14:41:22.797 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Put (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 34.9802ms.
2024-08-30 14:41:22.797 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:41:22.797 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:41:22.797 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:41:22.797 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:41:22.797 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:41:22.797 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType10`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-30 14:41:22.797 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Put (biblioteca-backend) in 88.29ms
2024-08-30 14:41:22.798 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Put (biblioteca-backend)'
2024-08-30 14:41:22.798 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:41:22.798 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:22.798 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:41:22.798 -05:00 [INF] Request finished HTTP/2 PUT https://localhost:7299/api/Libros/ - 200 null application/json; charset=utf-8 101.1394ms
2024-08-30 14:41:22.805 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 14:41:22.805 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:41:22.806 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:41:22.806 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:41:22.806 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:41:22.806 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:41:22.806 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:41:22.806 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 1.0081ms
2024-08-30 14:41:22.809 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 14:41:22.809 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:41:22.810 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 14:41:22.810 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:41:22.810 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:41:22.810 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:41:22.810 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:41:22.811 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:41:22.811 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:41:22.811 -05:00 [DBG] Authorization was successful.
2024-08-30 14:41:22.811 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:41:22.811 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 14:41:22.811 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:41:22.811 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:41:22.812 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:41:22.813 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:41:22.813 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:41:22.813 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:41:22.813 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:41:22.813 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:41:22.813 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-08-30 14:41:22.813 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:41:22.813 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:41:22.813 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:41:22.814 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:41:22.847 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:41:22.849 -05:00 [DBG] Consultando libros...
2024-08-30 14:41:22.850 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:41:22.850 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:41:22.850 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:41:22.850 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:22.850 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:22.850 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:41:22.850 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:41:22.850 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:41:22.850 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 14:41:22.851 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 14:41:22.851 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:22.851 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:41:22.852 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:22.852 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:41:22.855 -05:00 [INF] Consulta de libros exitosa
2024-08-30 14:41:22.855 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 7.9332ms.
2024-08-30 14:41:22.855 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:41:22.855 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:41:22.855 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:41:22.855 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:41:22.855 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:41:22.855 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:41:22.855 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 42.5318ms
2024-08-30 14:41:22.855 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:41:22.856 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:41:22.856 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:22.856 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:41:22.856 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 48.0647ms
2024-08-30 14:41:24.843 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/86 - null null
2024-08-30 14:41:24.844 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/86'
2024-08-30 14:41:24.844 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:41:24.844 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:41:24.845 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:41:24.845 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:41:24.845 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:41:24.846 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/86 - 204 null null 2.2285ms
2024-08-30 14:41:24.848 -05:00 [INF] Request starting HTTP/2 DELETE https://localhost:7299/api/Libros/86 - null null
2024-08-30 14:41:24.848 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/86'
2024-08-30 14:41:24.848 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Delete (biblioteca-backend)' with route pattern 'api/Libros/{id}' is valid for the request path '/api/Libros/86'
2024-08-30 14:41:24.849 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Delete (biblioteca-backend)'
2024-08-30 14:41:24.849 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:41:24.849 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:41:24.849 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:41:24.849 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:41:24.849 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:41:24.849 -05:00 [DBG] Authorization was successful.
2024-08-30 14:41:24.849 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Delete (biblioteca-backend)'
2024-08-30 14:41:24.852 -05:00 [INF] Route matched with {action = "Delete", controller = "Libros"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 14:41:24.852 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:41:24.852 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:41:24.853 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:41:24.853 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:41:24.853 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:41:24.853 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:41:24.853 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:41:24.853 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-08-30 14:41:24.853 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-08-30 14:41:24.853 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-08-30 14:41:24.853 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-08-30 14:41:24.853 -05:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-08-30 14:41:24.854 -05:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-08-30 14:41:24.883 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Delete (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:41:24.888 -05:00 [DBG] Eliminando libro con id 86...
2024-08-30 14:41:24.890 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:41:24.902 -05:00 [DBG] Compiling query expression: 
'DbSet<Libro>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)'
2024-08-30 14:41:24.929 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Libro>(
    asyncEnumerable: new SingleQueryingEnumerable<Libro>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Libro.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Libro.Activo (bool) Required, 1], [Property: Libro.Anio (int) Required, 2], [Property: Libro.Autor (string) Required, 3], [Property: Libro.IdGenero (int) Required FK Index, 4], [Property: Libro.Titulo (string) Required, 5] }
            SELECT TOP(1) l.Id, l.Activo, l.Anio, l.Autor, l.IdGenero, l.Titulo
            FROM Libro AS l
            WHERE l.Id == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Libro>, 
        biblioteca_backend.DBBibliotecaContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-30 14:41:24.931 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:41:24.931 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:41:24.931 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:24.931 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:24.931 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:41:24.931 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:41:24.931 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:41:24.931 -05:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Activo], [l].[Anio], [l].[Autor], [l].[IdGenero], [l].[Titulo]
FROM [Libro] AS [l]
WHERE [l].[Id] = @__p_0
2024-08-30 14:41:24.934 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Activo], [l].[Anio], [l].[Autor], [l].[IdGenero], [l].[Titulo]
FROM [Libro] AS [l]
WHERE [l].[Id] = @__p_0
2024-08-30 14:41:24.935 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:41:24.937 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:24.937 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-08-30 14:41:24.937 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:24.938 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:41:24.939 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:41:24.941 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:41:24.941 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:41:24.942 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-08-30 14:41:24.945 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:24.945 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:24.945 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:41:24.945 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:41:24.945 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:41:24.945 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Libro]
OUTPUT 1
WHERE [Id] = @p0;
2024-08-30 14:41:24.949 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Libro]
OUTPUT 1
WHERE [Id] = @p0;
2024-08-30 14:41:24.949 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:24.949 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:41:24.950 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:24.950 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:41:24.954 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:41:24.954 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-08-30 14:41:24.957 -05:00 [INF] Libro eliminado con id 86
2024-08-30 14:41:24.957 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Delete (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 73.5442ms.
2024-08-30 14:41:24.957 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:41:24.957 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:41:24.957 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:41:24.957 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:41:24.957 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:41:24.957 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType10`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-30 14:41:24.958 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Delete (biblioteca-backend) in 104.9199ms
2024-08-30 14:41:24.958 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Delete (biblioteca-backend)'
2024-08-30 14:41:24.958 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:41:24.958 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:24.958 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:41:24.958 -05:00 [INF] Request finished HTTP/2 DELETE https://localhost:7299/api/Libros/86 - 200 null application/json; charset=utf-8 110.2781ms
2024-08-30 14:41:24.965 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-08-30 14:41:24.965 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:41:24.966 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 14:41:24.966 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:41:24.966 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:41:24.966 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:41:24.966 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:41:24.966 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:41:24.966 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:41:24.967 -05:00 [DBG] Authorization was successful.
2024-08-30 14:41:24.967 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:41:24.967 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 14:41:24.967 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:41:24.967 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:41:24.967 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:41:24.967 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:41:24.968 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:41:24.968 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:41:24.968 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:41:24.968 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:41:24.968 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-08-30 14:41:24.968 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:41:24.968 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:41:24.968 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:41:24.968 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:41:25.003 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:41:25.006 -05:00 [DBG] Consultando libros...
2024-08-30 14:41:25.007 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:41:25.008 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:41:25.008 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:41:25.008 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:25.008 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:25.008 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:41:25.008 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:41:25.008 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:41:25.008 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 14:41:25.009 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-08-30 14:41:25.009 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:25.009 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:41:25.009 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:25.009 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:41:25.012 -05:00 [INF] Consulta de libros exitosa
2024-08-30 14:41:25.012 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 8.6675ms.
2024-08-30 14:41:25.012 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:41:25.012 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:41:25.012 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:41:25.012 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:41:25.012 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:41:25.012 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:41:25.013 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 45.0365ms
2024-08-30 14:41:25.013 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:41:25.013 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:41:25.013 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:41:25.013 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:41:25.013 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 49.0719ms
2024-08-30 14:42:01.758 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-08-30 14:42:01.758 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:42:01.758 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:42:01.758 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:42:01.759 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:42:01.759 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:42:01.759 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:42:01.759 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - 204 null null 0.9777ms
2024-08-30 14:42:01.764 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-08-30 14:42:01.764 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:42:01.764 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 14:42:01.764 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:42:01.764 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:42:01.765 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:42:01.765 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:42:01.766 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:42:01.766 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:42:01.767 -05:00 [DBG] Authorization was successful.
2024-08-30 14:42:01.767 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:42:01.768 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 14:42:01.768 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:42:01.769 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:42:01.769 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:42:01.769 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:42:01.769 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:42:01.769 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:42:01.771 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:42:01.771 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:42:01.771 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-08-30 14:42:01.772 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:42:01.772 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:42:01.772 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:42:01.772 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:42:01.807 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:42:01.810 -05:00 [DBG] Consultando libros...
2024-08-30 14:42:01.811 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:42:01.811 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:42:01.811 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:42:01.811 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:01.811 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:01.811 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:42:01.811 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:42:01.812 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:42:01.812 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-08-30 14:42:01.814 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-08-30 14:42:01.815 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:01.815 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:42:01.815 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:01.815 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:42:01.817 -05:00 [INF] Consulta de libros exitosa
2024-08-30 14:42:01.817 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 9.4098ms.
2024-08-30 14:42:01.817 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:42:01.817 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:42:01.817 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:42:01.817 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:42:01.817 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:42:01.817 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:42:01.818 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 48.1236ms
2024-08-30 14:42:01.818 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:42:01.818 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:42:01.818 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:01.818 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:42:01.818 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 54.0896ms
2024-08-30 14:42:07.011 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ - null null
2024-08-30 14:42:07.011 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-08-30 14:42:07.012 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:42:07.012 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:42:07.012 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:42:07.012 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:42:07.012 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:42:07.012 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ - 204 null null 0.4733ms
2024-08-30 14:42:07.014 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Prestmaos/ - application/json 392
2024-08-30 14:42:07.014 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-08-30 14:42:07.014 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-08-30 14:42:07.014 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)'
2024-08-30 14:42:07.015 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:42:07.015 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:42:07.015 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:42:07.015 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:42:07.015 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:42:07.015 -05:00 [DBG] Authorization was successful.
2024-08-30 14:42:07.015 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)'
2024-08-30 14:42:07.019 -05:00 [INF] Route matched with {action = "Post", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(biblioteca_backend.Models.DTOs.PrestamoModel) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-08-30 14:42:07.019 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:42:07.019 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:42:07.019 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:42:07.019 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:42:07.019 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:42:07.019 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-08-30 14:42:07.021 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-08-30 14:42:07.022 -05:00 [DBG] Attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel' ...
2024-08-30 14:42:07.022 -05:00 [DBG] Attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel' using the name '' in request data ...
2024-08-30 14:42:07.022 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-08-30 14:42:07.024 -05:00 [DBG] Connection id "0HN695B9L2RSS", Request id "0HN695B9L2RSS:00000065": started reading request body.
2024-08-30 14:42:07.024 -05:00 [DBG] Connection id "0HN695B9L2RSS", Request id "0HN695B9L2RSS:00000065": done reading request body.
2024-08-30 14:42:07.029 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.PrestamoModel'
2024-08-30 14:42:07.029 -05:00 [DBG] Done attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel'.
2024-08-30 14:42:07.029 -05:00 [DBG] Done attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel'.
2024-08-30 14:42:07.029 -05:00 [DBG] Attempting to validate the bound parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel' ...
2024-08-30 14:42:07.032 -05:00 [DBG] Done attempting to validate the bound parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel'.
2024-08-30 14:42:07.067 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:42:07.073 -05:00 [DBG] Guardando préstamo...
2024-08-30 14:42:07.080 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-08-30 14:42:07.081 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:42:07.090 -05:00 [INF] Libros encontrados exitosamente
2024-08-30 14:42:07.093 -05:00 [DBG] Compiling query expression: 
'DbSet<Perfil>()
    .Join(
        inner: DbSet<Prestamo>(), 
        outerKeySelector: P => P.Id, 
        innerKeySelector: PR => PR.IdPerfil, 
        resultSelector: (P, PR) => new { 
            P = P, 
            PR = PR
         })
    .Join(
        inner: DbSet<DetallePrestamoLibro>(), 
        outerKeySelector: <>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.PR.Id, 
        innerKeySelector: DP => DP.IdPrestamo, 
        resultSelector: (<>h__TransparentIdentifier0, DP) => new { 
            <>h__TransparentIdentifier0 = <>h__TransparentIdentifier0, 
            DP = DP
         })
    .Join(
        inner: DbSet<Libro>(), 
        outerKeySelector: <>h__TransparentIdentifier1 => <>h__TransparentIdentifier1.DP.IdLibro, 
        innerKeySelector: L => L.Id, 
        resultSelector: (<>h__TransparentIdentifier1, L) => new { 
            <>h__TransparentIdentifier1 = <>h__TransparentIdentifier1, 
            L = L
         })
    .Where(<>h__TransparentIdentifier2 => <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.P.Id == __idPerfil_0)
    .Select(<>h__TransparentIdentifier2 => new Libro{ 
        Id = <>h__TransparentIdentifier2.L.Id, 
        Titulo = <>h__TransparentIdentifier2.L.Titulo, 
        Autor = <>h__TransparentIdentifier2.L.Autor, 
        IdGenero = <>h__TransparentIdentifier2.L.IdGenero, 
        Anio = <>h__TransparentIdentifier2.L.Anio, 
        Activo = <>h__TransparentIdentifier2.L.Activo 
    }
    )'
2024-08-30 14:42:07.102 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Libro>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            Id -> 0
            Titulo -> 1
            Autor -> 2
            IdGenero -> 3
            Anio -> 4
            Activo -> 5
        SELECT l.Id, l.Titulo, l.Autor, l.IdGenero, l.Anio, l.Activo
        FROM Perfil AS p
        INNER JOIN Prestamo AS p0 ON p.Id == p0.IdPerfil
        INNER JOIN DetallePrestamoLibro AS d ON p0.Id == d.IdPrestamo
        INNER JOIN Libro AS l ON d.IdLibro == l.Id
        WHERE p.Id == @__idPerfil_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Libro>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-08-30 14:42:07.102 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:42:07.102 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:42:07.102 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:07.102 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:07.102 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:42:07.102 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:42:07.103 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:42:07.103 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-08-30 14:42:07.110 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-08-30 14:42:07.110 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:07.110 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:42:07.110 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:07.110 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:42:07.128 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'Prestamo.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:42:07.140 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:42:07.140 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:42:07.140 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:42:07.143 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-08-30 14:42:07.144 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:07.144 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:07.144 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:42:07.144 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:42:07.145 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:42:07.145 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Prestamo] ([FechaPrestamo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-08-30 14:42:07.152 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Prestamo] ([FechaPrestamo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-08-30 14:42:07.154 -05:00 [DBG] The foreign key property 'Prestamo.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-08-30 14:42:07.154 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:07.155 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-08-30 14:42:07.155 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:07.155 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:42:07.156 -05:00 [DBG] An entity of type 'Prestamo' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:42:07.156 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-08-30 14:42:07.159 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'DetallePrestamoLibro.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:42:07.169 -05:00 [DBG] The navigation 'DetallePrestamoLibro.Prestamo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:42:07.185 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'DetallePrestamoLibro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:42:07.185 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:42:07.185 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:42:07.190 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-08-30 14:42:07.191 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:07.191 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:07.192 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:42:07.192 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:42:07.192 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:42:07.192 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePrestamoLibro] ([IdLibro], [IdPrestamo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-08-30 14:42:07.197 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePrestamoLibro] ([IdLibro], [IdPrestamo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-08-30 14:42:07.198 -05:00 [DBG] The foreign key property 'DetallePrestamoLibro.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-08-30 14:42:07.199 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:07.199 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-08-30 14:42:07.199 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:07.199 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:42:07.200 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:42:07.200 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-08-30 14:42:07.202 -05:00 [DBG] The navigation 'DetallePrestamoLibro.Libro' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:42:07.203 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:42:07.206 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:42:07.206 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:42:07.206 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-08-30 14:42:07.209 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:07.210 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:07.210 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:42:07.210 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:42:07.210 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:42:07.211 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-08-30 14:42:07.214 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-08-30 14:42:07.216 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:07.216 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-08-30 14:42:07.216 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:07.216 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:42:07.216 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:42:07.217 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-08-30 14:42:07.218 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'DetallePrestamoLibro.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:42:07.218 -05:00 [DBG] The navigation 'DetallePrestamoLibro.Prestamo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:42:07.218 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'DetallePrestamoLibro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:42:07.218 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:42:07.218 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:42:07.218 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-08-30 14:42:07.219 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:07.219 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:07.219 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:42:07.219 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:42:07.219 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:42:07.219 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePrestamoLibro] ([IdLibro], [IdPrestamo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-08-30 14:42:07.220 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePrestamoLibro] ([IdLibro], [IdPrestamo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-08-30 14:42:07.221 -05:00 [DBG] The foreign key property 'DetallePrestamoLibro.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-08-30 14:42:07.224 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:07.224 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-08-30 14:42:07.224 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:07.224 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:42:07.224 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:42:07.225 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-08-30 14:42:07.225 -05:00 [DBG] The navigation 'DetallePrestamoLibro.Libro' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:42:07.225 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:42:07.225 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:42:07.225 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:42:07.225 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-08-30 14:42:07.226 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:07.226 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:07.226 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:42:07.226 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:42:07.227 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:42:07.227 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-08-30 14:42:07.228 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-08-30 14:42:07.228 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:07.228 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:42:07.228 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:07.228 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:42:07.228 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:42:07.228 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-08-30 14:42:07.228 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'DetallePrestamoLibro.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:42:07.228 -05:00 [DBG] The navigation 'DetallePrestamoLibro.Prestamo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:42:07.228 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'DetallePrestamoLibro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:42:07.228 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:42:07.229 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:42:07.229 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-08-30 14:42:07.229 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:07.229 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:07.229 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:42:07.229 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:42:07.229 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:42:07.230 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePrestamoLibro] ([IdLibro], [IdPrestamo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-08-30 14:42:07.231 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePrestamoLibro] ([IdLibro], [IdPrestamo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-08-30 14:42:07.231 -05:00 [DBG] The foreign key property 'DetallePrestamoLibro.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-08-30 14:42:07.231 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:07.231 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:42:07.231 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:07.231 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:42:07.232 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:42:07.232 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-08-30 14:42:07.232 -05:00 [DBG] The navigation 'DetallePrestamoLibro.Libro' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:42:07.232 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:42:07.232 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:42:07.232 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:42:07.232 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-08-30 14:42:07.232 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:07.232 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:07.232 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:42:07.233 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:42:07.233 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:42:07.233 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-08-30 14:42:07.234 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-08-30 14:42:07.234 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:07.234 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:42:07.234 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:07.234 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:42:07.234 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:42:07.234 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-08-30 14:42:07.236 -05:00 [INF] Préstamo realizado exitosamente
2024-08-30 14:42:07.237 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 169.9776ms.
2024-08-30 14:42:07.238 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:42:07.238 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:42:07.238 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:42:07.238 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:42:07.238 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:42:07.239 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-30 14:42:07.240 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend) in 220.8893ms
2024-08-30 14:42:07.240 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)'
2024-08-30 14:42:07.240 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:42:07.240 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:07.241 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:42:07.241 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Prestmaos/ - 200 null application/json; charset=utf-8 226.9269ms
2024-08-30 14:42:07.245 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-08-30 14:42:07.245 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:42:07.245 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:42:07.245 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:42:07.245 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:42:07.245 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:42:07.245 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:42:07.245 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - 204 null null 1.0451ms
2024-08-30 14:42:07.248 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-08-30 14:42:07.248 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:42:07.248 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 14:42:07.248 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:42:07.248 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:42:07.248 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:42:07.248 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:42:07.248 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:42:07.248 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:42:07.248 -05:00 [DBG] Authorization was successful.
2024-08-30 14:42:07.248 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:42:07.249 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 14:42:07.249 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:42:07.249 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:42:07.249 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:42:07.249 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:42:07.249 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:42:07.249 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:42:07.249 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:42:07.249 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:42:07.249 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-08-30 14:42:07.249 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:42:07.249 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:42:07.250 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:42:07.250 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:42:07.295 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:42:07.297 -05:00 [DBG] Consultando libros...
2024-08-30 14:42:07.298 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:42:07.299 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:42:07.299 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:42:07.300 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:07.300 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:07.300 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:42:07.300 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:42:07.300 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:42:07.300 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-08-30 14:42:07.304 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-08-30 14:42:07.305 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:07.305 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:42:07.305 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:07.305 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:42:07.308 -05:00 [INF] Consulta de libros exitosa
2024-08-30 14:42:07.309 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 13.2123ms.
2024-08-30 14:42:07.309 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:42:07.309 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:42:07.309 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:42:07.309 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:42:07.309 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:42:07.309 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:42:07.309 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 60.5002ms
2024-08-30 14:42:07.310 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:42:07.310 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:42:07.310 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:07.310 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:42:07.310 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 62.7663ms
2024-08-30 14:42:10.395 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=31 - null null
2024-08-30 14:42:10.395 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-08-30 14:42:10.395 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:42:10.395 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:42:10.395 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:42:10.395 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:42:10.396 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:42:10.396 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=31 - 204 null null 1.0861ms
2024-08-30 14:42:10.408 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=31 - null null
2024-08-30 14:42:10.408 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-08-30 14:42:10.408 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-08-30 14:42:10.408 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-08-30 14:42:10.408 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:42:10.408 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:42:10.408 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:42:10.409 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:42:10.409 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:42:10.409 -05:00 [DBG] Authorization was successful.
2024-08-30 14:42:10.409 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-08-30 14:42:10.411 -05:00 [INF] Route matched with {action = "Get", controller = "Prestmaos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-08-30 14:42:10.411 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:42:10.411 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:42:10.412 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:42:10.412 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:42:10.412 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:42:10.412 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-08-30 14:42:10.413 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-08-30 14:42:10.413 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-08-30 14:42:10.413 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-08-30 14:42:10.413 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-08-30 14:42:10.414 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-08-30 14:42:10.414 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-08-30 14:42:10.414 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-08-30 14:42:10.456 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:42:10.458 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-08-30 14:42:10.459 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:42:10.462 -05:00 [INF] Libros encontrados exitosamente
2024-08-30 14:42:10.464 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:42:10.464 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:42:10.464 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:10.464 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:10.464 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:42:10.464 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:42:10.464 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:42:10.465 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-08-30 14:42:10.471 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-08-30 14:42:10.471 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:10.471 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:42:10.472 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:10.472 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:42:10.473 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.709ms.
2024-08-30 14:42:10.473 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:42:10.473 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:42:10.473 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:42:10.473 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:42:10.473 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:42:10.473 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Collections.Generic.List`1[[biblioteca_backend.Models.Libro, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-30 14:42:10.475 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) in 63.3269ms
2024-08-30 14:42:10.475 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-08-30 14:42:10.475 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:42:10.475 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:10.476 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:42:10.476 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=31 - 200 null application/json; charset=utf-8 68.0272ms
2024-08-30 14:42:11.417 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=31 - null null
2024-08-30 14:42:11.417 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-08-30 14:42:11.417 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:42:11.417 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:42:11.417 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:42:11.417 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:42:11.417 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:42:11.418 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=31 - 204 null null 0.9922ms
2024-08-30 14:42:11.420 -05:00 [INF] Request starting HTTP/2 DELETE https://localhost:7299/api/Prestmaos/?idPerfil=31 - null null
2024-08-30 14:42:11.420 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-08-30 14:42:11.420 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-08-30 14:42:11.420 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend)'
2024-08-30 14:42:11.421 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:42:11.421 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:42:11.421 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:42:11.422 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:42:11.422 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:42:11.422 -05:00 [DBG] Authorization was successful.
2024-08-30 14:42:11.422 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend)'
2024-08-30 14:42:11.427 -05:00 [INF] Route matched with {action = "EliminarPrestamo", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EliminarPrestamo(Int32) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-08-30 14:42:11.427 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:42:11.427 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:42:11.427 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:42:11.427 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:42:11.427 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:42:11.427 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-08-30 14:42:11.428 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-08-30 14:42:11.428 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-08-30 14:42:11.428 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-08-30 14:42:11.428 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-08-30 14:42:11.428 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-08-30 14:42:11.428 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-08-30 14:42:11.428 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-08-30 14:42:11.476 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:42:11.481 -05:00 [DBG] Eliminando préstamo del perfil con id 31
2024-08-30 14:42:11.484 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-08-30 14:42:11.485 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:42:11.488 -05:00 [INF] Libros encontrados exitosamente
2024-08-30 14:42:11.489 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:42:11.489 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:42:11.489 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:11.489 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:11.489 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:42:11.490 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:42:11.490 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:42:11.490 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-08-30 14:42:11.490 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-08-30 14:42:11.490 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:11.490 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:42:11.490 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:11.491 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:42:11.492 -05:00 [DBG] Compiling query expression: 
'DbSet<Prestamo>()
    .FirstOrDefault(p => p.IdPerfil == __idPerfil_0)'
2024-08-30 14:42:11.495 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Prestamo>(
    asyncEnumerable: new SingleQueryingEnumerable<Prestamo>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Prestamo.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Prestamo.FechaPrestamo (DateTime) Required, 1], [Property: Prestamo.IdPerfil (int) Required FK Index, 2] }
            SELECT TOP(1) p.Id, p.FechaPrestamo, p.IdPerfil
            FROM Prestamo AS p
            WHERE p.IdPerfil == @__idPerfil_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Prestamo>, 
        biblioteca_backend.DBBibliotecaContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-08-30 14:42:11.496 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:11.496 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:11.496 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:42:11.496 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:42:11.496 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:42:11.496 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
WHERE [p].[IdPerfil] = @__idPerfil_0
2024-08-30 14:42:11.500 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
WHERE [p].[IdPerfil] = @__idPerfil_0
2024-08-30 14:42:11.502 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:42:11.502 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:11.502 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-08-30 14:42:11.502 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:11.502 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:42:11.503 -05:00 [DBG] Compiling query expression: 
'DbSet<DetallePrestamoLibro>()
    .Where(d => d.IdPrestamo == __prestamo_Id_0)'
2024-08-30 14:42:11.507 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<DetallePrestamoLibro>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: DetallePrestamoLibro.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: DetallePrestamoLibro.IdLibro (int) Required FK Index, 1], [Property: DetallePrestamoLibro.IdPrestamo (int) Required FK Index, 2] }
        SELECT d.Id, d.IdLibro, d.IdPrestamo
        FROM DetallePrestamoLibro AS d
        WHERE d.IdPrestamo == @__prestamo_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, DetallePrestamoLibro>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-08-30 14:42:11.508 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:11.508 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:11.508 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:42:11.508 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:42:11.508 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:42:11.508 -05:00 [DBG] Executing DbCommand [Parameters=[@__prestamo_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[IdLibro], [d].[IdPrestamo]
FROM [DetallePrestamoLibro] AS [d]
WHERE [d].[IdPrestamo] = @__prestamo_Id_0
2024-08-30 14:42:11.510 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__prestamo_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[IdLibro], [d].[IdPrestamo]
FROM [DetallePrestamoLibro] AS [d]
WHERE [d].[IdPrestamo] = @__prestamo_Id_0
2024-08-30 14:42:11.512 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'DetallePrestamoLibro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:42:11.512 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'DetallePrestamoLibro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:42:11.512 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'DetallePrestamoLibro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:42:11.513 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:11.513 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-08-30 14:42:11.513 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:11.513 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:42:11.514 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:42:11.514 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:42:11.514 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:42:11.514 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:42:11.515 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:42:11.515 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-08-30 14:42:11.519 -05:00 [DBG] Executing 3 update commands as a batch.
2024-08-30 14:42:11.521 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:11.521 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:11.523 -05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-08-30 14:42:11.529 -05:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-08-30 14:42:11.530 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:42:11.530 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:42:11.531 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:42:11.531 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p1;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p2;
2024-08-30 14:42:11.535 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p1;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p2;
2024-08-30 14:42:11.535 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:11.535 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:42:11.538 -05:00 [DBG] Committing transaction.
2024-08-30 14:42:11.542 -05:00 [DBG] Committed transaction.
2024-08-30 14:42:11.544 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:11.544 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:42:11.546 -05:00 [DBG] Disposing transaction.
2024-08-30 14:42:11.547 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:42:11.547 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:42:11.547 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:42:11.548 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 3 entities written to the database.
2024-08-30 14:42:11.548 -05:00 [DBG] An entity of type 'Prestamo' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:42:11.548 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:42:11.548 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:42:11.548 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-08-30 14:42:11.548 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:11.549 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:11.549 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:42:11.549 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:42:11.549 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:42:11.549 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Prestamo]
OUTPUT 1
WHERE [Id] = @p0;
2024-08-30 14:42:11.552 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Prestamo]
OUTPUT 1
WHERE [Id] = @p0;
2024-08-30 14:42:11.552 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:11.552 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:42:11.552 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:11.553 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:42:11.553 -05:00 [DBG] An entity of type 'Prestamo' tracked by 'DBBibliotecaContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:42:11.553 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-08-30 14:42:11.553 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:42:11.553 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:42:11.553 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:42:11.553 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-08-30 14:42:11.554 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:11.554 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:11.554 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:42:11.554 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:42:11.554 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:42:11.554 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-08-30 14:42:11.558 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-08-30 14:42:11.558 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:11.558 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:42:11.558 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:11.558 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:42:11.558 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:42:11.558 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-08-30 14:42:11.559 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:42:11.559 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:42:11.559 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:42:11.559 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-08-30 14:42:11.559 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:11.559 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:11.559 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:42:11.559 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:42:11.560 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:42:11.560 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-08-30 14:42:11.561 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-08-30 14:42:11.561 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:11.561 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:42:11.561 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:11.561 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:42:11.561 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:42:11.561 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-08-30 14:42:11.561 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:42:11.561 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:42:11.561 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-08-30 14:42:11.562 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-08-30 14:42:11.562 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:11.562 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:11.562 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:42:11.562 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:42:11.562 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:42:11.562 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-08-30 14:42:11.563 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-08-30 14:42:11.563 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:11.563 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:42:11.563 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:11.563 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:42:11.563 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:42:11.563 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-08-30 14:42:11.566 -05:00 [INF] Se eliminó el préstamo del perfil con id 31
2024-08-30 14:42:11.566 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 89.5971ms.
2024-08-30 14:42:11.566 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:42:11.566 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:42:11.566 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:42:11.566 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:42:11.566 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:42:11.567 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType10`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-30 14:42:11.567 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend) in 139.5146ms
2024-08-30 14:42:11.567 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend)'
2024-08-30 14:42:11.567 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:42:11.567 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:11.567 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:42:11.567 -05:00 [INF] Request finished HTTP/2 DELETE https://localhost:7299/api/Prestmaos/?idPerfil=31 - 200 null application/json; charset=utf-8 147.731ms
2024-08-30 14:42:11.571 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=31 - null null
2024-08-30 14:42:11.571 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-08-30 14:42:11.571 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-08-30 14:42:11.571 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-08-30 14:42:11.571 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:42:11.571 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:42:11.571 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:42:11.572 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:42:11.572 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:42:11.572 -05:00 [DBG] Authorization was successful.
2024-08-30 14:42:11.572 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-08-30 14:42:11.572 -05:00 [INF] Route matched with {action = "Get", controller = "Prestmaos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-08-30 14:42:11.572 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:42:11.572 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:42:11.572 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:42:11.572 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:42:11.573 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:42:11.573 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-08-30 14:42:11.573 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-08-30 14:42:11.573 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-08-30 14:42:11.573 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-08-30 14:42:11.573 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-08-30 14:42:11.573 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-08-30 14:42:11.573 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-08-30 14:42:11.573 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-08-30 14:42:11.601 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:42:11.604 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-08-30 14:42:11.605 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:42:11.607 -05:00 [INF] Libros encontrados exitosamente
2024-08-30 14:42:11.608 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:42:11.608 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:42:11.608 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:11.608 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:11.608 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:42:11.608 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:42:11.608 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:42:11.608 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-08-30 14:42:11.609 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-08-30 14:42:11.609 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:11.609 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:42:11.609 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:11.609 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:42:11.609 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 7.8536ms.
2024-08-30 14:42:11.609 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:42:11.609 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:42:11.609 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:42:11.609 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:42:11.609 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:42:11.609 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Collections.Generic.List`1[[biblioteca_backend.Models.Libro, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-30 14:42:11.609 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) in 36.8228ms
2024-08-30 14:42:11.609 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-08-30 14:42:11.610 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:42:11.610 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:11.610 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:42:11.610 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=31 - 200 null application/json; charset=utf-8 39.2467ms
2024-08-30 14:42:13.194 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-08-30 14:42:13.194 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:42:13.194 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:42:13.194 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:42:13.194 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:42:13.194 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:42:13.194 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:42:13.194 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - 204 null null 0.6325ms
2024-08-30 14:42:13.197 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-08-30 14:42:13.198 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-08-30 14:42:13.198 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-08-30 14:42:13.198 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:42:13.198 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:42:13.198 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:42:13.198 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:42:13.198 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:42:13.199 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:42:13.200 -05:00 [DBG] Authorization was successful.
2024-08-30 14:42:13.200 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:42:13.201 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-08-30 14:42:13.202 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:42:13.202 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:42:13.202 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:42:13.202 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:42:13.202 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:42:13.202 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:42:13.202 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-08-30 14:42:13.203 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:42:13.203 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-08-30 14:42:13.203 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:42:13.204 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:42:13.205 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-08-30 14:42:13.207 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-08-30 14:42:13.249 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:42:13.251 -05:00 [DBG] Consultando libros...
2024-08-30 14:42:13.252 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:42:13.252 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:42:13.252 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:42:13.253 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:13.253 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:13.253 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:42:13.254 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:42:13.255 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-08-30 14:42:13.255 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-08-30 14:42:13.259 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-08-30 14:42:13.260 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:13.260 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-08-30 14:42:13.260 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:13.260 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:42:13.262 -05:00 [INF] Consulta de libros exitosa
2024-08-30 14:42:13.262 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 12.9781ms.
2024-08-30 14:42:13.262 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:42:13.262 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:42:13.262 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:42:13.262 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:42:13.263 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:42:13.263 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:42:13.263 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 60.8377ms
2024-08-30 14:42:13.263 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-08-30 14:42:13.263 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:42:13.263 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:42:13.263 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:42:13.263 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 66.2637ms
2024-08-30 14:43:37.805 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-08-30 14:43:37.805 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-08-30 14:43:37.805 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-08-30 14:43:37.805 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:43:37.805 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:43:37.805 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:43:37.805 -05:00 [DBG] The request is a preflight request.
2024-08-30 14:43:37.806 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Archivos/ConsultarDocumentos - 204 null null 0.9773ms
2024-08-30 14:43:37.828 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-08-30 14:43:37.834 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-08-30 14:43:37.834 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-08-30 14:43:37.835 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-08-30 14:43:37.835 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-08-30 14:43:37.835 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-08-30 14:43:37.835 -05:00 [INF] CORS policy execution successful.
2024-08-30 14:43:37.836 -05:00 [DBG] Successfully validated the token.
2024-08-30 14:43:37.836 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-08-30 14:43:37.836 -05:00 [DBG] Authorization was successful.
2024-08-30 14:43:37.837 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-08-30 14:43:37.840 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-08-30 14:43:37.840 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-08-30 14:43:37.840 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-08-30 14:43:37.840 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-08-30 14:43:37.840 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-08-30 14:43:37.840 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-08-30 14:43:37.840 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-08-30 14:43:37.840 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-08-30 14:43:37.875 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-08-30 14:43:37.881 -05:00 [DBG] Consultando archivos sin eliminar...
2024-08-30 14:43:37.882 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-08-30 14:43:37.885 -05:00 [DBG] Compiling query expression: 
'DbSet<Archivo>()
    .Where(A => A.FechaEliminacion == null)
    .OrderByDescending(A => A.FechaCarga)'
2024-08-30 14:43:37.891 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Archivo>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Archivo.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Archivo.FechaCarga (DateTime) Required, 1], [Property: Archivo.FechaEliminacion (DateTime?), 2], [Property: Archivo.Nombre (string) Required, 3], [Property: Archivo.NumeroDescargas (int) Required, 4], [Property: Archivo.RutaDocumento (string) Required, 5] }
        SELECT a.Id, a.FechaCarga, a.FechaEliminacion, a.Nombre, a.NumeroDescargas, a.RutaDocumento
        FROM Archivo AS a
        WHERE a.FechaEliminacion == NULL
        ORDER BY a.FechaCarga DESC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Archivo>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-08-30 14:43:37.896 -05:00 [DBG] Creating DbConnection.
2024-08-30 14:43:37.897 -05:00 [DBG] Created DbConnection. (0ms).
2024-08-30 14:43:37.897 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:43:37.897 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:43:37.897 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-08-30 14:43:37.897 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:43:37.898 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-08-30 14:43:37.898 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-08-30 14:43:37.907 -05:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-08-30 14:43:37.911 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:43:37.924 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:43:37.924 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:43:37.924 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:43:37.924 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:43:37.924 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:43:37.925 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:43:37.925 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:43:37.925 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:43:37.925 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-08-30 14:43:37.925 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:43:37.925 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 17ms reading results.
2024-08-30 14:43:37.925 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:43:37.925 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-08-30 14:43:37.928 -05:00 [INF] Consulta de archivos exitosa
2024-08-30 14:43:37.929 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 53.3398ms.
2024-08-30 14:43:37.929 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-08-30 14:43:37.929 -05:00 [DBG] No information found on request to perform content negotiation.
2024-08-30 14:43:37.929 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-08-30 14:43:37.929 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-08-30 14:43:37.929 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-08-30 14:43:37.929 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-30 14:43:37.941 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 101.271ms
2024-08-30 14:43:37.941 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-08-30 14:43:37.942 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-08-30 14:43:37.942 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-08-30 14:43:37.942 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-08-30 14:43:37.942 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 129.5096ms
