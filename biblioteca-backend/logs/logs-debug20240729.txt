2024-07-29 09:11:28.026 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-29 09:11:28.341 -05:00 [DBG] Hosting starting
2024-07-29 09:11:28.480 -05:00 [INF] User profile is available. Using 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-29 09:11:28.494 -05:00 [DBG] Reading data from file 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys\key-12ed5171-7863-4d3e-a216-6f5439158e60.xml'.
2024-07-29 09:11:28.537 -05:00 [DBG] Found key {12ed5171-7863-4d3e-a216-6f5439158e60}.
2024-07-29 09:11:28.563 -05:00 [DBG] Considering key {12ed5171-7863-4d3e-a216-6f5439158e60} with expiration date 2024-09-28 19:27:42Z as default key.
2024-07-29 09:11:28.570 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-29 09:11:28.583 -05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-29 09:11:28.585 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-29 09:11:28.591 -05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-29 09:11:28.593 -05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-29 09:11:28.595 -05:00 [DBG] Using key {12ed5171-7863-4d3e-a216-6f5439158e60} as the default key.
2024-07-29 09:11:28.597 -05:00 [DBG] Key ring with default key {12ed5171-7863-4d3e-a216-6f5439158e60} was loaded during application startup.
2024-07-29 09:11:31.670 -05:00 [DBG] Connection id "0HN5FR1CC4T36" accepted.
2024-07-29 09:11:31.687 -05:00 [DBG] Connection id "0HN5FR1CC4T36" received FIN.
2024-07-29 09:11:31.688 -05:00 [DBG] Connection id "0HN5FR1CC4T36" started.
2024-07-29 09:11:31.698 -05:00 [INF] Now listening on: https://localhost:7299
2024-07-29 09:11:31.698 -05:00 [INF] Now listening on: http://localhost:5219
2024-07-29 09:11:31.698 -05:00 [DBG] Loaded hosting startup assembly biblioteca-backend
2024-07-29 09:11:31.698 -05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-29 09:11:31.699 -05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-29 09:11:31.699 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-29 09:11:31.699 -05:00 [INF] Hosting environment: Development
2024-07-29 09:11:31.699 -05:00 [INF] Content root path: C:\Users\spatino\Documents\Proyeco - Biblioteca\biblioteca-backend
2024-07-29 09:11:31.699 -05:00 [DBG] Hosting started
2024-07-29 09:11:31.757 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-29 09:11:31.822 -05:00 [DBG] Connection id "0HN5FR1CC4T36" stopped.
2024-07-29 09:11:31.830 -05:00 [DBG] Connection id "0HN5FR1CC4T36" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-29 09:11:32.061 -05:00 [DBG] Connection id "0HN5FR1CC4T37" accepted.
2024-07-29 09:11:32.077 -05:00 [DBG] Connection id "0HN5FR1CC4T37" started.
2024-07-29 09:11:32.470 -05:00 [DBG] Connection 0HN5FR1CC4T37 established using the following protocol: "Tls12"
2024-07-29 09:11:32.588 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/index.html - null null
2024-07-29 09:11:33.105 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-29 09:11:33.153 -05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-29 09:11:33.154 -05:00 [DBG] Request did not match any endpoints
2024-07-29 09:11:33.367 -05:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-07-29 09:11:33.370 -05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-29 09:11:33.453 -05:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-07-29 09:11:33.454 -05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-29 09:11:33.458 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/index.html - 200 null text/html;charset=utf-8 878.517ms
2024-07-29 09:11:33.685 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
2024-07-29 09:11:33.700 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 15.4313ms
2024-07-29 09:11:34.603 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
2024-07-29 09:11:34.758 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 155.6976ms
2024-07-29 09:11:35.006 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
2024-07-29 09:11:35.006 -05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-29 09:11:35.006 -05:00 [DBG] Request did not match any endpoints
2024-07-29 09:11:35.473 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 467.2133ms
2024-07-29 09:12:05.321 -05:00 [DBG] Connection id "0HN5FR1CC4T38" accepted.
2024-07-29 09:12:05.333 -05:00 [DBG] Connection id "0HN5FR1CC4T38" started.
2024-07-29 09:12:05.346 -05:00 [DBG] Connection 0HN5FR1CC4T38 established using the following protocol: "Tls12"
2024-07-29 09:12:05.362 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - null null
2024-07-29 09:12:05.374 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-29 09:12:05.375 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 09:12:05.378 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 09:12:05.380 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 09:12:05.380 -05:00 [INF] CORS policy execution successful.
2024-07-29 09:12:05.381 -05:00 [DBG] The request is a preflight request.
2024-07-29 09:12:05.382 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - 204 null null 31.2921ms
2024-07-29 09:12:05.389 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Perfiles/ - application/json 54
2024-07-29 09:12:05.403 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-29 09:12:05.411 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-29 09:12:05.412 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-29 09:12:05.412 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 09:12:05.413 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 09:12:05.413 -05:00 [INF] CORS policy execution successful.
2024-07-29 09:12:05.534 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 09:12:05.536 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-29 09:12:05.563 -05:00 [INF] Route matched with {action = "Post", controller = "Perfiles"}. Executing controller action with signature System.Object Post(biblioteca_backend.Models.DTOs.LogInModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-29 09:12:05.564 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 09:12:05.564 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 09:12:05.565 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 09:12:05.565 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 09:12:05.565 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 09:12:05.566 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-29 09:12:05.813 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-29 09:12:05.837 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-29 09:12:05.856 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-29 09:12:05.860 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' using the name '' in request data ...
2024-07-29 09:12:05.861 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-29 09:12:05.868 -05:00 [DBG] Connection id "0HN5FR1CC4T38", Request id "0HN5FR1CC4T38:00000003": started reading request body.
2024-07-29 09:12:05.868 -05:00 [DBG] Connection id "0HN5FR1CC4T38", Request id "0HN5FR1CC4T38:00000003": done reading request body.
2024-07-29 09:12:05.872 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.LogInModel'
2024-07-29 09:12:05.872 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-29 09:12:05.872 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-29 09:12:05.873 -05:00 [DBG] Attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-29 09:12:05.882 -05:00 [DBG] Done attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-29 09:12:05.998 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) - Validation state: "Valid"
2024-07-29 09:12:06.027 -05:00 [DBG] Iniciando sesión...
2024-07-29 09:12:07.003 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 09:12:07.099 -05:00 [DBG] Compiling query expression: 
'DbSet<Perfil>()
    .FirstOrDefault(p => p.Correo == __8__locals1_logInModel_Correo_0 && p.Contrasena == __claveCifrada_1)'
2024-07-29 09:12:07.364 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Perfil>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Perfil.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Perfil.Apellido (string) Required, 1], [Property: Perfil.Contrasena (string) Required, 2], [Property: Perfil.Correo (string) Required, 3], [Property: Perfil.Direccion (string) Required, 4], [Property: Perfil.IdRol (int) Required FK Index, 5], [Property: Perfil.Nombre (string) Required, 6], [Property: Perfil.Telefono (string) Required, 7] }
        SELECT TOP(1) p.Id, p.Apellido, p.Contrasena, p.Correo, p.Direccion, p.IdRol, p.Nombre, p.Telefono
        FROM Perfil AS p
        WHERE (p.Correo == @__8__locals1_logInModel_Correo_0) && (p.Contrasena == @__claveCifrada_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Perfil>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-29 09:12:07.403 -05:00 [DBG] Creating DbConnection.
2024-07-29 09:12:07.434 -05:00 [DBG] Created DbConnection. (29ms).
2024-07-29 09:12:07.437 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:12:07.968 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:12:07.971 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:12:07.979 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-07-29 09:12:07.993 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (20ms).
2024-07-29 09:12:08.003 -05:00 [DBG] Executing DbCommand [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-29 09:12:08.087 -05:00 [INF] Executed DbCommand (84ms) [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-29 09:12:08.162 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:12:08.197 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:12:08.206 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 113ms reading results.
2024-07-29 09:12:08.211 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:12:08.217 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (6ms).
2024-07-29 09:12:08.218 -05:00 [DBG] Compiling query expression: 
'DbSet<Rol>()
    .FirstOrDefault(r => r.Id == ___perfil_IdRol_0)'
2024-07-29 09:12:08.222 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Rol>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Rol.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Rol.Nombre (string) Required, 1] }
        SELECT TOP(1) r.Id, r.Nombre
        FROM Rol AS r
        WHERE r.Id == @___perfil_IdRol_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Rol>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-29 09:12:08.224 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:12:08.227 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:12:08.227 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:12:08.227 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:12:08.227 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:12:08.228 -05:00 [DBG] Executing DbCommand [Parameters=[@___perfil_IdRol_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Nombre]
FROM [Rol] AS [r]
WHERE [r].[Id] = @___perfil_IdRol_0
2024-07-29 09:12:08.234 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[@___perfil_IdRol_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Nombre]
FROM [Rol] AS [r]
WHERE [r].[Id] = @___perfil_IdRol_0
2024-07-29 09:12:08.253 -05:00 [DBG] The navigation 'Perfil.Rol' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:12:08.266 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Rol' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:12:08.271 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:12:08.272 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 37ms reading results.
2024-07-29 09:12:08.272 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:12:08.272 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:12:08.576 -05:00 [INF] Inicio de sesión exitoso
2024-07-29 09:12:08.582 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2579.9953ms.
2024-07-29 09:12:08.586 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 09:12:08.588 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 09:12:08.588 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 09:12:08.588 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 09:12:08.590 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 09:12:08.592 -05:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-29 09:12:08.602 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) in 3033.3601ms
2024-07-29 09:12:08.603 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-29 09:12:08.607 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 09:12:08.621 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:12:08.627 -05:00 [DBG] Disposed connection to database '' on server '' (5ms).
2024-07-29 09:12:08.628 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Perfiles/ - 200 null application/json; charset=utf-8 3238.7755ms
2024-07-29 09:12:08.644 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-29 09:12:08.644 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-29 09:12:08.645 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 09:12:08.645 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 09:12:08.645 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 09:12:08.645 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-07-29 09:12:08.645 -05:00 [INF] CORS policy execution successful.
2024-07-29 09:12:08.646 -05:00 [DBG] The request is a preflight request.
2024-07-29 09:12:08.646 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-29 09:12:08.646 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 09:12:08.646 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 1.7472ms
2024-07-29 09:12:08.646 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 09:12:08.646 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 09:12:08.646 -05:00 [INF] CORS policy execution successful.
2024-07-29 09:12:08.646 -05:00 [DBG] The request is a preflight request.
2024-07-29 09:12:08.647 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 1.23ms
2024-07-29 09:12:08.650 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-29 09:12:08.651 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-29 09:12:08.651 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-29 09:12:08.652 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 09:12:08.654 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 09:12:08.654 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 09:12:08.654 -05:00 [INF] CORS policy execution successful.
2024-07-29 09:12:08.656 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-07-29 09:12:08.656 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-29 09:12:08.656 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-07-29 09:12:08.656 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-29 09:12:08.661 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 09:12:08.661 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 09:12:08.661 -05:00 [INF] CORS policy execution successful.
2024-07-29 09:12:08.765 -05:00 [DBG] Successfully validated the token.
2024-07-29 09:12:08.765 -05:00 [DBG] Successfully validated the token.
2024-07-29 09:12:08.767 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 09:12:08.767 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 09:12:08.778 -05:00 [DBG] Authorization was successful.
2024-07-29 09:12:08.778 -05:00 [DBG] Authorization was successful.
2024-07-29 09:12:08.779 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-29 09:12:08.779 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 09:12:08.784 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-29 09:12:08.784 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 09:12:08.784 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 09:12:08.784 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 09:12:08.785 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 09:12:08.785 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 09:12:08.785 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-29 09:12:08.787 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-29 09:12:08.788 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-07-29 09:12:08.788 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 09:12:08.788 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 09:12:08.788 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 09:12:08.788 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 09:12:08.788 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 09:12:08.788 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-29 09:12:08.792 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-29 09:12:08.795 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-29 09:12:08.796 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-29 09:12:08.833 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-29 09:12:08.833 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 09:12:08.833 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 09:12:08.833 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-29 09:12:08.834 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 09:12:08.885 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-29 09:12:08.890 -05:00 [DBG] Consultando libros...
2024-07-29 09:12:08.910 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 09:12:08.912 -05:00 [DBG] Compiling query expression: 
'DbSet<Genero>()'
2024-07-29 09:12:08.918 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Genero>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Genero.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Genero.Nombre (string) Required, 1] }
        SELECT g.Id, g.Nombre
        FROM Genero AS g), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Genero>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-29 09:12:08.920 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 09:12:08.935 -05:00 [DBG] Compiling query expression: 
'DbSet<Libro>()
    .Join(
        inner: DbSet<Genero>(), 
        outerKeySelector: L => L.IdGenero, 
        innerKeySelector: G => G.Id, 
        resultSelector: (L, G) => new { 
            L = L, 
            G = G
         })
    .Where(<>h__TransparentIdentifier0 => True)
    .Select(<>h__TransparentIdentifier0 => new { 
        id = <>h__TransparentIdentifier0.L.Id, 
        titulo = <>h__TransparentIdentifier0.L.Titulo, 
        autor = <>h__TransparentIdentifier0.L.Autor, 
        anio = <>h__TransparentIdentifier0.L.Anio, 
        idGenero = <>h__TransparentIdentifier0.L.IdGenero, 
        genero = <>h__TransparentIdentifier0.G.Nombre, 
        activo = <>h__TransparentIdentifier0.L.Activo
     })'
2024-07-29 09:12:08.936 -05:00 [DBG] Creating DbConnection.
2024-07-29 09:12:08.937 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 09:12:08.939 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:12:08.943 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:12:08.944 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:12:08.944 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:12:08.944 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:12:08.945 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-29 09:12:09.028 -05:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-29 09:12:09.033 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType1<int, string, string, int, int, string, bool>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            id -> 0
            titulo -> 1
            autor -> 2
            anio -> 3
            idGenero -> 4
            genero -> 5
            activo -> 6
        SELECT l.Id AS id, l.Titulo AS titulo, l.Autor AS autor, l.Anio AS anio, l.IdGenero AS idGenero, g.Nombre AS genero, l.Activo AS activo
        FROM Libro AS l
        INNER JOIN Genero AS g ON l.IdGenero == g.Id), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType1<int, string, string, int, int, string, bool>>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-29 09:12:09.035 -05:00 [DBG] Creating DbConnection.
2024-07-29 09:12:09.035 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 09:12:09.035 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:12:09.044 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:12:09.044 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:12:09.044 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:12:09.045 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:12:09.045 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-29 09:12:09.047 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:12:09.052 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-29 09:12:09.054 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:12:09.054 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:12:09.054 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:12:09.054 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-29 09:12:09.054 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:12:09.054 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:12:09.055 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:12:09.055 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:12:09.057 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:12:09.057 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:12:09.058 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:12:09.058 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:12:09.058 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:12:09.059 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:12:09.059 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:12:09.059 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:12:09.062 -05:00 [INF] Consulta de libros exitosa
2024-07-29 09:12:09.062 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 176.7908ms.
2024-07-29 09:12:09.063 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 09:12:09.063 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 09:12:09.063 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 09:12:09.063 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 09:12:09.063 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 09:12:09.064 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 09:12:09.066 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:12:09.066 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 37ms reading results.
2024-07-29 09:12:09.069 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:12:09.069 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:12:09.072 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 238.7969ms.
2024-07-29 09:12:09.073 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 287.689ms
2024-07-29 09:12:09.073 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 09:12:09.073 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 09:12:09.073 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:12:09.073 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 09:12:09.074 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 423.9049ms
2024-07-29 09:12:09.075 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 09:12:09.075 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 09:12:09.075 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 09:12:09.075 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 09:12:09.075 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 09:12:09.075 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 09:12:09.081 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 292.4182ms
2024-07-29 09:12:09.082 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-29 09:12:09.083 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 09:12:09.084 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:12:09.084 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 09:12:09.084 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 427.96ms
2024-07-29 09:12:17.967 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 09:12:17.967 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 09:12:17.967 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 09:12:17.967 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:12:17.968 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 09:12:17.968 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 09:12:17.968 -05:00 [INF] CORS policy execution successful.
2024-07-29 09:12:17.971 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 09:12:17.971 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:12:17.973 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 09:12:17.977 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 09:12:17.977 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 09:12:17.977 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 09:12:17.977 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 09:12:17.977 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 09:12:17.978 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:12:17.979 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:12:18.030 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 09:12:18.112 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 09:12:18.115 -05:00 [DBG] Compiling query expression: 
'DbSet<Archivo>()
    .Where(A => A.FechaEliminacion == null)'
2024-07-29 09:12:18.131 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Archivo>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Archivo.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Archivo.FechaCarga (DateTime) Required, 1], [Property: Archivo.FechaCreacion (DateTime) Required, 2], [Property: Archivo.FechaEliminacion (DateTime?), 3], [Property: Archivo.Nombre (string) Required, 4], [Property: Archivo.NumeroDescargas (int) Required, 5], [Property: Archivo.RutaDocumento (string) Required, 6] }
        SELECT a.Id, a.FechaCarga, a.FechaCreacion, a.FechaEliminacion, a.Nombre, a.NumeroDescargas, a.RutaDocumento
        FROM Archivo AS a
        WHERE a.FechaEliminacion == NULL), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Archivo>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-29 09:12:18.138 -05:00 [DBG] Creating DbConnection.
2024-07-29 09:12:18.138 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 09:12:18.138 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:12:18.138 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:12:18.138 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:12:18.138 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:12:18.138 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:12:18.139 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 09:12:18.152 -05:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 09:12:18.159 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:12:18.182 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:12:18.182 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:12:18.182 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:12:18.182 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:12:18.182 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 30ms reading results.
2024-07-29 09:12:18.183 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:12:18.183 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:12:18.225 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 194.0843ms.
2024-07-29 09:12:18.226 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 09:12:18.227 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 09:12:18.263 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 285.6596ms
2024-07-29 09:12:18.263 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:12:18.263 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 09:12:18.264 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:12:18.264 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 09:12:18.264 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 152545 application/zip 297.1122ms
2024-07-29 09:15:01.674 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 09:15:01.674 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 09:15:01.675 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 09:15:01.675 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:15:01.675 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 09:15:01.675 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 09:15:01.675 -05:00 [INF] CORS policy execution successful.
2024-07-29 09:15:01.675 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 09:15:01.675 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:15:01.676 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 09:15:01.682 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 09:15:01.686 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 09:15:01.686 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 09:15:01.686 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 09:15:01.686 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 09:15:01.687 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:15:01.687 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:15:01.721 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 09:15:01.722 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 09:15:01.725 -05:00 [DBG] Creating DbConnection.
2024-07-29 09:15:01.725 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 09:15:01.725 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:15:01.725 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:15:01.725 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:15:01.725 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:15:01.725 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:15:01.725 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 09:15:01.736 -05:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 09:15:01.736 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:15:01.736 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:15:01.737 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:15:01.737 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:15:01.737 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:15:01.737 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 09:15:01.737 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:15:01.737 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:15:01.771 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 49.6981ms.
2024-07-29 09:15:01.771 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 09:15:01.771 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 09:15:01.799 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 112.6528ms
2024-07-29 09:15:01.799 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:15:01.799 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 09:15:01.800 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:15:01.800 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 09:15:01.800 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 152545 application/zip 126.2496ms
2024-07-29 09:15:26.693 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 09:15:26.694 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 09:15:26.694 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 09:15:26.694 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:15:26.694 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 09:15:26.694 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 09:15:26.694 -05:00 [INF] CORS policy execution successful.
2024-07-29 09:15:26.694 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 09:15:26.695 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:15:26.697 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 09:15:26.697 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 09:15:26.700 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 09:15:26.700 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 09:15:26.700 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 09:15:26.700 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 09:15:26.700 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:15:26.701 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:15:26.745 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 09:15:26.758 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 09:15:26.759 -05:00 [DBG] Creating DbConnection.
2024-07-29 09:15:26.759 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 09:15:26.759 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:15:26.759 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:15:26.759 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:15:26.759 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:15:26.759 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:15:26.759 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 09:15:26.760 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 09:15:26.760 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:15:26.760 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:15:26.760 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:15:26.760 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:15:26.760 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:15:26.760 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 09:15:26.760 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:15:26.761 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:15:26.773 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 27.5921ms.
2024-07-29 09:15:26.773 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 09:15:26.773 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 09:15:26.779 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 78.2248ms
2024-07-29 09:15:26.779 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:15:26.779 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 09:15:26.779 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:15:26.779 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 09:15:26.779 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 152545 application/zip 86.8869ms
2024-07-29 09:15:28.204 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-29 09:15:28.204 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-29 09:15:28.204 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 09:15:28.204 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 09:15:28.204 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 09:15:28.204 -05:00 [INF] CORS policy execution successful.
2024-07-29 09:15:28.204 -05:00 [DBG] The request is a preflight request.
2024-07-29 09:15:28.204 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - 204 null null 1.2279ms
2024-07-29 09:15:28.207 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-29 09:15:28.207 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-29 09:15:28.208 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-29 09:15:28.208 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-29 09:15:28.208 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 09:15:28.208 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 09:15:28.208 -05:00 [INF] CORS policy execution successful.
2024-07-29 09:15:28.209 -05:00 [DBG] Successfully validated the token.
2024-07-29 09:15:28.209 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 09:15:28.213 -05:00 [DBG] Authorization was successful.
2024-07-29 09:15:28.213 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-29 09:15:28.218 -05:00 [INF] Route matched with {action = "Get", controller = "Perfiles"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-29 09:15:28.218 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 09:15:28.218 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 09:15:28.218 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 09:15:28.219 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 09:15:28.219 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 09:15:28.219 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-29 09:15:28.219 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-29 09:15:28.219 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-07-29 09:15:28.220 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-07-29 09:15:28.221 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-29 09:15:28.221 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-29 09:15:28.221 -05:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-07-29 09:15:28.221 -05:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-07-29 09:15:28.249 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-29 09:15:28.252 -05:00 [DBG] Consultando perfil con id 31
2024-07-29 09:15:28.253 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 09:15:28.253 -05:00 [DBG] Compiling query expression: 
'DbSet<Perfil>()
    .FirstOrDefault(p => p.Id == __id_0)'
2024-07-29 09:15:28.256 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Perfil>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Perfil.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Perfil.Apellido (string) Required, 1], [Property: Perfil.Contrasena (string) Required, 2], [Property: Perfil.Correo (string) Required, 3], [Property: Perfil.Direccion (string) Required, 4], [Property: Perfil.IdRol (int) Required FK Index, 5], [Property: Perfil.Nombre (string) Required, 6], [Property: Perfil.Telefono (string) Required, 7] }
        SELECT TOP(1) p.Id, p.Apellido, p.Contrasena, p.Correo, p.Direccion, p.IdRol, p.Nombre, p.Telefono
        FROM Perfil AS p
        WHERE p.Id == @__id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Perfil>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-29 09:15:28.256 -05:00 [DBG] Creating DbConnection.
2024-07-29 09:15:28.256 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 09:15:28.256 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:15:28.256 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:15:28.256 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:15:28.256 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:15:28.257 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:15:28.257 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-29 09:15:28.262 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-29 09:15:28.262 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:15:28.263 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:15:28.263 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 09:15:28.263 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:15:28.263 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:15:28.267 -05:00 [INF] Perfil encontrado con id: 31
2024-07-29 09:15:28.267 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 18.4328ms.
2024-07-29 09:15:28.267 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 09:15:28.267 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 09:15:28.267 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 09:15:28.267 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 09:15:28.268 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 09:15:28.268 -05:00 [INF] Executing OkObjectResult, writing value of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-29 09:15:28.269 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) in 50.5527ms
2024-07-29 09:15:28.269 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-29 09:15:28.270 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 09:15:28.270 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:15:28.270 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 09:15:28.270 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - 200 null application/json; charset=utf-8 63.1023ms
2024-07-29 09:15:33.983 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 09:15:33.983 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 09:15:33.983 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 09:15:33.983 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:15:33.984 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 09:15:33.984 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 09:15:33.984 -05:00 [INF] CORS policy execution successful.
2024-07-29 09:15:33.985 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 09:15:33.985 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:15:33.985 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 09:15:33.985 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 09:15:33.985 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 09:15:33.985 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 09:15:33.985 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 09:15:33.986 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 09:15:33.986 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:15:33.986 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:15:34.019 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 09:15:34.020 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 09:15:34.020 -05:00 [DBG] Creating DbConnection.
2024-07-29 09:15:34.020 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 09:15:34.021 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:15:34.021 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:15:34.021 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:15:34.021 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:15:34.021 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:15:34.021 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 09:15:34.021 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 09:15:34.022 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:15:34.022 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:15:34.022 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:15:34.022 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:15:34.022 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:15:34.022 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 09:15:34.022 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:15:34.022 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:15:34.034 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 15.027ms.
2024-07-29 09:15:34.035 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 09:15:34.035 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 09:15:34.042 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 56.1532ms
2024-07-29 09:15:34.042 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:15:34.042 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 09:15:34.042 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:15:34.042 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 09:15:34.043 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 152545 application/zip 59.6941ms
2024-07-29 09:18:02.790 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 09:18:02.790 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 09:18:02.790 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 09:18:02.790 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:18:02.790 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 09:18:02.790 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 09:18:02.790 -05:00 [INF] CORS policy execution successful.
2024-07-29 09:18:02.791 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 09:18:02.791 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:18:02.791 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 09:18:02.791 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 09:18:02.792 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 09:18:02.792 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 09:18:02.792 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 09:18:02.792 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 09:18:02.793 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:18:02.794 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:18:02.837 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 09:18:02.838 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 09:18:02.839 -05:00 [DBG] Creating DbConnection.
2024-07-29 09:18:02.839 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 09:18:02.839 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:18:02.839 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:18:02.839 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:18:02.840 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:18:02.840 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:18:02.840 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 09:18:02.855 -05:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 09:18:02.855 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:18:02.855 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:18:02.856 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:18:02.856 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:18:02.856 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:18:02.856 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-29 09:18:02.856 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:18:02.856 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:18:02.871 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 33.9282ms.
2024-07-29 09:18:02.872 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 09:18:02.872 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 09:18:02.890 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 97.1893ms
2024-07-29 09:18:02.890 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:18:02.890 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 09:18:02.890 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:18:02.890 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 09:18:02.890 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 152545 application/zip 100.9603ms
2024-07-29 09:19:17.957 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 09:19:17.957 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 09:19:17.957 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 09:19:17.957 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:19:17.957 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 09:19:17.958 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 09:19:17.958 -05:00 [INF] CORS policy execution successful.
2024-07-29 09:19:17.958 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 09:19:17.958 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:19:17.959 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 09:19:17.959 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 09:19:17.959 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 09:19:17.959 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 09:19:17.959 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 09:19:17.959 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 09:19:17.959 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:19:17.963 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:19:18.018 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 09:19:18.019 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 09:19:18.019 -05:00 [DBG] Creating DbConnection.
2024-07-29 09:19:18.020 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 09:19:18.020 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:19:18.020 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:19:18.020 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:19:18.020 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:19:18.020 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:19:18.020 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 09:19:18.080 -05:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 09:19:18.081 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:19:18.081 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:19:18.081 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:19:18.081 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:19:18.081 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:19:18.081 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 09:19:18.081 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:19:18.081 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:19:18.099 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 80.4846ms.
2024-07-29 09:19:18.099 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 09:19:18.099 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 09:19:18.117 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 157.5856ms
2024-07-29 09:19:18.117 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:19:18.117 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 09:19:18.117 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:19:18.117 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 09:19:18.117 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 152545 application/zip 160.3556ms
2024-07-29 09:22:23.079 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 09:22:23.079 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 09:22:23.079 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 09:22:23.079 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:22:23.081 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 09:22:23.081 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 09:22:23.081 -05:00 [INF] CORS policy execution successful.
2024-07-29 09:22:23.081 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 09:22:23.081 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:22:23.081 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 09:22:23.081 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 09:22:23.081 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 09:22:23.082 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 09:22:23.082 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 09:22:23.082 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 09:22:23.082 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:22:23.082 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:22:23.150 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 09:22:23.151 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 09:22:23.151 -05:00 [DBG] Creating DbConnection.
2024-07-29 09:22:23.152 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 09:22:23.152 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:22:23.152 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:22:23.152 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:22:23.152 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:22:23.152 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:22:23.152 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 09:22:23.193 -05:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 09:22:23.193 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:22:23.193 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:22:23.194 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:22:23.194 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:22:23.194 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:22:23.194 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 09:22:23.194 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:22:23.194 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:22:23.265 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 114.7089ms.
2024-07-29 09:22:23.265 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 09:22:23.265 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 09:22:23.277 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 194.8093ms
2024-07-29 09:22:23.277 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:22:23.277 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 09:22:23.277 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:22:23.277 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 09:22:23.277 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 152545 application/zip 199.119ms
2024-07-29 09:28:04.387 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 09:28:04.389 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 09:28:04.389 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 09:28:04.389 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:28:04.399 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 09:28:04.400 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 09:28:04.400 -05:00 [INF] CORS policy execution successful.
2024-07-29 09:28:04.403 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 09:28:04.403 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:28:04.404 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 09:28:04.404 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 09:28:04.404 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 09:28:04.404 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 09:28:04.404 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 09:28:04.404 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 09:28:04.404 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:28:04.404 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:28:04.501 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 09:28:04.502 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 09:28:04.502 -05:00 [DBG] Creating DbConnection.
2024-07-29 09:28:04.503 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 09:28:04.503 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:28:04.652 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:28:04.652 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:28:04.652 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:28:04.652 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:28:04.652 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 09:28:04.674 -05:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 09:28:04.674 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:28:04.674 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:28:04.674 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:28:04.674 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:28:04.674 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:28:04.674 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 09:28:04.674 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:28:04.675 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:28:04.693 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 192.0057ms.
2024-07-29 09:28:04.693 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 09:28:04.693 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 09:28:04.746 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 342.0789ms
2024-07-29 09:28:04.746 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:28:04.747 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 09:28:04.747 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:28:04.747 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 09:28:04.747 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 152545 application/zip 359.712ms
2024-07-29 09:30:54.768 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos?rutaArchivo=Archivos\reporte.pdf&idPerfil=31 - null null
2024-07-29 09:30:54.769 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos'
2024-07-29 09:30:54.769 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)' with route pattern 'api/Archivos' is valid for the request path '/api/Archivos'
2024-07-29 09:30:54.769 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 09:30:54.772 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 09:30:54.772 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 09:30:54.772 -05:00 [INF] CORS policy execution successful.
2024-07-29 09:30:54.772 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 09:30:54.772 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 09:30:54.777 -05:00 [INF] Route matched with {action = "DescargarDocumento", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult DescargarDocumento(System.String, Int32) on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 09:30:54.777 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 09:30:54.778 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 09:30:54.778 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 09:30:54.778 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 09:30:54.778 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 09:30:54.778 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:30:54.778 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:30:54.780 -05:00 [DBG] Attempting to bind parameter 'rutaArchivo' of type 'System.String' ...
2024-07-29 09:30:54.780 -05:00 [DBG] Attempting to bind parameter 'rutaArchivo' of type 'System.String' using the name 'rutaArchivo' in request data ...
2024-07-29 09:30:54.780 -05:00 [DBG] Done attempting to bind parameter 'rutaArchivo' of type 'System.String'.
2024-07-29 09:30:54.780 -05:00 [DBG] Done attempting to bind parameter 'rutaArchivo' of type 'System.String'.
2024-07-29 09:30:54.780 -05:00 [DBG] Attempting to validate the bound parameter 'rutaArchivo' of type 'System.String' ...
2024-07-29 09:30:54.781 -05:00 [DBG] Done attempting to validate the bound parameter 'rutaArchivo' of type 'System.String'.
2024-07-29 09:30:54.782 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 09:30:54.782 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-29 09:30:54.782 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 09:30:54.782 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 09:30:54.782 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 09:30:54.782 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 09:30:54.948 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend) - Validation state: "Valid"
2024-07-29 09:30:54.951 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 09:30:54.954 -05:00 [DBG] Compiling query expression: 
'DbSet<Archivo>()
    .FirstOrDefault(A => A.RutaDocumento == __rutaArchivo_0)'
2024-07-29 09:30:54.963 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Archivo>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Archivo.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Archivo.FechaCarga (DateTime) Required, 1], [Property: Archivo.FechaCreacion (DateTime) Required, 2], [Property: Archivo.FechaEliminacion (DateTime?), 3], [Property: Archivo.Nombre (string) Required, 4], [Property: Archivo.NumeroDescargas (int) Required, 5], [Property: Archivo.RutaDocumento (string) Required, 6] }
        SELECT TOP(1) a.Id, a.FechaCarga, a.FechaCreacion, a.FechaEliminacion, a.Nombre, a.NumeroDescargas, a.RutaDocumento
        FROM Archivo AS a
        WHERE a.RutaDocumento == @__rutaArchivo_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Archivo>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-29 09:30:54.964 -05:00 [DBG] Creating DbConnection.
2024-07-29 09:30:54.964 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 09:30:54.964 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:30:54.964 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:30:54.964 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:30:54.965 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:30:54.965 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:30:54.965 -05:00 [DBG] Executing DbCommand [Parameters=[@__rutaArchivo_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[RutaDocumento] = @__rutaArchivo_0
2024-07-29 09:30:55.034 -05:00 [INF] Executed DbCommand (69ms) [Parameters=[@__rutaArchivo_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[RutaDocumento] = @__rutaArchivo_0
2024-07-29 09:30:55.034 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:30:55.035 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:30:55.035 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 09:30:55.035 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:30:55.036 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:30:55.085 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'RegistroArchivoPerfil.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:30:55.130 -05:00 [DBG] The navigation 'RegistroArchivoPerfil.Archivo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:30:55.143 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'RegistroArchivoPerfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:30:55.148 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 09:30:55.151 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 09:30:55.197 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 09:30:55.395 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:30:55.395 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:30:55.398 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:30:55.398 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:30:55.399 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-07-29 09:30:55.399 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 09:30:55.407 -05:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 09:30:55.425 -05:00 [DBG] The foreign key property 'RegistroArchivoPerfil.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-29 09:30:55.435 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:30:55.435 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 27ms reading results.
2024-07-29 09:30:55.437 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:30:55.438 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:30:55.481 -05:00 [DBG] An entity of type 'RegistroArchivoPerfil' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:30:55.483 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 09:30:55.483 -05:00 [DBG] An entity of type 'Archivo' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:30:55.484 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 09:30:55.484 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 09:30:55.484 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 09:30:55.493 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:30:55.494 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:30:55.494 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:30:55.494 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:30:55.494 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:30:55.494 -05:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Archivo] SET [FechaCarga] = @p0, [FechaCreacion] = @p1, [FechaEliminacion] = @p2, [Nombre] = @p3, [NumeroDescargas] = @p4, [RutaDocumento] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-07-29 09:30:55.499 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Archivo] SET [FechaCarga] = @p0, [FechaCreacion] = @p1, [FechaEliminacion] = @p2, [Nombre] = @p3, [NumeroDescargas] = @p4, [RutaDocumento] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-07-29 09:30:55.500 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:30:55.500 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 09:30:55.501 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:30:55.501 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:30:55.501 -05:00 [DBG] An entity of type 'Archivo' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:30:55.502 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 09:30:55.502 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 553.4009ms.
2024-07-29 09:30:55.502 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 09:30:55.502 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 09:30:55.502 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 09:30:55.502 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 09:30:55.502 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 09:30:55.502 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-29 09:30:55.504 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend) in 725.9903ms
2024-07-29 09:30:55.504 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 09:30:55.504 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 09:30:55.504 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:30:55.504 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 09:30:55.505 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos?rutaArchivo=Archivos\reporte.pdf&idPerfil=31 - 200 null application/json; charset=utf-8 737.0854ms
2024-07-29 09:30:57.611 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos?rutaArchivo=Archivos\reporte.pdf&idPerfil=31 - null null
2024-07-29 09:30:57.611 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos'
2024-07-29 09:30:57.611 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)' with route pattern 'api/Archivos' is valid for the request path '/api/Archivos'
2024-07-29 09:30:57.611 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 09:30:57.611 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 09:30:57.611 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 09:30:57.611 -05:00 [INF] CORS policy execution successful.
2024-07-29 09:30:57.611 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 09:30:57.611 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 09:30:57.611 -05:00 [INF] Route matched with {action = "DescargarDocumento", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult DescargarDocumento(System.String, Int32) on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 09:30:57.612 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 09:30:57.612 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 09:30:57.612 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 09:30:57.612 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 09:30:57.612 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 09:30:57.612 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:30:57.612 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:30:57.613 -05:00 [DBG] Attempting to bind parameter 'rutaArchivo' of type 'System.String' ...
2024-07-29 09:30:57.613 -05:00 [DBG] Attempting to bind parameter 'rutaArchivo' of type 'System.String' using the name 'rutaArchivo' in request data ...
2024-07-29 09:30:57.613 -05:00 [DBG] Done attempting to bind parameter 'rutaArchivo' of type 'System.String'.
2024-07-29 09:30:57.613 -05:00 [DBG] Done attempting to bind parameter 'rutaArchivo' of type 'System.String'.
2024-07-29 09:30:57.613 -05:00 [DBG] Attempting to validate the bound parameter 'rutaArchivo' of type 'System.String' ...
2024-07-29 09:30:57.618 -05:00 [DBG] Done attempting to validate the bound parameter 'rutaArchivo' of type 'System.String'.
2024-07-29 09:30:57.618 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 09:30:57.619 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-29 09:30:57.619 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 09:30:57.619 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 09:30:57.619 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 09:30:57.619 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 09:30:57.687 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend) - Validation state: "Valid"
2024-07-29 09:30:57.688 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 09:30:57.689 -05:00 [DBG] Creating DbConnection.
2024-07-29 09:30:57.689 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 09:30:57.689 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:30:57.691 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:30:57.691 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:30:57.691 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:30:57.691 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:30:57.691 -05:00 [DBG] Executing DbCommand [Parameters=[@__rutaArchivo_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[RutaDocumento] = @__rutaArchivo_0
2024-07-29 09:30:57.693 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__rutaArchivo_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[RutaDocumento] = @__rutaArchivo_0
2024-07-29 09:30:57.693 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:30:57.693 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:30:57.693 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 09:30:57.693 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:30:57.694 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:30:57.696 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'RegistroArchivoPerfil.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:30:57.696 -05:00 [DBG] The navigation 'RegistroArchivoPerfil.Archivo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:30:57.697 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'RegistroArchivoPerfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:30:57.697 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 09:30:57.697 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 09:30:57.697 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 09:30:57.699 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:30:57.699 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:30:57.700 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:30:57.700 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:30:57.700 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:30:57.700 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 09:30:57.713 -05:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 09:30:57.713 -05:00 [DBG] The foreign key property 'RegistroArchivoPerfil.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-29 09:30:57.714 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:30:57.714 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 09:30:57.714 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:30:57.714 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:30:57.715 -05:00 [DBG] An entity of type 'RegistroArchivoPerfil' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:30:57.715 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 09:30:57.715 -05:00 [DBG] An entity of type 'Archivo' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:30:57.715 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 09:30:57.715 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 09:30:57.715 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 09:30:57.716 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:30:57.716 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:30:57.716 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:30:57.716 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:30:57.717 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:30:57.717 -05:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Archivo] SET [FechaCarga] = @p0, [FechaCreacion] = @p1, [FechaEliminacion] = @p2, [Nombre] = @p3, [NumeroDescargas] = @p4, [RutaDocumento] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-07-29 09:30:57.718 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Archivo] SET [FechaCarga] = @p0, [FechaCreacion] = @p1, [FechaEliminacion] = @p2, [Nombre] = @p3, [NumeroDescargas] = @p4, [RutaDocumento] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-07-29 09:30:57.718 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:30:57.718 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 09:30:57.718 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:30:57.718 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:30:57.719 -05:00 [DBG] An entity of type 'Archivo' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:30:57.719 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 09:30:57.719 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 31.6207ms.
2024-07-29 09:30:57.719 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 09:30:57.719 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 09:30:57.719 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 09:30:57.719 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 09:30:57.720 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 09:30:57.720 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-29 09:30:57.720 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend) in 107.978ms
2024-07-29 09:30:57.720 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 09:30:57.720 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 09:30:57.720 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:30:57.720 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 09:30:57.721 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos?rutaArchivo=Archivos\reporte.pdf&idPerfil=31 - 200 null application/json; charset=utf-8 110.223ms
2024-07-29 09:30:58.920 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos?rutaArchivo=Archivos\reporte.pdf&idPerfil=31 - null null
2024-07-29 09:30:58.920 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos'
2024-07-29 09:30:58.920 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)' with route pattern 'api/Archivos' is valid for the request path '/api/Archivos'
2024-07-29 09:30:58.920 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 09:30:58.921 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 09:30:58.921 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 09:30:58.921 -05:00 [INF] CORS policy execution successful.
2024-07-29 09:30:58.921 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 09:30:58.921 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 09:30:58.921 -05:00 [INF] Route matched with {action = "DescargarDocumento", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult DescargarDocumento(System.String, Int32) on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 09:30:58.921 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 09:30:58.921 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 09:30:58.921 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 09:30:58.922 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 09:30:58.922 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 09:30:58.922 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:30:58.922 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:30:58.925 -05:00 [DBG] Attempting to bind parameter 'rutaArchivo' of type 'System.String' ...
2024-07-29 09:30:58.926 -05:00 [DBG] Attempting to bind parameter 'rutaArchivo' of type 'System.String' using the name 'rutaArchivo' in request data ...
2024-07-29 09:30:58.926 -05:00 [DBG] Done attempting to bind parameter 'rutaArchivo' of type 'System.String'.
2024-07-29 09:30:58.927 -05:00 [DBG] Done attempting to bind parameter 'rutaArchivo' of type 'System.String'.
2024-07-29 09:30:58.927 -05:00 [DBG] Attempting to validate the bound parameter 'rutaArchivo' of type 'System.String' ...
2024-07-29 09:30:58.928 -05:00 [DBG] Done attempting to validate the bound parameter 'rutaArchivo' of type 'System.String'.
2024-07-29 09:30:58.928 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 09:30:58.928 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-29 09:30:58.928 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 09:30:58.929 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 09:30:58.929 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 09:30:58.929 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 09:30:59.069 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend) - Validation state: "Valid"
2024-07-29 09:30:59.070 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 09:30:59.071 -05:00 [DBG] Creating DbConnection.
2024-07-29 09:30:59.071 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 09:30:59.071 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:30:59.071 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:30:59.071 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:30:59.071 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:30:59.071 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:30:59.071 -05:00 [DBG] Executing DbCommand [Parameters=[@__rutaArchivo_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[RutaDocumento] = @__rutaArchivo_0
2024-07-29 09:30:59.097 -05:00 [INF] Executed DbCommand (25ms) [Parameters=[@__rutaArchivo_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[RutaDocumento] = @__rutaArchivo_0
2024-07-29 09:30:59.097 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:30:59.098 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:30:59.098 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 09:30:59.098 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:30:59.098 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:30:59.098 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'RegistroArchivoPerfil.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:30:59.098 -05:00 [DBG] The navigation 'RegistroArchivoPerfil.Archivo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:30:59.099 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'RegistroArchivoPerfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:30:59.099 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 09:30:59.099 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 09:30:59.099 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 09:30:59.099 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:30:59.100 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:30:59.100 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:30:59.100 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:30:59.100 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:30:59.101 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 09:30:59.116 -05:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 09:30:59.116 -05:00 [DBG] The foreign key property 'RegistroArchivoPerfil.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-29 09:30:59.116 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:30:59.116 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 09:30:59.116 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:30:59.116 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:30:59.116 -05:00 [DBG] An entity of type 'RegistroArchivoPerfil' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:30:59.116 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 09:30:59.117 -05:00 [DBG] An entity of type 'Archivo' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:30:59.117 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 09:30:59.117 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 09:30:59.117 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 09:30:59.117 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:30:59.117 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:30:59.117 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:30:59.117 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:30:59.118 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:30:59.118 -05:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Archivo] SET [FechaCarga] = @p0, [FechaCreacion] = @p1, [FechaEliminacion] = @p2, [Nombre] = @p3, [NumeroDescargas] = @p4, [RutaDocumento] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-07-29 09:30:59.156 -05:00 [INF] Executed DbCommand (38ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Archivo] SET [FechaCarga] = @p0, [FechaCreacion] = @p1, [FechaEliminacion] = @p2, [Nombre] = @p3, [NumeroDescargas] = @p4, [RutaDocumento] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-07-29 09:30:59.158 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:30:59.158 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 09:30:59.158 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:30:59.158 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:30:59.158 -05:00 [DBG] An entity of type 'Archivo' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:30:59.158 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 09:30:59.159 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 89.3522ms.
2024-07-29 09:30:59.159 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 09:30:59.159 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 09:30:59.159 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 09:30:59.159 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 09:30:59.159 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 09:30:59.159 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-29 09:30:59.159 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend) in 237.5732ms
2024-07-29 09:30:59.159 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 09:30:59.159 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 09:30:59.159 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:30:59.160 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 09:30:59.160 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos?rutaArchivo=Archivos\reporte.pdf&idPerfil=31 - 200 null application/json; charset=utf-8 240.2001ms
2024-07-29 09:31:18.154 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos?rutaArchivo=Archivos\Sebastian%20Pati%C3%B1o%20Quiros.docx&idPerfil=31 - null null
2024-07-29 09:31:18.154 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos'
2024-07-29 09:31:18.154 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)' with route pattern 'api/Archivos' is valid for the request path '/api/Archivos'
2024-07-29 09:31:18.154 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 09:31:18.154 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 09:31:18.154 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 09:31:18.155 -05:00 [INF] CORS policy execution successful.
2024-07-29 09:31:18.155 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 09:31:18.155 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 09:31:18.156 -05:00 [INF] Route matched with {action = "DescargarDocumento", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult DescargarDocumento(System.String, Int32) on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 09:31:18.156 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 09:31:18.156 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 09:31:18.156 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 09:31:18.156 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 09:31:18.156 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 09:31:18.158 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:31:18.184 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:31:18.184 -05:00 [DBG] Attempting to bind parameter 'rutaArchivo' of type 'System.String' ...
2024-07-29 09:31:18.185 -05:00 [DBG] Attempting to bind parameter 'rutaArchivo' of type 'System.String' using the name 'rutaArchivo' in request data ...
2024-07-29 09:31:18.185 -05:00 [DBG] Done attempting to bind parameter 'rutaArchivo' of type 'System.String'.
2024-07-29 09:31:18.185 -05:00 [DBG] Done attempting to bind parameter 'rutaArchivo' of type 'System.String'.
2024-07-29 09:31:18.185 -05:00 [DBG] Attempting to validate the bound parameter 'rutaArchivo' of type 'System.String' ...
2024-07-29 09:31:18.185 -05:00 [DBG] Done attempting to validate the bound parameter 'rutaArchivo' of type 'System.String'.
2024-07-29 09:31:18.185 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 09:31:18.185 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-29 09:31:18.186 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 09:31:18.186 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 09:31:18.186 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 09:31:18.186 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 09:31:18.407 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend) - Validation state: "Valid"
2024-07-29 09:31:18.408 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 09:31:18.408 -05:00 [DBG] Creating DbConnection.
2024-07-29 09:31:18.408 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 09:31:18.408 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:31:18.408 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:31:18.408 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:31:18.409 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:31:18.409 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:31:18.409 -05:00 [DBG] Executing DbCommand [Parameters=[@__rutaArchivo_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[RutaDocumento] = @__rutaArchivo_0
2024-07-29 09:31:18.448 -05:00 [INF] Executed DbCommand (39ms) [Parameters=[@__rutaArchivo_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[RutaDocumento] = @__rutaArchivo_0
2024-07-29 09:31:18.448 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:31:18.448 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:31:18.448 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 09:31:18.449 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:31:18.449 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:31:18.449 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'RegistroArchivoPerfil.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:31:18.449 -05:00 [DBG] The navigation 'RegistroArchivoPerfil.Archivo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:31:18.449 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'RegistroArchivoPerfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:31:18.450 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 09:31:18.450 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 09:31:18.450 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 09:31:18.450 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:31:18.451 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:31:18.451 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:31:18.451 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:31:18.451 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:31:18.451 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 09:31:18.468 -05:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 09:31:18.468 -05:00 [DBG] The foreign key property 'RegistroArchivoPerfil.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-29 09:31:18.468 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:31:18.468 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 09:31:18.468 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:31:18.468 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:31:18.468 -05:00 [DBG] An entity of type 'RegistroArchivoPerfil' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:31:18.469 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 09:31:18.469 -05:00 [DBG] An entity of type 'Archivo' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:31:18.469 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 09:31:18.469 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 09:31:18.469 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 09:31:18.469 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:31:18.469 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:31:18.469 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:31:18.470 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:31:18.470 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:31:18.470 -05:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Archivo] SET [FechaCarga] = @p0, [FechaCreacion] = @p1, [FechaEliminacion] = @p2, [Nombre] = @p3, [NumeroDescargas] = @p4, [RutaDocumento] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-07-29 09:31:18.478 -05:00 [INF] Executed DbCommand (8ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Archivo] SET [FechaCarga] = @p0, [FechaCreacion] = @p1, [FechaEliminacion] = @p2, [Nombre] = @p3, [NumeroDescargas] = @p4, [RutaDocumento] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-07-29 09:31:18.479 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:31:18.479 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 09:31:18.479 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:31:18.479 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:31:18.479 -05:00 [DBG] An entity of type 'Archivo' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:31:18.479 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 09:31:18.479 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 72.4676ms.
2024-07-29 09:31:18.480 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 09:31:18.480 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 09:31:18.480 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 09:31:18.480 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 09:31:18.480 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 09:31:18.480 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-29 09:31:18.480 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend) in 324.3748ms
2024-07-29 09:31:18.481 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 09:31:18.481 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 09:31:18.481 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:31:18.481 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 09:31:18.481 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos?rutaArchivo=Archivos\Sebastian%20Pati%C3%B1o%20Quiros.docx&idPerfil=31 - 200 null application/json; charset=utf-8 327.8275ms
2024-07-29 09:31:34.996 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos?rutaArchivo=Archivos\Sistema%20de%20cargue%20y%20gesti%C3%B3n%20de%20archivos.docx&idPerfil=31 - null null
2024-07-29 09:31:34.997 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos'
2024-07-29 09:31:34.997 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)' with route pattern 'api/Archivos' is valid for the request path '/api/Archivos'
2024-07-29 09:31:34.997 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 09:31:34.997 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 09:31:34.997 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 09:31:34.997 -05:00 [INF] CORS policy execution successful.
2024-07-29 09:31:34.997 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 09:31:34.998 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 09:31:34.999 -05:00 [INF] Route matched with {action = "DescargarDocumento", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult DescargarDocumento(System.String, Int32) on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 09:31:35.000 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 09:31:35.000 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 09:31:35.000 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 09:31:35.000 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 09:31:35.000 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 09:31:35.000 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:31:35.001 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:31:35.002 -05:00 [DBG] Attempting to bind parameter 'rutaArchivo' of type 'System.String' ...
2024-07-29 09:31:35.003 -05:00 [DBG] Attempting to bind parameter 'rutaArchivo' of type 'System.String' using the name 'rutaArchivo' in request data ...
2024-07-29 09:31:35.003 -05:00 [DBG] Done attempting to bind parameter 'rutaArchivo' of type 'System.String'.
2024-07-29 09:31:35.003 -05:00 [DBG] Done attempting to bind parameter 'rutaArchivo' of type 'System.String'.
2024-07-29 09:31:35.003 -05:00 [DBG] Attempting to validate the bound parameter 'rutaArchivo' of type 'System.String' ...
2024-07-29 09:31:35.003 -05:00 [DBG] Done attempting to validate the bound parameter 'rutaArchivo' of type 'System.String'.
2024-07-29 09:31:35.003 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 09:31:35.003 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-29 09:31:35.003 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 09:31:35.004 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 09:31:35.004 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 09:31:35.005 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 09:31:35.227 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend) - Validation state: "Valid"
2024-07-29 09:31:35.229 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 09:31:35.229 -05:00 [DBG] Creating DbConnection.
2024-07-29 09:31:35.229 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 09:31:35.229 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:31:35.229 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:31:35.229 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:31:35.229 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:31:35.230 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:31:35.230 -05:00 [DBG] Executing DbCommand [Parameters=[@__rutaArchivo_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[RutaDocumento] = @__rutaArchivo_0
2024-07-29 09:31:35.253 -05:00 [INF] Executed DbCommand (23ms) [Parameters=[@__rutaArchivo_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[RutaDocumento] = @__rutaArchivo_0
2024-07-29 09:31:35.254 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:31:35.254 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:31:35.258 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-07-29 09:31:35.258 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:31:35.259 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:31:35.259 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'RegistroArchivoPerfil.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:31:35.259 -05:00 [DBG] The navigation 'RegistroArchivoPerfil.Archivo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:31:35.259 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'RegistroArchivoPerfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:31:35.259 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 09:31:35.259 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 09:31:35.259 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 09:31:35.260 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:31:35.260 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:31:35.260 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:31:35.260 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:31:35.260 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:31:35.260 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 09:31:35.297 -05:00 [INF] Executed DbCommand (37ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 09:31:35.298 -05:00 [DBG] The foreign key property 'RegistroArchivoPerfil.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-29 09:31:35.298 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:31:35.298 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 09:31:35.298 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:31:35.298 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:31:35.299 -05:00 [DBG] An entity of type 'RegistroArchivoPerfil' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:31:35.299 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 09:31:35.299 -05:00 [DBG] An entity of type 'Archivo' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:31:35.299 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 09:31:35.299 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 09:31:35.299 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 09:31:35.300 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:31:35.300 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:31:35.300 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:31:35.300 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:31:35.300 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:31:35.301 -05:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Archivo] SET [FechaCarga] = @p0, [FechaCreacion] = @p1, [FechaEliminacion] = @p2, [Nombre] = @p3, [NumeroDescargas] = @p4, [RutaDocumento] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-07-29 09:31:35.302 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Archivo] SET [FechaCarga] = @p0, [FechaCreacion] = @p1, [FechaEliminacion] = @p2, [Nombre] = @p3, [NumeroDescargas] = @p4, [RutaDocumento] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-07-29 09:31:35.302 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:31:35.302 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 09:31:35.303 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:31:35.303 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:31:35.303 -05:00 [DBG] An entity of type 'Archivo' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:31:35.303 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 09:31:35.303 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 75.7806ms.
2024-07-29 09:31:35.303 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 09:31:35.304 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 09:31:35.304 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 09:31:35.304 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 09:31:35.304 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 09:31:35.308 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-29 09:31:35.308 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend) in 307.9193ms
2024-07-29 09:31:35.308 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 09:31:35.308 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 09:31:35.308 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:31:35.308 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 09:31:35.309 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos?rutaArchivo=Archivos\Sistema%20de%20cargue%20y%20gesti%C3%B3n%20de%20archivos.docx&idPerfil=31 - 200 null application/json; charset=utf-8 312.3925ms
2024-07-29 09:35:40.533 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 09:35:40.554 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 09:35:40.554 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 09:35:40.554 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:35:40.555 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 09:35:40.555 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 09:35:40.555 -05:00 [INF] CORS policy execution successful.
2024-07-29 09:35:40.555 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 09:35:40.566 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:35:40.566 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 09:35:40.567 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 09:35:40.567 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 09:35:40.567 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 09:35:40.567 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 09:35:40.567 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 09:35:40.567 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:35:40.568 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:35:40.641 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 09:35:40.642 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 09:35:40.642 -05:00 [DBG] Creating DbConnection.
2024-07-29 09:35:40.643 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 09:35:40.643 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:35:40.644 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:35:40.646 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:35:40.646 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-29 09:35:40.646 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-07-29 09:35:40.646 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 09:35:40.651 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 09:35:40.651 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:35:40.652 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:35:40.652 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:35:40.652 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:35:40.652 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:35:40.652 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 09:35:40.652 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:35:40.652 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:35:40.674 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 32.7322ms.
2024-07-29 09:35:40.674 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 09:35:40.674 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 09:35:40.686 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 118.8153ms
2024-07-29 09:35:40.686 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:35:40.687 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 09:35:40.687 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:35:40.687 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 09:35:40.687 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 152545 application/zip 154.7771ms
2024-07-29 09:35:52.295 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 09:35:52.296 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 09:35:52.296 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 09:35:52.296 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:35:52.297 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 09:35:52.297 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 09:35:52.297 -05:00 [INF] CORS policy execution successful.
2024-07-29 09:35:52.297 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 09:35:52.297 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:35:52.297 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 09:35:52.297 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 09:35:52.297 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 09:35:52.297 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 09:35:52.297 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 09:35:52.298 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 09:35:52.298 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:35:52.298 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:35:52.387 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 09:35:52.388 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 09:35:52.389 -05:00 [DBG] Creating DbConnection.
2024-07-29 09:35:52.389 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 09:35:52.407 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:35:52.407 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:35:52.407 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:35:52.407 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:35:52.407 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:35:52.407 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 09:35:52.425 -05:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 09:35:52.425 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:35:52.425 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:35:52.426 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:35:52.426 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:35:52.426 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:35:52.426 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-29 09:35:52.427 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:35:52.428 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (1ms).
2024-07-29 09:35:52.451 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 63.7599ms.
2024-07-29 09:35:52.451 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 09:35:52.452 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 09:35:52.463 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 164.9292ms
2024-07-29 09:35:52.463 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:35:52.463 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 09:35:52.463 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:35:52.463 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 09:35:52.463 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 152545 application/zip 167.7494ms
2024-07-29 09:37:33.791 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 09:37:33.791 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 09:37:33.791 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 09:37:33.791 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:37:33.792 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 09:37:33.792 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 09:37:33.792 -05:00 [INF] CORS policy execution successful.
2024-07-29 09:37:33.792 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 09:37:33.792 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:37:33.792 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 09:37:33.792 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 09:37:33.792 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 09:37:33.792 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 09:37:33.793 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 09:37:33.793 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 09:37:33.794 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:37:33.795 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:37:33.873 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 09:37:33.874 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 09:37:33.874 -05:00 [DBG] Creating DbConnection.
2024-07-29 09:37:33.875 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 09:37:33.875 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:37:33.875 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:37:33.875 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:37:33.875 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:37:33.875 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:37:33.875 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 09:37:33.886 -05:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 09:37:33.886 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:37:33.886 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:37:33.886 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:37:33.886 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:37:33.886 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:37:33.886 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 09:37:33.887 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:37:33.887 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:37:33.918 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 44.8416ms.
2024-07-29 09:37:33.918 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 09:37:33.919 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 09:37:33.963 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 169.3564ms
2024-07-29 09:37:33.963 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:37:33.963 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 09:37:33.963 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:37:33.963 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 09:37:33.963 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 152545 application/zip 172.8981ms
2024-07-29 09:37:38.413 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Archivos?rutaArchivo=Archivos\Ejercicios.sql&idPerfil=31 - null null
2024-07-29 09:37:38.413 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos'
2024-07-29 09:37:38.414 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 09:37:38.414 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 09:37:38.414 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 09:37:38.414 -05:00 [INF] CORS policy execution successful.
2024-07-29 09:37:38.414 -05:00 [DBG] The request is a preflight request.
2024-07-29 09:37:38.414 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Archivos?rutaArchivo=Archivos\Ejercicios.sql&idPerfil=31 - 204 null null 0.6233ms
2024-07-29 09:37:38.425 -05:00 [INF] Request starting HTTP/2 DELETE https://localhost:7299/api/Archivos?rutaArchivo=Archivos\Ejercicios.sql&idPerfil=31 - null null
2024-07-29 09:37:38.425 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos'
2024-07-29 09:37:38.425 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.EliminarDocumento (biblioteca-backend)' with route pattern 'api/Archivos' is valid for the request path '/api/Archivos'
2024-07-29 09:37:38.425 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.EliminarDocumento (biblioteca-backend)'
2024-07-29 09:37:38.425 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 09:37:38.426 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 09:37:38.426 -05:00 [INF] CORS policy execution successful.
2024-07-29 09:37:38.426 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 09:37:38.426 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.EliminarDocumento (biblioteca-backend)'
2024-07-29 09:37:38.431 -05:00 [INF] Route matched with {action = "EliminarDocumento", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult EliminarDocumento(System.String, Int32) on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 09:37:38.431 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 09:37:38.431 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 09:37:38.431 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 09:37:38.431 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 09:37:38.431 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 09:37:38.431 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:37:38.432 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:37:38.432 -05:00 [DBG] Attempting to bind parameter 'rutaArchivo' of type 'System.String' ...
2024-07-29 09:37:38.432 -05:00 [DBG] Attempting to bind parameter 'rutaArchivo' of type 'System.String' using the name 'rutaArchivo' in request data ...
2024-07-29 09:37:38.432 -05:00 [DBG] Done attempting to bind parameter 'rutaArchivo' of type 'System.String'.
2024-07-29 09:37:38.432 -05:00 [DBG] Done attempting to bind parameter 'rutaArchivo' of type 'System.String'.
2024-07-29 09:37:38.432 -05:00 [DBG] Attempting to validate the bound parameter 'rutaArchivo' of type 'System.String' ...
2024-07-29 09:37:38.445 -05:00 [DBG] Done attempting to validate the bound parameter 'rutaArchivo' of type 'System.String'.
2024-07-29 09:37:38.482 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 09:37:38.482 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-29 09:37:38.482 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 09:37:38.482 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 09:37:38.483 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 09:37:38.483 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 09:37:38.807 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.EliminarDocumento (biblioteca-backend) - Validation state: "Valid"
2024-07-29 09:37:38.809 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 09:37:38.809 -05:00 [DBG] Compiling query expression: 
'DbSet<Archivo>()
    .FirstOrDefault(a => a.RutaDocumento == __rutaArchivo_0)'
2024-07-29 09:37:38.816 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Archivo>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Archivo.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Archivo.FechaCarga (DateTime) Required, 1], [Property: Archivo.FechaCreacion (DateTime) Required, 2], [Property: Archivo.FechaEliminacion (DateTime?), 3], [Property: Archivo.Nombre (string) Required, 4], [Property: Archivo.NumeroDescargas (int) Required, 5], [Property: Archivo.RutaDocumento (string) Required, 6] }
        SELECT TOP(1) a.Id, a.FechaCarga, a.FechaCreacion, a.FechaEliminacion, a.Nombre, a.NumeroDescargas, a.RutaDocumento
        FROM Archivo AS a
        WHERE a.RutaDocumento == @__rutaArchivo_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Archivo>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-29 09:37:38.817 -05:00 [DBG] Creating DbConnection.
2024-07-29 09:37:38.817 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 09:37:38.817 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:37:38.817 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:37:38.817 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:37:38.817 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:37:38.817 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:37:38.818 -05:00 [DBG] Executing DbCommand [Parameters=[@__rutaArchivo_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[RutaDocumento] = @__rutaArchivo_0
2024-07-29 09:37:38.852 -05:00 [INF] Executed DbCommand (34ms) [Parameters=[@__rutaArchivo_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[RutaDocumento] = @__rutaArchivo_0
2024-07-29 09:37:38.852 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:37:38.852 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:37:38.852 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 09:37:38.852 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:37:38.852 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:37:38.853 -05:00 [DBG] An entity of type 'Archivo' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:37:38.853 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 09:37:38.853 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 09:37:38.854 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 09:37:38.854 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:37:38.855 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:37:38.855 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:37:38.855 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:37:38.855 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:37:38.855 -05:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Archivo] SET [FechaCarga] = @p0, [FechaCreacion] = @p1, [FechaEliminacion] = @p2, [Nombre] = @p3, [NumeroDescargas] = @p4, [RutaDocumento] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-07-29 09:37:38.975 -05:00 [INF] Executed DbCommand (119ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Archivo] SET [FechaCarga] = @p0, [FechaCreacion] = @p1, [FechaEliminacion] = @p2, [Nombre] = @p3, [NumeroDescargas] = @p4, [RutaDocumento] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-07-29 09:37:38.975 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:37:38.975 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 09:37:38.975 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:37:38.975 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:37:38.977 -05:00 [DBG] An entity of type 'Archivo' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:37:38.977 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 09:37:38.978 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'RegistroArchivoPerfil.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:37:38.978 -05:00 [DBG] The navigation 'RegistroArchivoPerfil.Archivo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:37:38.978 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'RegistroArchivoPerfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:37:38.978 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 09:37:38.978 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 09:37:38.980 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 09:37:38.981 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:37:38.981 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:37:38.981 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:37:38.981 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:37:38.981 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:37:38.981 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 09:37:39.007 -05:00 [INF] Executed DbCommand (26ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 09:37:39.007 -05:00 [DBG] The foreign key property 'RegistroArchivoPerfil.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-29 09:37:39.008 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:37:39.008 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 09:37:39.008 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:37:39.008 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:37:39.008 -05:00 [DBG] An entity of type 'RegistroArchivoPerfil' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:37:39.008 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 09:37:39.008 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.EliminarDocumento (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 201.6089ms.
2024-07-29 09:37:39.009 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 09:37:39.009 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 09:37:39.009 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 09:37:39.009 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 09:37:39.009 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 09:37:39.009 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-29 09:37:39.009 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.EliminarDocumento (biblioteca-backend) in 578.0814ms
2024-07-29 09:37:39.010 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.EliminarDocumento (biblioteca-backend)'
2024-07-29 09:37:39.010 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 09:37:39.010 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:37:39.010 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 09:37:39.010 -05:00 [INF] Request finished HTTP/2 DELETE https://localhost:7299/api/Archivos?rutaArchivo=Archivos\Ejercicios.sql&idPerfil=31 - 200 null application/json; charset=utf-8 585.342ms
2024-07-29 09:37:47.220 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 09:37:47.220 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 09:37:47.220 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 09:37:47.220 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:37:47.222 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 09:37:47.222 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 09:37:47.222 -05:00 [INF] CORS policy execution successful.
2024-07-29 09:37:47.223 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 09:37:47.223 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:37:47.223 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 09:37:47.223 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 09:37:47.223 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 09:37:47.223 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 09:37:47.223 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 09:37:47.223 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 09:37:47.223 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:37:47.223 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:37:47.267 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 09:37:47.267 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 09:37:47.267 -05:00 [DBG] Creating DbConnection.
2024-07-29 09:37:47.267 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 09:37:47.267 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:37:47.267 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:37:47.268 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:37:47.268 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:37:47.268 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:37:47.268 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 09:37:47.270 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 09:37:47.270 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:37:47.270 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:37:47.270 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:37:47.270 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:37:47.270 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 09:37:47.272 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:37:47.272 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:37:47.292 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 25.4418ms.
2024-07-29 09:37:47.292 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 09:37:47.292 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 09:37:47.309 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 86.2919ms
2024-07-29 09:37:47.310 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:37:47.310 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 09:37:47.310 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:37:47.310 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 09:37:47.310 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 149017 application/zip 90.8799ms
2024-07-29 09:38:12.737 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 09:38:12.737 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 09:38:12.740 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 09:38:12.740 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:38:12.752 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 09:38:12.752 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 09:38:12.752 -05:00 [INF] CORS policy execution successful.
2024-07-29 09:38:12.756 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 09:38:12.756 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:38:12.757 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 09:38:12.757 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 09:38:12.757 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 09:38:12.757 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 09:38:12.757 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 09:38:12.757 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 09:38:12.757 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:38:12.757 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:38:12.809 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 09:38:12.809 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 09:38:12.810 -05:00 [DBG] Creating DbConnection.
2024-07-29 09:38:12.810 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 09:38:12.810 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:38:12.810 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:38:12.810 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:38:12.810 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:38:12.810 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:38:12.810 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 09:38:12.811 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 09:38:12.811 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:38:12.811 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:38:12.811 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:38:12.811 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:38:12.812 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 09:38:12.812 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:38:12.812 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:38:12.827 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 17.7691ms.
2024-07-29 09:38:12.827 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 09:38:12.827 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 09:38:12.831 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 74.0967ms
2024-07-29 09:38:12.831 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:38:12.832 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 09:38:12.832 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:38:12.832 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 09:38:12.832 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 149017 application/zip 95.1143ms
2024-07-29 09:38:24.939 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Archivos?rutaArchivo=Archivos\Sebastian%20Pati%C3%B1o%20Quiros.docx&idPerfil=31 - null null
2024-07-29 09:38:24.939 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos'
2024-07-29 09:38:24.940 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 09:38:24.940 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 09:38:24.940 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 09:38:24.941 -05:00 [INF] CORS policy execution successful.
2024-07-29 09:38:24.941 -05:00 [DBG] The request is a preflight request.
2024-07-29 09:38:24.941 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Archivos?rutaArchivo=Archivos\Sebastian%20Pati%C3%B1o%20Quiros.docx&idPerfil=31 - 204 null null 1.8449ms
2024-07-29 09:38:24.944 -05:00 [INF] Request starting HTTP/2 DELETE https://localhost:7299/api/Archivos?rutaArchivo=Archivos\Sebastian%20Pati%C3%B1o%20Quiros.docx&idPerfil=31 - null null
2024-07-29 09:38:24.945 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos'
2024-07-29 09:38:24.945 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.EliminarDocumento (biblioteca-backend)' with route pattern 'api/Archivos' is valid for the request path '/api/Archivos'
2024-07-29 09:38:24.945 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.EliminarDocumento (biblioteca-backend)'
2024-07-29 09:38:24.945 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 09:38:24.945 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 09:38:24.945 -05:00 [INF] CORS policy execution successful.
2024-07-29 09:38:24.945 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 09:38:24.945 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.EliminarDocumento (biblioteca-backend)'
2024-07-29 09:38:24.945 -05:00 [INF] Route matched with {action = "EliminarDocumento", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult EliminarDocumento(System.String, Int32) on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 09:38:24.945 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 09:38:24.945 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 09:38:24.945 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 09:38:24.945 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 09:38:24.945 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 09:38:24.945 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:38:24.945 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:38:24.946 -05:00 [DBG] Attempting to bind parameter 'rutaArchivo' of type 'System.String' ...
2024-07-29 09:38:24.946 -05:00 [DBG] Attempting to bind parameter 'rutaArchivo' of type 'System.String' using the name 'rutaArchivo' in request data ...
2024-07-29 09:38:24.946 -05:00 [DBG] Done attempting to bind parameter 'rutaArchivo' of type 'System.String'.
2024-07-29 09:38:24.946 -05:00 [DBG] Done attempting to bind parameter 'rutaArchivo' of type 'System.String'.
2024-07-29 09:38:24.946 -05:00 [DBG] Attempting to validate the bound parameter 'rutaArchivo' of type 'System.String' ...
2024-07-29 09:38:24.946 -05:00 [DBG] Done attempting to validate the bound parameter 'rutaArchivo' of type 'System.String'.
2024-07-29 09:38:24.946 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 09:38:24.946 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-29 09:38:24.946 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 09:38:24.946 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 09:38:24.946 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 09:38:24.946 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 09:38:24.979 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.EliminarDocumento (biblioteca-backend) - Validation state: "Valid"
2024-07-29 09:38:24.980 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 09:38:24.980 -05:00 [DBG] Creating DbConnection.
2024-07-29 09:38:24.980 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 09:38:24.980 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:38:24.980 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:38:24.980 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:38:24.980 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:38:24.980 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:38:24.980 -05:00 [DBG] Executing DbCommand [Parameters=[@__rutaArchivo_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[RutaDocumento] = @__rutaArchivo_0
2024-07-29 09:38:24.982 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__rutaArchivo_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[RutaDocumento] = @__rutaArchivo_0
2024-07-29 09:38:24.982 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:38:24.982 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:38:24.982 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 09:38:24.982 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:38:24.982 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:38:24.982 -05:00 [DBG] An entity of type 'Archivo' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:38:24.982 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 09:38:24.982 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 09:38:24.983 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 09:38:24.983 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:38:24.983 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:38:24.983 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:38:24.983 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:38:24.983 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:38:24.983 -05:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Archivo] SET [FechaCarga] = @p0, [FechaCreacion] = @p1, [FechaEliminacion] = @p2, [Nombre] = @p3, [NumeroDescargas] = @p4, [RutaDocumento] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-07-29 09:38:24.997 -05:00 [INF] Executed DbCommand (14ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Archivo] SET [FechaCarga] = @p0, [FechaCreacion] = @p1, [FechaEliminacion] = @p2, [Nombre] = @p3, [NumeroDescargas] = @p4, [RutaDocumento] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-07-29 09:38:24.997 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:38:24.997 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 09:38:24.997 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:38:24.997 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:38:24.998 -05:00 [DBG] An entity of type 'Archivo' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:38:24.998 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 09:38:24.998 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'RegistroArchivoPerfil.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:38:24.999 -05:00 [DBG] The navigation 'RegistroArchivoPerfil.Archivo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:38:24.999 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'RegistroArchivoPerfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:38:24.999 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 09:38:24.999 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 09:38:24.999 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 09:38:24.999 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:38:25.000 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:38:25.000 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:38:25.000 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:38:25.000 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:38:25.000 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 09:38:25.004 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 09:38:25.004 -05:00 [DBG] The foreign key property 'RegistroArchivoPerfil.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-29 09:38:25.004 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:38:25.004 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 09:38:25.004 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:38:25.004 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:38:25.005 -05:00 [DBG] An entity of type 'RegistroArchivoPerfil' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:38:25.005 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 09:38:25.005 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.EliminarDocumento (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 25.3835ms.
2024-07-29 09:38:25.005 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 09:38:25.005 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 09:38:25.005 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 09:38:25.005 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 09:38:25.005 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 09:38:25.005 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-29 09:38:25.005 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.EliminarDocumento (biblioteca-backend) in 59.8771ms
2024-07-29 09:38:25.005 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.EliminarDocumento (biblioteca-backend)'
2024-07-29 09:38:25.005 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 09:38:25.005 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:38:25.006 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 09:38:25.006 -05:00 [INF] Request finished HTTP/2 DELETE https://localhost:7299/api/Archivos?rutaArchivo=Archivos\Sebastian%20Pati%C3%B1o%20Quiros.docx&idPerfil=31 - 200 null application/json; charset=utf-8 61.4588ms
2024-07-29 09:38:26.582 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 09:38:26.582 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 09:38:26.583 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 09:38:26.583 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:38:26.583 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 09:38:26.583 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 09:38:26.583 -05:00 [INF] CORS policy execution successful.
2024-07-29 09:38:26.583 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 09:38:26.583 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:38:26.584 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 09:38:26.584 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 09:38:26.584 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 09:38:26.584 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 09:38:26.584 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 09:38:26.584 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 09:38:26.584 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:38:26.584 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:38:26.659 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 09:38:26.659 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 09:38:26.660 -05:00 [DBG] Creating DbConnection.
2024-07-29 09:38:26.660 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 09:38:26.660 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:38:26.660 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:38:26.660 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:38:26.660 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:38:26.660 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:38:26.660 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 09:38:26.661 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 09:38:26.661 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:38:26.661 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:38:26.661 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:38:26.661 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 09:38:26.661 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:38:26.661 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:38:26.667 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 8.2116ms.
2024-07-29 09:38:26.667 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 09:38:26.667 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 09:38:26.675 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 90.7559ms
2024-07-29 09:38:26.675 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:38:26.675 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 09:38:26.675 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:38:26.675 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 09:38:26.677 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 33402 application/zip 95.1454ms
2024-07-29 09:38:49.916 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Archivos?idPerfil=31 - multipart/form-data; boundary=----WebKitFormBoundarylADPqKj6iRo68jyM 124169
2024-07-29 09:38:49.917 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos'
2024-07-29 09:38:49.917 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend)' with route pattern 'api/Archivos' is valid for the request path '/api/Archivos'
2024-07-29 09:38:49.918 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend)'
2024-07-29 09:38:49.919 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 09:38:49.919 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 09:38:49.920 -05:00 [INF] CORS policy execution successful.
2024-07-29 09:38:49.920 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 09:38:49.920 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend)'
2024-07-29 09:38:49.924 -05:00 [INF] Route matched with {action = "CargarDocumento", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CargarDocumento(Microsoft.AspNetCore.Http.IFormFile, Int32) on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 09:38:49.924 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 09:38:49.924 -05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-07-29 09:38:49.924 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 09:38:49.924 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 09:38:49.924 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 09:38:49.925 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:38:49.925 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:38:49.933 -05:00 [DBG] Connection id "0HN5FR1CC4T38", Request id "0HN5FR1CC4T38:0000003F": started reading request body.
2024-07-29 09:38:49.933 -05:00 [DBG] Connection id "0HN5FR1CC4T38", Request id "0HN5FR1CC4T38:0000003F": done reading request body.
2024-07-29 09:38:49.975 -05:00 [DBG] Attempting to bind parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile' ...
2024-07-29 09:38:49.977 -05:00 [DBG] Attempting to bind parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile' using the name 'archivo' in request data ...
2024-07-29 09:38:49.978 -05:00 [DBG] Done attempting to bind parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-07-29 09:38:49.978 -05:00 [DBG] Done attempting to bind parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-07-29 09:38:49.978 -05:00 [DBG] Attempting to validate the bound parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile' ...
2024-07-29 09:38:49.979 -05:00 [DBG] Done attempting to validate the bound parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-07-29 09:38:49.979 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 09:38:49.979 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-29 09:38:49.979 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 09:38:49.979 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 09:38:49.979 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 09:38:49.979 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 09:38:50.066 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend) - Validation state: "Valid"
2024-07-29 09:38:50.071 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 09:38:50.071 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'Archivo.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:38:50.072 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:38:50.072 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 09:38:50.072 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 09:38:50.072 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 09:38:50.074 -05:00 [DBG] Creating DbConnection.
2024-07-29 09:38:50.074 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 09:38:50.074 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:38:50.074 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:38:50.074 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:38:50.074 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:38:50.074 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:38:50.074 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Archivo] ([FechaCarga], [FechaCreacion], [FechaEliminacion], [Nombre], [NumeroDescargas], [RutaDocumento])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-07-29 09:38:50.077 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Archivo] ([FechaCarga], [FechaCreacion], [FechaEliminacion], [Nombre], [NumeroDescargas], [RutaDocumento])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-07-29 09:38:50.078 -05:00 [DBG] The foreign key property 'Archivo.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-29 09:38:50.079 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:38:50.079 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-29 09:38:50.079 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:38:50.080 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:38:50.080 -05:00 [DBG] An entity of type 'Archivo' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:38:50.080 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 09:38:50.080 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'RegistroArchivoPerfil.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:38:50.080 -05:00 [DBG] The navigation 'RegistroArchivoPerfil.Archivo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:38:50.080 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'RegistroArchivoPerfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:38:50.080 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 09:38:50.080 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 09:38:50.080 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 09:38:50.081 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:38:50.081 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:38:50.081 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:38:50.081 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:38:50.081 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:38:50.081 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 09:38:50.084 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 09:38:50.085 -05:00 [DBG] The foreign key property 'RegistroArchivoPerfil.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-29 09:38:50.085 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:38:50.085 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 09:38:50.085 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:38:50.085 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:38:50.085 -05:00 [DBG] An entity of type 'RegistroArchivoPerfil' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:38:50.085 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 09:38:50.085 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 19.358ms.
2024-07-29 09:38:50.086 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 09:38:50.086 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 09:38:50.086 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 09:38:50.086 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 09:38:50.086 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 09:38:50.086 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-29 09:38:50.086 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend) in 162.1451ms
2024-07-29 09:38:50.087 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend)'
2024-07-29 09:38:50.089 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 09:38:50.090 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:38:50.090 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 09:38:50.090 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Archivos?idPerfil=31 - 200 null application/json; charset=utf-8 173.395ms
2024-07-29 09:38:51.600 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 09:38:51.600 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 09:38:51.600 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 09:38:51.600 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:38:51.600 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 09:38:51.600 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 09:38:51.600 -05:00 [INF] CORS policy execution successful.
2024-07-29 09:38:51.600 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 09:38:51.601 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:38:51.602 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 09:38:51.602 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 09:38:51.602 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 09:38:51.602 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 09:38:51.602 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 09:38:51.602 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 09:38:51.602 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:38:51.603 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:38:51.639 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 09:38:51.640 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 09:38:51.640 -05:00 [DBG] Creating DbConnection.
2024-07-29 09:38:51.640 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 09:38:51.640 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:38:51.640 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:38:51.640 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:38:51.640 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:38:51.640 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:38:51.640 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 09:38:51.642 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 09:38:51.642 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:38:51.642 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:38:51.642 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:38:51.642 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:38:51.642 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 09:38:51.642 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:38:51.642 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:38:51.653 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 14.0781ms.
2024-07-29 09:38:51.653 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 09:38:51.653 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 09:38:51.680 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 77.6482ms
2024-07-29 09:38:51.680 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:38:51.684 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 09:38:51.684 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:38:51.684 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 09:38:51.684 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 149017 application/zip 84.714ms
2024-07-29 09:40:12.317 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 09:40:12.318 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 09:40:12.318 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 09:40:12.318 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:40:12.318 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 09:40:12.318 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 09:40:12.318 -05:00 [INF] CORS policy execution successful.
2024-07-29 09:40:12.318 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 09:40:12.318 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:40:12.318 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 09:40:12.318 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 09:40:12.318 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 09:40:12.320 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 09:40:12.320 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 09:40:12.321 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 09:40:12.321 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:40:12.321 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:40:12.404 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 09:40:12.405 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 09:40:12.405 -05:00 [DBG] Creating DbConnection.
2024-07-29 09:40:12.405 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 09:40:12.405 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:40:12.405 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:40:12.406 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:40:12.406 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:40:12.406 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:40:12.406 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 09:40:12.410 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 09:40:12.410 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:40:12.410 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:40:12.410 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:40:12.410 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:40:12.410 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 09:40:12.411 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:40:12.411 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:40:12.428 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 24.5269ms.
2024-07-29 09:40:12.429 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 09:40:12.429 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 09:40:12.467 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 146.6944ms
2024-07-29 09:40:12.468 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:40:12.468 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 09:40:12.468 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:40:12.468 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 09:40:12.468 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 149017 application/zip 150.9663ms
2024-07-29 09:40:32.031 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos?rutaArchivo=Archivos\Sebastian%20Pati%C3%B1o%20Quiros.docx&idPerfil=31 - null null
2024-07-29 09:40:32.031 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos'
2024-07-29 09:40:32.031 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)' with route pattern 'api/Archivos' is valid for the request path '/api/Archivos'
2024-07-29 09:40:32.031 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 09:40:32.031 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 09:40:32.032 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 09:40:32.032 -05:00 [INF] CORS policy execution successful.
2024-07-29 09:40:32.032 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 09:40:32.032 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 09:40:32.033 -05:00 [INF] Route matched with {action = "DescargarDocumento", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult DescargarDocumento(System.String, Int32) on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 09:40:32.033 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 09:40:32.033 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 09:40:32.033 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 09:40:32.033 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 09:40:32.034 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 09:40:32.034 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:40:32.034 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:40:32.034 -05:00 [DBG] Attempting to bind parameter 'rutaArchivo' of type 'System.String' ...
2024-07-29 09:40:32.034 -05:00 [DBG] Attempting to bind parameter 'rutaArchivo' of type 'System.String' using the name 'rutaArchivo' in request data ...
2024-07-29 09:40:32.034 -05:00 [DBG] Done attempting to bind parameter 'rutaArchivo' of type 'System.String'.
2024-07-29 09:40:32.035 -05:00 [DBG] Done attempting to bind parameter 'rutaArchivo' of type 'System.String'.
2024-07-29 09:40:32.035 -05:00 [DBG] Attempting to validate the bound parameter 'rutaArchivo' of type 'System.String' ...
2024-07-29 09:40:32.035 -05:00 [DBG] Done attempting to validate the bound parameter 'rutaArchivo' of type 'System.String'.
2024-07-29 09:40:32.035 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 09:40:32.035 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-29 09:40:32.035 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 09:40:32.035 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 09:40:32.035 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 09:40:32.036 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 09:40:32.192 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend) - Validation state: "Valid"
2024-07-29 09:40:32.193 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 09:40:32.194 -05:00 [DBG] Creating DbConnection.
2024-07-29 09:40:32.194 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 09:40:32.194 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:40:32.194 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:40:32.195 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:40:32.195 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:40:32.196 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:40:32.196 -05:00 [DBG] Executing DbCommand [Parameters=[@__rutaArchivo_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[RutaDocumento] = @__rutaArchivo_0
2024-07-29 09:40:32.289 -05:00 [INF] Executed DbCommand (94ms) [Parameters=[@__rutaArchivo_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[RutaDocumento] = @__rutaArchivo_0
2024-07-29 09:40:32.289 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:40:32.290 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:40:32.290 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 09:40:32.290 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:40:32.290 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:40:32.290 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'RegistroArchivoPerfil.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:40:32.291 -05:00 [DBG] The navigation 'RegistroArchivoPerfil.Archivo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:40:32.291 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'RegistroArchivoPerfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:40:32.291 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 09:40:32.291 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 09:40:32.291 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 09:40:32.292 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:40:32.292 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:40:32.292 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:40:32.292 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:40:32.292 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:40:32.293 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 09:40:32.354 -05:00 [INF] Executed DbCommand (61ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 09:40:32.354 -05:00 [DBG] The foreign key property 'RegistroArchivoPerfil.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-29 09:40:32.355 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:40:32.355 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 09:40:32.355 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:40:32.355 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:40:32.355 -05:00 [DBG] An entity of type 'RegistroArchivoPerfil' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:40:32.355 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 09:40:32.355 -05:00 [DBG] An entity of type 'Archivo' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:40:32.355 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 09:40:32.355 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 09:40:32.356 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 09:40:32.356 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:40:32.356 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:40:32.356 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:40:32.356 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:40:32.356 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:40:32.356 -05:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Archivo] SET [FechaCarga] = @p0, [FechaCreacion] = @p1, [FechaEliminacion] = @p2, [Nombre] = @p3, [NumeroDescargas] = @p4, [RutaDocumento] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-07-29 09:40:32.360 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Archivo] SET [FechaCarga] = @p0, [FechaCreacion] = @p1, [FechaEliminacion] = @p2, [Nombre] = @p3, [NumeroDescargas] = @p4, [RutaDocumento] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-07-29 09:40:32.360 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:40:32.360 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 09:40:32.360 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:40:32.361 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:40:32.361 -05:00 [DBG] An entity of type 'Archivo' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:40:32.361 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 09:40:32.361 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 168.8849ms.
2024-07-29 09:40:32.361 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 09:40:32.361 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 09:40:32.361 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 09:40:32.361 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 09:40:32.361 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 09:40:32.361 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-29 09:40:32.362 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend) in 327.8353ms
2024-07-29 09:40:32.362 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 09:40:32.362 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 09:40:32.362 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:40:32.362 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 09:40:32.362 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos?rutaArchivo=Archivos\Sebastian%20Pati%C3%B1o%20Quiros.docx&idPerfil=31 - 200 null application/json; charset=utf-8 332.7398ms
2024-07-29 09:44:55.153 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-29 09:44:55.345 -05:00 [DBG] Hosting starting
2024-07-29 09:44:55.421 -05:00 [INF] User profile is available. Using 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-29 09:44:55.429 -05:00 [DBG] Reading data from file 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys\key-12ed5171-7863-4d3e-a216-6f5439158e60.xml'.
2024-07-29 09:44:55.440 -05:00 [DBG] Found key {12ed5171-7863-4d3e-a216-6f5439158e60}.
2024-07-29 09:44:55.450 -05:00 [DBG] Considering key {12ed5171-7863-4d3e-a216-6f5439158e60} with expiration date 2024-09-28 19:27:42Z as default key.
2024-07-29 09:44:55.452 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-29 09:44:55.454 -05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-29 09:44:55.456 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-29 09:44:55.459 -05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-29 09:44:55.461 -05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-29 09:44:55.463 -05:00 [DBG] Using key {12ed5171-7863-4d3e-a216-6f5439158e60} as the default key.
2024-07-29 09:44:55.464 -05:00 [DBG] Key ring with default key {12ed5171-7863-4d3e-a216-6f5439158e60} was loaded during application startup.
2024-07-29 09:44:55.793 -05:00 [INF] Now listening on: https://localhost:7299
2024-07-29 09:44:55.793 -05:00 [INF] Now listening on: http://localhost:5219
2024-07-29 09:44:55.793 -05:00 [DBG] Loaded hosting startup assembly biblioteca-backend
2024-07-29 09:44:55.793 -05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-29 09:44:55.793 -05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-29 09:44:55.793 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-29 09:44:55.793 -05:00 [INF] Hosting environment: Development
2024-07-29 09:44:55.794 -05:00 [INF] Content root path: C:\Users\spatino\Documents\Proyeco - Biblioteca\biblioteca-backend
2024-07-29 09:44:55.794 -05:00 [DBG] Hosting started
2024-07-29 09:44:55.935 -05:00 [DBG] Connection id "0HN5FRK1M9PSO" accepted.
2024-07-29 09:44:55.935 -05:00 [DBG] Connection id "0HN5FRK1M9PSO" started.
2024-07-29 09:44:55.949 -05:00 [DBG] Connection id "0HN5FRK1M9PSP" received FIN.
2024-07-29 09:44:55.949 -05:00 [DBG] Connection id "0HN5FRK1M9PSO" received FIN.
2024-07-29 09:44:55.969 -05:00 [DBG] Connection id "0HN5FRK1M9PSP" accepted.
2024-07-29 09:44:55.970 -05:00 [DBG] Connection id "0HN5FRK1M9PSP" started.
2024-07-29 09:44:55.980 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-29 09:44:55.980 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-29 09:44:56.060 -05:00 [DBG] Connection id "0HN5FRK1M9PSO" stopped.
2024-07-29 09:44:56.064 -05:00 [DBG] Connection id "0HN5FRK1M9PSP" stopped.
2024-07-29 09:44:56.072 -05:00 [DBG] Connection id "0HN5FRK1M9PSP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-29 09:44:56.077 -05:00 [DBG] Connection id "0HN5FRK1M9PSO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-29 09:44:56.130 -05:00 [DBG] Connection id "0HN5FRK1M9PSQ" accepted.
2024-07-29 09:44:56.130 -05:00 [DBG] Connection id "0HN5FRK1M9PSQ" started.
2024-07-29 09:44:56.331 -05:00 [DBG] Connection 0HN5FRK1M9PSQ established using the following protocol: "Tls12"
2024-07-29 09:44:56.465 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/index.html - null null
2024-07-29 09:44:56.850 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-29 09:44:56.886 -05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-29 09:44:56.887 -05:00 [DBG] Request did not match any endpoints
2024-07-29 09:44:57.080 -05:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-07-29 09:44:57.082 -05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-29 09:44:57.198 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
2024-07-29 09:44:57.198 -05:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-07-29 09:44:57.199 -05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-29 09:44:57.199 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
2024-07-29 09:44:57.225 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/index.html - 200 null text/html;charset=utf-8 764.8515ms
2024-07-29 09:44:57.234 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 35.4617ms
2024-07-29 09:44:57.323 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 123.84ms
2024-07-29 09:44:57.648 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
2024-07-29 09:44:57.649 -05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-29 09:44:57.649 -05:00 [DBG] Request did not match any endpoints
2024-07-29 09:44:57.845 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 196.7061ms
2024-07-29 09:45:07.365 -05:00 [DBG] Connection id "0HN5FRK1M9PSR" accepted.
2024-07-29 09:45:07.365 -05:00 [DBG] Connection id "0HN5FRK1M9PSR" started.
2024-07-29 09:45:07.374 -05:00 [DBG] Connection 0HN5FRK1M9PSR established using the following protocol: "Tls12"
2024-07-29 09:45:07.376 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 09:45:07.387 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 09:45:07.392 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 09:45:07.393 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:45:07.397 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 09:45:07.399 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 09:45:07.399 -05:00 [INF] CORS policy execution successful.
2024-07-29 09:45:07.583 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 09:45:07.589 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:45:07.624 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 09:45:07.627 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 09:45:07.628 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 09:45:07.628 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 09:45:07.629 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 09:45:07.629 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 09:45:07.631 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:45:07.922 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-29 09:45:07.960 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:45:08.100 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 09:45:09.786 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 09:45:09.876 -05:00 [DBG] Compiling query expression: 
'DbSet<Archivo>()
    .Where(A => A.FechaEliminacion == null)'
2024-07-29 09:45:10.208 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Archivo>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Archivo.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Archivo.FechaCarga (DateTime) Required, 1], [Property: Archivo.FechaCreacion (DateTime) Required, 2], [Property: Archivo.FechaEliminacion (DateTime?), 3], [Property: Archivo.Nombre (string) Required, 4], [Property: Archivo.NumeroDescargas (int) Required, 5], [Property: Archivo.RutaDocumento (string) Required, 6] }
        SELECT a.Id, a.FechaCarga, a.FechaCreacion, a.FechaEliminacion, a.Nombre, a.NumeroDescargas, a.RutaDocumento
        FROM Archivo AS a
        WHERE a.FechaEliminacion == NULL), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Archivo>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-29 09:45:10.269 -05:00 [DBG] Creating DbConnection.
2024-07-29 09:45:10.305 -05:00 [DBG] Created DbConnection. (39ms).
2024-07-29 09:45:10.307 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:45:10.725 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:45:10.729 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:45:10.742 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-07-29 09:45:10.744 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2024-07-29 09:45:10.751 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 09:45:10.781 -05:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 09:45:10.822 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:45:10.854 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:45:10.854 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:45:10.858 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:45:10.865 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 79ms reading results.
2024-07-29 09:45:10.867 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:45:10.873 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (5ms).
2024-07-29 09:45:10.935 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 2830.0865ms.
2024-07-29 09:45:10.937 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 09:45:10.941 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 09:45:10.964 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 3330.534ms
2024-07-29 09:45:10.965 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:45:10.969 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 09:45:10.974 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:45:10.977 -05:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-07-29 09:45:10.978 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 149017 application/zip 3601.8971ms
2024-07-29 09:45:16.079 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos?rutaArchivo=Archivos\Sebastian%20Pati%C3%B1o%20Quiros.docx&idPerfil=31 - null null
2024-07-29 09:45:16.082 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos'
2024-07-29 09:45:16.082 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)' with route pattern 'api/Archivos' is valid for the request path '/api/Archivos'
2024-07-29 09:45:16.087 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 09:45:16.088 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 09:45:16.090 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 09:45:16.090 -05:00 [INF] CORS policy execution successful.
2024-07-29 09:45:16.092 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 09:45:16.093 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 09:45:16.264 -05:00 [INF] Route matched with {action = "DescargarDocumento", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult DescargarDocumento(System.String, Int32) on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 09:45:16.265 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 09:45:16.265 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 09:45:16.265 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 09:45:16.265 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 09:45:16.266 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 09:45:16.266 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:45:16.271 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:45:16.410 -05:00 [DBG] Attempting to bind parameter 'rutaArchivo' of type 'System.String' ...
2024-07-29 09:45:16.417 -05:00 [DBG] Attempting to bind parameter 'rutaArchivo' of type 'System.String' using the name 'rutaArchivo' in request data ...
2024-07-29 09:45:16.419 -05:00 [DBG] Done attempting to bind parameter 'rutaArchivo' of type 'System.String'.
2024-07-29 09:45:16.420 -05:00 [DBG] Done attempting to bind parameter 'rutaArchivo' of type 'System.String'.
2024-07-29 09:45:16.420 -05:00 [DBG] Attempting to validate the bound parameter 'rutaArchivo' of type 'System.String' ...
2024-07-29 09:45:16.431 -05:00 [DBG] Done attempting to validate the bound parameter 'rutaArchivo' of type 'System.String'.
2024-07-29 09:45:16.434 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 09:45:16.435 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-29 09:45:16.436 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 09:45:16.436 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 09:45:16.436 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 09:45:16.437 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 09:45:16.484 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend) - Validation state: "Valid"
2024-07-29 09:45:16.513 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 09:45:16.516 -05:00 [DBG] Compiling query expression: 
'DbSet<Archivo>()
    .FirstOrDefault(A => A.RutaDocumento == __rutaArchivo_0 && A.FechaEliminacion == null)'
2024-07-29 09:45:16.546 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Archivo>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Archivo.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Archivo.FechaCarga (DateTime) Required, 1], [Property: Archivo.FechaCreacion (DateTime) Required, 2], [Property: Archivo.FechaEliminacion (DateTime?), 3], [Property: Archivo.Nombre (string) Required, 4], [Property: Archivo.NumeroDescargas (int) Required, 5], [Property: Archivo.RutaDocumento (string) Required, 6] }
        SELECT TOP(1) a.Id, a.FechaCarga, a.FechaCreacion, a.FechaEliminacion, a.Nombre, a.NumeroDescargas, a.RutaDocumento
        FROM Archivo AS a
        WHERE (a.RutaDocumento == @__rutaArchivo_0) && (a.FechaEliminacion == NULL)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Archivo>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-29 09:45:16.561 -05:00 [DBG] Creating DbConnection.
2024-07-29 09:45:16.562 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 09:45:16.562 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:45:16.564 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:45:16.564 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:45:16.564 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:45:16.573 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-07-29 09:45:16.577 -05:00 [DBG] Executing DbCommand [Parameters=[@__rutaArchivo_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[RutaDocumento] = @__rutaArchivo_0 AND [a].[FechaEliminacion] IS NULL
2024-07-29 09:45:16.675 -05:00 [INF] Executed DbCommand (102ms) [Parameters=[@__rutaArchivo_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[RutaDocumento] = @__rutaArchivo_0 AND [a].[FechaEliminacion] IS NULL
2024-07-29 09:45:16.676 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:45:16.676 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:45:16.677 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-29 09:45:16.677 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:45:16.678 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:45:16.716 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'RegistroArchivoPerfil.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:45:16.780 -05:00 [DBG] The navigation 'RegistroArchivoPerfil.Archivo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:45:16.832 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'RegistroArchivoPerfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:45:16.841 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 09:45:16.850 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 09:45:16.931 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 09:45:17.072 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:45:17.072 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:45:17.074 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:45:17.075 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:45:17.076 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-07-29 09:45:17.077 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 09:45:17.087 -05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 09:45:17.105 -05:00 [DBG] The foreign key property 'RegistroArchivoPerfil.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-29 09:45:17.111 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:45:17.111 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 23ms reading results.
2024-07-29 09:45:17.112 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:45:17.112 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:45:17.125 -05:00 [DBG] An entity of type 'RegistroArchivoPerfil' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:45:17.126 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 09:45:17.126 -05:00 [DBG] An entity of type 'Archivo' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:45:17.127 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 09:45:17.127 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 09:45:17.127 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 09:45:17.132 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:45:17.132 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:45:17.133 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:45:17.133 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:45:17.133 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:45:17.133 -05:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Archivo] SET [FechaCarga] = @p0, [FechaCreacion] = @p1, [FechaEliminacion] = @p2, [Nombre] = @p3, [NumeroDescargas] = @p4, [RutaDocumento] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-07-29 09:45:17.137 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Archivo] SET [FechaCarga] = @p0, [FechaCreacion] = @p1, [FechaEliminacion] = @p2, [Nombre] = @p3, [NumeroDescargas] = @p4, [RutaDocumento] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2024-07-29 09:45:17.138 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:45:17.138 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 09:45:17.138 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:45:17.138 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:45:17.139 -05:00 [DBG] An entity of type 'Archivo' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:45:17.139 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 09:45:17.139 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 655.0507ms.
2024-07-29 09:45:17.143 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 09:45:17.145 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 09:45:17.145 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 09:45:17.145 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 09:45:17.147 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 09:45:17.148 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-29 09:45:17.160 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend) in 893.6006ms
2024-07-29 09:45:17.160 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 09:45:17.160 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 09:45:17.160 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:45:17.160 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 09:45:17.161 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos?rutaArchivo=Archivos\Sebastian%20Pati%C3%B1o%20Quiros.docx&idPerfil=31 - 200 null application/json; charset=utf-8 1082.0085ms
2024-07-29 09:46:10.011 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Archivos?idPerfil=31 - multipart/form-data; boundary=----WebKitFormBoundaryLX3iYM6mFAhyIlg1 124169
2024-07-29 09:46:10.011 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos'
2024-07-29 09:46:10.012 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend)' with route pattern 'api/Archivos' is valid for the request path '/api/Archivos'
2024-07-29 09:46:10.012 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend)'
2024-07-29 09:46:10.012 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 09:46:10.013 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 09:46:10.013 -05:00 [INF] CORS policy execution successful.
2024-07-29 09:46:10.019 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 09:46:10.019 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend)'
2024-07-29 09:46:10.023 -05:00 [INF] Route matched with {action = "CargarDocumento", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CargarDocumento(Microsoft.AspNetCore.Http.IFormFile, Int32) on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 09:46:10.023 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 09:46:10.024 -05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-07-29 09:46:10.024 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 09:46:10.024 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 09:46:10.024 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 09:46:10.025 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:46:10.029 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:46:10.036 -05:00 [DBG] Connection id "0HN5FRK1M9PSR", Request id "0HN5FRK1M9PSR:00000005": started reading request body.
2024-07-29 09:46:10.036 -05:00 [DBG] Connection id "0HN5FRK1M9PSR", Request id "0HN5FRK1M9PSR:00000005": done reading request body.
2024-07-29 09:46:10.070 -05:00 [DBG] Attempting to bind parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile' ...
2024-07-29 09:46:10.072 -05:00 [DBG] Attempting to bind parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile' using the name 'archivo' in request data ...
2024-07-29 09:46:10.074 -05:00 [DBG] Done attempting to bind parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-07-29 09:46:10.074 -05:00 [DBG] Done attempting to bind parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-07-29 09:46:10.074 -05:00 [DBG] Attempting to validate the bound parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile' ...
2024-07-29 09:46:10.075 -05:00 [DBG] Done attempting to validate the bound parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-07-29 09:46:10.075 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 09:46:10.075 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-29 09:46:10.075 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 09:46:10.075 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 09:46:10.075 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 09:46:10.075 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 09:46:10.145 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend) - Validation state: "Valid"
2024-07-29 09:46:10.212 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 09:46:10.212 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'Archivo.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:46:10.214 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:46:10.215 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 09:46:10.216 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 09:46:10.217 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 09:46:10.221 -05:00 [DBG] Creating DbConnection.
2024-07-29 09:46:10.221 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 09:46:10.221 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:46:10.221 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:46:10.221 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:46:10.221 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:46:10.222 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:46:10.222 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Archivo] ([FechaCarga], [FechaCreacion], [FechaEliminacion], [Nombre], [NumeroDescargas], [RutaDocumento])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-07-29 09:46:10.229 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Archivo] ([FechaCarga], [FechaCreacion], [FechaEliminacion], [Nombre], [NumeroDescargas], [RutaDocumento])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-07-29 09:46:10.229 -05:00 [DBG] The foreign key property 'Archivo.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-29 09:46:10.231 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:46:10.231 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-07-29 09:46:10.231 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:46:10.231 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:46:10.232 -05:00 [DBG] An entity of type 'Archivo' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:46:10.232 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 09:46:10.233 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'RegistroArchivoPerfil.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:46:10.233 -05:00 [DBG] The navigation 'RegistroArchivoPerfil.Archivo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:46:10.233 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'RegistroArchivoPerfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:46:10.233 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 09:46:10.233 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 09:46:10.233 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 09:46:10.234 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:46:10.234 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:46:10.234 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:46:10.234 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:46:10.234 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:46:10.234 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 09:46:10.238 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 09:46:10.238 -05:00 [DBG] The foreign key property 'RegistroArchivoPerfil.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-29 09:46:10.239 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:46:10.239 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 09:46:10.239 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:46:10.239 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:46:10.239 -05:00 [DBG] An entity of type 'RegistroArchivoPerfil' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:46:10.239 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 09:46:10.239 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 93.8372ms.
2024-07-29 09:46:10.240 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 09:46:10.240 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 09:46:10.240 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 09:46:10.240 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 09:46:10.240 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 09:46:10.240 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-29 09:46:10.241 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend) in 216.9256ms
2024-07-29 09:46:10.241 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend)'
2024-07-29 09:46:10.244 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 09:46:10.244 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:46:10.244 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 09:46:10.244 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Archivos?idPerfil=31 - 200 null application/json; charset=utf-8 233.1707ms
2024-07-29 09:46:12.002 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 09:46:12.002 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 09:46:12.002 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 09:46:12.002 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:46:12.002 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 09:46:12.003 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 09:46:12.003 -05:00 [INF] CORS policy execution successful.
2024-07-29 09:46:12.003 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 09:46:12.003 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:46:12.003 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 09:46:12.003 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 09:46:12.003 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 09:46:12.004 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 09:46:12.004 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 09:46:12.004 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 09:46:12.004 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:46:12.004 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:46:12.037 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 09:46:12.037 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 09:46:12.041 -05:00 [DBG] Creating DbConnection.
2024-07-29 09:46:12.041 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 09:46:12.041 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:46:12.041 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:46:12.041 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:46:12.041 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:46:12.041 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:46:12.041 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 09:46:12.043 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 09:46:12.043 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:46:12.043 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:46:12.043 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:46:12.043 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:46:12.043 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:46:12.043 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 09:46:12.044 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:46:12.044 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:46:12.062 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 24.894ms.
2024-07-29 09:46:12.062 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 09:46:12.063 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 09:46:12.071 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 67.3783ms
2024-07-29 09:46:12.071 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:46:12.073 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 09:46:12.073 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:46:12.074 -05:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-29 09:46:12.074 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 264632 application/zip 72.543ms
2024-07-29 09:52:47.388 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-29 09:52:47.536 -05:00 [DBG] Hosting starting
2024-07-29 09:52:47.588 -05:00 [INF] User profile is available. Using 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-29 09:52:47.596 -05:00 [DBG] Reading data from file 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys\key-12ed5171-7863-4d3e-a216-6f5439158e60.xml'.
2024-07-29 09:52:47.606 -05:00 [DBG] Found key {12ed5171-7863-4d3e-a216-6f5439158e60}.
2024-07-29 09:52:47.615 -05:00 [DBG] Considering key {12ed5171-7863-4d3e-a216-6f5439158e60} with expiration date 2024-09-28 19:27:42Z as default key.
2024-07-29 09:52:47.619 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-29 09:52:47.621 -05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-29 09:52:47.623 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-29 09:52:47.626 -05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-29 09:52:47.627 -05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-29 09:52:47.628 -05:00 [DBG] Using key {12ed5171-7863-4d3e-a216-6f5439158e60} as the default key.
2024-07-29 09:52:47.629 -05:00 [DBG] Key ring with default key {12ed5171-7863-4d3e-a216-6f5439158e60} was loaded during application startup.
2024-07-29 09:52:47.922 -05:00 [DBG] Connection id "0HN5FROEBH041" accepted.
2024-07-29 09:52:47.923 -05:00 [DBG] Connection id "0HN5FROEBH041" started.
2024-07-29 09:52:47.927 -05:00 [DBG] Connection id "0HN5FROEBH042" accepted.
2024-07-29 09:52:47.927 -05:00 [DBG] Connection id "0HN5FROEBH042" started.
2024-07-29 09:52:47.931 -05:00 [INF] Now listening on: https://localhost:7299
2024-07-29 09:52:47.931 -05:00 [INF] Now listening on: http://localhost:5219
2024-07-29 09:52:47.935 -05:00 [DBG] Loaded hosting startup assembly biblioteca-backend
2024-07-29 09:52:47.935 -05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-29 09:52:47.935 -05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-29 09:52:47.936 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-29 09:52:47.936 -05:00 [INF] Hosting environment: Development
2024-07-29 09:52:47.936 -05:00 [INF] Content root path: C:\Users\spatino\Documents\Proyeco - Biblioteca\biblioteca-backend
2024-07-29 09:52:47.936 -05:00 [DBG] Hosting started
2024-07-29 09:52:47.943 -05:00 [DBG] Connection id "0HN5FROEBH041" received FIN.
2024-07-29 09:52:47.944 -05:00 [DBG] Connection id "0HN5FROEBH042" received FIN.
2024-07-29 09:52:47.975 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-29 09:52:47.975 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-29 09:52:48.031 -05:00 [DBG] Connection id "0HN5FROEBH041" stopped.
2024-07-29 09:52:48.031 -05:00 [DBG] Connection id "0HN5FROEBH042" stopped.
2024-07-29 09:52:48.033 -05:00 [DBG] Connection id "0HN5FROEBH041" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-29 09:52:48.033 -05:00 [DBG] Connection id "0HN5FROEBH042" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-29 09:52:48.165 -05:00 [DBG] Connection id "0HN5FROEBH043" accepted.
2024-07-29 09:52:48.166 -05:00 [DBG] Connection id "0HN5FROEBH043" started.
2024-07-29 09:52:48.463 -05:00 [DBG] Connection 0HN5FROEBH043 established using the following protocol: "Tls12"
2024-07-29 09:52:48.560 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/index.html - null null
2024-07-29 09:52:48.904 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-29 09:52:48.925 -05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-29 09:52:48.926 -05:00 [DBG] Request did not match any endpoints
2024-07-29 09:52:49.062 -05:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-07-29 09:52:49.067 -05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-29 09:52:49.124 -05:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-07-29 09:52:49.125 -05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-29 09:52:49.134 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/index.html - 200 null text/html;charset=utf-8 581.6676ms
2024-07-29 09:52:49.136 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
2024-07-29 09:52:49.136 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
2024-07-29 09:52:49.153 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 17.5302ms
2024-07-29 09:52:49.208 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 72.0055ms
2024-07-29 09:52:49.343 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
2024-07-29 09:52:49.343 -05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-29 09:52:49.343 -05:00 [DBG] Request did not match any endpoints
2024-07-29 09:52:49.560 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 217.6372ms
2024-07-29 09:52:53.739 -05:00 [DBG] Connection id "0HN5FROEBH044" accepted.
2024-07-29 09:52:53.739 -05:00 [DBG] Connection id "0HN5FROEBH044" started.
2024-07-29 09:52:53.750 -05:00 [DBG] Connection 0HN5FROEBH044 established using the following protocol: "Tls12"
2024-07-29 09:52:53.752 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 09:52:53.761 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 09:52:53.767 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 09:52:53.767 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:52:53.771 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 09:52:53.772 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 09:52:53.773 -05:00 [INF] CORS policy execution successful.
2024-07-29 09:52:53.924 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 09:52:53.928 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:52:53.961 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 09:52:53.965 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 09:52:53.966 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 09:52:53.966 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 09:52:53.966 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 09:52:53.967 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 09:52:53.970 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:52:54.211 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-29 09:52:54.252 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:52:54.409 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 09:52:56.241 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 09:52:56.316 -05:00 [DBG] Compiling query expression: 
'DbSet<Archivo>()
    .Where(A => A.FechaEliminacion == null)'
2024-07-29 09:52:56.733 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Archivo>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Archivo.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Archivo.FechaCarga (DateTime) Required, 1], [Property: Archivo.FechaCreacion (DateTime) Required, 2], [Property: Archivo.FechaEliminacion (DateTime?), 3], [Property: Archivo.Nombre (string) Required, 4], [Property: Archivo.NumeroDescargas (int) Required, 5], [Property: Archivo.RutaDocumento (string) Required, 6] }
        SELECT a.Id, a.FechaCarga, a.FechaCreacion, a.FechaEliminacion, a.Nombre, a.NumeroDescargas, a.RutaDocumento
        FROM Archivo AS a
        WHERE a.FechaEliminacion == NULL), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Archivo>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-29 09:52:56.843 -05:00 [DBG] Creating DbConnection.
2024-07-29 09:52:56.879 -05:00 [DBG] Created DbConnection. (34ms).
2024-07-29 09:52:56.882 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:52:57.258 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:52:57.261 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:52:57.270 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-07-29 09:52:57.272 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2024-07-29 09:52:57.283 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 09:52:57.357 -05:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 09:52:57.442 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:52:57.501 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:52:57.502 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:52:57.508 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:52:57.528 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 156ms reading results.
2024-07-29 09:52:57.535 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:52:57.548 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (14ms).
2024-07-29 09:52:57.593 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 3177.9798ms.
2024-07-29 09:52:57.597 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 09:52:57.600 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 09:52:57.629 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 3656.581ms
2024-07-29 09:52:57.630 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:52:57.636 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 09:52:57.644 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:52:57.648 -05:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-07-29 09:52:57.648 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 149017 application/zip 3896.5586ms
2024-07-29 09:53:02.488 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Archivos?idPerfil=31 - multipart/form-data; boundary=----WebKitFormBoundaryBCxoDlwORRTBzJ9D 124169
2024-07-29 09:53:02.492 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos'
2024-07-29 09:53:02.492 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend)' with route pattern 'api/Archivos' is valid for the request path '/api/Archivos'
2024-07-29 09:53:02.492 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend)'
2024-07-29 09:53:02.492 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 09:53:02.493 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 09:53:02.493 -05:00 [INF] CORS policy execution successful.
2024-07-29 09:53:02.494 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 09:53:02.494 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend)'
2024-07-29 09:53:02.506 -05:00 [INF] Route matched with {action = "CargarDocumento", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CargarDocumento(Microsoft.AspNetCore.Http.IFormFile, Int32) on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 09:53:02.506 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 09:53:02.506 -05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-07-29 09:53:02.506 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 09:53:02.506 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 09:53:02.506 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 09:53:02.507 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:53:02.508 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:53:02.525 -05:00 [DBG] Connection id "0HN5FROEBH044", Request id "0HN5FROEBH044:00000003": started reading request body.
2024-07-29 09:53:02.526 -05:00 [DBG] Connection id "0HN5FROEBH044", Request id "0HN5FROEBH044:00000003": done reading request body.
2024-07-29 09:53:02.558 -05:00 [DBG] Attempting to bind parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile' ...
2024-07-29 09:53:02.563 -05:00 [DBG] Attempting to bind parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile' using the name 'archivo' in request data ...
2024-07-29 09:53:02.565 -05:00 [DBG] Done attempting to bind parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-07-29 09:53:02.565 -05:00 [DBG] Done attempting to bind parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-07-29 09:53:02.566 -05:00 [DBG] Attempting to validate the bound parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile' ...
2024-07-29 09:53:02.575 -05:00 [DBG] Done attempting to validate the bound parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-07-29 09:53:02.577 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 09:53:02.578 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-29 09:53:02.579 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 09:53:02.579 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 09:53:02.579 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 09:53:02.580 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 09:53:02.671 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend) - Validation state: "Valid"
2024-07-29 09:53:02.689 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 09:53:02.690 -05:00 [DBG] Compiling query expression: 
'DbSet<Archivo>()
    .FirstOrDefault(A => A.RutaDocumento == __ruta_0)'
2024-07-29 09:53:02.698 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Archivo>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Archivo.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Archivo.FechaCarga (DateTime) Required, 1], [Property: Archivo.FechaCreacion (DateTime) Required, 2], [Property: Archivo.FechaEliminacion (DateTime?), 3], [Property: Archivo.Nombre (string) Required, 4], [Property: Archivo.NumeroDescargas (int) Required, 5], [Property: Archivo.RutaDocumento (string) Required, 6] }
        SELECT TOP(1) a.Id, a.FechaCarga, a.FechaCreacion, a.FechaEliminacion, a.Nombre, a.NumeroDescargas, a.RutaDocumento
        FROM Archivo AS a
        WHERE a.RutaDocumento == @__ruta_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Archivo>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-29 09:53:02.701 -05:00 [DBG] Creating DbConnection.
2024-07-29 09:53:02.701 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 09:53:02.701 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:53:02.702 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:53:02.702 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:53:02.702 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:53:02.705 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-07-29 09:53:02.708 -05:00 [DBG] Executing DbCommand [Parameters=[@__ruta_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[RutaDocumento] = @__ruta_0
2024-07-29 09:53:02.732 -05:00 [INF] Executed DbCommand (26ms) [Parameters=[@__ruta_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[RutaDocumento] = @__ruta_0
2024-07-29 09:53:02.732 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:53:02.732 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:53:02.733 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-29 09:53:02.733 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:53:02.733 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:53:02.734 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 62.9712ms.
2024-07-29 09:53:02.736 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 09:53:02.738 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 09:53:02.738 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 09:53:02.738 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 09:53:02.739 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 09:53:02.739 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-29 09:53:02.746 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend) in 240.1334ms
2024-07-29 09:53:02.747 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend)'
2024-07-29 09:53:02.755 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 09:53:02.755 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:53:02.755 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 09:53:02.755 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Archivos?idPerfil=31 - 200 null application/json; charset=utf-8 267.5437ms
2024-07-29 09:53:04.882 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 09:53:04.883 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 09:53:04.883 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 09:53:04.883 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:53:04.883 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 09:53:04.885 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 09:53:04.885 -05:00 [INF] CORS policy execution successful.
2024-07-29 09:53:04.892 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 09:53:04.892 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:53:04.892 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 09:53:04.893 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 09:53:04.893 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 09:53:04.893 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 09:53:04.893 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 09:53:04.893 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 09:53:04.893 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:53:04.897 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:53:04.933 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 09:53:05.005 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 09:53:05.008 -05:00 [DBG] Creating DbConnection.
2024-07-29 09:53:05.008 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 09:53:05.008 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:53:05.009 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:53:05.009 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:53:05.009 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:53:05.009 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:53:05.009 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 09:53:05.011 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 09:53:05.011 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:53:05.012 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:53:05.012 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:53:05.012 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:53:05.012 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-29 09:53:05.012 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:53:05.013 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:53:05.033 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 100.0027ms.
2024-07-29 09:53:05.033 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 09:53:05.033 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 09:53:05.044 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 150.8863ms
2024-07-29 09:53:05.044 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:53:05.044 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 09:53:05.044 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:53:05.045 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 09:53:05.045 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 149017 application/zip 162.9111ms
2024-07-29 09:59:41.046 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 09:59:41.049 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 09:59:41.050 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 09:59:41.050 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:59:41.050 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 09:59:41.050 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 09:59:41.050 -05:00 [INF] CORS policy execution successful.
2024-07-29 09:59:41.051 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 09:59:41.051 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:59:41.051 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 09:59:41.051 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 09:59:41.051 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 09:59:41.051 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 09:59:41.051 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 09:59:41.051 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 09:59:41.051 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:59:41.054 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:59:41.286 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 09:59:41.358 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 09:59:41.384 -05:00 [DBG] Creating DbConnection.
2024-07-29 09:59:41.384 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 09:59:41.384 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:59:41.395 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:59:41.395 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:59:41.395 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:59:41.395 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:59:41.395 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 09:59:41.401 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 09:59:41.401 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:59:41.401 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:59:41.402 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 09:59:41.402 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:59:41.402 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-29 09:59:41.402 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:59:41.402 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 09:59:41.424 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 137.8757ms.
2024-07-29 09:59:41.424 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 09:59:41.424 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 09:59:41.436 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 384.9767ms
2024-07-29 09:59:41.437 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 09:59:41.437 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 09:59:41.437 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:59:41.437 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 09:59:41.437 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 149017 application/zip 390.8071ms
2024-07-29 09:59:59.954 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Archivos?idPerfil=31 - multipart/form-data; boundary=----WebKitFormBoundaryzzfiAviijpTx4X6y 21064
2024-07-29 09:59:59.954 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos'
2024-07-29 09:59:59.955 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend)' with route pattern 'api/Archivos' is valid for the request path '/api/Archivos'
2024-07-29 09:59:59.958 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend)'
2024-07-29 09:59:59.958 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 09:59:59.958 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 09:59:59.958 -05:00 [INF] CORS policy execution successful.
2024-07-29 09:59:59.958 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 09:59:59.958 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend)'
2024-07-29 09:59:59.958 -05:00 [INF] Route matched with {action = "CargarDocumento", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CargarDocumento(Microsoft.AspNetCore.Http.IFormFile, Int32) on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 09:59:59.959 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 09:59:59.959 -05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-07-29 09:59:59.959 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 09:59:59.960 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 09:59:59.960 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 09:59:59.961 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:59:59.961 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 09:59:59.962 -05:00 [DBG] Connection id "0HN5FROEBH044", Request id "0HN5FROEBH044:00000009": started reading request body.
2024-07-29 09:59:59.962 -05:00 [DBG] Connection id "0HN5FROEBH044", Request id "0HN5FROEBH044:00000009": done reading request body.
2024-07-29 09:59:59.964 -05:00 [DBG] Attempting to bind parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile' ...
2024-07-29 09:59:59.965 -05:00 [DBG] Attempting to bind parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile' using the name 'archivo' in request data ...
2024-07-29 09:59:59.965 -05:00 [DBG] Done attempting to bind parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-07-29 09:59:59.965 -05:00 [DBG] Done attempting to bind parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-07-29 09:59:59.965 -05:00 [DBG] Attempting to validate the bound parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile' ...
2024-07-29 09:59:59.966 -05:00 [DBG] Done attempting to validate the bound parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-07-29 09:59:59.966 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 09:59:59.966 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-29 09:59:59.966 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 09:59:59.967 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 09:59:59.967 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 09:59:59.967 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 09:59:59.990 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend) - Validation state: "Valid"
2024-07-29 09:59:59.991 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 09:59:59.992 -05:00 [DBG] Creating DbConnection.
2024-07-29 09:59:59.992 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 09:59:59.992 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:59:59.992 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:59:59.992 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 09:59:59.992 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:59:59.992 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 09:59:59.992 -05:00 [DBG] Executing DbCommand [Parameters=[@__ruta_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[RutaDocumento] = @__ruta_0
2024-07-29 09:59:59.994 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ruta_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[RutaDocumento] = @__ruta_0
2024-07-29 09:59:59.994 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:59:59.994 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 09:59:59.994 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 09:59:59.994 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 10:00:00.021 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'Archivo.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:00:00.033 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:00:00.035 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 10:00:00.037 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 10:00:00.054 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 10:00:00.184 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:00:00.184 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:00:00.186 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 10:00:00.186 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:00:00.187 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-07-29 10:00:00.188 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Archivo] ([FechaCarga], [FechaCreacion], [FechaEliminacion], [Nombre], [NumeroDescargas], [RutaDocumento])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-07-29 10:00:00.191 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Archivo] ([FechaCarga], [FechaCreacion], [FechaEliminacion], [Nombre], [NumeroDescargas], [RutaDocumento])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-07-29 10:00:00.200 -05:00 [DBG] The foreign key property 'Archivo.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-29 10:00:00.211 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:00:00.211 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 19ms reading results.
2024-07-29 10:00:00.212 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:00:00.212 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 10:00:00.227 -05:00 [DBG] An entity of type 'Archivo' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:00:00.228 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 10:00:00.231 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'RegistroArchivoPerfil.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:00:00.244 -05:00 [DBG] The navigation 'RegistroArchivoPerfil.Archivo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:00:00.261 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'RegistroArchivoPerfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:00:00.261 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 10:00:00.262 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 10:00:00.266 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 10:00:00.269 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:00:00.270 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:00:00.270 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 10:00:00.270 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:00:00.270 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:00:00.270 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 10:00:00.273 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 10:00:00.274 -05:00 [DBG] The foreign key property 'RegistroArchivoPerfil.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-29 10:00:00.275 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:00:00.275 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-07-29 10:00:00.275 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:00:00.275 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 10:00:00.276 -05:00 [DBG] An entity of type 'RegistroArchivoPerfil' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:00:00.276 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 10:00:00.276 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 285.5741ms.
2024-07-29 10:00:00.276 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 10:00:00.276 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 10:00:00.276 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 10:00:00.277 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 10:00:00.277 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 10:00:00.277 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-29 10:00:00.277 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend) in 316.7258ms
2024-07-29 10:00:00.277 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend)'
2024-07-29 10:00:00.277 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 10:00:00.277 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:00:00.278 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 10:00:00.278 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Archivos?idPerfil=31 - 200 null application/json; charset=utf-8 323.8137ms
2024-07-29 10:00:01.917 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 10:00:01.918 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:00:01.918 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:00:01.918 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:00:01.918 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 10:00:01.918 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 10:00:01.918 -05:00 [INF] CORS policy execution successful.
2024-07-29 10:00:01.919 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 10:00:01.919 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:00:01.920 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 10:00:01.920 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 10:00:01.920 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 10:00:01.920 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 10:00:01.920 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 10:00:01.920 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 10:00:01.920 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:00:01.921 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:00:01.959 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 10:00:01.960 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 10:00:01.961 -05:00 [DBG] Creating DbConnection.
2024-07-29 10:00:01.961 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 10:00:01.961 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:00:01.961 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:00:01.961 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 10:00:01.961 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:00:01.961 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:00:01.963 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:00:01.964 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:00:01.964 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:00:01.964 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:00:01.965 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:00:01.965 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:00:01.965 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:00:01.965 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-29 10:00:01.965 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:00:01.965 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 10:00:01.978 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 18.1207ms.
2024-07-29 10:00:01.979 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 10:00:01.979 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 10:00:01.987 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 66.258ms
2024-07-29 10:00:01.987 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:00:01.987 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 10:00:01.988 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:00:01.988 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 10:00:01.988 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 168723 application/zip 70.5416ms
2024-07-29 10:00:37.362 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 10:00:37.363 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:00:37.363 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:00:37.363 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:00:37.363 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 10:00:37.363 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 10:00:37.363 -05:00 [INF] CORS policy execution successful.
2024-07-29 10:00:37.363 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 10:00:37.363 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:00:37.363 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 10:00:37.364 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 10:00:37.364 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 10:00:37.364 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 10:00:37.364 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 10:00:37.364 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 10:00:37.364 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:00:37.364 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:00:37.457 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 10:00:37.459 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 10:00:37.459 -05:00 [DBG] Creating DbConnection.
2024-07-29 10:00:37.459 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 10:00:37.459 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:00:37.459 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:00:37.459 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 10:00:37.459 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:00:37.460 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:00:37.460 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:00:37.462 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:00:37.462 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:00:37.462 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:00:37.462 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:00:37.463 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:00:37.463 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:00:37.463 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 10:00:37.463 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:00:37.463 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 10:00:37.496 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 37.7472ms.
2024-07-29 10:00:37.496 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 10:00:37.496 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 10:00:37.562 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 197.8172ms
2024-07-29 10:00:37.562 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:00:37.562 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 10:00:37.562 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:00:37.562 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 10:00:37.563 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 168723 application/zip 200.4505ms
2024-07-29 10:01:17.747 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 10:01:17.747 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:01:17.747 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:01:17.747 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:01:17.747 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 10:01:17.747 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 10:01:17.747 -05:00 [INF] CORS policy execution successful.
2024-07-29 10:01:17.747 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 10:01:17.748 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:01:17.748 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 10:01:17.748 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 10:01:17.748 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 10:01:17.748 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 10:01:17.748 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 10:01:17.748 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 10:01:17.749 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:01:17.749 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:01:17.792 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 10:01:17.793 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 10:01:17.793 -05:00 [DBG] Creating DbConnection.
2024-07-29 10:01:17.794 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 10:01:17.794 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:01:17.794 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:01:17.794 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 10:01:17.794 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:01:17.794 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:01:17.794 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:01:17.798 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:01:17.798 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:01:17.798 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:01:17.799 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:01:17.799 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:01:17.799 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:01:17.799 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 10:01:17.799 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:01:17.799 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 10:01:17.821 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 28.6789ms.
2024-07-29 10:01:17.821 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 10:01:17.823 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 10:01:17.829 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 80.3384ms
2024-07-29 10:01:17.829 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:01:17.829 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 10:01:17.829 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:01:17.829 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 10:01:17.829 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 168723 application/zip 83.4323ms
2024-07-29 10:01:26.964 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 10:01:26.964 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:01:26.964 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:01:26.964 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:01:26.965 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 10:01:26.965 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 10:01:26.965 -05:00 [INF] CORS policy execution successful.
2024-07-29 10:01:26.965 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 10:01:26.965 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:01:26.965 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 10:01:26.965 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 10:01:26.965 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 10:01:26.965 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 10:01:26.966 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 10:01:26.966 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 10:01:26.966 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:01:26.966 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:01:27.020 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 10:01:27.022 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 10:01:27.022 -05:00 [DBG] Creating DbConnection.
2024-07-29 10:01:27.022 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 10:01:27.022 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:01:27.023 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:01:27.023 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 10:01:27.024 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:01:27.024 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:01:27.024 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:01:27.025 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:01:27.025 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:01:27.025 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:01:27.025 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:01:27.026 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:01:27.026 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:01:27.026 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 10:01:27.026 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:01:27.026 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 10:01:27.050 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 29.3964ms.
2024-07-29 10:01:27.050 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 10:01:27.050 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 10:01:27.087 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 121.4244ms
2024-07-29 10:01:27.087 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:01:27.091 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 10:01:27.091 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:01:27.091 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 10:01:27.092 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 168723 application/zip 127.7195ms
2024-07-29 10:01:45.691 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 10:01:45.691 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:01:45.691 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:01:45.691 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:01:45.691 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 10:01:45.691 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 10:01:45.691 -05:00 [INF] CORS policy execution successful.
2024-07-29 10:01:45.692 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 10:01:45.692 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:01:45.692 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 10:01:45.692 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 10:01:45.692 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 10:01:45.692 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 10:01:45.692 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 10:01:45.693 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 10:01:45.693 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:01:45.693 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:01:45.738 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 10:01:45.739 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 10:01:45.739 -05:00 [DBG] Creating DbConnection.
2024-07-29 10:01:45.739 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 10:01:45.739 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:01:45.740 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:01:45.740 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 10:01:45.740 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:01:45.740 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:01:45.740 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:01:45.743 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:01:45.743 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:01:45.743 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:01:45.743 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:01:45.743 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:01:45.743 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:01:45.744 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 10:01:45.744 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:01:45.744 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 10:01:45.765 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 26.7319ms.
2024-07-29 10:01:45.765 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 10:01:45.765 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 10:01:45.781 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 88.2255ms
2024-07-29 10:01:45.781 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:01:45.782 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 10:01:45.783 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:01:45.783 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 10:01:45.784 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 168723 application/zip 99.0912ms
2024-07-29 10:02:10.667 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 10:02:10.668 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:02:10.668 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:02:10.668 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:02:10.668 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 10:02:10.668 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 10:02:10.668 -05:00 [INF] CORS policy execution successful.
2024-07-29 10:02:10.668 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 10:02:10.668 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:02:10.668 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 10:02:10.668 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 10:02:10.668 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 10:02:10.668 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 10:02:10.669 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 10:02:10.669 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 10:02:10.669 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:02:10.672 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:02:10.719 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 10:02:10.721 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 10:02:10.721 -05:00 [DBG] Creating DbConnection.
2024-07-29 10:02:10.721 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 10:02:10.721 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:02:10.721 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:02:10.721 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 10:02:10.722 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:02:10.722 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:02:10.722 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:02:10.725 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:02:10.725 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:02:10.725 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:02:10.725 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:02:10.726 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:02:10.726 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:02:10.726 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 10:02:10.726 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:02:10.726 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 10:02:10.772 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 52.7359ms.
2024-07-29 10:02:10.772 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 10:02:10.772 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 10:02:10.998 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 329.394ms
2024-07-29 10:02:10.998 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:02:10.999 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 10:02:10.999 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:02:10.999 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 10:02:10.999 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 168723 application/zip 331.7923ms
2024-07-29 10:02:55.416 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 10:02:55.416 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:02:55.416 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:02:55.416 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:02:55.416 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 10:02:55.416 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 10:02:55.416 -05:00 [INF] CORS policy execution successful.
2024-07-29 10:02:55.416 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 10:02:55.416 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:02:55.417 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 10:02:55.417 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 10:02:55.417 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 10:02:55.418 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 10:02:55.419 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 10:02:55.419 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 10:02:55.419 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:02:55.419 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:02:55.576 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 10:02:55.616 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 10:02:55.616 -05:00 [DBG] Creating DbConnection.
2024-07-29 10:02:55.616 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 10:02:55.616 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:02:55.616 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:02:55.616 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 10:02:55.616 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:02:55.617 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:02:55.617 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:02:55.659 -05:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:02:55.659 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:02:55.660 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:02:55.660 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:02:55.660 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:02:55.660 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:02:55.660 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 10:02:55.660 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:02:55.661 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 10:02:55.688 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 112.2791ms.
2024-07-29 10:02:55.688 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 10:02:55.689 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 10:02:55.779 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 359.4474ms
2024-07-29 10:02:55.779 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:02:55.779 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 10:02:55.779 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:02:55.779 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 10:02:55.779 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 168723 application/zip 364.0339ms
2024-07-29 10:04:07.069 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 10:04:07.069 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:04:07.074 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:04:07.074 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:04:07.074 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 10:04:07.074 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 10:04:07.074 -05:00 [INF] CORS policy execution successful.
2024-07-29 10:04:07.074 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 10:04:07.074 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:04:07.075 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 10:04:07.075 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 10:04:07.075 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 10:04:07.075 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 10:04:07.079 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 10:04:07.079 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 10:04:07.079 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:04:07.079 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:04:07.222 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 10:04:07.224 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 10:04:07.224 -05:00 [DBG] Creating DbConnection.
2024-07-29 10:04:07.224 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 10:04:07.224 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:04:07.225 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:04:07.225 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 10:04:07.225 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:04:07.225 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:04:07.226 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:04:07.245 -05:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:04:07.245 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:04:07.245 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:04:07.245 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:04:07.245 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:04:07.246 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:04:07.246 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-29 10:04:07.246 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:04:07.246 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 10:04:07.264 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 41.6162ms.
2024-07-29 10:04:07.264 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 10:04:07.265 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 10:04:07.366 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 287.1897ms
2024-07-29 10:04:07.366 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:04:07.366 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 10:04:07.367 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:04:07.367 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 10:04:07.367 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 168723 application/zip 299.8811ms
2024-07-29 10:04:21.284 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 10:04:21.284 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:04:21.284 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:04:21.284 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:04:21.284 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 10:04:21.284 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 10:04:21.284 -05:00 [INF] CORS policy execution successful.
2024-07-29 10:04:21.284 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 10:04:21.285 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:04:21.285 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 10:04:21.285 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 10:04:21.285 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 10:04:21.285 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 10:04:21.285 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 10:04:21.285 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 10:04:21.285 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:04:21.285 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:04:21.423 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 10:04:21.425 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 10:04:21.425 -05:00 [DBG] Creating DbConnection.
2024-07-29 10:04:21.426 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 10:04:21.426 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:04:21.427 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:04:21.428 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 10:04:21.428 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:04:21.428 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:04:21.428 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:04:21.443 -05:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:04:21.443 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:04:21.443 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:04:21.443 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:04:21.443 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:04:21.443 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:04:21.443 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 10:04:21.444 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:04:21.444 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 10:04:21.576 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 152.5138ms.
2024-07-29 10:04:21.576 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 10:04:21.576 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 10:04:21.591 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 306.0401ms
2024-07-29 10:04:21.591 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:04:21.591 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 10:04:21.592 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:04:21.592 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 10:04:21.592 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 168723 application/zip 308.3417ms
2024-07-29 10:12:26.260 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 10:12:26.261 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:12:26.261 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:12:26.261 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:12:26.262 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 10:12:26.262 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 10:12:26.262 -05:00 [INF] CORS policy execution successful.
2024-07-29 10:12:26.262 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 10:12:26.262 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:12:26.263 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 10:12:26.263 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 10:12:26.263 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 10:12:26.263 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 10:12:26.263 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 10:12:26.263 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 10:12:26.263 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:12:26.265 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:12:26.316 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 10:12:26.317 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 10:12:26.317 -05:00 [DBG] Creating DbConnection.
2024-07-29 10:12:26.317 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 10:12:26.317 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:12:26.328 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:12:26.329 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 10:12:26.329 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:12:26.329 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:12:26.329 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:12:26.333 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:12:26.333 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:12:26.334 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:12:26.334 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:12:26.334 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:12:26.334 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:12:26.334 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 10:12:26.334 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:12:26.334 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 10:12:26.353 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 37.2932ms.
2024-07-29 10:12:26.354 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 10:12:26.354 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 10:12:26.398 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 125.0696ms
2024-07-29 10:12:26.399 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:12:26.402 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 10:12:26.402 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:12:26.402 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 10:12:26.403 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 168723 application/zip 142.362ms
2024-07-29 10:12:34.981 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 10:12:34.981 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:12:34.981 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:12:34.981 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:12:34.982 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 10:12:34.982 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 10:12:34.982 -05:00 [INF] CORS policy execution successful.
2024-07-29 10:12:34.982 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 10:12:34.982 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:12:34.982 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 10:12:34.982 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 10:12:34.982 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 10:12:34.982 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 10:12:34.983 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 10:12:34.983 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 10:12:34.983 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:12:34.983 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:12:35.088 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 10:12:35.088 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 10:12:35.089 -05:00 [DBG] Creating DbConnection.
2024-07-29 10:12:35.089 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 10:12:35.089 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:12:35.089 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:12:35.089 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 10:12:35.089 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:12:35.089 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:12:35.089 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:12:35.090 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:12:35.090 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:12:35.090 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:12:35.090 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:12:35.090 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:12:35.090 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:12:35.090 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 10:12:35.090 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:12:35.090 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 10:12:35.106 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 18.1009ms.
2024-07-29 10:12:35.106 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 10:12:35.106 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 10:12:35.116 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 133.6791ms
2024-07-29 10:12:35.117 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:12:35.117 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 10:12:35.117 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:12:35.117 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 10:12:35.117 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 168723 application/zip 136.0833ms
2024-07-29 10:13:12.217 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-29 10:13:12.217 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-29 10:13:12.217 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 10:13:12.217 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 10:13:12.217 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 10:13:12.217 -05:00 [INF] CORS policy execution successful.
2024-07-29 10:13:12.218 -05:00 [DBG] The request is a preflight request.
2024-07-29 10:13:12.219 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 204 null null 2.4763ms
2024-07-29 10:13:12.235 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-29 10:13:12.236 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-29 10:13:12.236 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)' with route pattern 'api/Prestmaos/ConsultarPrestamos' is valid for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-29 10:13:12.236 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-29 10:13:12.236 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 10:13:12.236 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 10:13:12.236 -05:00 [INF] CORS policy execution successful.
2024-07-29 10:13:12.352 -05:00 [DBG] Successfully validated the token.
2024-07-29 10:13:12.354 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 10:13:12.365 -05:00 [DBG] Authorization was successful.
2024-07-29 10:13:12.365 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-29 10:13:12.370 -05:00 [INF] Route matched with {action = "ConsultarPrestamos", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsultarPrestamos() on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-29 10:13:12.370 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 10:13:12.370 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 10:13:12.370 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 10:13:12.370 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 10:13:12.370 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 10:13:12.370 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-29 10:13:12.371 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-29 10:13:12.432 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 10:13:12.438 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 10:13:12.441 -05:00 [DBG] Compiling query expression: 
'DbSet<Prestamo>()'
2024-07-29 10:13:12.445 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Prestamo>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Prestamo.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Prestamo.FechaPrestamo (DateTime) Required, 1], [Property: Prestamo.IdPerfil (int) Required FK Index, 2] }
        SELECT p.Id, p.FechaPrestamo, p.IdPerfil
        FROM Prestamo AS p), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Prestamo>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-29 10:13:12.454 -05:00 [DBG] Creating DbConnection.
2024-07-29 10:13:12.454 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 10:13:12.458 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:13:12.460 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:13:12.460 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 10:13:12.460 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:13:12.460 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:13:12.460 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-29 10:13:12.499 -05:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-29 10:13:12.507 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:13:12.514 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:13:12.527 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:13:12.527 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 28ms reading results.
2024-07-29 10:13:12.529 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:13:12.529 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 10:13:12.542 -05:00 [DBG] Consultando perfil con id 34
2024-07-29 10:13:12.543 -05:00 [DBG] Compiling query expression: 
'DbSet<Perfil>()
    .FirstOrDefault(p => p.Id == __id_0)'
2024-07-29 10:13:12.547 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Perfil>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Perfil.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Perfil.Apellido (string) Required, 1], [Property: Perfil.Contrasena (string) Required, 2], [Property: Perfil.Correo (string) Required, 3], [Property: Perfil.Direccion (string) Required, 4], [Property: Perfil.IdRol (int) Required FK Index, 5], [Property: Perfil.Nombre (string) Required, 6], [Property: Perfil.Telefono (string) Required, 7] }
        SELECT TOP(1) p.Id, p.Apellido, p.Contrasena, p.Correo, p.Direccion, p.IdRol, p.Nombre, p.Telefono
        FROM Perfil AS p
        WHERE p.Id == @__id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Perfil>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-29 10:13:12.547 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:13:12.547 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:13:12.547 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 10:13:12.548 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:13:12.548 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:13:12.548 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-29 10:13:12.550 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-29 10:13:12.557 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:13:12.561 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:13:12.571 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:13:12.571 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 21ms reading results.
2024-07-29 10:13:12.572 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:13:12.572 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 10:13:12.577 -05:00 [INF] Perfil encontrado con id: 34
2024-07-29 10:13:12.583 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-29 10:13:12.588 -05:00 [INF] Libros encontrados exitosamente
2024-07-29 10:13:12.593 -05:00 [DBG] Compiling query expression: 
'DbSet<Perfil>()
    .Join(
        inner: DbSet<Prestamo>(), 
        outerKeySelector: P => P.Id, 
        innerKeySelector: PR => PR.IdPerfil, 
        resultSelector: (P, PR) => new { 
            P = P, 
            PR = PR
         })
    .Join(
        inner: DbSet<DetallePrestamoLibro>(), 
        outerKeySelector: <>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.PR.Id, 
        innerKeySelector: DP => DP.IdPrestamo, 
        resultSelector: (<>h__TransparentIdentifier0, DP) => new { 
            <>h__TransparentIdentifier0 = <>h__TransparentIdentifier0, 
            DP = DP
         })
    .Join(
        inner: DbSet<Libro>(), 
        outerKeySelector: <>h__TransparentIdentifier1 => <>h__TransparentIdentifier1.DP.IdLibro, 
        innerKeySelector: L => L.Id, 
        resultSelector: (<>h__TransparentIdentifier1, L) => new { 
            <>h__TransparentIdentifier1 = <>h__TransparentIdentifier1, 
            L = L
         })
    .Where(<>h__TransparentIdentifier2 => <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.P.Id == __idPerfil_0)
    .Select(<>h__TransparentIdentifier2 => new Libro{ 
        Id = <>h__TransparentIdentifier2.L.Id, 
        Titulo = <>h__TransparentIdentifier2.L.Titulo, 
        Autor = <>h__TransparentIdentifier2.L.Autor, 
        IdGenero = <>h__TransparentIdentifier2.L.IdGenero, 
        Anio = <>h__TransparentIdentifier2.L.Anio, 
        Activo = <>h__TransparentIdentifier2.L.Activo 
    }
    )'
2024-07-29 10:13:12.664 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Libro>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            Id -> 0
            Titulo -> 1
            Autor -> 2
            IdGenero -> 3
            Anio -> 4
            Activo -> 5
        SELECT l.Id, l.Titulo, l.Autor, l.IdGenero, l.Anio, l.Activo
        FROM Perfil AS p
        INNER JOIN Prestamo AS p0 ON p.Id == p0.IdPerfil
        INNER JOIN DetallePrestamoLibro AS d ON p0.Id == d.IdPrestamo
        INNER JOIN Libro AS l ON d.IdLibro == l.Id
        WHERE p.Id == @__idPerfil_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Libro>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-29 10:13:12.665 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:13:12.665 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:13:12.665 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 10:13:12.665 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:13:12.666 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:13:12.666 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-29 10:13:12.676 -05:00 [INF] Executed DbCommand (11ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-29 10:13:12.678 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:13:12.679 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-29 10:13:12.679 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:13:12.679 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 10:13:12.681 -05:00 [DBG] Consultando perfil con id 31
2024-07-29 10:13:12.681 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:13:12.682 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:13:12.682 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 10:13:12.682 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:13:12.682 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:13:12.682 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-29 10:13:12.682 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-29 10:13:12.683 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:13:12.683 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:13:12.683 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:13:12.683 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 10:13:12.683 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:13:12.683 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 10:13:12.685 -05:00 [INF] Perfil encontrado con id: 31
2024-07-29 10:13:12.688 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-29 10:13:12.692 -05:00 [INF] Libros encontrados exitosamente
2024-07-29 10:13:12.693 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:13:12.694 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:13:12.694 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 10:13:12.694 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:13:12.694 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:13:12.694 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-29 10:13:12.694 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-29 10:13:12.694 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:13:12.695 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 10:13:12.695 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:13:12.695 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 10:13:12.696 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 263.9103ms.
2024-07-29 10:13:12.696 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 10:13:12.696 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 10:13:12.696 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 10:13:12.696 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 10:13:12.696 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 10:13:12.696 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.DTOs.ConsultaPrestamoModel, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 10:13:12.708 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) in 337.4779ms
2024-07-29 10:13:12.708 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-29 10:13:12.708 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 10:13:12.708 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:13:12.708 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 10:13:12.708 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 200 null application/json; charset=utf-8 473.8536ms
2024-07-29 10:13:24.454 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 10:13:24.455 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:13:24.456 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:13:24.456 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:13:24.457 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 10:13:24.457 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 10:13:24.457 -05:00 [INF] CORS policy execution successful.
2024-07-29 10:13:24.457 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 10:13:24.457 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:13:24.458 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 10:13:24.458 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 10:13:24.458 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 10:13:24.458 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 10:13:24.458 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 10:13:24.458 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 10:13:24.458 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:13:24.459 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:13:24.505 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 10:13:24.506 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 10:13:24.506 -05:00 [DBG] Creating DbConnection.
2024-07-29 10:13:24.506 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 10:13:24.506 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:13:24.506 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:13:24.506 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 10:13:24.506 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:13:24.507 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:13:24.507 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:13:24.508 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:13:24.508 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:13:24.508 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:13:24.508 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:13:24.508 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:13:24.508 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:13:24.508 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 10:13:24.509 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:13:24.509 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 10:13:24.520 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 15.5362ms.
2024-07-29 10:13:24.521 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 10:13:24.521 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 10:13:24.539 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 81.1901ms
2024-07-29 10:13:24.540 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:13:24.540 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 10:13:24.540 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:13:24.540 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 10:13:24.540 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 168723 application/zip 86.1337ms
2024-07-29 10:18:20.721 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 10:18:20.722 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:18:20.722 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:18:20.722 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:18:20.722 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 10:18:20.722 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 10:18:20.722 -05:00 [INF] CORS policy execution successful.
2024-07-29 10:18:20.723 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 10:18:20.723 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:18:20.723 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 10:18:20.723 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 10:18:20.723 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 10:18:20.723 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 10:18:20.723 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 10:18:20.723 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 10:18:20.723 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:18:20.724 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:18:20.767 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 10:18:20.768 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 10:18:20.768 -05:00 [DBG] Creating DbConnection.
2024-07-29 10:18:20.769 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 10:18:20.769 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:18:20.774 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:18:20.774 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 10:18:20.774 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:18:20.774 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:18:20.774 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:18:20.782 -05:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:18:20.782 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:18:20.782 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:18:20.783 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:18:20.783 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:18:20.783 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:18:20.783 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 10:18:20.783 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:18:20.783 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 10:18:20.799 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 32.0212ms.
2024-07-29 10:18:20.799 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 10:18:20.799 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 10:18:20.822 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 98.5214ms
2024-07-29 10:18:20.832 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:18:20.842 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 10:18:20.842 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:18:20.842 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 10:18:20.846 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 168723 application/zip 121.3602ms
2024-07-29 10:18:59.043 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 10:18:59.044 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:18:59.044 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:18:59.044 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:18:59.045 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 10:18:59.045 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 10:18:59.045 -05:00 [INF] CORS policy execution successful.
2024-07-29 10:18:59.045 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 10:18:59.046 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:18:59.046 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 10:18:59.046 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 10:18:59.046 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 10:18:59.046 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 10:18:59.047 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 10:18:59.047 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 10:18:59.047 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:18:59.047 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:18:59.116 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 10:18:59.117 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 10:18:59.117 -05:00 [DBG] Creating DbConnection.
2024-07-29 10:18:59.117 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 10:18:59.117 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:18:59.117 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:18:59.118 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 10:18:59.118 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:18:59.118 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:18:59.118 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:18:59.122 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:18:59.122 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:18:59.122 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:18:59.122 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:18:59.122 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:18:59.122 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:18:59.122 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 10:18:59.123 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:18:59.123 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 10:18:59.143 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 27.387ms.
2024-07-29 10:18:59.143 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 10:18:59.143 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 10:18:59.149 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 102.336ms
2024-07-29 10:18:59.149 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:18:59.150 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 10:18:59.150 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:18:59.150 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 10:18:59.150 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 168723 application/zip 106.9773ms
2024-07-29 10:19:41.592 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 10:19:41.592 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:19:41.592 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:19:41.592 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:19:41.593 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 10:19:41.593 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 10:19:41.593 -05:00 [INF] CORS policy execution successful.
2024-07-29 10:19:41.593 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 10:19:41.593 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:19:41.593 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 10:19:41.593 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 10:19:41.593 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 10:19:41.594 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 10:19:41.594 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 10:19:41.594 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 10:19:41.594 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:19:41.594 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:19:41.644 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 10:19:41.645 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 10:19:41.645 -05:00 [DBG] Creating DbConnection.
2024-07-29 10:19:41.645 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 10:19:41.645 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:19:41.645 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:19:41.645 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 10:19:41.645 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:19:41.646 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:19:41.646 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:19:41.646 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:19:41.646 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:19:41.646 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:19:41.646 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:19:41.646 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:19:41.647 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:19:41.647 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 10:19:41.647 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:19:41.647 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 10:19:41.666 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 21.8559ms.
2024-07-29 10:19:41.667 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 10:19:41.667 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 10:19:41.781 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 187.398ms
2024-07-29 10:19:41.781 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:19:41.782 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 10:19:41.782 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:19:41.782 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 10:19:41.782 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 168723 application/zip 190.1487ms
2024-07-29 10:20:08.158 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 10:20:08.158 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:20:08.158 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:20:08.158 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:20:08.158 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 10:20:08.158 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 10:20:08.158 -05:00 [INF] CORS policy execution successful.
2024-07-29 10:20:08.159 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 10:20:08.159 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:20:08.159 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 10:20:08.159 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 10:20:08.159 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 10:20:08.159 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 10:20:08.159 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 10:20:08.159 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 10:20:08.159 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:20:08.159 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:20:08.209 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 10:20:08.210 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 10:20:08.210 -05:00 [DBG] Creating DbConnection.
2024-07-29 10:20:08.210 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 10:20:08.210 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:20:08.210 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:20:08.210 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 10:20:08.210 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:20:08.210 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:20:08.210 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:20:08.215 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:20:08.215 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:20:08.215 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:20:08.215 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:20:08.215 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:20:08.215 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:20:08.215 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 10:20:08.215 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:20:08.215 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 10:20:08.229 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 19.9553ms.
2024-07-29 10:20:08.229 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 10:20:08.229 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 10:20:08.255 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 88.2319ms
2024-07-29 10:20:08.257 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:20:08.257 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 10:20:08.260 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:20:08.260 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 10:20:08.260 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 168723 application/zip 102.3417ms
2024-07-29 10:21:05.545 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 10:21:05.545 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:21:05.545 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:21:05.545 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:21:05.545 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 10:21:05.545 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 10:21:05.545 -05:00 [INF] CORS policy execution successful.
2024-07-29 10:21:05.546 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 10:21:05.546 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:21:05.546 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 10:21:05.546 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 10:21:05.546 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 10:21:05.546 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 10:21:05.546 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 10:21:05.546 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 10:21:05.546 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:21:05.546 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:21:05.589 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 10:21:05.590 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 10:21:05.590 -05:00 [DBG] Creating DbConnection.
2024-07-29 10:21:05.590 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 10:21:05.590 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:21:05.591 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:21:05.591 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 10:21:05.591 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:21:05.591 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:21:05.591 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:21:05.594 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:21:05.594 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:21:05.594 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:21:05.594 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:21:05.594 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:21:05.594 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:21:05.594 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 10:21:05.594 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:21:05.595 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 10:21:05.612 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 22.2212ms.
2024-07-29 10:21:05.612 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 10:21:05.612 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 10:21:05.621 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 75.1139ms
2024-07-29 10:21:05.621 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:21:05.621 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 10:21:05.622 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:21:05.622 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 10:21:05.623 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 168723 application/zip 77.9971ms
2024-07-29 10:22:19.411 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 10:22:19.412 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:22:19.412 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:22:19.412 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:22:19.412 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 10:22:19.412 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 10:22:19.412 -05:00 [INF] CORS policy execution successful.
2024-07-29 10:22:19.413 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 10:22:19.414 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:22:19.414 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 10:22:19.415 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 10:22:19.415 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 10:22:19.415 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 10:22:19.415 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 10:22:19.415 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 10:22:19.415 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:22:19.416 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:22:19.474 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 10:22:19.475 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 10:22:19.475 -05:00 [DBG] Creating DbConnection.
2024-07-29 10:22:19.475 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 10:22:19.475 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:22:19.476 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:22:19.476 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 10:22:19.476 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:22:19.476 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:22:19.476 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:22:19.478 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:22:19.478 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:22:19.478 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:22:19.478 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:22:19.478 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:22:19.478 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:22:19.478 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 10:22:19.478 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:22:19.478 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 10:22:19.504 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 28.9384ms.
2024-07-29 10:22:19.504 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 10:22:19.504 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 10:22:19.537 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 121.2823ms
2024-07-29 10:22:19.537 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:22:19.537 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 10:22:19.537 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:22:19.537 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 10:22:19.537 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 168723 application/zip 125.9956ms
2024-07-29 10:30:24.111 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 10:30:24.123 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:30:24.124 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:30:24.125 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:30:24.125 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 10:30:24.125 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 10:30:24.125 -05:00 [INF] CORS policy execution successful.
2024-07-29 10:30:24.125 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 10:30:24.126 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:30:24.126 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 10:30:24.126 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 10:30:24.126 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 10:30:24.130 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 10:30:24.130 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 10:30:24.130 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 10:30:24.130 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:30:24.131 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:30:24.159 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 10:30:24.160 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 10:30:24.161 -05:00 [DBG] Creating DbConnection.
2024-07-29 10:30:24.161 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 10:30:24.161 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:30:24.166 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:30:24.167 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 10:30:24.167 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:30:24.167 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:30:24.167 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:30:24.169 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:30:24.169 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:30:24.169 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:30:24.169 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:30:24.169 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:30:24.170 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:30:24.170 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 10:30:24.170 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:30:24.170 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 10:30:24.184 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 24.6485ms.
2024-07-29 10:30:24.184 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 10:30:24.184 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 10:30:24.189 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 58.551ms
2024-07-29 10:30:24.189 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:30:24.189 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 10:30:24.189 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:30:24.190 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 10:30:24.190 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 168723 application/zip 126.3626ms
2024-07-29 10:30:38.384 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 10:30:38.385 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:30:38.385 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:30:38.385 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:30:38.386 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 10:30:38.386 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 10:30:38.386 -05:00 [INF] CORS policy execution successful.
2024-07-29 10:30:38.386 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 10:30:38.386 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:30:38.386 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 10:30:38.386 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 10:30:38.386 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 10:30:38.386 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 10:30:38.386 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 10:30:38.386 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 10:30:38.386 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:30:38.387 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:30:38.427 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 10:30:38.428 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 10:30:38.428 -05:00 [DBG] Creating DbConnection.
2024-07-29 10:30:38.428 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 10:30:38.428 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:30:38.428 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:30:38.428 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 10:30:38.428 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:30:38.428 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:30:38.428 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:30:38.429 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:30:38.429 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:30:38.429 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:30:38.429 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:30:38.429 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:30:38.429 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:30:38.429 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 10:30:38.429 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:30:38.429 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 10:30:38.443 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 15.7621ms.
2024-07-29 10:30:38.443 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 10:30:38.443 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 10:30:38.447 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 60.3411ms
2024-07-29 10:30:38.447 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:30:38.447 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 10:30:38.447 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:30:38.447 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 10:30:38.448 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 168723 application/zip 63.4253ms
2024-07-29 10:31:19.195 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 10:31:19.195 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:31:19.196 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:31:19.196 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:31:19.196 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 10:31:19.196 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 10:31:19.196 -05:00 [INF] CORS policy execution successful.
2024-07-29 10:31:19.196 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 10:31:19.196 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:31:19.200 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 10:31:19.201 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 10:31:19.201 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 10:31:19.201 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 10:31:19.201 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 10:31:19.201 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 10:31:19.201 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:31:19.203 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:31:19.245 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 10:31:19.246 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 10:31:19.246 -05:00 [DBG] Creating DbConnection.
2024-07-29 10:31:19.246 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 10:31:19.246 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:31:19.246 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:31:19.246 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 10:31:19.246 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:31:19.246 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:31:19.246 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:31:19.248 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:31:19.248 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:31:19.248 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:31:19.248 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:31:19.248 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:31:19.248 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:31:19.249 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 10:31:19.249 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:31:19.249 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 10:31:19.270 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 24.4253ms.
2024-07-29 10:31:19.270 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 10:31:19.270 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 10:31:19.282 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 81.2709ms
2024-07-29 10:31:19.283 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:31:19.283 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 10:31:19.283 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:31:19.283 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 10:31:19.283 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 168723 application/zip 87.7279ms
2024-07-29 10:37:32.481 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 10:37:32.482 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:37:32.482 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:37:32.482 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:37:32.482 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 10:37:32.482 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 10:37:32.482 -05:00 [INF] CORS policy execution successful.
2024-07-29 10:37:32.483 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 10:37:32.483 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:37:32.483 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 10:37:32.483 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 10:37:32.483 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 10:37:32.483 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 10:37:32.483 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 10:37:32.483 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 10:37:32.483 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:37:32.484 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:37:32.537 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 10:37:32.538 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 10:37:32.541 -05:00 [DBG] Creating DbConnection.
2024-07-29 10:37:32.541 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 10:37:32.542 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:37:32.550 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:37:32.550 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 10:37:32.550 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:37:32.550 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:37:32.550 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:37:32.560 -05:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:37:32.560 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:37:32.560 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:37:32.560 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:37:32.560 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:37:32.561 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:37:32.561 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 10:37:32.561 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:37:32.561 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 10:37:32.582 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 44.9649ms.
2024-07-29 10:37:32.582 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 10:37:32.582 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 10:37:32.598 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 114.5205ms
2024-07-29 10:37:32.598 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:37:32.598 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 10:37:32.598 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:37:32.598 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 10:37:32.598 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 168723 application/zip 117.5007ms
2024-07-29 10:38:00.430 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 10:38:00.431 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:38:00.431 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:38:00.431 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:38:00.431 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 10:38:00.432 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 10:38:00.432 -05:00 [INF] CORS policy execution successful.
2024-07-29 10:38:00.432 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 10:38:00.432 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:38:00.433 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 10:38:00.433 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 10:38:00.434 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 10:38:00.434 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 10:38:00.434 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 10:38:00.434 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 10:38:00.434 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:38:00.435 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:38:00.494 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 10:38:00.495 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 10:38:00.495 -05:00 [DBG] Creating DbConnection.
2024-07-29 10:38:00.495 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 10:38:00.496 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:38:00.496 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:38:00.496 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 10:38:00.496 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:38:00.496 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:38:00.496 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:38:00.500 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:38:00.500 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:38:00.500 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:38:00.500 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:38:00.500 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:38:00.501 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:38:00.501 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 10:38:00.501 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:38:00.501 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 10:38:00.520 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 25.4377ms.
2024-07-29 10:38:00.520 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 10:38:00.522 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 10:38:00.530 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 95.5978ms
2024-07-29 10:38:00.530 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:38:00.530 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 10:38:00.530 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:38:00.530 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 10:38:00.530 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 168723 application/zip 101.1242ms
2024-07-29 10:38:37.058 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 10:38:37.058 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:38:37.058 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:38:37.058 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:38:37.059 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 10:38:37.059 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 10:38:37.059 -05:00 [INF] CORS policy execution successful.
2024-07-29 10:38:37.059 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 10:38:37.059 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:38:37.059 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 10:38:37.059 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 10:38:37.059 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 10:38:37.059 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 10:38:37.059 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 10:38:37.059 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 10:38:37.059 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:38:37.060 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:38:37.131 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 10:38:37.132 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 10:38:37.132 -05:00 [DBG] Creating DbConnection.
2024-07-29 10:38:37.132 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 10:38:37.133 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:38:37.133 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:38:37.133 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 10:38:37.133 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:38:37.133 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:38:37.133 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:38:37.135 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:38:37.136 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:38:37.136 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:38:37.136 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:38:37.136 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:38:37.136 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:38:37.136 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 10:38:37.136 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:38:37.136 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 10:38:37.148 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 16.5288ms.
2024-07-29 10:38:37.148 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 10:38:37.148 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 10:38:37.156 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 96.4536ms
2024-07-29 10:38:37.156 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:38:37.156 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 10:38:37.156 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:38:37.156 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 10:38:37.157 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 168723 application/zip 99.5095ms
2024-07-29 10:38:48.724 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 10:38:48.725 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:38:48.725 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:38:48.726 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:38:48.726 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 10:38:48.726 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 10:38:48.726 -05:00 [INF] CORS policy execution successful.
2024-07-29 10:38:48.726 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 10:38:48.726 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:38:48.726 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 10:38:48.726 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 10:38:48.727 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 10:38:48.727 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 10:38:48.727 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 10:38:48.727 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 10:38:48.727 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:38:48.728 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:38:48.890 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 10:38:48.893 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 10:38:48.893 -05:00 [DBG] Creating DbConnection.
2024-07-29 10:38:48.893 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 10:38:48.893 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:38:48.894 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:38:48.894 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 10:38:48.894 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:38:48.894 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:38:48.894 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:38:48.901 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:38:48.901 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:38:48.901 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:38:48.901 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:38:48.901 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:38:48.901 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:38:48.901 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 10:38:48.901 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:38:48.901 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 10:38:48.923 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 32.1411ms.
2024-07-29 10:38:48.923 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 10:38:48.923 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 10:38:49.027 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 300.1032ms
2024-07-29 10:38:49.028 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:38:49.028 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 10:38:49.028 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:38:49.028 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 10:38:49.028 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 168723 application/zip 304.211ms
2024-07-29 10:39:00.170 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 10:39:00.170 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:39:00.170 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:39:00.170 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:39:00.170 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 10:39:00.170 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 10:39:00.170 -05:00 [INF] CORS policy execution successful.
2024-07-29 10:39:00.170 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 10:39:00.171 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:39:00.171 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 10:39:00.171 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 10:39:00.171 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 10:39:00.171 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 10:39:00.171 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 10:39:00.171 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 10:39:00.171 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:39:00.172 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:39:00.236 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 10:39:00.237 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 10:39:00.237 -05:00 [DBG] Creating DbConnection.
2024-07-29 10:39:00.237 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 10:39:00.237 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:39:00.238 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:39:00.238 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 10:39:00.238 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:39:00.238 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:39:00.238 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:39:00.238 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:39:00.238 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:39:00.238 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:39:00.238 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:39:00.238 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:39:00.239 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:39:00.239 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 10:39:00.239 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:39:00.239 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 10:39:00.250 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 13.4629ms.
2024-07-29 10:39:00.250 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 10:39:00.250 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 10:39:00.255 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 83.6967ms
2024-07-29 10:39:00.255 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:39:00.255 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 10:39:00.256 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:39:00.256 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 10:39:00.256 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 168723 application/zip 85.9113ms
2024-07-29 10:39:12.540 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 10:39:12.540 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:39:12.541 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:39:12.541 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:39:12.541 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 10:39:12.541 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 10:39:12.541 -05:00 [INF] CORS policy execution successful.
2024-07-29 10:39:12.541 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 10:39:12.541 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:39:12.541 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 10:39:12.541 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 10:39:12.541 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 10:39:12.541 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 10:39:12.541 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 10:39:12.542 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 10:39:12.542 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:39:12.542 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:39:12.599 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 10:39:12.599 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 10:39:12.600 -05:00 [DBG] Creating DbConnection.
2024-07-29 10:39:12.600 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 10:39:12.600 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:39:12.600 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:39:12.600 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 10:39:12.600 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:39:12.600 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:39:12.600 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:39:12.601 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:39:12.602 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:39:12.602 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:39:12.602 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:39:12.602 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:39:12.602 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:39:12.602 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 10:39:12.602 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:39:12.603 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 10:39:12.617 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 17.7169ms.
2024-07-29 10:39:12.617 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 10:39:12.618 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 10:39:12.625 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 83.1047ms
2024-07-29 10:39:12.625 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:39:12.625 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 10:39:12.625 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:39:12.626 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 10:39:12.626 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 168723 application/zip 85.4187ms
2024-07-29 10:39:33.224 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 10:39:33.224 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:39:33.224 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:39:33.225 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:39:33.225 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 10:39:33.225 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 10:39:33.225 -05:00 [INF] CORS policy execution successful.
2024-07-29 10:39:33.225 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 10:39:33.225 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:39:33.226 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 10:39:33.226 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 10:39:33.227 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 10:39:33.227 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 10:39:33.227 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 10:39:33.227 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 10:39:33.227 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:39:33.227 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:39:33.269 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 10:39:33.270 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 10:39:33.270 -05:00 [DBG] Creating DbConnection.
2024-07-29 10:39:33.270 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 10:39:33.270 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:39:33.270 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:39:33.270 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 10:39:33.270 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:39:33.271 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:39:33.271 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:39:33.272 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:39:33.272 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:39:33.272 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:39:33.272 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:39:33.272 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:39:33.272 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:39:33.272 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 10:39:33.272 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:39:33.273 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 10:39:33.296 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 27.3551ms.
2024-07-29 10:39:33.296 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 10:39:33.296 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 10:39:33.307 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 79.4873ms
2024-07-29 10:39:33.307 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:39:33.307 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 10:39:33.307 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:39:33.308 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 10:39:33.308 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 168723 application/zip 83.5027ms
2024-07-29 10:39:39.508 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 10:39:39.508 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:39:39.508 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:39:39.508 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:39:39.508 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 10:39:39.508 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 10:39:39.508 -05:00 [INF] CORS policy execution successful.
2024-07-29 10:39:39.508 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 10:39:39.508 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:39:39.508 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 10:39:39.508 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 10:39:39.508 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 10:39:39.508 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 10:39:39.509 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 10:39:39.509 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 10:39:39.509 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:39:39.509 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:39:39.544 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 10:39:39.545 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 10:39:39.547 -05:00 [DBG] Creating DbConnection.
2024-07-29 10:39:39.547 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 10:39:39.547 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:39:39.547 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:39:39.547 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 10:39:39.547 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:39:39.547 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:39:39.547 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:39:39.551 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:39:39.551 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:39:39.551 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:39:39.551 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:39:39.552 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:39:39.552 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:39:39.552 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 10:39:39.552 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:39:39.552 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 10:39:39.569 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 24.07ms.
2024-07-29 10:39:39.569 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 10:39:39.569 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 10:39:39.856 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 347.3176ms
2024-07-29 10:39:39.856 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:39:39.856 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 10:39:39.856 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:39:39.856 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 10:39:39.857 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 168723 application/zip 349.3945ms
2024-07-29 10:39:58.326 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 10:39:58.326 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:39:58.326 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:39:58.326 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:39:58.327 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 10:39:58.327 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 10:39:58.327 -05:00 [INF] CORS policy execution successful.
2024-07-29 10:39:58.327 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 10:39:58.327 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:39:58.327 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 10:39:58.327 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 10:39:58.331 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 10:39:58.331 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 10:39:58.336 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 10:39:58.336 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 10:39:58.336 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:39:58.336 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:39:58.393 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 10:39:58.394 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 10:39:58.394 -05:00 [DBG] Creating DbConnection.
2024-07-29 10:39:58.394 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 10:39:58.394 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:39:58.394 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:39:58.394 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 10:39:58.394 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:39:58.394 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:39:58.395 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:39:58.398 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:39:58.398 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:39:58.398 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:39:58.398 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:39:58.398 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:39:58.400 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:39:58.400 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-07-29 10:39:58.400 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:39:58.400 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 10:39:58.422 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 28.6765ms.
2024-07-29 10:39:58.422 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 10:39:58.422 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 10:39:58.430 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 93.5469ms
2024-07-29 10:39:58.430 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:39:58.430 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 10:39:58.430 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:39:58.430 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 10:39:58.430 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 168723 application/zip 104.1388ms
2024-07-29 10:40:07.225 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 10:40:07.225 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:40:07.225 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:40:07.225 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:40:07.226 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 10:40:07.226 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 10:40:07.226 -05:00 [INF] CORS policy execution successful.
2024-07-29 10:40:07.226 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 10:40:07.226 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:40:07.226 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 10:40:07.226 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 10:40:07.226 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 10:40:07.226 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 10:40:07.227 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 10:40:07.227 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 10:40:07.227 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:40:07.229 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:40:07.274 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 10:40:07.275 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 10:40:07.275 -05:00 [DBG] Creating DbConnection.
2024-07-29 10:40:07.276 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 10:40:07.276 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:40:07.276 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:40:07.276 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 10:40:07.276 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:40:07.276 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:40:07.276 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:40:07.279 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:40:07.279 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:40:07.280 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:40:07.280 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:40:07.280 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:40:07.280 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:40:07.280 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 10:40:07.280 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:40:07.280 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 10:40:07.295 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 20.3155ms.
2024-07-29 10:40:07.295 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 10:40:07.295 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 10:40:07.301 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 74.3558ms
2024-07-29 10:40:07.301 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:40:07.301 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 10:40:07.301 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:40:07.302 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 10:40:07.302 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 168723 application/zip 76.7044ms
2024-07-29 10:49:53.511 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-29 10:49:53.777 -05:00 [DBG] Hosting starting
2024-07-29 10:49:53.845 -05:00 [INF] User profile is available. Using 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-29 10:49:53.852 -05:00 [DBG] Reading data from file 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys\key-12ed5171-7863-4d3e-a216-6f5439158e60.xml'.
2024-07-29 10:49:53.863 -05:00 [DBG] Found key {12ed5171-7863-4d3e-a216-6f5439158e60}.
2024-07-29 10:49:53.872 -05:00 [DBG] Considering key {12ed5171-7863-4d3e-a216-6f5439158e60} with expiration date 2024-09-28 19:27:42Z as default key.
2024-07-29 10:49:53.875 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-29 10:49:53.879 -05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-29 10:49:53.881 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-29 10:49:53.884 -05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-29 10:49:53.885 -05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-29 10:49:53.887 -05:00 [DBG] Using key {12ed5171-7863-4d3e-a216-6f5439158e60} as the default key.
2024-07-29 10:49:53.887 -05:00 [DBG] Key ring with default key {12ed5171-7863-4d3e-a216-6f5439158e60} was loaded during application startup.
2024-07-29 10:49:54.165 -05:00 [INF] Now listening on: https://localhost:7299
2024-07-29 10:49:54.165 -05:00 [INF] Now listening on: http://localhost:5219
2024-07-29 10:49:54.165 -05:00 [DBG] Loaded hosting startup assembly biblioteca-backend
2024-07-29 10:49:54.165 -05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-29 10:49:54.165 -05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-29 10:49:54.165 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-29 10:49:54.165 -05:00 [INF] Hosting environment: Development
2024-07-29 10:49:54.165 -05:00 [INF] Content root path: C:\Users\spatino\Documents\Proyeco - Biblioteca\biblioteca-backend
2024-07-29 10:49:54.165 -05:00 [DBG] Hosting started
2024-07-29 10:49:54.550 -05:00 [DBG] Connection id "0HN5FSOBICPKN" received FIN.
2024-07-29 10:49:54.564 -05:00 [DBG] Connection id "0HN5FSOBICPKN" accepted.
2024-07-29 10:49:54.567 -05:00 [DBG] Connection id "0HN5FSOBICPKN" started.
2024-07-29 10:49:54.641 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-29 10:49:54.720 -05:00 [DBG] Connection id "0HN5FSOBICPKN" stopped.
2024-07-29 10:49:54.729 -05:00 [DBG] Connection id "0HN5FSOBICPKN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-29 10:49:54.874 -05:00 [DBG] Connection id "0HN5FSOBICPKO" accepted.
2024-07-29 10:49:54.876 -05:00 [DBG] Connection id "0HN5FSOBICPKO" started.
2024-07-29 10:49:55.100 -05:00 [DBG] Connection 0HN5FSOBICPKO established using the following protocol: "Tls12"
2024-07-29 10:49:55.213 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/index.html - null null
2024-07-29 10:49:55.570 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-29 10:49:55.598 -05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-29 10:49:55.599 -05:00 [DBG] Request did not match any endpoints
2024-07-29 10:49:55.810 -05:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-07-29 10:49:55.819 -05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-29 10:49:55.942 -05:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-07-29 10:49:55.944 -05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-29 10:49:55.946 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
2024-07-29 10:49:55.951 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/index.html - 200 null text/html;charset=utf-8 741.3267ms
2024-07-29 10:49:55.958 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
2024-07-29 10:49:55.963 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 16.8428ms
2024-07-29 10:49:56.156 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 197.3271ms
2024-07-29 10:49:56.748 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
2024-07-29 10:49:56.749 -05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-29 10:49:56.749 -05:00 [DBG] Request did not match any endpoints
2024-07-29 10:49:57.029 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 281.6114ms
2024-07-29 10:51:13.316 -05:00 [DBG] Connection id "0HN5FSOBICPKP" accepted.
2024-07-29 10:51:13.316 -05:00 [DBG] Connection id "0HN5FSOBICPKP" started.
2024-07-29 10:51:13.435 -05:00 [DBG] Connection 0HN5FSOBICPKP established using the following protocol: "Tls12"
2024-07-29 10:51:13.441 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 10:51:13.453 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:51:13.459 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:51:13.460 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:51:13.463 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 10:51:13.466 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 10:51:13.466 -05:00 [INF] CORS policy execution successful.
2024-07-29 10:51:13.579 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 10:51:13.581 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:51:13.602 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 10:51:13.604 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 10:51:13.604 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 10:51:13.604 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 10:51:13.604 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 10:51:13.604 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 10:51:13.606 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:51:13.787 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-29 10:51:13.816 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:51:13.929 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 10:51:14.814 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 10:51:14.865 -05:00 [DBG] Compiling query expression: 
'DbSet<Archivo>()
    .Where(A => A.FechaEliminacion == null)'
2024-07-29 10:51:15.101 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Archivo>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Archivo.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Archivo.FechaCarga (DateTime) Required, 1], [Property: Archivo.FechaCreacion (DateTime) Required, 2], [Property: Archivo.FechaEliminacion (DateTime?), 3], [Property: Archivo.Nombre (string) Required, 4], [Property: Archivo.NumeroDescargas (int) Required, 5], [Property: Archivo.RutaDocumento (string) Required, 6] }
        SELECT a.Id, a.FechaCarga, a.FechaCreacion, a.FechaEliminacion, a.Nombre, a.NumeroDescargas, a.RutaDocumento
        FROM Archivo AS a
        WHERE a.FechaEliminacion == NULL), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Archivo>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-29 10:51:15.135 -05:00 [DBG] Creating DbConnection.
2024-07-29 10:51:15.156 -05:00 [DBG] Created DbConnection. (19ms).
2024-07-29 10:51:15.158 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:51:15.510 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:51:15.512 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 10:51:15.520 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-07-29 10:51:15.522 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-07-29 10:51:15.530 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:51:15.560 -05:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:51:15.605 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:51:15.643 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:51:15.644 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:51:15.644 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:51:15.647 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:51:15.655 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 89ms reading results.
2024-07-29 10:51:15.657 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:51:15.663 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (6ms).
2024-07-29 10:51:15.697 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 1763.7838ms.
2024-07-29 10:51:15.700 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 10:51:15.703 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 10:51:15.740 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 2128.511ms
2024-07-29 10:51:15.741 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:51:15.745 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 10:51:15.750 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:51:15.753 -05:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-07-29 10:51:15.753 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 168723 application/zip 2312.1067ms
2024-07-29 10:51:34.130 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 10:51:34.135 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:51:34.135 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:51:34.135 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:51:34.138 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 10:51:34.140 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 10:51:34.140 -05:00 [INF] CORS policy execution successful.
2024-07-29 10:51:34.144 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 10:51:34.145 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:51:34.146 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 10:51:34.146 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 10:51:34.146 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 10:51:34.146 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 10:51:34.146 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 10:51:34.147 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 10:51:34.149 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:51:34.155 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:51:34.202 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 10:51:34.216 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 10:51:34.221 -05:00 [DBG] Creating DbConnection.
2024-07-29 10:51:34.221 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 10:51:34.221 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:51:34.222 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:51:34.222 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 10:51:34.222 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:51:34.222 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:51:34.223 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:51:34.225 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:51:34.225 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:51:34.225 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:51:34.225 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:51:34.225 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:51:34.225 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:51:34.226 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 10:51:34.226 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:51:34.226 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 10:51:34.238 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 35.8309ms.
2024-07-29 10:51:34.239 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 10:51:34.239 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 10:51:34.262 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 113.0115ms
2024-07-29 10:51:34.262 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:51:34.263 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 10:51:34.263 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:51:34.263 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 10:51:34.263 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 168723 application/zip 133.3976ms
2024-07-29 10:51:57.436 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 10:51:57.436 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:51:57.436 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:51:57.436 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:51:57.436 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 10:51:57.437 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 10:51:57.437 -05:00 [INF] CORS policy execution successful.
2024-07-29 10:51:57.442 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 10:51:57.442 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:51:57.442 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 10:51:57.442 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 10:51:57.442 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 10:51:57.443 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 10:51:57.443 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 10:51:57.443 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 10:51:57.443 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:51:57.446 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:51:57.492 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 10:51:57.640 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 10:51:57.643 -05:00 [DBG] Creating DbConnection.
2024-07-29 10:51:57.643 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 10:51:57.643 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:51:57.644 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:51:57.644 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 10:51:57.644 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:51:57.644 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:51:57.644 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:51:57.648 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:51:57.649 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:51:57.650 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:51:57.650 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:51:57.651 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:51:57.651 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:51:57.651 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-07-29 10:51:57.652 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:51:57.652 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 10:51:57.691 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 198.5292ms.
2024-07-29 10:51:57.691 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 10:51:57.691 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 10:51:57.708 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 265.12ms
2024-07-29 10:51:57.708 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:51:57.708 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 10:51:57.708 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:51:57.708 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 10:51:57.709 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 168723 application/zip 272.8391ms
2024-07-29 10:52:02.657 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 10:52:02.657 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:52:02.658 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:52:02.658 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:52:02.658 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 10:52:02.658 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 10:52:02.658 -05:00 [INF] CORS policy execution successful.
2024-07-29 10:52:02.658 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 10:52:02.658 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:52:02.658 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 10:52:02.659 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 10:52:02.659 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 10:52:02.659 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 10:52:02.659 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 10:52:02.659 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 10:52:02.659 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:52:02.659 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:52:02.698 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 10:52:02.700 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 10:52:02.700 -05:00 [DBG] Creating DbConnection.
2024-07-29 10:52:02.700 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 10:52:02.701 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:52:02.701 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:52:02.701 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 10:52:02.701 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:52:02.701 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:52:02.701 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:52:02.705 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:52:02.706 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:52:02.706 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:52:02.706 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:52:02.706 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:52:02.706 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:52:02.706 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 10:52:02.707 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:52:02.707 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 10:52:02.721 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 22.8007ms.
2024-07-29 10:52:02.721 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 10:52:02.722 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 10:52:02.750 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 91.3855ms
2024-07-29 10:52:02.751 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:52:02.751 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 10:52:02.751 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:52:02.751 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 10:52:02.751 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 168723 application/zip 94.2902ms
2024-07-29 10:52:17.480 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 10:52:17.480 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:52:17.480 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:52:17.480 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:52:17.481 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 10:52:17.481 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 10:52:17.481 -05:00 [INF] CORS policy execution successful.
2024-07-29 10:52:17.483 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 10:52:17.483 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:52:17.484 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 10:52:17.484 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 10:52:17.484 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 10:52:17.485 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 10:52:17.485 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 10:52:17.485 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 10:52:17.485 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:52:17.486 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:52:17.529 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 10:52:17.530 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 10:52:17.531 -05:00 [DBG] Creating DbConnection.
2024-07-29 10:52:17.531 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 10:52:17.533 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:52:17.533 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:52:17.533 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 10:52:17.533 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:52:17.533 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:52:17.533 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:52:17.534 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:52:17.534 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:52:17.534 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:52:17.534 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:52:17.534 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:52:17.534 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:52:17.535 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 10:52:17.535 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:52:17.535 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 10:52:17.551 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 21.8244ms.
2024-07-29 10:52:17.552 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 10:52:17.552 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 10:52:17.556 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 70.7434ms
2024-07-29 10:52:17.556 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:52:17.556 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 10:52:17.557 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:52:17.557 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 10:52:17.557 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 168723 application/zip 78.221ms
2024-07-29 10:52:54.096 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 10:52:54.098 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:52:54.099 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 10:52:54.099 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:52:54.099 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 10:52:54.099 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 10:52:54.099 -05:00 [INF] CORS policy execution successful.
2024-07-29 10:52:54.099 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 10:52:54.099 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:52:54.099 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 10:52:54.100 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 10:52:54.100 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 10:52:54.100 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 10:52:54.100 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 10:52:54.100 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 10:52:54.100 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:52:54.100 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:52:54.140 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 10:52:54.140 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 10:52:54.140 -05:00 [DBG] Creating DbConnection.
2024-07-29 10:52:54.141 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 10:52:54.141 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:52:54.141 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:52:54.141 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 10:52:54.141 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:52:54.141 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:52:54.141 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:52:54.143 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:52:54.143 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:52:54.143 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:52:54.143 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:52:54.144 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:52:54.144 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:52:54.144 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 10:52:54.144 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:52:54.144 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 10:52:54.157 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 17.6779ms.
2024-07-29 10:52:54.158 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 10:52:54.158 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 10:52:54.162 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 62.1718ms
2024-07-29 10:52:54.162 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 10:52:54.162 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 10:52:54.163 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:52:54.163 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 10:52:54.163 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 168723 application/zip 67.3515ms
2024-07-29 10:59:22.774 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-29 10:59:22.920 -05:00 [DBG] Hosting starting
2024-07-29 10:59:22.978 -05:00 [INF] User profile is available. Using 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-29 10:59:22.986 -05:00 [DBG] Reading data from file 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys\key-12ed5171-7863-4d3e-a216-6f5439158e60.xml'.
2024-07-29 10:59:22.996 -05:00 [DBG] Found key {12ed5171-7863-4d3e-a216-6f5439158e60}.
2024-07-29 10:59:23.007 -05:00 [DBG] Considering key {12ed5171-7863-4d3e-a216-6f5439158e60} with expiration date 2024-09-28 19:27:42Z as default key.
2024-07-29 10:59:23.010 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-29 10:59:23.012 -05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-29 10:59:23.014 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-29 10:59:23.018 -05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-29 10:59:23.019 -05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-29 10:59:23.020 -05:00 [DBG] Using key {12ed5171-7863-4d3e-a216-6f5439158e60} as the default key.
2024-07-29 10:59:23.021 -05:00 [DBG] Key ring with default key {12ed5171-7863-4d3e-a216-6f5439158e60} was loaded during application startup.
2024-07-29 10:59:23.374 -05:00 [INF] Now listening on: https://localhost:7299
2024-07-29 10:59:23.374 -05:00 [INF] Now listening on: http://localhost:5219
2024-07-29 10:59:23.374 -05:00 [DBG] Loaded hosting startup assembly biblioteca-backend
2024-07-29 10:59:23.374 -05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-29 10:59:23.374 -05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-29 10:59:23.375 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-29 10:59:23.375 -05:00 [INF] Hosting environment: Development
2024-07-29 10:59:23.375 -05:00 [INF] Content root path: C:\Users\spatino\Documents\Proyeco - Biblioteca\biblioteca-backend
2024-07-29 10:59:23.375 -05:00 [DBG] Hosting started
2024-07-29 10:59:23.707 -05:00 [DBG] Connection id "0HN5FSTL69N1I" accepted.
2024-07-29 10:59:23.708 -05:00 [DBG] Connection id "0HN5FSTL69N1I" started.
2024-07-29 10:59:23.762 -05:00 [DBG] Connection id "0HN5FSTL69N1I" received FIN.
2024-07-29 10:59:23.769 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-29 10:59:23.842 -05:00 [DBG] Connection id "0HN5FSTL69N1I" stopped.
2024-07-29 10:59:23.844 -05:00 [DBG] Connection id "0HN5FSTL69N1I" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-29 10:59:23.980 -05:00 [DBG] Connection id "0HN5FSTL69N1J" accepted.
2024-07-29 10:59:23.981 -05:00 [DBG] Connection id "0HN5FSTL69N1J" started.
2024-07-29 10:59:24.197 -05:00 [DBG] Connection 0HN5FSTL69N1J established using the following protocol: "Tls12"
2024-07-29 10:59:24.329 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/index.html - null null
2024-07-29 10:59:24.782 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-29 10:59:24.844 -05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-29 10:59:24.846 -05:00 [DBG] Request did not match any endpoints
2024-07-29 10:59:25.025 -05:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-07-29 10:59:25.030 -05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-29 10:59:25.095 -05:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-07-29 10:59:25.096 -05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-29 10:59:25.101 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/index.html - 200 null text/html;charset=utf-8 783.4012ms
2024-07-29 10:59:25.146 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
2024-07-29 10:59:25.150 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
2024-07-29 10:59:25.161 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 15.5839ms
2024-07-29 10:59:25.437 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 286.8693ms
2024-07-29 10:59:25.530 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
2024-07-29 10:59:25.530 -05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-29 10:59:25.530 -05:00 [DBG] Request did not match any endpoints
2024-07-29 10:59:25.726 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 196.505ms
2024-07-29 10:59:29.790 -05:00 [DBG] Connection id "0HN5FSTL69N1K" accepted.
2024-07-29 10:59:29.791 -05:00 [DBG] Connection id "0HN5FSTL69N1K" started.
2024-07-29 10:59:29.820 -05:00 [DBG] Connection 0HN5FSTL69N1K established using the following protocol: "Tls12"
2024-07-29 10:59:29.835 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentosZip - null null
2024-07-29 10:59:29.844 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentosZip'
2024-07-29 10:59:29.849 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentosZip' is valid for the request path '/api/Archivos/ConsultarDocumentosZip'
2024-07-29 10:59:29.850 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend)'
2024-07-29 10:59:29.855 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 10:59:29.857 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 10:59:29.858 -05:00 [INF] CORS policy execution successful.
2024-07-29 10:59:29.960 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 10:59:29.963 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend)'
2024-07-29 10:59:29.979 -05:00 [INF] Route matched with {action = "ConsultarTodosZip", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodosZip() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 10:59:29.981 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 10:59:29.981 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 10:59:29.981 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 10:59:29.981 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 10:59:29.981 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 10:59:30.006 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:59:30.163 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-29 10:59:30.185 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:59:30.295 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend) - Validation state: "Valid"
2024-07-29 10:59:31.312 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 10:59:31.380 -05:00 [DBG] Compiling query expression: 
'DbSet<Archivo>()
    .Where(A => A.FechaEliminacion == null)'
2024-07-29 10:59:31.667 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Archivo>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Archivo.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Archivo.FechaCarga (DateTime) Required, 1], [Property: Archivo.FechaCreacion (DateTime) Required, 2], [Property: Archivo.FechaEliminacion (DateTime?), 3], [Property: Archivo.Nombre (string) Required, 4], [Property: Archivo.NumeroDescargas (int) Required, 5], [Property: Archivo.RutaDocumento (string) Required, 6] }
        SELECT a.Id, a.FechaCarga, a.FechaCreacion, a.FechaEliminacion, a.Nombre, a.NumeroDescargas, a.RutaDocumento
        FROM Archivo AS a
        WHERE a.FechaEliminacion == NULL), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Archivo>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-29 10:59:31.708 -05:00 [DBG] Creating DbConnection.
2024-07-29 10:59:31.732 -05:00 [DBG] Created DbConnection. (21ms).
2024-07-29 10:59:31.735 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:59:32.065 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:59:32.069 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 10:59:32.080 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-07-29 10:59:32.083 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2024-07-29 10:59:32.097 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:59:32.126 -05:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:59:32.169 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:59:32.198 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:59:32.199 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:59:32.199 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:59:32.204 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:59:32.213 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 80ms reading results.
2024-07-29 10:59:32.215 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:59:32.221 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (6ms).
2024-07-29 10:59:32.257 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 1958.5806ms.
2024-07-29 10:59:32.260 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 10:59:32.261 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 10:59:32.281 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend) in 2282.3592ms
2024-07-29 10:59:32.282 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend)'
2024-07-29 10:59:32.287 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 10:59:32.293 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:59:32.296 -05:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-07-29 10:59:32.297 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentosZip - 200 168723 application/zip 2462.5092ms
2024-07-29 10:59:32.875 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentosZip - null null
2024-07-29 10:59:32.878 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentosZip'
2024-07-29 10:59:32.879 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentosZip' is valid for the request path '/api/Archivos/ConsultarDocumentosZip'
2024-07-29 10:59:32.879 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend)'
2024-07-29 10:59:32.879 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 10:59:32.880 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 10:59:32.880 -05:00 [INF] CORS policy execution successful.
2024-07-29 10:59:32.881 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 10:59:32.881 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend)'
2024-07-29 10:59:32.882 -05:00 [INF] Route matched with {action = "ConsultarTodosZip", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodosZip() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 10:59:32.882 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 10:59:32.882 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 10:59:32.882 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 10:59:32.882 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 10:59:32.882 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 10:59:32.883 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:59:32.885 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 10:59:32.938 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend) - Validation state: "Valid"
2024-07-29 10:59:32.953 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 10:59:32.957 -05:00 [DBG] Creating DbConnection.
2024-07-29 10:59:32.957 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 10:59:32.957 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:59:32.958 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:59:32.958 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 10:59:32.958 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:59:32.958 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 10:59:32.958 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:59:32.961 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 10:59:32.962 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:59:32.962 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:59:32.963 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:59:32.963 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 10:59:32.963 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:59:32.963 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-29 10:59:32.963 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:59:32.963 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 10:59:32.983 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 44.0694ms.
2024-07-29 10:59:32.983 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 10:59:32.984 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 10:59:32.990 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend) in 107.5266ms
2024-07-29 10:59:32.990 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend)'
2024-07-29 10:59:32.990 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 10:59:32.991 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 10:59:32.991 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 10:59:32.993 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentosZip - 200 168723 application/zip 115.8205ms
2024-07-29 11:00:08.980 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentosZip - null null
2024-07-29 11:00:08.981 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentosZip'
2024-07-29 11:00:08.981 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentosZip' is valid for the request path '/api/Archivos/ConsultarDocumentosZip'
2024-07-29 11:00:08.982 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend)'
2024-07-29 11:00:08.986 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:00:08.987 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:00:08.987 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:00:08.991 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:00:08.991 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend)'
2024-07-29 11:00:08.991 -05:00 [INF] Route matched with {action = "ConsultarTodosZip", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodosZip() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:00:08.991 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:00:08.991 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:00:08.991 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:00:08.991 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:00:08.991 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:00:08.991 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:00:08.995 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:00:09.040 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:00:09.143 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:00:09.146 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:00:09.146 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:00:09.146 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:00:09.146 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:00:09.146 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:00:09.146 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:00:09.146 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:00:09.147 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:00:09.160 -05:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:00:09.160 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:00:09.160 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:00:09.160 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:00:09.160 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:00:09.160 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:00:09.160 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:00:09.160 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:00:09.161 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:00:09.210 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 169.54ms.
2024-07-29 11:00:09.210 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 11:00:09.210 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 11:00:09.226 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend) in 234.5223ms
2024-07-29 11:00:09.226 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend)'
2024-07-29 11:00:09.226 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:00:09.227 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:00:09.227 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:00:09.227 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentosZip - 200 168723 application/zip 247.842ms
2024-07-29 11:01:05.923 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentosZip - null null
2024-07-29 11:01:05.923 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentosZip'
2024-07-29 11:01:05.923 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentosZip' is valid for the request path '/api/Archivos/ConsultarDocumentosZip'
2024-07-29 11:01:05.924 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend)'
2024-07-29 11:01:05.924 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:01:05.924 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:01:05.924 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:01:05.924 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:01:05.924 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend)'
2024-07-29 11:01:05.925 -05:00 [INF] Route matched with {action = "ConsultarTodosZip", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodosZip() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:01:05.925 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:01:05.925 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:01:05.925 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:01:05.925 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:01:05.925 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:01:05.926 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:01:05.926 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:01:05.981 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:01:05.983 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:01:05.983 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:01:05.983 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:01:05.983 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:01:05.984 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:01:05.984 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:01:05.984 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:01:05.984 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:01:05.984 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:01:05.988 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:01:05.989 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:01:05.989 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:01:05.989 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:01:05.989 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:01:05.989 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:01:05.989 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:01:05.989 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:01:05.989 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:01:06.008 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 26.1484ms.
2024-07-29 11:01:06.008 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 11:01:06.008 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 11:01:06.038 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend) in 112.3827ms
2024-07-29 11:01:06.038 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend)'
2024-07-29 11:01:06.038 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:01:06.039 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:01:06.039 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:01:06.039 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentosZip - 200 168723 application/zip 116.06ms
2024-07-29 11:03:53.524 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentosZip - null null
2024-07-29 11:03:53.524 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentosZip'
2024-07-29 11:03:53.525 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentosZip' is valid for the request path '/api/Archivos/ConsultarDocumentosZip'
2024-07-29 11:03:53.525 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend)'
2024-07-29 11:03:53.525 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:03:53.526 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:03:53.526 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:03:53.526 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:03:53.526 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend)'
2024-07-29 11:03:53.526 -05:00 [INF] Route matched with {action = "ConsultarTodosZip", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodosZip() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:03:53.526 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:03:53.526 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:03:53.527 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:03:53.527 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:03:53.527 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:03:53.527 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:03:53.528 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:03:53.577 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:03:53.579 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:03:53.580 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:03:53.580 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:03:53.580 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:03:53.580 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:03:53.580 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:03:53.580 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:03:53.581 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:03:53.581 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:03:53.585 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:03:53.586 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:03:53.586 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:03:53.586 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:03:53.586 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:03:53.586 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:03:53.586 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:03:53.586 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:03:53.587 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:03:53.613 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 35.635ms.
2024-07-29 11:03:53.613 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 11:03:53.613 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 11:03:53.665 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend) in 137.5166ms
2024-07-29 11:03:53.665 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend)'
2024-07-29 11:03:53.670 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:03:53.670 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:03:53.671 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:03:53.672 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentosZip - 200 168723 application/zip 147.4779ms
2024-07-29 11:04:28.578 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentosZip - null null
2024-07-29 11:04:28.579 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentosZip'
2024-07-29 11:04:28.579 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentosZip' is valid for the request path '/api/Archivos/ConsultarDocumentosZip'
2024-07-29 11:04:28.588 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend)'
2024-07-29 11:04:28.588 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:04:28.589 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:04:28.589 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:04:28.589 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:04:28.589 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend)'
2024-07-29 11:04:28.589 -05:00 [INF] Route matched with {action = "ConsultarTodosZip", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodosZip() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:04:28.589 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:04:28.589 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:04:28.589 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:04:28.590 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:04:28.591 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:04:28.591 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:04:28.591 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:04:28.633 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:04:28.635 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:04:28.635 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:04:28.635 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:04:28.635 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:04:28.636 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:04:28.636 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:04:28.637 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:04:28.637 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:04:28.637 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:04:28.641 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaCreacion], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:04:28.642 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:04:28.642 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:04:28.642 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:04:28.642 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:04:28.642 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:04:28.642 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:04:28.642 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:04:28.642 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:04:28.661 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 27.838ms.
2024-07-29 11:04:28.661 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 11:04:28.661 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 11:04:28.666 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend) in 74.8267ms
2024-07-29 11:04:28.666 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend)'
2024-07-29 11:04:28.666 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:04:28.666 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:04:28.666 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:04:28.666 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentosZip - 200 168723 application/zip 88.5161ms
2024-07-29 11:11:41.101 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-29 11:11:41.894 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:11:42.904 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:11:54.785 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-29 11:11:55.450 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:11:55.468 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:11:55.504 -05:00 [DBG] Created DbConnection. (31ms).
2024-07-29 11:11:55.507 -05:00 [DBG] Migrating using database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:11:55.511 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:11:55.719 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:11:55.724 -05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-07-29 11:11:55.730 -05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2024-07-29 11:11:55.731 -05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (9ms).
2024-07-29 11:11:55.738 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-07-29 11:11:55.763 -05:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-07-29 11:11:55.765 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:11:55.773 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (4ms).
2024-07-29 11:11:55.775 -05:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-07-29 11:11:55.775 -05:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-07-29 11:11:55.776 -05:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-07-29 11:11:55.776 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:11:55.776 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:11:55.777 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-07-29 11:11:55.792 -05:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-07-29 11:11:55.792 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:11:55.793 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:11:55.793 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:11:55.793 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:11:55.794 -05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-07-29 11:11:55.794 -05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-07-29 11:11:55.794 -05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-07-29 11:11:55.794 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-07-29 11:11:55.795 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-07-29 11:11:55.795 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:11:55.795 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:11:55.795 -05:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-07-29 11:11:55.795 -05:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-07-29 11:11:55.795 -05:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-07-29 11:11:55.795 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:11:55.795 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:11:55.795 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-07-29 11:11:55.796 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-07-29 11:11:55.796 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:11:55.796 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:11:55.809 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:11:55.809 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:11:55.809 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:11:55.809 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:11:55.810 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:11:55.810 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-07-29 11:11:55.813 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-07-29 11:11:55.815 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:11:55.816 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-07-29 11:11:55.816 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:11:55.816 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:11:55.825 -05:00 [INF] Applying migration '20240729161142_v3.0.3'.
2024-07-29 11:11:55.880 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:11:55.880 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:11:55.882 -05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-07-29 11:11:55.888 -05:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-07-29 11:11:55.888 -05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-07-29 11:11:55.888 -05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-07-29 11:11:55.889 -05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-07-29 11:11:55.889 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Archivo]') AND [c].[name] = N'FechaCreacion');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Archivo] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Archivo] DROP COLUMN [FechaCreacion];
2024-07-29 11:11:55.927 -05:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Archivo]') AND [c].[name] = N'FechaCreacion');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Archivo] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Archivo] DROP COLUMN [FechaCreacion];
2024-07-29 11:11:55.928 -05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-07-29 11:11:55.928 -05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-07-29 11:11:55.928 -05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-07-29 11:11:55.928 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240729161142_v3.0.3', N'8.0.6');
2024-07-29 11:11:55.930 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240729161142_v3.0.3', N'8.0.6');
2024-07-29 11:11:55.931 -05:00 [DBG] Committing transaction.
2024-07-29 11:11:55.935 -05:00 [DBG] Committed transaction.
2024-07-29 11:11:55.937 -05:00 [DBG] Disposing transaction.
2024-07-29 11:11:55.937 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:11:55.937 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:11:55.938 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:11:55.940 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:11:55.941 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:18:49.453 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-29 11:18:49.661 -05:00 [DBG] Hosting starting
2024-07-29 11:18:49.734 -05:00 [INF] User profile is available. Using 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-29 11:18:49.746 -05:00 [DBG] Reading data from file 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys\key-12ed5171-7863-4d3e-a216-6f5439158e60.xml'.
2024-07-29 11:18:49.762 -05:00 [DBG] Found key {12ed5171-7863-4d3e-a216-6f5439158e60}.
2024-07-29 11:18:49.776 -05:00 [DBG] Considering key {12ed5171-7863-4d3e-a216-6f5439158e60} with expiration date 2024-09-28 19:27:42Z as default key.
2024-07-29 11:18:49.781 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-29 11:18:49.784 -05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-29 11:18:49.787 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-29 11:18:49.792 -05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-29 11:18:49.793 -05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-29 11:18:49.795 -05:00 [DBG] Using key {12ed5171-7863-4d3e-a216-6f5439158e60} as the default key.
2024-07-29 11:18:49.796 -05:00 [DBG] Key ring with default key {12ed5171-7863-4d3e-a216-6f5439158e60} was loaded during application startup.
2024-07-29 11:18:50.152 -05:00 [INF] Now listening on: https://localhost:7299
2024-07-29 11:18:50.152 -05:00 [INF] Now listening on: http://localhost:5219
2024-07-29 11:18:50.152 -05:00 [DBG] Loaded hosting startup assembly biblioteca-backend
2024-07-29 11:18:50.152 -05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-29 11:18:50.152 -05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-29 11:18:50.153 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-29 11:18:50.153 -05:00 [INF] Hosting environment: Development
2024-07-29 11:18:50.154 -05:00 [INF] Content root path: C:\Users\spatino\Documents\Proyeco - Biblioteca\biblioteca-backend
2024-07-29 11:18:50.154 -05:00 [DBG] Hosting started
2024-07-29 11:18:50.251 -05:00 [DBG] Connection id "0HN5FT8GRAHT6" accepted.
2024-07-29 11:18:50.253 -05:00 [DBG] Connection id "0HN5FT8GRAHT6" started.
2024-07-29 11:18:50.267 -05:00 [DBG] Connection id "0HN5FT8GRAHT6" received FIN.
2024-07-29 11:18:50.322 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-29 11:18:50.386 -05:00 [DBG] Connection id "0HN5FT8GRAHT6" stopped.
2024-07-29 11:18:50.389 -05:00 [DBG] Connection id "0HN5FT8GRAHT6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-29 11:18:50.507 -05:00 [DBG] Connection id "0HN5FT8GRAHT7" accepted.
2024-07-29 11:18:50.509 -05:00 [DBG] Connection id "0HN5FT8GRAHT7" started.
2024-07-29 11:18:50.704 -05:00 [DBG] Connection 0HN5FT8GRAHT7 established using the following protocol: "Tls12"
2024-07-29 11:18:50.843 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/index.html - null null
2024-07-29 11:18:51.348 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-29 11:18:51.403 -05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-29 11:18:51.404 -05:00 [DBG] Request did not match any endpoints
2024-07-29 11:18:51.625 -05:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-07-29 11:18:51.628 -05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-29 11:18:51.704 -05:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-07-29 11:18:51.706 -05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-29 11:18:51.728 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
2024-07-29 11:18:51.728 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/index.html - 200 null text/html;charset=utf-8 911.0114ms
2024-07-29 11:18:51.728 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
2024-07-29 11:18:51.750 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 21.7344ms
2024-07-29 11:18:51.975 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 246.4418ms
2024-07-29 11:18:52.062 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
2024-07-29 11:18:52.062 -05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-29 11:18:52.062 -05:00 [DBG] Request did not match any endpoints
2024-07-29 11:18:52.285 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 223.5172ms
2024-07-29 11:18:57.006 -05:00 [DBG] Connection id "0HN5FT8GRAHT8" accepted.
2024-07-29 11:18:57.006 -05:00 [DBG] Connection id "0HN5FT8GRAHT8" started.
2024-07-29 11:18:57.017 -05:00 [DBG] Connection 0HN5FT8GRAHT8 established using the following protocol: "Tls12"
2024-07-29 11:18:57.020 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - null null
2024-07-29 11:18:57.037 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-29 11:18:57.038 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 11:18:57.041 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:18:57.043 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:18:57.044 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:18:57.045 -05:00 [DBG] The request is a preflight request.
2024-07-29 11:18:57.048 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - 204 null null 27.6495ms
2024-07-29 11:18:57.053 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Perfiles/ - application/json 60
2024-07-29 11:18:57.056 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-29 11:18:57.061 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-29 11:18:57.061 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-29 11:18:57.062 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:18:57.062 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:18:57.063 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:18:57.206 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:18:57.210 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-29 11:18:57.244 -05:00 [INF] Route matched with {action = "Post", controller = "Perfiles"}. Executing controller action with signature System.Object Post(biblioteca_backend.Models.DTOs.LogInModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-29 11:18:57.246 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:18:57.247 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:18:57.247 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:18:57.248 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:18:57.248 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:18:57.253 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-29 11:18:57.482 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-29 11:18:57.522 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-29 11:18:57.540 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-29 11:18:57.544 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' using the name '' in request data ...
2024-07-29 11:18:57.546 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-29 11:18:57.555 -05:00 [DBG] Connection id "0HN5FT8GRAHT8", Request id "0HN5FT8GRAHT8:00000003": started reading request body.
2024-07-29 11:18:57.555 -05:00 [DBG] Connection id "0HN5FT8GRAHT8", Request id "0HN5FT8GRAHT8:00000003": done reading request body.
2024-07-29 11:18:57.560 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.LogInModel'
2024-07-29 11:18:57.560 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-29 11:18:57.560 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-29 11:18:57.560 -05:00 [DBG] Attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-29 11:18:57.572 -05:00 [DBG] Done attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-29 11:18:57.721 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:18:57.756 -05:00 [DBG] Iniciando sesión...
2024-07-29 11:18:59.221 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:18:59.310 -05:00 [DBG] Compiling query expression: 
'DbSet<Perfil>()
    .FirstOrDefault(p => p.Correo == __8__locals1_logInModel_Correo_0 && p.Contrasena == __claveCifrada_1)'
2024-07-29 11:18:59.818 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Perfil>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Perfil.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Perfil.Apellido (string) Required, 1], [Property: Perfil.Contrasena (string) Required, 2], [Property: Perfil.Correo (string) Required, 3], [Property: Perfil.Direccion (string) Required, 4], [Property: Perfil.IdRol (int) Required FK Index, 5], [Property: Perfil.Nombre (string) Required, 6], [Property: Perfil.Telefono (string) Required, 7] }
        SELECT TOP(1) p.Id, p.Apellido, p.Contrasena, p.Correo, p.Direccion, p.IdRol, p.Nombre, p.Telefono
        FROM Perfil AS p
        WHERE (p.Correo == @__8__locals1_logInModel_Correo_0) && (p.Contrasena == @__claveCifrada_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Perfil>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-29 11:18:59.952 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:19:00.000 -05:00 [DBG] Created DbConnection. (46ms).
2024-07-29 11:19:00.002 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:19:00.376 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:19:00.379 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:19:00.386 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-07-29 11:19:00.397 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (19ms).
2024-07-29 11:19:00.406 -05:00 [DBG] Executing DbCommand [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-29 11:19:00.465 -05:00 [INF] Executed DbCommand (58ms) [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-29 11:19:00.528 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:19:00.584 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:19:00.598 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 124ms reading results.
2024-07-29 11:19:00.604 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:19:00.615 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (10ms).
2024-07-29 11:19:00.617 -05:00 [DBG] Compiling query expression: 
'DbSet<Rol>()
    .FirstOrDefault(r => r.Id == ___perfil_IdRol_0)'
2024-07-29 11:19:00.621 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Rol>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Rol.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Rol.Nombre (string) Required, 1] }
        SELECT TOP(1) r.Id, r.Nombre
        FROM Rol AS r
        WHERE r.Id == @___perfil_IdRol_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Rol>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-29 11:19:00.622 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:19:00.623 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:19:00.624 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:19:00.624 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:19:00.624 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:19:00.625 -05:00 [DBG] Executing DbCommand [Parameters=[@___perfil_IdRol_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Nombre]
FROM [Rol] AS [r]
WHERE [r].[Id] = @___perfil_IdRol_0
2024-07-29 11:19:00.630 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[@___perfil_IdRol_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Nombre]
FROM [Rol] AS [r]
WHERE [r].[Id] = @___perfil_IdRol_0
2024-07-29 11:19:00.654 -05:00 [DBG] The navigation 'Perfil.Rol' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:19:00.672 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Rol' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:19:00.676 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:19:00.676 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 46ms reading results.
2024-07-29 11:19:00.677 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:19:00.677 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:19:00.730 -05:00 [INF] Inicio de sesión exitoso
2024-07-29 11:19:00.738 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 3010.7037ms.
2024-07-29 11:19:00.744 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 11:19:00.747 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 11:19:00.747 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 11:19:00.747 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 11:19:00.749 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 11:19:00.750 -05:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-29 11:19:00.764 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) in 3510.5302ms
2024-07-29 11:19:00.765 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-29 11:19:00.768 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:19:00.776 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:19:00.779 -05:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-07-29 11:19:00.780 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Perfiles/ - 200 null application/json; charset=utf-8 3727.0827ms
2024-07-29 11:19:00.803 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-29 11:19:00.803 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-29 11:19:00.803 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 11:19:00.803 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:19:00.804 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:19:00.804 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:19:00.804 -05:00 [DBG] The request is a preflight request.
2024-07-29 11:19:00.804 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - 204 null null 1.6221ms
2024-07-29 11:19:00.807 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-29 11:19:00.808 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-29 11:19:00.808 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-29 11:19:00.808 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 11:19:00.809 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:19:00.809 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:19:00.809 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:19:00.895 -05:00 [DBG] Successfully validated the token.
2024-07-29 11:19:00.897 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 11:19:00.907 -05:00 [DBG] Authorization was successful.
2024-07-29 11:19:00.907 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 11:19:00.912 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-29 11:19:00.912 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:19:00.912 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:19:00.913 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:19:00.913 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:19:00.913 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:19:00.913 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-29 11:19:00.915 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-29 11:19:00.924 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-29 11:19:00.925 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-29 11:19:00.930 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 11:19:00.930 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 11:19:00.930 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-29 11:19:00.931 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 11:19:00.988 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:19:00.995 -05:00 [DBG] Consultando libros...
2024-07-29 11:19:01.038 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:19:01.052 -05:00 [DBG] Compiling query expression: 
'DbSet<Libro>()
    .Join(
        inner: DbSet<Genero>(), 
        outerKeySelector: L => L.IdGenero, 
        innerKeySelector: G => G.Id, 
        resultSelector: (L, G) => new { 
            L = L, 
            G = G
         })
    .Where(<>h__TransparentIdentifier0 => True && <>h__TransparentIdentifier0.L.Activo == True || False)
    .Select(<>h__TransparentIdentifier0 => new { 
        id = <>h__TransparentIdentifier0.L.Id, 
        titulo = <>h__TransparentIdentifier0.L.Titulo, 
        autor = <>h__TransparentIdentifier0.L.Autor, 
        anio = <>h__TransparentIdentifier0.L.Anio, 
        idGenero = <>h__TransparentIdentifier0.L.IdGenero, 
        genero = <>h__TransparentIdentifier0.G.Nombre, 
        activo = <>h__TransparentIdentifier0.L.Activo
     })'
2024-07-29 11:19:01.142 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType1<int, string, string, int, int, string, bool>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            id -> 0
            titulo -> 1
            autor -> 2
            anio -> 3
            idGenero -> 4
            genero -> 5
            activo -> 6
        SELECT l.Id AS id, l.Titulo AS titulo, l.Autor AS autor, l.Anio AS anio, l.IdGenero AS idGenero, g.Nombre AS genero, l.Activo AS activo
        FROM Libro AS l
        INNER JOIN Genero AS g ON l.IdGenero == g.Id
        WHERE (CAST(1 AS bit) && (l.Activo == CAST(1 AS bit))) || CAST(0 AS bit)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType1<int, string, string, int, int, string, bool>>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-29 11:19:01.147 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:19:01.148 -05:00 [DBG] Created DbConnection. (1ms).
2024-07-29 11:19:01.149 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:19:01.150 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:19:01.151 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:19:01.151 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:19:01.151 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:19:01.152 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-29 11:19:01.171 -05:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-29 11:19:01.173 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:19:01.173 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-29 11:19:01.173 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:19:01.174 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:19:01.177 -05:00 [INF] Consulta de libros exitosa
2024-07-29 11:19:01.178 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 189.1012ms.
2024-07-29 11:19:01.182 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 11:19:01.183 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 11:19:01.183 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 11:19:01.183 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 11:19:01.184 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 11:19:01.184 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 11:19:01.194 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 280.4995ms
2024-07-29 11:19:01.194 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 11:19:01.194 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:19:01.194 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:19:01.195 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:19:01.195 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 387.8244ms
2024-07-29 11:19:54.251 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentosZip - null null
2024-07-29 11:19:54.252 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentosZip'
2024-07-29 11:19:54.252 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentosZip' is valid for the request path '/api/Archivos/ConsultarDocumentosZip'
2024-07-29 11:19:54.253 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend)'
2024-07-29 11:19:54.253 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:19:54.253 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:19:54.253 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:19:54.277 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:19:54.277 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend)'
2024-07-29 11:19:54.280 -05:00 [INF] Route matched with {action = "ConsultarTodosZip", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodosZip() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:19:54.281 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:19:54.281 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:19:54.281 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:19:54.281 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:19:54.281 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:19:54.281 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:19:54.283 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:19:54.318 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:19:54.399 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:19:54.401 -05:00 [DBG] Compiling query expression: 
'DbSet<Archivo>()
    .Where(A => A.FechaEliminacion == null)'
2024-07-29 11:19:54.406 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Archivo>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Archivo.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Archivo.FechaCarga (DateTime) Required, 1], [Property: Archivo.FechaEliminacion (DateTime?), 2], [Property: Archivo.Nombre (string) Required, 3], [Property: Archivo.NumeroDescargas (int) Required, 4], [Property: Archivo.RutaDocumento (string) Required, 5] }
        SELECT a.Id, a.FechaCarga, a.FechaEliminacion, a.Nombre, a.NumeroDescargas, a.RutaDocumento
        FROM Archivo AS a
        WHERE a.FechaEliminacion == NULL), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Archivo>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-29 11:19:54.411 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:19:54.412 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:19:54.412 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:19:54.412 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:19:54.412 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:19:54.412 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:19:54.412 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:19:54.412 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:19:54.416 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:19:54.423 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:19:54.437 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:19:54.437 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:19:54.437 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:19:54.437 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:19:54.437 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 20ms reading results.
2024-07-29 11:19:54.437 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:19:54.437 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:19:54.490 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 171.4257ms.
2024-07-29 11:19:54.492 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 11:19:54.495 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 11:19:54.528 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend) in 247.5617ms
2024-07-29 11:19:54.530 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend)'
2024-07-29 11:19:54.533 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:19:54.533 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:19:54.533 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:19:54.533 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentosZip - 200 168723 application/zip 283.1429ms
2024-07-29 11:20:30.103 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 11:20:30.116 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:20:30.118 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:20:30.122 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:20:30.122 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:20:30.122 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:20:30.122 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:20:30.123 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:20:30.123 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:20:30.125 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:20:30.125 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:20:30.125 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:20:30.125 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:20:30.125 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:20:30.126 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:20:30.126 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:20:30.127 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:20:30.176 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:20:30.179 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:20:30.183 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:20:30.184 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:20:30.184 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:20:30.184 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:20:30.184 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:20:30.184 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:20:30.184 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:20:30.184 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:20:30.189 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:20:30.189 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:20:30.189 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:20:30.189 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:20:30.189 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:20:30.189 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:20:30.190 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:20:30.190 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:20:30.190 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:20:30.190 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 13.5479ms.
2024-07-29 11:20:30.190 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 11:20:30.190 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 11:20:30.190 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 11:20:30.190 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 11:20:30.191 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 11:20:30.191 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 11:20:30.215 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 88.7137ms
2024-07-29 11:20:30.215 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:20:30.215 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:20:30.215 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:20:30.215 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:20:30.215 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 112.6007ms
2024-07-29 11:21:11.722 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 11:21:11.722 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:21:11.722 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:21:11.725 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:21:11.725 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:21:11.725 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:21:11.725 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:21:11.725 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:21:11.726 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:21:11.726 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:21:11.726 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:21:11.726 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:21:11.726 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:21:11.726 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:21:11.726 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:21:11.727 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:21:11.727 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:21:11.759 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:21:11.760 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:21:11.761 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:21:11.761 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:21:11.761 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:21:11.761 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:21:11.761 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:21:11.761 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:21:11.761 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:21:11.761 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:21:11.763 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:21:11.764 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:21:11.764 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:21:11.764 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:21:11.764 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:21:11.764 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:21:11.764 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:21:11.764 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:21:11.764 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:21:11.764 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.6258ms.
2024-07-29 11:21:11.764 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 11:21:11.764 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 11:21:11.764 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 11:21:11.764 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 11:21:11.764 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 11:21:11.765 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 11:21:11.765 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 38.2203ms
2024-07-29 11:21:11.765 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:21:11.765 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:21:11.765 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:21:11.765 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:21:11.765 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 43.6038ms
2024-07-29 11:22:21.056 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 11:22:21.056 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:22:21.056 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:22:21.056 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:22:21.057 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:22:21.057 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:22:21.057 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:22:21.057 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:22:21.057 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:22:21.057 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:22:21.057 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:22:21.057 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:22:21.057 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:22:21.057 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:22:21.058 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:22:21.058 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:22:21.058 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:22:21.113 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:22:21.114 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:22:21.114 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:22:21.114 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:22:21.114 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:22:21.114 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:22:21.114 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:22:21.114 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:22:21.114 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:22:21.114 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:22:21.117 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:22:21.117 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:22:21.117 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:22:21.117 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:22:21.117 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:22:21.117 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:22:21.117 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:22:21.117 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:22:21.118 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:22:21.118 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.7323ms.
2024-07-29 11:22:21.118 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 11:22:21.118 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 11:22:21.118 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 11:22:21.118 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 11:22:21.118 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 11:22:21.118 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 11:22:21.118 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 60.5681ms
2024-07-29 11:22:21.118 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:22:21.118 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:22:21.118 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:22:21.119 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:22:21.119 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 62.7257ms
2024-07-29 11:27:03.415 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-29 11:27:03.612 -05:00 [DBG] Hosting starting
2024-07-29 11:27:03.668 -05:00 [INF] User profile is available. Using 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-29 11:27:03.676 -05:00 [DBG] Reading data from file 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys\key-12ed5171-7863-4d3e-a216-6f5439158e60.xml'.
2024-07-29 11:27:03.726 -05:00 [DBG] Found key {12ed5171-7863-4d3e-a216-6f5439158e60}.
2024-07-29 11:27:03.736 -05:00 [DBG] Considering key {12ed5171-7863-4d3e-a216-6f5439158e60} with expiration date 2024-09-28 19:27:42Z as default key.
2024-07-29 11:27:03.738 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-29 11:27:03.742 -05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-29 11:27:03.745 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-29 11:27:03.750 -05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-29 11:27:03.752 -05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-29 11:27:03.754 -05:00 [DBG] Using key {12ed5171-7863-4d3e-a216-6f5439158e60} as the default key.
2024-07-29 11:27:03.755 -05:00 [DBG] Key ring with default key {12ed5171-7863-4d3e-a216-6f5439158e60} was loaded during application startup.
2024-07-29 11:27:04.095 -05:00 [DBG] Connection id "0HN5FTD40VPEK" accepted.
2024-07-29 11:27:04.097 -05:00 [DBG] Connection id "0HN5FTD40VPEK" started.
2024-07-29 11:27:04.098 -05:00 [INF] Now listening on: https://localhost:7299
2024-07-29 11:27:04.098 -05:00 [INF] Now listening on: http://localhost:5219
2024-07-29 11:27:04.098 -05:00 [DBG] Loaded hosting startup assembly biblioteca-backend
2024-07-29 11:27:04.098 -05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-29 11:27:04.098 -05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-29 11:27:04.100 -05:00 [DBG] Connection id "0HN5FTD40VPEK" received FIN.
2024-07-29 11:27:04.100 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-29 11:27:04.100 -05:00 [INF] Hosting environment: Development
2024-07-29 11:27:04.101 -05:00 [INF] Content root path: C:\Users\spatino\Documents\Proyeco - Biblioteca\biblioteca-backend
2024-07-29 11:27:04.101 -05:00 [DBG] Hosting started
2024-07-29 11:27:04.138 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-29 11:27:04.192 -05:00 [DBG] Connection id "0HN5FTD40VPEK" stopped.
2024-07-29 11:27:04.199 -05:00 [DBG] Connection id "0HN5FTD40VPEK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-29 11:27:04.437 -05:00 [DBG] Connection id "0HN5FTD40VPEL" accepted.
2024-07-29 11:27:04.553 -05:00 [DBG] Connection id "0HN5FTD40VPEL" started.
2024-07-29 11:27:04.627 -05:00 [DBG] Connection 0HN5FTD40VPEL established using the following protocol: "Tls12"
2024-07-29 11:27:04.749 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/index.html - null null
2024-07-29 11:27:05.287 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-29 11:27:05.344 -05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-29 11:27:05.346 -05:00 [DBG] Request did not match any endpoints
2024-07-29 11:27:05.599 -05:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-07-29 11:27:05.600 -05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-29 11:27:05.656 -05:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-07-29 11:27:05.658 -05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-29 11:27:05.663 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/index.html - 200 null text/html;charset=utf-8 926.2595ms
2024-07-29 11:27:05.702 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
2024-07-29 11:27:05.703 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
2024-07-29 11:27:05.711 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 8.6505ms
2024-07-29 11:27:05.795 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 93.0484ms
2024-07-29 11:27:05.951 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
2024-07-29 11:27:05.952 -05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-29 11:27:05.952 -05:00 [DBG] Request did not match any endpoints
2024-07-29 11:27:06.141 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 189.5376ms
2024-07-29 11:27:51.250 -05:00 [DBG] Connection id "0HN5FTD40VPEM" accepted.
2024-07-29 11:27:51.252 -05:00 [DBG] Connection id "0HN5FTD40VPEM" started.
2024-07-29 11:27:51.297 -05:00 [DBG] Connection 0HN5FTD40VPEM established using the following protocol: "Tls12"
2024-07-29 11:27:51.302 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 11:27:51.319 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:27:51.326 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:27:51.327 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:27:51.329 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:27:51.330 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:27:51.330 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:27:51.452 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:27:51.455 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:27:51.473 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:27:51.475 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:27:51.475 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:27:51.475 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:27:51.475 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:27:51.475 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:27:51.478 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:27:51.642 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-29 11:27:51.674 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:27:51.780 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:27:53.383 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:27:53.448 -05:00 [DBG] Compiling query expression: 
'DbSet<Archivo>()
    .Where(A => A.FechaEliminacion == null)'
2024-07-29 11:27:53.741 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Archivo>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Archivo.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Archivo.FechaCarga (DateTime) Required, 1], [Property: Archivo.FechaEliminacion (DateTime?), 2], [Property: Archivo.Nombre (string) Required, 3], [Property: Archivo.NumeroDescargas (int) Required, 4], [Property: Archivo.RutaDocumento (string) Required, 5] }
        SELECT a.Id, a.FechaCarga, a.FechaEliminacion, a.Nombre, a.NumeroDescargas, a.RutaDocumento
        FROM Archivo AS a
        WHERE a.FechaEliminacion == NULL), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Archivo>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-29 11:27:53.781 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:27:53.804 -05:00 [DBG] Created DbConnection. (21ms).
2024-07-29 11:27:53.806 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:27:54.127 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:27:54.131 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:27:54.144 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-07-29 11:27:54.148 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (17ms).
2024-07-29 11:27:54.158 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:27:54.190 -05:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:27:54.244 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:27:54.277 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:27:54.277 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:27:54.277 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:27:54.280 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:27:54.289 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 92ms reading results.
2024-07-29 11:27:54.291 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:27:54.299 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (8ms).
2024-07-29 11:27:54.304 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2519.6161ms.
2024-07-29 11:27:54.308 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 11:27:54.310 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 11:27:54.311 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 11:27:54.311 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 11:27:54.312 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 11:27:54.313 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 11:27:54.348 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 2867.3789ms
2024-07-29 11:27:54.348 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:27:54.351 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:27:54.358 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:27:54.361 -05:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-07-29 11:27:54.362 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 3060.5119ms
2024-07-29 11:29:11.163 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 11:29:11.207 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:29:11.208 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:29:11.208 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:29:11.208 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:29:11.209 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:29:11.209 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:29:11.212 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:29:11.212 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:29:11.242 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:29:11.242 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:29:11.242 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:29:11.242 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:29:11.242 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:29:11.243 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:29:11.243 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:29:11.256 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:29:11.297 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:29:11.323 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:29:11.357 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:29:11.358 -05:00 [DBG] Created DbConnection. (2ms).
2024-07-29 11:29:11.359 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:29:11.360 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:29:11.360 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:29:11.360 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:29:11.360 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:29:11.362 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:29:11.371 -05:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:29:11.371 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:29:11.372 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:29:11.372 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:29:11.372 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:29:11.372 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:29:11.372 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:29:11.372 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:29:11.372 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:29:11.372 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 75.1719ms.
2024-07-29 11:29:11.373 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 11:29:11.373 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 11:29:11.373 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 11:29:11.373 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 11:29:11.373 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 11:29:11.373 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 11:29:11.374 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 130.8129ms
2024-07-29 11:29:11.374 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:29:11.374 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:29:11.374 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:29:11.374 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:29:11.375 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 211.9878ms
2024-07-29 11:29:30.599 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 11:29:30.599 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:29:30.599 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:29:30.599 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:29:30.599 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:29:30.605 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:29:30.605 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:29:30.612 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:29:30.613 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:29:30.613 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:29:30.614 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:29:30.614 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:29:30.614 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:29:30.614 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:29:30.615 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:29:30.615 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:29:30.623 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:29:30.662 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:29:30.808 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:29:30.810 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:29:30.810 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:29:30.810 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:29:30.810 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:29:30.810 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:29:30.810 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:29:30.810 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:29:30.810 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:29:30.812 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:29:30.813 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:29:30.813 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:29:30.813 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:29:30.813 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:29:30.813 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:29:30.814 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:29:30.814 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:29:30.814 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:29:30.814 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 151.8754ms.
2024-07-29 11:29:30.814 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 11:29:30.814 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 11:29:30.814 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 11:29:30.815 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 11:29:30.815 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 11:29:30.815 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 11:29:30.815 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 200.6095ms
2024-07-29 11:29:30.815 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:29:30.816 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:29:30.816 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:29:30.816 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:29:30.816 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 217.7677ms
2024-07-29 11:30:10.751 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos?idArchivo=4&idPerfil=34 - null null
2024-07-29 11:30:10.751 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos'
2024-07-29 11:30:10.751 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)' with route pattern 'api/Archivos' is valid for the request path '/api/Archivos'
2024-07-29 11:30:10.751 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 11:30:10.751 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:30:10.751 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:30:10.751 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:30:10.752 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:30:10.752 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 11:30:10.761 -05:00 [INF] Route matched with {action = "DescargarDocumento", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult DescargarDocumento(Int32, Int32) on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:30:10.761 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:30:10.761 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:30:10.761 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:30:10.761 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:30:10.761 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:30:10.761 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:30:10.761 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:30:10.786 -05:00 [DBG] Attempting to bind parameter 'idArchivo' of type 'System.Int32' ...
2024-07-29 11:30:10.791 -05:00 [DBG] Attempting to bind parameter 'idArchivo' of type 'System.Int32' using the name 'idArchivo' in request data ...
2024-07-29 11:30:10.793 -05:00 [DBG] Done attempting to bind parameter 'idArchivo' of type 'System.Int32'.
2024-07-29 11:30:10.793 -05:00 [DBG] Done attempting to bind parameter 'idArchivo' of type 'System.Int32'.
2024-07-29 11:30:10.793 -05:00 [DBG] Attempting to validate the bound parameter 'idArchivo' of type 'System.Int32' ...
2024-07-29 11:30:10.797 -05:00 [DBG] Done attempting to validate the bound parameter 'idArchivo' of type 'System.Int32'.
2024-07-29 11:30:10.799 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 11:30:10.800 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-29 11:30:10.800 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 11:30:10.800 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 11:30:10.800 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 11:30:10.801 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 11:30:10.849 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:30:10.852 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:30:10.854 -05:00 [DBG] Compiling query expression: 
'DbSet<Archivo>()
    .FirstOrDefault(A => A.Id == __idArchivo_0)'
2024-07-29 11:30:10.869 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Archivo>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Archivo.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Archivo.FechaCarga (DateTime) Required, 1], [Property: Archivo.FechaEliminacion (DateTime?), 2], [Property: Archivo.Nombre (string) Required, 3], [Property: Archivo.NumeroDescargas (int) Required, 4], [Property: Archivo.RutaDocumento (string) Required, 5] }
        SELECT TOP(1) a.Id, a.FechaCarga, a.FechaEliminacion, a.Nombre, a.NumeroDescargas, a.RutaDocumento
        FROM Archivo AS a
        WHERE a.Id == @__idArchivo_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Archivo>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-29 11:30:10.872 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:30:10.872 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:30:10.872 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:30:10.872 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:30:10.872 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:30:10.873 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:30:10.876 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-07-29 11:30:10.879 -05:00 [DBG] Executing DbCommand [Parameters=[@__idArchivo_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[Id] = @__idArchivo_0
2024-07-29 11:30:10.935 -05:00 [INF] Executed DbCommand (59ms) [Parameters=[@__idArchivo_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[Id] = @__idArchivo_0
2024-07-29 11:30:10.935 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:30:10.935 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:30:10.936 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-29 11:30:10.936 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:30:10.936 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:30:10.960 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'RegistroArchivoPerfil.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:30:10.985 -05:00 [DBG] The navigation 'RegistroArchivoPerfil.Archivo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:30:11.005 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'RegistroArchivoPerfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:30:11.008 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 11:30:11.010 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 11:30:11.027 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 11:30:11.126 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:30:11.126 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:30:11.128 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:30:11.128 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:30:11.128 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:30:11.129 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 11:30:11.135 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 11:30:11.145 -05:00 [DBG] The foreign key property 'RegistroArchivoPerfil.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-29 11:30:11.151 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:30:11.151 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 15ms reading results.
2024-07-29 11:30:11.152 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:30:11.152 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:30:11.177 -05:00 [DBG] An entity of type 'RegistroArchivoPerfil' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:30:11.178 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 11:30:11.179 -05:00 [DBG] An entity of type 'Archivo' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:30:11.179 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 11:30:11.179 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 11:30:11.179 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 11:30:11.184 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:30:11.184 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:30:11.184 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:30:11.184 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:30:11.185 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:30:11.185 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Archivo] SET [FechaCarga] = @p0, [FechaEliminacion] = @p1, [Nombre] = @p2, [NumeroDescargas] = @p3, [RutaDocumento] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-29 11:30:11.190 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Archivo] SET [FechaCarga] = @p0, [FechaEliminacion] = @p1, [Nombre] = @p2, [NumeroDescargas] = @p3, [RutaDocumento] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-29 11:30:11.190 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:30:11.190 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:30:11.191 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:30:11.191 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:30:11.191 -05:00 [DBG] An entity of type 'Archivo' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:30:11.191 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 11:30:11.192 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 342.4221ms.
2024-07-29 11:30:11.193 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 11:30:11.195 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 11:30:11.203 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend) in 441.9905ms
2024-07-29 11:30:11.203 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 11:30:11.203 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:30:11.204 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:30:11.204 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:30:11.204 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos?idArchivo=4&idPerfil=34 - 200 20866 application/octet-stream 453.0219ms
2024-07-29 11:30:38.674 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 11:30:38.675 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:30:38.675 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:30:38.676 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:30:38.676 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:30:38.676 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:30:38.677 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:30:38.677 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:30:38.677 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:30:38.678 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:30:38.678 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:30:38.678 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:30:38.678 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:30:38.678 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:30:38.678 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:30:38.678 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:30:38.679 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:30:38.712 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:30:38.714 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:30:38.715 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:30:38.716 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:30:38.716 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:30:38.716 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:30:38.716 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:30:38.716 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:30:38.716 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:30:38.717 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:30:38.720 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:30:38.720 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:30:38.721 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:30:38.721 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:30:38.721 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:30:38.721 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:30:38.721 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:30:38.721 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:30:38.721 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:30:38.722 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 8.9739ms.
2024-07-29 11:30:38.722 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 11:30:38.722 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 11:30:38.722 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 11:30:38.722 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 11:30:38.722 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 11:30:38.722 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 11:30:38.722 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 44.2574ms
2024-07-29 11:30:38.722 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:30:38.722 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:30:38.723 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:30:38.723 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:30:38.723 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 48.4391ms
2024-07-29 11:30:45.103 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos?idArchivo=7&idPerfil=34 - null null
2024-07-29 11:30:45.103 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos'
2024-07-29 11:30:45.103 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)' with route pattern 'api/Archivos' is valid for the request path '/api/Archivos'
2024-07-29 11:30:45.103 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 11:30:45.103 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:30:45.103 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:30:45.103 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:30:45.104 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:30:45.104 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 11:30:45.104 -05:00 [INF] Route matched with {action = "DescargarDocumento", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult DescargarDocumento(Int32, Int32) on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:30:45.104 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:30:45.104 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:30:45.104 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:30:45.104 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:30:45.104 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:30:45.104 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:30:45.105 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:30:45.106 -05:00 [DBG] Attempting to bind parameter 'idArchivo' of type 'System.Int32' ...
2024-07-29 11:30:45.106 -05:00 [DBG] Attempting to bind parameter 'idArchivo' of type 'System.Int32' using the name 'idArchivo' in request data ...
2024-07-29 11:30:45.106 -05:00 [DBG] Done attempting to bind parameter 'idArchivo' of type 'System.Int32'.
2024-07-29 11:30:45.106 -05:00 [DBG] Done attempting to bind parameter 'idArchivo' of type 'System.Int32'.
2024-07-29 11:30:45.106 -05:00 [DBG] Attempting to validate the bound parameter 'idArchivo' of type 'System.Int32' ...
2024-07-29 11:30:45.106 -05:00 [DBG] Done attempting to validate the bound parameter 'idArchivo' of type 'System.Int32'.
2024-07-29 11:30:45.106 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 11:30:45.106 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-29 11:30:45.106 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 11:30:45.106 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 11:30:45.106 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 11:30:45.106 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 11:30:45.131 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:30:45.133 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:30:45.133 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:30:45.133 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:30:45.133 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:30:45.133 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:30:45.133 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:30:45.134 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:30:45.134 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:30:45.134 -05:00 [DBG] Executing DbCommand [Parameters=[@__idArchivo_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[Id] = @__idArchivo_0
2024-07-29 11:30:45.166 -05:00 [INF] Executed DbCommand (32ms) [Parameters=[@__idArchivo_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[Id] = @__idArchivo_0
2024-07-29 11:30:45.166 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:30:45.166 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:30:45.167 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:30:45.167 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:30:45.167 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:30:45.168 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'RegistroArchivoPerfil.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:30:45.169 -05:00 [DBG] The navigation 'RegistroArchivoPerfil.Archivo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:30:45.169 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'RegistroArchivoPerfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:30:45.169 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 11:30:45.169 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 11:30:45.169 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 11:30:45.170 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:30:45.170 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:30:45.170 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:30:45.170 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:30:45.170 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:30:45.170 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 11:30:45.175 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 11:30:45.176 -05:00 [DBG] The foreign key property 'RegistroArchivoPerfil.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-29 11:30:45.176 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:30:45.176 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:30:45.176 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:30:45.176 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:30:45.177 -05:00 [DBG] An entity of type 'RegistroArchivoPerfil' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:30:45.177 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 11:30:45.177 -05:00 [DBG] An entity of type 'Archivo' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:30:45.177 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 11:30:45.177 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 11:30:45.177 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 11:30:45.178 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:30:45.178 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:30:45.178 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:30:45.178 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:30:45.178 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:30:45.178 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Archivo] SET [FechaCarga] = @p0, [FechaEliminacion] = @p1, [Nombre] = @p2, [NumeroDescargas] = @p3, [RutaDocumento] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-29 11:30:45.184 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Archivo] SET [FechaCarga] = @p0, [FechaEliminacion] = @p1, [Nombre] = @p2, [NumeroDescargas] = @p3, [RutaDocumento] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-29 11:30:45.184 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:30:45.185 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:30:45.185 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:30:45.185 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:30:45.185 -05:00 [DBG] An entity of type 'Archivo' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:30:45.185 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 11:30:45.185 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 53.9375ms.
2024-07-29 11:30:45.186 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 11:30:45.186 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 11:30:45.207 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend) in 103.1717ms
2024-07-29 11:30:45.209 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 11:30:45.212 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:30:45.212 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:30:45.212 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:30:45.213 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos?idArchivo=7&idPerfil=34 - 200 16296 application/octet-stream 109.968ms
2024-07-29 11:31:21.482 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 11:31:21.483 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:31:21.483 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:31:21.483 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:31:21.483 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:31:21.483 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:31:21.483 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:31:21.484 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:31:21.485 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:31:21.485 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:31:21.485 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:31:21.485 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:31:21.485 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:31:21.486 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:31:21.486 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:31:21.486 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:31:21.486 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:31:21.771 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:31:21.772 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:31:21.772 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:31:21.773 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:31:21.773 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:31:21.774 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:31:21.774 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:31:21.774 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:31:21.774 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:31:21.775 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:31:21.808 -05:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:31:21.808 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:31:21.808 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:31:21.809 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:31:21.809 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:31:21.809 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:31:21.809 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-29 11:31:21.809 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:31:21.809 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:31:21.809 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 38.6169ms.
2024-07-29 11:31:21.809 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 11:31:21.809 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 11:31:21.810 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 11:31:21.810 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 11:31:21.810 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 11:31:21.810 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 11:31:21.810 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 324.2772ms
2024-07-29 11:31:21.810 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:31:21.810 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:31:21.810 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:31:21.810 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:31:21.811 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 328.041ms
2024-07-29 11:31:23.866 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos?idArchivo=7&idPerfil=34 - null null
2024-07-29 11:31:23.866 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos'
2024-07-29 11:31:23.866 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)' with route pattern 'api/Archivos' is valid for the request path '/api/Archivos'
2024-07-29 11:31:23.866 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 11:31:23.866 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:31:23.866 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:31:23.866 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:31:23.867 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:31:23.867 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 11:31:23.867 -05:00 [INF] Route matched with {action = "DescargarDocumento", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult DescargarDocumento(Int32, Int32) on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:31:23.867 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:31:23.868 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:31:23.868 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:31:23.868 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:31:23.868 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:31:23.868 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:31:23.868 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:31:23.869 -05:00 [DBG] Attempting to bind parameter 'idArchivo' of type 'System.Int32' ...
2024-07-29 11:31:23.869 -05:00 [DBG] Attempting to bind parameter 'idArchivo' of type 'System.Int32' using the name 'idArchivo' in request data ...
2024-07-29 11:31:23.869 -05:00 [DBG] Done attempting to bind parameter 'idArchivo' of type 'System.Int32'.
2024-07-29 11:31:23.869 -05:00 [DBG] Done attempting to bind parameter 'idArchivo' of type 'System.Int32'.
2024-07-29 11:31:23.869 -05:00 [DBG] Attempting to validate the bound parameter 'idArchivo' of type 'System.Int32' ...
2024-07-29 11:31:23.869 -05:00 [DBG] Done attempting to validate the bound parameter 'idArchivo' of type 'System.Int32'.
2024-07-29 11:31:23.869 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 11:31:23.869 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-29 11:31:23.869 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 11:31:23.870 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 11:31:23.870 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 11:31:23.870 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 11:31:23.899 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:31:23.900 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:31:23.900 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:31:23.900 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:31:23.900 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:31:23.900 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:31:23.900 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:31:23.900 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:31:23.900 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:31:23.900 -05:00 [DBG] Executing DbCommand [Parameters=[@__idArchivo_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[Id] = @__idArchivo_0
2024-07-29 11:31:23.902 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idArchivo_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[Id] = @__idArchivo_0
2024-07-29 11:31:23.902 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:31:23.902 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:31:23.902 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:31:23.902 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:31:23.902 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:31:23.902 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'RegistroArchivoPerfil.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:31:23.903 -05:00 [DBG] The navigation 'RegistroArchivoPerfil.Archivo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:31:23.903 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'RegistroArchivoPerfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:31:23.903 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 11:31:23.903 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 11:31:23.903 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 11:31:23.903 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:31:23.903 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:31:23.903 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:31:23.903 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:31:23.903 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:31:23.904 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 11:31:23.908 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 11:31:23.908 -05:00 [DBG] The foreign key property 'RegistroArchivoPerfil.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-29 11:31:23.908 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:31:23.909 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:31:23.909 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:31:23.909 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:31:23.909 -05:00 [DBG] An entity of type 'RegistroArchivoPerfil' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:31:23.909 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 11:31:23.909 -05:00 [DBG] An entity of type 'Archivo' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:31:23.909 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 11:31:23.909 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 11:31:23.909 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 11:31:23.909 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:31:23.910 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:31:23.910 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:31:23.910 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:31:23.910 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:31:23.910 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Archivo] SET [FechaCarga] = @p0, [FechaEliminacion] = @p1, [Nombre] = @p2, [NumeroDescargas] = @p3, [RutaDocumento] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-29 11:31:23.933 -05:00 [INF] Executed DbCommand (23ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Archivo] SET [FechaCarga] = @p0, [FechaEliminacion] = @p1, [Nombre] = @p2, [NumeroDescargas] = @p3, [RutaDocumento] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-29 11:31:23.933 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:31:23.933 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:31:23.933 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:31:23.933 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:31:23.934 -05:00 [DBG] An entity of type 'Archivo' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:31:23.934 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 11:31:23.934 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 34.9772ms.
2024-07-29 11:31:23.934 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 11:31:23.934 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 11:31:23.936 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend) in 67.9849ms
2024-07-29 11:31:23.936 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 11:31:23.937 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:31:23.937 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:31:23.938 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:31:23.938 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos?idArchivo=7&idPerfil=34 - 200 16296 application/octet-stream 71.9199ms
2024-07-29 11:33:37.986 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 11:33:37.987 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:33:37.987 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:33:37.987 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:33:37.987 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:33:37.987 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:33:37.987 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:33:37.987 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:33:37.987 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:33:37.987 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:33:37.987 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:33:37.987 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:33:37.988 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:33:37.988 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:33:37.988 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:33:37.988 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:33:37.990 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:33:38.103 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:33:38.104 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:33:38.108 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:33:38.108 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:33:38.108 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:33:38.108 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:33:38.108 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:33:38.108 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:33:38.108 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:33:38.109 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:33:38.173 -05:00 [INF] Executed DbCommand (64ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:33:38.173 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:33:38.174 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:33:38.174 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:33:38.174 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:33:38.174 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:33:38.174 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:33:38.174 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:33:38.174 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:33:38.174 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 70.7723ms.
2024-07-29 11:33:38.174 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 11:33:38.175 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 11:33:38.175 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 11:33:38.175 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 11:33:38.175 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 11:33:38.175 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 11:33:38.175 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 187.3407ms
2024-07-29 11:33:38.175 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:33:38.175 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:33:38.175 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:33:38.175 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:33:38.176 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 189.3902ms
2024-07-29 11:35:30.404 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 11:35:30.404 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:35:30.404 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:35:30.404 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:35:30.404 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:35:30.404 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:35:30.404 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:35:30.404 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:35:30.404 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:35:30.404 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:35:30.405 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:35:30.405 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:35:30.405 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:35:30.405 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:35:30.405 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:35:30.405 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:35:30.405 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:35:30.499 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:35:30.502 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:35:30.502 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:35:30.502 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:35:30.502 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:35:30.502 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:35:30.502 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:35:30.502 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:35:30.502 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:35:30.503 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:35:30.509 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:35:30.510 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:35:30.510 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:35:30.510 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:35:30.510 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:35:30.510 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:35:30.510 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:35:30.510 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:35:30.510 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:35:30.511 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 11.0775ms.
2024-07-29 11:35:30.511 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 11:35:30.511 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 11:35:30.511 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 11:35:30.511 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 11:35:30.511 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 11:35:30.511 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 11:35:30.511 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 106.1471ms
2024-07-29 11:35:30.511 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:35:30.511 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:35:30.511 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:35:30.511 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:35:30.512 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 108.1591ms
2024-07-29 11:35:31.710 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentosZip - null null
2024-07-29 11:35:31.710 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentosZip'
2024-07-29 11:35:31.710 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentosZip' is valid for the request path '/api/Archivos/ConsultarDocumentosZip'
2024-07-29 11:35:31.710 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend)'
2024-07-29 11:35:31.711 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:35:31.711 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:35:31.711 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:35:31.711 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:35:31.711 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend)'
2024-07-29 11:35:31.714 -05:00 [INF] Route matched with {action = "ConsultarTodosZip", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodosZip() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:35:31.714 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:35:31.714 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:35:31.714 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:35:31.714 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:35:31.714 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:35:31.714 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:35:31.715 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:35:31.753 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:35:31.755 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:35:31.755 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:35:31.755 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:35:31.755 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:35:31.755 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:35:31.755 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:35:31.755 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:35:31.755 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:35:31.755 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:35:31.756 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:35:31.756 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:35:31.756 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:35:31.757 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:35:31.757 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:35:31.757 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:35:31.757 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:35:31.757 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:35:31.757 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:35:31.811 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 57.6753ms.
2024-07-29 11:35:31.811 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 11:35:31.811 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 11:35:31.839 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend) in 125.1045ms
2024-07-29 11:35:31.840 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend)'
2024-07-29 11:35:31.840 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:35:31.840 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:35:31.840 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:35:31.840 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentosZip - 200 168723 application/zip 130.5995ms
2024-07-29 11:36:03.631 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 11:36:03.631 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:36:03.631 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:36:03.631 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:36:03.632 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:36:03.632 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:36:03.632 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:36:03.632 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:36:03.632 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:36:03.632 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:36:03.632 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:36:03.633 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:36:03.633 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:36:03.633 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:36:03.633 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:36:03.633 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:36:03.633 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:36:03.678 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:36:03.679 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:36:03.679 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:36:03.679 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:36:03.679 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:36:03.680 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:36:03.680 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:36:03.680 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:36:03.680 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:36:03.680 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:36:03.684 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:36:03.685 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:36:03.686 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:36:03.686 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:36:03.686 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:36:03.686 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:36:03.687 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-07-29 11:36:03.687 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:36:03.687 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:36:03.687 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 8.958ms.
2024-07-29 11:36:03.687 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 11:36:03.687 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 11:36:03.687 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 11:36:03.687 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 11:36:03.687 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 11:36:03.688 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 11:36:03.688 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 54.9492ms
2024-07-29 11:36:03.688 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:36:03.688 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:36:03.688 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:36:03.688 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:36:03.688 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 57.8957ms
2024-07-29 11:36:19.218 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentosZip - null null
2024-07-29 11:36:19.218 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentosZip'
2024-07-29 11:36:19.218 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentosZip' is valid for the request path '/api/Archivos/ConsultarDocumentosZip'
2024-07-29 11:36:19.218 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend)'
2024-07-29 11:36:19.219 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:36:19.219 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:36:19.219 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:36:19.219 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:36:19.219 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend)'
2024-07-29 11:36:19.219 -05:00 [INF] Route matched with {action = "ConsultarTodosZip", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodosZip() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:36:19.219 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:36:19.219 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:36:19.219 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:36:19.219 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:36:19.219 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:36:19.219 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:36:19.219 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:36:19.244 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:36:19.245 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:36:19.245 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:36:19.245 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:36:19.245 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:36:19.245 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:36:19.245 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:36:19.246 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:36:19.246 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:36:19.246 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:36:19.246 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:36:19.246 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:36:19.246 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:36:19.246 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:36:19.247 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:36:19.247 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:36:19.247 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:36:19.247 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:36:19.247 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:36:19.260 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 15.7709ms.
2024-07-29 11:36:19.260 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 11:36:19.261 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 11:36:19.267 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend) in 48.0879ms
2024-07-29 11:36:19.267 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend)'
2024-07-29 11:36:19.268 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:36:19.268 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:36:19.268 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:36:19.268 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentosZip - 200 168723 application/zip 49.9899ms
2024-07-29 11:36:55.056 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 11:36:55.057 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:36:55.058 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:36:55.058 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:36:55.058 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:36:55.058 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:36:55.058 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:36:55.059 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:36:55.059 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:36:55.059 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:36:55.059 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:36:55.059 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:36:55.059 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:36:55.059 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:36:55.059 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:36:55.059 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:36:55.060 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:36:55.138 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:36:55.139 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:36:55.140 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:36:55.140 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:36:55.140 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:36:55.140 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:36:55.140 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:36:55.140 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:36:55.140 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:36:55.141 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:36:55.194 -05:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:36:55.194 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:36:55.194 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:36:55.194 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:36:55.194 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:36:55.194 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:36:55.195 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:36:55.195 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:36:55.195 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:36:55.195 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 56.4541ms.
2024-07-29 11:36:55.195 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 11:36:55.195 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 11:36:55.195 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 11:36:55.195 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 11:36:55.195 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 11:36:55.195 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 11:36:55.197 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 137.9066ms
2024-07-29 11:36:55.197 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:36:55.198 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:36:55.198 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:36:55.198 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:36:55.198 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 141.82ms
2024-07-29 11:36:56.672 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentosZip - null null
2024-07-29 11:36:56.672 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentosZip'
2024-07-29 11:36:56.672 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentosZip' is valid for the request path '/api/Archivos/ConsultarDocumentosZip'
2024-07-29 11:36:56.672 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend)'
2024-07-29 11:36:56.672 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:36:56.672 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:36:56.672 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:36:56.672 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:36:56.672 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend)'
2024-07-29 11:36:56.672 -05:00 [INF] Route matched with {action = "ConsultarTodosZip", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodosZip() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:36:56.673 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:36:56.673 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:36:56.673 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:36:56.673 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:36:56.673 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:36:56.673 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:36:56.673 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:36:56.720 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:36:56.721 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:36:56.721 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:36:56.721 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:36:56.722 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:36:56.722 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:36:56.722 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:36:56.722 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:36:56.722 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:36:56.722 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:36:56.726 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:36:56.726 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:36:56.726 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:36:56.726 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:36:56.726 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:36:56.726 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:36:56.726 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:36:56.726 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:36:56.727 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:36:56.749 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 28.3202ms.
2024-07-29 11:36:56.749 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 11:36:56.749 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 11:36:56.781 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend) in 107.6409ms
2024-07-29 11:36:56.781 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodosZip (biblioteca-backend)'
2024-07-29 11:36:56.781 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:36:56.781 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:36:56.782 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:36:56.782 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentosZip - 200 168723 application/zip 110.3138ms
2024-07-29 11:37:51.440 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 11:37:51.440 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:37:51.441 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:37:51.441 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:37:51.441 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:37:51.441 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:37:51.441 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:37:51.441 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:37:51.441 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:37:51.441 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:37:51.441 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:37:51.441 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:37:51.441 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:37:51.442 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:37:51.442 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:37:51.442 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:37:51.442 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:37:51.526 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:37:51.529 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:37:51.529 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:37:51.529 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:37:51.529 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:37:51.529 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:37:51.530 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:37:51.530 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:37:51.530 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:37:51.530 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:37:51.540 -05:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:37:51.540 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:37:51.541 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:37:51.541 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:37:51.541 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:37:51.541 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:37:51.541 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:37:51.541 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:37:51.541 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:37:51.541 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 15.0608ms.
2024-07-29 11:37:51.542 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 11:37:51.542 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 11:37:51.542 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 11:37:51.542 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 11:37:51.542 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 11:37:51.542 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 11:37:51.542 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 100.5457ms
2024-07-29 11:37:51.542 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:37:51.542 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:37:51.543 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:37:51.543 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:37:51.543 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 102.5737ms
2024-07-29 11:37:54.045 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos?idArchivo=7&idPerfil=34 - null null
2024-07-29 11:37:54.045 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos'
2024-07-29 11:37:54.045 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)' with route pattern 'api/Archivos' is valid for the request path '/api/Archivos'
2024-07-29 11:37:54.045 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 11:37:54.045 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:37:54.045 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:37:54.046 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:37:54.046 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:37:54.046 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 11:37:54.046 -05:00 [INF] Route matched with {action = "DescargarDocumento", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult DescargarDocumento(Int32, Int32) on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:37:54.046 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:37:54.046 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:37:54.046 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:37:54.046 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:37:54.046 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:37:54.046 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:37:54.047 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:37:54.047 -05:00 [DBG] Attempting to bind parameter 'idArchivo' of type 'System.Int32' ...
2024-07-29 11:37:54.047 -05:00 [DBG] Attempting to bind parameter 'idArchivo' of type 'System.Int32' using the name 'idArchivo' in request data ...
2024-07-29 11:37:54.047 -05:00 [DBG] Done attempting to bind parameter 'idArchivo' of type 'System.Int32'.
2024-07-29 11:37:54.047 -05:00 [DBG] Done attempting to bind parameter 'idArchivo' of type 'System.Int32'.
2024-07-29 11:37:54.047 -05:00 [DBG] Attempting to validate the bound parameter 'idArchivo' of type 'System.Int32' ...
2024-07-29 11:37:54.048 -05:00 [DBG] Done attempting to validate the bound parameter 'idArchivo' of type 'System.Int32'.
2024-07-29 11:37:54.048 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 11:37:54.048 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-29 11:37:54.048 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 11:37:54.048 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 11:37:54.048 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 11:37:54.048 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 11:37:54.089 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:37:54.090 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:37:54.090 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:37:54.091 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:37:54.091 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:37:54.091 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:37:54.091 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:37:54.091 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:37:54.091 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:37:54.091 -05:00 [DBG] Executing DbCommand [Parameters=[@__idArchivo_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[Id] = @__idArchivo_0
2024-07-29 11:37:54.096 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__idArchivo_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[Id] = @__idArchivo_0
2024-07-29 11:37:54.096 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:37:54.096 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:37:54.096 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:37:54.096 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:37:54.096 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:37:54.096 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'RegistroArchivoPerfil.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:37:54.097 -05:00 [DBG] The navigation 'RegistroArchivoPerfil.Archivo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:37:54.097 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'RegistroArchivoPerfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:37:54.097 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 11:37:54.097 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 11:37:54.097 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 11:37:54.098 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:37:54.098 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:37:54.098 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:37:54.098 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:37:54.098 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:37:54.098 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 11:37:54.103 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 11:37:54.103 -05:00 [DBG] The foreign key property 'RegistroArchivoPerfil.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-29 11:37:54.103 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:37:54.103 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:37:54.104 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:37:54.104 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:37:54.104 -05:00 [DBG] An entity of type 'RegistroArchivoPerfil' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:37:54.104 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 11:37:54.104 -05:00 [DBG] An entity of type 'Archivo' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:37:54.104 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 11:37:54.104 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 11:37:54.104 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 11:37:54.105 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:37:54.105 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:37:54.105 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:37:54.105 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:37:54.105 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:37:54.105 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Archivo] SET [FechaCarga] = @p0, [FechaEliminacion] = @p1, [Nombre] = @p2, [NumeroDescargas] = @p3, [RutaDocumento] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-29 11:37:54.109 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Archivo] SET [FechaCarga] = @p0, [FechaEliminacion] = @p1, [Nombre] = @p2, [NumeroDescargas] = @p3, [RutaDocumento] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-29 11:37:54.109 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:37:54.109 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:37:54.109 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:37:54.109 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:37:54.109 -05:00 [DBG] An entity of type 'Archivo' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:37:54.109 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 11:37:54.110 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 20.3247ms.
2024-07-29 11:37:54.110 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 11:37:54.110 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 11:37:54.114 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend) in 67.466ms
2024-07-29 11:37:54.114 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 11:37:54.114 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:37:54.114 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:37:54.115 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:37:54.115 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos?idArchivo=7&idPerfil=34 - 200 16296 application/octet-stream 70.2237ms
2024-07-29 11:38:40.866 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Archivos?idArchivo=4&idPerfil=34 - null null
2024-07-29 11:38:40.875 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos'
2024-07-29 11:38:40.875 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 11:38:40.879 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:38:40.879 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:38:40.879 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:38:40.882 -05:00 [DBG] The request is a preflight request.
2024-07-29 11:38:40.883 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Archivos?idArchivo=4&idPerfil=34 - 204 null null 17.1144ms
2024-07-29 11:38:40.885 -05:00 [INF] Request starting HTTP/2 DELETE https://localhost:7299/api/Archivos?idArchivo=4&idPerfil=34 - null null
2024-07-29 11:38:40.885 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos'
2024-07-29 11:38:40.885 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.EliminarDocumento (biblioteca-backend)' with route pattern 'api/Archivos' is valid for the request path '/api/Archivos'
2024-07-29 11:38:40.885 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.EliminarDocumento (biblioteca-backend)'
2024-07-29 11:38:40.885 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:38:40.885 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:38:40.885 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:38:40.886 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:38:40.886 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.EliminarDocumento (biblioteca-backend)'
2024-07-29 11:38:40.887 -05:00 [INF] Route matched with {action = "EliminarDocumento", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult EliminarDocumento(Int32, Int32) on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:38:40.887 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:38:40.887 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:38:40.887 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:38:40.887 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:38:40.887 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:38:40.887 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:38:40.888 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:38:40.888 -05:00 [DBG] Attempting to bind parameter 'idArchivo' of type 'System.Int32' ...
2024-07-29 11:38:40.888 -05:00 [DBG] Attempting to bind parameter 'idArchivo' of type 'System.Int32' using the name 'idArchivo' in request data ...
2024-07-29 11:38:40.888 -05:00 [DBG] Done attempting to bind parameter 'idArchivo' of type 'System.Int32'.
2024-07-29 11:38:40.888 -05:00 [DBG] Done attempting to bind parameter 'idArchivo' of type 'System.Int32'.
2024-07-29 11:38:40.888 -05:00 [DBG] Attempting to validate the bound parameter 'idArchivo' of type 'System.Int32' ...
2024-07-29 11:38:40.888 -05:00 [DBG] Done attempting to validate the bound parameter 'idArchivo' of type 'System.Int32'.
2024-07-29 11:38:40.888 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 11:38:40.888 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-29 11:38:40.888 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 11:38:40.888 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 11:38:40.888 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 11:38:40.888 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 11:38:40.914 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.EliminarDocumento (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:38:40.915 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:38:40.915 -05:00 [DBG] Compiling query expression: 
'DbSet<Archivo>()
    .FirstOrDefault(a => a.Id == __idArchivo_0)'
2024-07-29 11:38:40.919 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Archivo>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Archivo.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Archivo.FechaCarga (DateTime) Required, 1], [Property: Archivo.FechaEliminacion (DateTime?), 2], [Property: Archivo.Nombre (string) Required, 3], [Property: Archivo.NumeroDescargas (int) Required, 4], [Property: Archivo.RutaDocumento (string) Required, 5] }
        SELECT TOP(1) a.Id, a.FechaCarga, a.FechaEliminacion, a.Nombre, a.NumeroDescargas, a.RutaDocumento
        FROM Archivo AS a
        WHERE a.Id == @__idArchivo_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Archivo>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-29 11:38:40.919 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:38:40.919 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:38:40.919 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:38:40.919 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:38:40.919 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:38:40.919 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:38:40.919 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:38:40.919 -05:00 [DBG] Executing DbCommand [Parameters=[@__idArchivo_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[Id] = @__idArchivo_0
2024-07-29 11:38:40.922 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__idArchivo_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[Id] = @__idArchivo_0
2024-07-29 11:38:40.922 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:38:40.922 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:38:40.922 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:38:40.922 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:38:40.922 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:38:40.922 -05:00 [DBG] An entity of type 'Archivo' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:38:40.922 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 11:38:40.922 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 11:38:40.923 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 11:38:40.923 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:38:40.923 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:38:40.923 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:38:40.923 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:38:40.923 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:38:40.923 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Archivo] SET [FechaCarga] = @p0, [FechaEliminacion] = @p1, [Nombre] = @p2, [NumeroDescargas] = @p3, [RutaDocumento] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-29 11:38:40.934 -05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Archivo] SET [FechaCarga] = @p0, [FechaEliminacion] = @p1, [Nombre] = @p2, [NumeroDescargas] = @p3, [RutaDocumento] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-29 11:38:40.934 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:38:40.934 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:38:40.934 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:38:40.935 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:38:40.937 -05:00 [DBG] An entity of type 'Archivo' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:38:40.937 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 11:38:40.937 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'RegistroArchivoPerfil.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:38:40.937 -05:00 [DBG] The navigation 'RegistroArchivoPerfil.Archivo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:38:40.938 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'RegistroArchivoPerfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:38:40.938 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 11:38:40.938 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 11:38:40.939 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 11:38:40.940 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:38:40.940 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:38:40.940 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:38:40.940 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:38:40.940 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:38:40.940 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 11:38:40.944 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 11:38:40.944 -05:00 [DBG] The foreign key property 'RegistroArchivoPerfil.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-29 11:38:40.944 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:38:40.944 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:38:40.944 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:38:40.944 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:38:40.944 -05:00 [DBG] An entity of type 'RegistroArchivoPerfil' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:38:40.944 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 11:38:40.944 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.EliminarDocumento (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 30.8337ms.
2024-07-29 11:38:40.945 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 11:38:40.945 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 11:38:40.945 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 11:38:40.945 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 11:38:40.945 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 11:38:40.945 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-29 11:38:40.947 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.EliminarDocumento (biblioteca-backend) in 60.0386ms
2024-07-29 11:38:40.948 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.EliminarDocumento (biblioteca-backend)'
2024-07-29 11:38:40.948 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:38:40.948 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:38:40.948 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:38:40.948 -05:00 [INF] Request finished HTTP/2 DELETE https://localhost:7299/api/Archivos?idArchivo=4&idPerfil=34 - 200 null application/json; charset=utf-8 63.2333ms
2024-07-29 11:38:42.461 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 11:38:42.461 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:38:42.461 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:38:42.461 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:38:42.461 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:38:42.462 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:38:42.462 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:38:42.462 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:38:42.462 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:38:42.462 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:38:42.462 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:38:42.462 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:38:42.462 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:38:42.462 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:38:42.462 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:38:42.462 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:38:42.462 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:38:42.501 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:38:42.501 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:38:42.501 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:38:42.501 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:38:42.501 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:38:42.502 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:38:42.502 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:38:42.502 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:38:42.502 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:38:42.502 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:38:42.503 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:38:42.504 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:38:42.504 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:38:42.504 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:38:42.504 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:38:42.504 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:38:42.504 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:38:42.504 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:38:42.504 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.3442ms.
2024-07-29 11:38:42.504 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 11:38:42.504 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 11:38:42.504 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 11:38:42.504 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 11:38:42.504 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 11:38:42.504 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 11:38:42.504 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 42.344ms
2024-07-29 11:38:42.504 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:38:42.505 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:38:42.505 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:38:42.505 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:38:42.505 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 44.3493ms
2024-07-29 11:39:20.462 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 11:39:20.463 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:39:20.463 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:39:20.463 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:39:20.463 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:39:20.464 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:39:20.464 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:39:20.464 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:39:20.464 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:39:20.464 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:39:20.464 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:39:20.464 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:39:20.465 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:39:20.465 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:39:20.465 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:39:20.465 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:39:20.465 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:39:20.505 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:39:20.507 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:39:20.508 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:39:20.508 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:39:20.508 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:39:20.508 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:39:20.508 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:39:20.508 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:39:20.508 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:39:20.509 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:39:20.513 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:39:20.513 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:39:20.513 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:39:20.514 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:39:20.514 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:39:20.514 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:39:20.514 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:39:20.514 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:39:20.514 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 7.8755ms.
2024-07-29 11:39:20.514 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 11:39:20.514 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 11:39:20.514 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 11:39:20.514 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 11:39:20.514 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 11:39:20.515 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 11:39:20.515 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 50.3345ms
2024-07-29 11:39:20.515 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:39:20.515 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:39:20.515 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:39:20.516 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:39:20.516 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 53.4569ms
2024-07-29 11:41:47.755 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 11:41:47.755 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:41:47.755 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:41:47.755 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:41:47.755 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:41:47.755 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:41:47.755 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:41:47.756 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:41:47.756 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:41:47.756 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:41:47.756 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:41:47.756 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:41:47.756 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:41:47.756 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:41:47.756 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:41:47.756 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:41:47.757 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:41:47.971 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:41:47.972 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:41:47.972 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:41:47.972 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:41:47.973 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:41:47.973 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:41:47.973 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:41:47.973 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:41:47.973 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:41:47.973 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:41:48.026 -05:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:41:48.026 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:41:48.026 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:41:48.026 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:41:48.026 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:41:48.027 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:41:48.027 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:41:48.027 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:41:48.027 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 55.7375ms.
2024-07-29 11:41:48.027 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 11:41:48.027 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 11:41:48.027 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 11:41:48.027 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 11:41:48.027 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 11:41:48.027 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 11:41:48.028 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 271.2956ms
2024-07-29 11:41:48.028 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:41:48.028 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:41:48.028 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:41:48.028 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:41:48.028 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 273.362ms
2024-07-29 11:42:37.199 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 11:42:37.199 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:42:37.200 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:42:37.200 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:42:37.200 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:42:37.200 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:42:37.200 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:42:37.200 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:42:37.200 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:42:37.201 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:42:37.202 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:42:37.202 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:42:37.202 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:42:37.202 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:42:37.202 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:42:37.202 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:42:37.203 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:42:37.260 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:42:37.270 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:42:37.271 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:42:37.291 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:42:37.291 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:42:37.291 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:42:37.292 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:42:37.292 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:42:37.292 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:42:37.292 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:42:37.337 -05:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:42:37.337 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:42:37.337 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:42:37.337 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:42:37.337 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:42:37.338 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:42:37.338 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:42:37.338 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:42:37.338 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 77.13ms.
2024-07-29 11:42:37.338 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 11:42:37.338 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 11:42:37.338 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 11:42:37.338 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 11:42:37.338 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 11:42:37.338 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 11:42:37.338 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 135.9945ms
2024-07-29 11:42:37.338 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:42:37.339 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:42:37.339 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:42:37.339 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:42:37.339 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 139.8479ms
2024-07-29 11:43:45.503 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 11:43:45.503 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:43:45.503 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:43:45.503 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:43:45.504 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:43:45.504 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:43:45.504 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:43:45.504 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:43:45.505 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:43:45.505 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:43:45.505 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:43:45.505 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:43:45.505 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:43:45.505 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:43:45.505 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:43:45.506 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:43:45.506 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:43:45.554 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:43:45.555 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:43:45.555 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:43:45.555 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:43:45.555 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:43:45.556 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:43:45.556 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:43:45.556 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:43:45.556 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:43:45.556 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:43:45.579 -05:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:43:45.579 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:43:45.579 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:43:45.579 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:43:45.579 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:43:45.579 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:43:45.579 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:43:45.579 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:43:45.579 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 25.3156ms.
2024-07-29 11:43:45.580 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 11:43:45.580 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 11:43:45.580 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 11:43:45.580 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 11:43:45.580 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 11:43:45.580 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 11:43:45.580 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 74.5898ms
2024-07-29 11:43:45.580 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:43:45.580 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:43:45.580 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:43:45.580 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:43:45.581 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 78.1251ms
2024-07-29 11:44:01.621 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 11:44:01.630 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:44:01.631 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:44:01.631 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:44:01.632 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:44:01.632 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:44:01.632 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:44:01.633 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:44:01.633 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:44:01.633 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:44:01.633 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:44:01.634 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:44:01.650 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:44:01.650 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:44:01.651 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:44:01.651 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:44:01.651 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:44:01.713 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:44:01.715 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:44:01.715 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:44:01.715 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:44:01.715 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:44:01.715 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:44:01.715 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:44:01.715 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:44:01.715 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:44:01.715 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:44:01.716 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:44:01.716 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:44:01.716 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:44:01.716 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:44:01.716 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:44:01.717 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:44:01.717 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:44:01.717 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:44:01.717 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.2027ms.
2024-07-29 11:44:01.717 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 11:44:01.717 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 11:44:01.717 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 11:44:01.717 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 11:44:01.717 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 11:44:01.717 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 11:44:01.717 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 66.7089ms
2024-07-29 11:44:01.717 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:44:01.717 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:44:01.718 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:44:01.718 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:44:01.718 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 96.7991ms
2024-07-29 11:44:15.607 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 11:44:15.608 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:44:15.608 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:44:15.608 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:44:15.608 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:44:15.608 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:44:15.608 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:44:15.608 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:44:15.608 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:44:15.608 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:44:15.608 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:44:15.608 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:44:15.608 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:44:15.608 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:44:15.609 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:44:15.611 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:44:15.611 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:44:15.657 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:44:15.660 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:44:15.661 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:44:15.661 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:44:15.661 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:44:15.661 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:44:15.661 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:44:15.661 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:44:15.661 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:44:15.662 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:44:15.663 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:44:15.663 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:44:15.664 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:44:15.664 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:44:15.664 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:44:15.664 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:44:15.664 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:44:15.664 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:44:15.664 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 6.8969ms.
2024-07-29 11:44:15.664 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 11:44:15.664 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 11:44:15.664 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 11:44:15.664 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 11:44:15.664 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 11:44:15.665 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 11:44:15.665 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 54.286ms
2024-07-29 11:44:15.665 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:44:15.665 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:44:15.665 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:44:15.665 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:44:15.665 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 57.9896ms
2024-07-29 11:46:02.100 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 11:46:02.100 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:46:02.101 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:46:02.101 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:46:02.103 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:46:02.103 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:46:02.103 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:46:02.103 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:46:02.103 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:46:02.119 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:46:02.119 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:46:02.119 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:46:02.119 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:46:02.119 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:46:02.120 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:46:02.120 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:46:02.120 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:46:02.174 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:46:02.174 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:46:02.175 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:46:02.175 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:46:02.175 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:46:02.175 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:46:02.175 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:46:02.175 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:46:02.175 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:46:02.175 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:46:02.178 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:46:02.178 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:46:02.178 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:46:02.178 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:46:02.178 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:46:02.178 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:46:02.178 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:46:02.178 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:46:02.178 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.539ms.
2024-07-29 11:46:02.178 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 11:46:02.178 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 11:46:02.178 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 11:46:02.178 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 11:46:02.178 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 11:46:02.178 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 11:46:02.179 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 59.0264ms
2024-07-29 11:46:02.179 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:46:02.179 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:46:02.179 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:46:02.179 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:46:02.179 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 79.1177ms
2024-07-29 11:46:05.123 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos?idArchivo=10&idPerfil=34 - null null
2024-07-29 11:46:05.124 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos'
2024-07-29 11:46:05.124 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)' with route pattern 'api/Archivos' is valid for the request path '/api/Archivos'
2024-07-29 11:46:05.124 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 11:46:05.124 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:46:05.124 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:46:05.124 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:46:05.124 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:46:05.124 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 11:46:05.124 -05:00 [INF] Route matched with {action = "DescargarDocumento", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult DescargarDocumento(Int32, Int32) on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:46:05.124 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:46:05.124 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:46:05.124 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:46:05.124 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:46:05.125 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:46:05.125 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:46:05.125 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:46:05.125 -05:00 [DBG] Attempting to bind parameter 'idArchivo' of type 'System.Int32' ...
2024-07-29 11:46:05.125 -05:00 [DBG] Attempting to bind parameter 'idArchivo' of type 'System.Int32' using the name 'idArchivo' in request data ...
2024-07-29 11:46:05.125 -05:00 [DBG] Done attempting to bind parameter 'idArchivo' of type 'System.Int32'.
2024-07-29 11:46:05.125 -05:00 [DBG] Done attempting to bind parameter 'idArchivo' of type 'System.Int32'.
2024-07-29 11:46:05.125 -05:00 [DBG] Attempting to validate the bound parameter 'idArchivo' of type 'System.Int32' ...
2024-07-29 11:46:05.125 -05:00 [DBG] Done attempting to validate the bound parameter 'idArchivo' of type 'System.Int32'.
2024-07-29 11:46:05.125 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 11:46:05.126 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-29 11:46:05.126 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 11:46:05.126 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 11:46:05.126 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 11:46:05.126 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 11:46:05.152 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:46:05.153 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:46:05.153 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:46:05.153 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:46:05.153 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:46:05.153 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:46:05.153 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:46:05.153 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:46:05.153 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:46:05.153 -05:00 [DBG] Executing DbCommand [Parameters=[@__idArchivo_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[Id] = @__idArchivo_0
2024-07-29 11:46:05.157 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__idArchivo_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[Id] = @__idArchivo_0
2024-07-29 11:46:05.157 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:46:05.157 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:46:05.157 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:46:05.157 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:46:05.157 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:46:05.158 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'RegistroArchivoPerfil.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:46:05.158 -05:00 [DBG] The navigation 'RegistroArchivoPerfil.Archivo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:46:05.158 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'RegistroArchivoPerfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:46:05.158 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 11:46:05.158 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 11:46:05.158 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 11:46:05.158 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:46:05.158 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:46:05.158 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:46:05.158 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:46:05.159 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:46:05.159 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 11:46:05.167 -05:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 11:46:05.167 -05:00 [DBG] The foreign key property 'RegistroArchivoPerfil.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-29 11:46:05.167 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:46:05.167 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:46:05.167 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:46:05.168 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:46:05.168 -05:00 [DBG] An entity of type 'RegistroArchivoPerfil' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:46:05.168 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 11:46:05.168 -05:00 [DBG] An entity of type 'Archivo' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:46:05.168 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 11:46:05.168 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 11:46:05.168 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 11:46:05.168 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:46:05.168 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:46:05.168 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:46:05.168 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:46:05.169 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:46:05.169 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Archivo] SET [FechaCarga] = @p0, [FechaEliminacion] = @p1, [Nombre] = @p2, [NumeroDescargas] = @p3, [RutaDocumento] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-29 11:46:05.173 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Archivo] SET [FechaCarga] = @p0, [FechaEliminacion] = @p1, [Nombre] = @p2, [NumeroDescargas] = @p3, [RutaDocumento] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-29 11:46:05.173 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:46:05.173 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:46:05.173 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:46:05.173 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:46:05.174 -05:00 [DBG] An entity of type 'Archivo' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:46:05.174 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 11:46:05.174 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 22.2793ms.
2024-07-29 11:46:05.174 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 11:46:05.174 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 11:46:05.178 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend) in 53.1352ms
2024-07-29 11:46:05.178 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 11:46:05.178 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:46:05.178 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:46:05.179 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:46:05.179 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos?idArchivo=10&idPerfil=34 - 200 123902 application/octet-stream 55.8752ms
2024-07-29 11:46:05.184 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 11:46:05.185 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:46:05.185 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:46:05.185 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:46:05.185 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:46:05.186 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:46:05.186 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:46:05.186 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:46:05.186 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:46:05.186 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:46:05.186 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:46:05.187 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:46:05.187 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:46:05.189 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:46:05.189 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:46:05.189 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:46:05.189 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:46:05.496 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:46:05.496 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:46:05.497 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:46:05.497 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:46:05.497 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:46:05.497 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:46:05.497 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:46:05.497 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:46:05.497 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:46:05.497 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:46:05.498 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:46:05.499 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:46:05.499 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:46:05.499 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:46:05.499 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:46:05.499 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:46:05.499 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:46:05.499 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:46:05.499 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.7218ms.
2024-07-29 11:46:05.500 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 11:46:05.500 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 11:46:05.500 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 11:46:05.500 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 11:46:05.500 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 11:46:05.500 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 11:46:05.500 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 311.1873ms
2024-07-29 11:46:05.500 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:46:05.500 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:46:05.500 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:46:05.500 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:46:05.501 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 316.6076ms
2024-07-29 11:46:50.531 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 11:46:50.539 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:46:50.539 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:46:50.540 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:46:50.540 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:46:50.540 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:46:50.540 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:46:50.540 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:46:50.547 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:46:50.547 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:46:50.548 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:46:50.548 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:46:50.548 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:46:50.548 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:46:50.548 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:46:50.548 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:46:50.548 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:46:50.613 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:46:50.614 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:46:50.614 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:46:50.614 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:46:50.614 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:46:50.615 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:46:50.615 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:46:50.615 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:46:50.615 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:46:50.615 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:46:50.617 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:46:50.617 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:46:50.617 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:46:50.617 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:46:50.617 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:46:50.618 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:46:50.618 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:46:50.618 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:46:50.618 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.7311ms.
2024-07-29 11:46:50.618 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 11:46:50.618 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 11:46:50.618 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 11:46:50.618 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 11:46:50.618 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 11:46:50.618 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 11:46:50.618 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 70.1455ms
2024-07-29 11:46:50.618 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:46:50.618 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:46:50.618 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:46:50.619 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:46:50.619 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 87.6793ms
2024-07-29 11:48:31.667 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 11:48:31.668 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:48:31.668 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:48:31.669 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:48:31.669 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:48:31.669 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:48:31.669 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:48:31.669 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:48:31.669 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:48:31.669 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:48:31.670 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:48:31.670 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:48:31.670 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:48:31.670 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:48:31.670 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:48:31.670 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:48:31.670 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:48:31.758 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:48:31.758 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:48:31.759 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:48:31.759 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:48:31.759 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:48:31.759 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:48:31.759 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:48:31.759 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:48:31.759 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:48:31.759 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:48:31.764 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:48:31.765 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:48:31.765 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:48:31.765 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:48:31.765 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:48:31.765 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:48:31.766 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:48:31.766 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:48:31.766 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 8.1669ms.
2024-07-29 11:48:31.766 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 11:48:31.766 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 11:48:31.766 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 11:48:31.766 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 11:48:31.766 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 11:48:31.766 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 11:48:31.767 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 96.7222ms
2024-07-29 11:48:31.767 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:48:31.767 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:48:31.767 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:48:31.767 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:48:31.767 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 99.7747ms
2024-07-29 11:49:29.688 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 11:49:29.690 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:49:29.690 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:49:29.690 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:49:29.717 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:49:29.717 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:49:29.717 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:49:29.717 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:49:29.717 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:49:29.718 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:49:29.718 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:49:29.718 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:49:29.718 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:49:29.719 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:49:29.719 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:49:29.719 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:49:29.719 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:49:29.766 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:49:29.767 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:49:29.767 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:49:29.767 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:49:29.767 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:49:29.767 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:49:29.767 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:49:29.767 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:49:29.767 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:49:29.767 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:49:29.770 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:49:29.770 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:49:29.770 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:49:29.770 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:49:29.770 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:49:29.770 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:49:29.770 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:49:29.770 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:49:29.770 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.2849ms.
2024-07-29 11:49:29.770 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 11:49:29.770 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 11:49:29.770 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 11:49:29.770 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 11:49:29.770 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 11:49:29.770 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 11:49:29.771 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 51.9584ms
2024-07-29 11:49:29.771 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:49:29.771 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:49:29.771 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:49:29.771 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:49:29.771 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 83.0313ms
2024-07-29 11:49:41.385 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 11:49:41.385 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:49:41.385 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:49:41.385 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:49:41.386 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:49:41.386 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:49:41.386 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:49:41.386 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:49:41.386 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:49:41.386 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:49:41.386 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:49:41.386 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:49:41.387 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:49:41.387 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:49:41.387 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:49:41.387 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:49:41.387 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:49:41.457 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:49:41.458 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:49:41.458 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:49:41.458 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:49:41.458 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:49:41.458 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:49:41.458 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:49:41.458 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:49:41.458 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:49:41.458 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:49:41.459 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:49:41.459 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:49:41.459 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:49:41.459 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:49:41.459 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:49:41.459 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:49:41.460 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:49:41.460 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:49:41.460 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.3509ms.
2024-07-29 11:49:41.460 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 11:49:41.460 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 11:49:41.460 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 11:49:41.460 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 11:49:41.460 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 11:49:41.460 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 11:49:41.460 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 72.9986ms
2024-07-29 11:49:41.460 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:49:41.460 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:49:41.461 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:49:41.461 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:49:41.461 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 75.9985ms
2024-07-29 11:50:02.681 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 11:50:02.682 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:50:02.682 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:50:02.682 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:50:02.682 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:50:02.682 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:50:02.682 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:50:02.682 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:50:02.682 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:50:02.682 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:50:02.682 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:50:02.682 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:50:02.682 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:50:02.683 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:50:02.683 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:50:02.683 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:50:02.683 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:50:02.852 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:50:02.853 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:50:02.853 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:50:02.853 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:50:02.853 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:50:02.853 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:50:02.853 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:50:02.853 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:50:02.854 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:50:02.854 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:50:02.870 -05:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:50:02.870 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:50:02.870 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:50:02.871 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:50:02.871 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:50:02.871 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:50:02.871 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:50:02.871 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:50:02.871 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 19.002ms.
2024-07-29 11:50:02.871 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 11:50:02.871 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 11:50:02.871 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 11:50:02.871 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 11:50:02.871 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 11:50:02.871 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 11:50:02.872 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 188.9357ms
2024-07-29 11:50:02.872 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:50:02.872 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:50:02.872 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:50:02.872 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:50:02.872 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 190.5642ms
2024-07-29 11:51:17.412 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 11:51:17.417 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:51:17.417 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:51:17.417 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:51:17.418 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:51:17.418 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:51:17.418 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:51:17.418 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:51:17.418 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:51:17.418 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:51:17.418 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:51:17.418 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:51:17.418 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:51:17.418 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:51:17.418 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:51:17.418 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:51:17.419 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:51:17.462 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:51:17.463 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:51:17.464 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:51:17.464 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:51:17.464 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:51:17.464 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:51:17.464 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:51:17.464 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:51:17.464 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:51:17.464 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:51:17.467 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:51:17.467 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:51:17.467 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:51:17.467 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:51:17.467 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:51:17.467 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:51:17.467 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:51:17.467 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:51:17.467 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.5153ms.
2024-07-29 11:51:17.467 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 11:51:17.467 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 11:51:17.467 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 11:51:17.467 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 11:51:17.467 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 11:51:17.467 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 11:51:17.468 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 49.2262ms
2024-07-29 11:51:17.468 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:51:17.468 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:51:17.468 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:51:17.468 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:51:17.468 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 55.7679ms
2024-07-29 11:51:36.438 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 11:51:36.438 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:51:36.438 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:51:36.438 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:51:36.442 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:51:36.444 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:51:36.445 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:51:36.445 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:51:36.445 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:51:36.446 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:51:36.446 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:51:36.446 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:51:36.446 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:51:36.446 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:51:36.446 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:51:36.446 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:51:36.447 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:51:36.509 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:51:36.510 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:51:36.510 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:51:36.510 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:51:36.510 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:51:36.510 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:51:36.510 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:51:36.510 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:51:36.510 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:51:36.511 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:51:36.511 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:51:36.511 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:51:36.511 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:51:36.511 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:51:36.511 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:51:36.511 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:51:36.511 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:51:36.511 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:51:36.511 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.2667ms.
2024-07-29 11:51:36.512 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 11:51:36.512 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 11:51:36.512 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 11:51:36.512 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 11:51:36.512 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 11:51:36.512 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 11:51:36.512 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 65.8398ms
2024-07-29 11:51:36.512 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:51:36.512 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:51:36.512 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:51:36.512 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:51:36.512 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 74.2876ms
2024-07-29 11:52:21.964 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Archivos?idPerfil=31 - multipart/form-data; boundary=----WebKitFormBoundaryAWBIBZcZMhnSARsY 16579
2024-07-29 11:52:21.964 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos'
2024-07-29 11:52:21.964 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend)' with route pattern 'api/Archivos' is valid for the request path '/api/Archivos'
2024-07-29 11:52:21.964 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend)'
2024-07-29 11:52:21.964 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:52:21.965 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:52:21.965 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:52:21.965 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:52:21.965 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend)'
2024-07-29 11:52:21.985 -05:00 [INF] Route matched with {action = "CargarDocumento", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CargarDocumento(Microsoft.AspNetCore.Http.IFormFile, Int32) on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:52:21.985 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:52:21.985 -05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-07-29 11:52:21.985 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:52:21.985 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:52:21.986 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:52:21.987 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:52:21.987 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:52:21.998 -05:00 [DBG] Connection id "0HN5FTD40VPEM", Request id "0HN5FTD40VPEM:00000049": started reading request body.
2024-07-29 11:52:21.999 -05:00 [DBG] Connection id "0HN5FTD40VPEM", Request id "0HN5FTD40VPEM:00000049": done reading request body.
2024-07-29 11:52:22.015 -05:00 [DBG] Attempting to bind parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile' ...
2024-07-29 11:52:22.017 -05:00 [DBG] Attempting to bind parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile' using the name 'archivo' in request data ...
2024-07-29 11:52:22.018 -05:00 [DBG] Done attempting to bind parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-07-29 11:52:22.018 -05:00 [DBG] Done attempting to bind parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-07-29 11:52:22.018 -05:00 [DBG] Attempting to validate the bound parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile' ...
2024-07-29 11:52:22.024 -05:00 [DBG] Done attempting to validate the bound parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-07-29 11:52:22.024 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 11:52:22.024 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-29 11:52:22.024 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 11:52:22.024 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 11:52:22.024 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 11:52:22.024 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 11:52:22.048 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:52:22.050 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:52:22.050 -05:00 [DBG] Compiling query expression: 
'DbSet<Archivo>()
    .FirstOrDefault(A => A.RutaDocumento == __ruta_0)'
2024-07-29 11:52:22.053 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Archivo>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Archivo.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Archivo.FechaCarga (DateTime) Required, 1], [Property: Archivo.FechaEliminacion (DateTime?), 2], [Property: Archivo.Nombre (string) Required, 3], [Property: Archivo.NumeroDescargas (int) Required, 4], [Property: Archivo.RutaDocumento (string) Required, 5] }
        SELECT TOP(1) a.Id, a.FechaCarga, a.FechaEliminacion, a.Nombre, a.NumeroDescargas, a.RutaDocumento
        FROM Archivo AS a
        WHERE a.RutaDocumento == @__ruta_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Archivo>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-29 11:52:22.054 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:52:22.054 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:52:22.054 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:52:22.054 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:52:22.054 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:52:22.054 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:52:22.054 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:52:22.054 -05:00 [DBG] Executing DbCommand [Parameters=[@__ruta_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[RutaDocumento] = @__ruta_0
2024-07-29 11:52:22.057 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ruta_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[RutaDocumento] = @__ruta_0
2024-07-29 11:52:22.057 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:52:22.057 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:52:22.057 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:52:22.057 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:52:22.057 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:52:22.057 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 8.4995ms.
2024-07-29 11:52:22.057 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 11:52:22.057 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 11:52:22.057 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 11:52:22.057 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 11:52:22.057 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 11:52:22.057 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-29 11:52:22.058 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend) in 72.1726ms
2024-07-29 11:52:22.058 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend)'
2024-07-29 11:52:22.059 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:52:22.059 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:52:22.059 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:52:22.059 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Archivos?idPerfil=31 - 200 null application/json; charset=utf-8 95.7308ms
2024-07-29 11:52:23.409 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 11:52:23.409 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:52:23.409 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:52:23.409 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:52:23.409 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:52:23.409 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:52:23.409 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:52:23.409 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:52:23.410 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:52:23.410 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:52:23.410 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:52:23.410 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:52:23.410 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:52:23.410 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:52:23.410 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:52:23.410 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:52:23.410 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:52:23.442 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:52:23.442 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:52:23.442 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:52:23.443 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:52:23.443 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:52:23.443 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:52:23.443 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:52:23.443 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:52:23.443 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:52:23.443 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:52:23.444 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:52:23.444 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:52:23.444 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:52:23.445 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:52:23.445 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:52:23.445 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:52:23.445 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:52:23.445 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:52:23.445 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.0933ms.
2024-07-29 11:52:23.445 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 11:52:23.445 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 11:52:23.445 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 11:52:23.445 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 11:52:23.445 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 11:52:23.445 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 11:52:23.445 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 35.3358ms
2024-07-29 11:52:23.445 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:52:23.445 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:52:23.445 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:52:23.446 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:52:23.446 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 36.9155ms
2024-07-29 11:52:33.677 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Archivos?idPerfil=31 - multipart/form-data; boundary=----WebKitFormBoundaryYWGN6KpolLA8NUNg 18424
2024-07-29 11:52:33.678 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos'
2024-07-29 11:52:33.678 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend)' with route pattern 'api/Archivos' is valid for the request path '/api/Archivos'
2024-07-29 11:52:33.678 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend)'
2024-07-29 11:52:33.678 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:52:33.678 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:52:33.678 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:52:33.678 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:52:33.678 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend)'
2024-07-29 11:52:33.679 -05:00 [INF] Route matched with {action = "CargarDocumento", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CargarDocumento(Microsoft.AspNetCore.Http.IFormFile, Int32) on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:52:33.679 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:52:33.679 -05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-07-29 11:52:33.679 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:52:33.680 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:52:33.680 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:52:33.680 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:52:33.680 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:52:33.681 -05:00 [DBG] Connection id "0HN5FTD40VPEM", Request id "0HN5FTD40VPEM:0000004D": started reading request body.
2024-07-29 11:52:33.681 -05:00 [DBG] Connection id "0HN5FTD40VPEM", Request id "0HN5FTD40VPEM:0000004D": done reading request body.
2024-07-29 11:52:33.682 -05:00 [DBG] Attempting to bind parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile' ...
2024-07-29 11:52:33.682 -05:00 [DBG] Attempting to bind parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile' using the name 'archivo' in request data ...
2024-07-29 11:52:33.683 -05:00 [DBG] Done attempting to bind parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-07-29 11:52:33.683 -05:00 [DBG] Done attempting to bind parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-07-29 11:52:33.683 -05:00 [DBG] Attempting to validate the bound parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile' ...
2024-07-29 11:52:33.683 -05:00 [DBG] Done attempting to validate the bound parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-07-29 11:52:33.683 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 11:52:33.684 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-29 11:52:33.684 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 11:52:33.684 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 11:52:33.684 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 11:52:33.684 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 11:52:33.725 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:52:33.726 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:52:33.727 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:52:33.727 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:52:33.727 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:52:33.727 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:52:33.727 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:52:33.727 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:52:33.728 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:52:33.728 -05:00 [DBG] Executing DbCommand [Parameters=[@__ruta_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[RutaDocumento] = @__ruta_0
2024-07-29 11:52:33.728 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ruta_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[RutaDocumento] = @__ruta_0
2024-07-29 11:52:33.728 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:52:33.728 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:52:33.728 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:52:33.729 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:52:33.732 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'Archivo.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:52:33.734 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:52:33.734 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 11:52:33.734 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 11:52:33.735 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 11:52:33.736 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:52:33.736 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:52:33.736 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:52:33.736 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:52:33.736 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:52:33.737 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Archivo] ([FechaCarga], [FechaEliminacion], [Nombre], [NumeroDescargas], [RutaDocumento])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-07-29 11:52:33.745 -05:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Archivo] ([FechaCarga], [FechaEliminacion], [Nombre], [NumeroDescargas], [RutaDocumento])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-07-29 11:52:33.746 -05:00 [DBG] The foreign key property 'Archivo.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-29 11:52:33.747 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:52:33.748 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-07-29 11:52:33.748 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:52:33.748 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:52:33.748 -05:00 [DBG] An entity of type 'Archivo' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:52:33.749 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 11:52:33.749 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'RegistroArchivoPerfil.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:52:33.749 -05:00 [DBG] The navigation 'RegistroArchivoPerfil.Archivo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:52:33.749 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'RegistroArchivoPerfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:52:33.749 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 11:52:33.749 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 11:52:33.749 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 11:52:33.750 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:52:33.750 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:52:33.750 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:52:33.750 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:52:33.750 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:52:33.750 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 11:52:33.756 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 11:52:33.756 -05:00 [DBG] The foreign key property 'RegistroArchivoPerfil.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-29 11:52:33.757 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:52:33.757 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:52:33.757 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:52:33.757 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:52:33.757 -05:00 [DBG] An entity of type 'RegistroArchivoPerfil' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:52:33.757 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 11:52:33.757 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 31.8664ms.
2024-07-29 11:52:33.757 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 11:52:33.757 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 11:52:33.757 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 11:52:33.758 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 11:52:33.758 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 11:52:33.758 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-29 11:52:33.758 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend) in 78.1351ms
2024-07-29 11:52:33.758 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend)'
2024-07-29 11:52:33.758 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:52:33.759 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:52:33.759 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:52:33.759 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Archivos?idPerfil=31 - 200 null application/json; charset=utf-8 81.5548ms
2024-07-29 11:52:35.193 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 11:52:35.193 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:52:35.193 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:52:35.193 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:52:35.193 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:52:35.193 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:52:35.193 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:52:35.193 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:52:35.194 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:52:35.194 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:52:35.194 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:52:35.194 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:52:35.194 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:52:35.194 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:52:35.194 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:52:35.194 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:52:35.194 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:52:35.226 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:52:35.227 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:52:35.227 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:52:35.227 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:52:35.227 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:52:35.227 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:52:35.227 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:52:35.228 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:52:35.228 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:52:35.228 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:52:35.228 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:52:35.228 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:52:35.228 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:52:35.228 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:52:35.228 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:52:35.228 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:52:35.228 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:52:35.229 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:52:35.229 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:52:35.229 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.3674ms.
2024-07-29 11:52:35.229 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 11:52:35.229 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 11:52:35.229 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 11:52:35.229 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 11:52:35.229 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 11:52:35.230 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 11:52:35.230 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 35.8631ms
2024-07-29 11:52:35.230 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:52:35.230 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:52:35.230 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:52:35.230 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:52:35.230 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 37.3217ms
2024-07-29 11:54:24.178 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 11:54:24.178 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:54:24.178 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:54:24.178 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:54:24.178 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:54:24.178 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:54:24.178 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:54:24.178 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:54:24.178 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:54:24.178 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:54:24.178 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:54:24.178 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:54:24.179 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:54:24.179 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:54:24.179 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:54:24.179 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:54:24.180 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:54:24.241 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:54:24.242 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:54:24.242 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:54:24.242 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:54:24.242 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:54:24.242 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:54:24.242 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:54:24.242 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:54:24.242 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:54:24.242 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:54:24.244 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:54:24.244 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:54:24.245 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:54:24.245 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:54:24.245 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:54:24.245 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:54:24.245 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:54:24.245 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:54:24.245 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:54:24.245 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.104ms.
2024-07-29 11:54:24.245 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 11:54:24.246 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 11:54:24.246 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 11:54:24.246 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 11:54:24.246 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 11:54:24.246 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 11:54:24.246 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 67.3193ms
2024-07-29 11:54:24.246 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:54:24.246 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:54:24.246 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:54:24.246 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:54:24.247 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 69.2865ms
2024-07-29 11:54:48.034 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=34 - null null
2024-07-29 11:54:48.034 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-29 11:54:48.034 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 11:54:48.034 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:54:48.034 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:54:48.034 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:54:48.034 -05:00 [DBG] The request is a preflight request.
2024-07-29 11:54:48.035 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=34 - 204 null null 0.884ms
2024-07-29 11:54:48.049 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=34 - null null
2024-07-29 11:54:48.050 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-29 11:54:48.050 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-07-29 11:54:48.050 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-29 11:54:48.050 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:54:48.050 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:54:48.050 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:54:48.128 -05:00 [DBG] Successfully validated the token.
2024-07-29 11:54:48.129 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 11:54:48.136 -05:00 [DBG] Authorization was successful.
2024-07-29 11:54:48.137 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-29 11:54:48.138 -05:00 [INF] Route matched with {action = "Get", controller = "Prestmaos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-29 11:54:48.138 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:54:48.138 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:54:48.138 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:54:48.138 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:54:48.138 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:54:48.138 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-29 11:54:48.139 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-29 11:54:48.139 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 11:54:48.139 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-29 11:54:48.139 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 11:54:48.139 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 11:54:48.139 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 11:54:48.139 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 11:54:48.164 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:54:48.179 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-29 11:54:48.183 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:54:48.188 -05:00 [INF] Libros encontrados exitosamente
2024-07-29 11:54:48.192 -05:00 [DBG] Compiling query expression: 
'DbSet<Perfil>()
    .Join(
        inner: DbSet<Prestamo>(), 
        outerKeySelector: P => P.Id, 
        innerKeySelector: PR => PR.IdPerfil, 
        resultSelector: (P, PR) => new { 
            P = P, 
            PR = PR
         })
    .Join(
        inner: DbSet<DetallePrestamoLibro>(), 
        outerKeySelector: <>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.PR.Id, 
        innerKeySelector: DP => DP.IdPrestamo, 
        resultSelector: (<>h__TransparentIdentifier0, DP) => new { 
            <>h__TransparentIdentifier0 = <>h__TransparentIdentifier0, 
            DP = DP
         })
    .Join(
        inner: DbSet<Libro>(), 
        outerKeySelector: <>h__TransparentIdentifier1 => <>h__TransparentIdentifier1.DP.IdLibro, 
        innerKeySelector: L => L.Id, 
        resultSelector: (<>h__TransparentIdentifier1, L) => new { 
            <>h__TransparentIdentifier1 = <>h__TransparentIdentifier1, 
            L = L
         })
    .Where(<>h__TransparentIdentifier2 => <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.P.Id == __idPerfil_0)
    .Select(<>h__TransparentIdentifier2 => new Libro{ 
        Id = <>h__TransparentIdentifier2.L.Id, 
        Titulo = <>h__TransparentIdentifier2.L.Titulo, 
        Autor = <>h__TransparentIdentifier2.L.Autor, 
        IdGenero = <>h__TransparentIdentifier2.L.IdGenero, 
        Anio = <>h__TransparentIdentifier2.L.Anio, 
        Activo = <>h__TransparentIdentifier2.L.Activo 
    }
    )'
2024-07-29 11:54:48.254 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Libro>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            Id -> 0
            Titulo -> 1
            Autor -> 2
            IdGenero -> 3
            Anio -> 4
            Activo -> 5
        SELECT l.Id, l.Titulo, l.Autor, l.IdGenero, l.Anio, l.Activo
        FROM Perfil AS p
        INNER JOIN Prestamo AS p0 ON p.Id == p0.IdPerfil
        INNER JOIN DetallePrestamoLibro AS d ON p0.Id == d.IdPrestamo
        INNER JOIN Libro AS l ON d.IdLibro == l.Id
        WHERE p.Id == @__idPerfil_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Libro>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-29 11:54:48.258 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:54:48.258 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:54:48.258 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:54:48.258 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:54:48.258 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:54:48.258 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:54:48.258 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:54:48.258 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-29 11:54:48.283 -05:00 [INF] Executed DbCommand (24ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-29 11:54:48.284 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:54:48.285 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-29 11:54:48.285 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:54:48.285 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:54:48.285 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 120.9064ms.
2024-07-29 11:54:48.285 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 11:54:48.285 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 11:54:48.286 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 11:54:48.286 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 11:54:48.286 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 11:54:48.286 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.Collections.Generic.List`1[[biblioteca_backend.Models.Libro, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-29 11:54:48.293 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) in 154.7327ms
2024-07-29 11:54:48.293 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-29 11:54:48.293 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:54:48.293 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:54:48.293 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:54:48.294 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=34 - 200 null application/json; charset=utf-8 244.3486ms
2024-07-29 11:54:50.522 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 11:54:50.522 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:54:50.522 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:54:50.522 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:54:50.522 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:54:50.523 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:54:50.523 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:54:50.523 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:54:50.523 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:54:50.523 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:54:50.523 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:54:50.523 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:54:50.523 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:54:50.524 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:54:50.524 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:54:50.524 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:54:50.524 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:54:50.558 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:54:50.559 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:54:50.559 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:54:50.559 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:54:50.559 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:54:50.559 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:54:50.559 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:54:50.559 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:54:50.560 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:54:50.560 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:54:50.561 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:54:50.561 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:54:50.561 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:54:50.561 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:54:50.561 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:54:50.562 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:54:50.562 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:54:50.562 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:54:50.562 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:54:50.562 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.4112ms.
2024-07-29 11:54:50.562 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 11:54:50.562 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 11:54:50.562 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 11:54:50.562 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 11:54:50.562 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 11:54:50.562 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 11:54:50.562 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 38.787ms
2024-07-29 11:54:50.562 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:54:50.563 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:54:50.563 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:54:50.563 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:54:50.564 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 41.8112ms
2024-07-29 11:55:04.475 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos?idArchivo=12&idPerfil=34 - null null
2024-07-29 11:55:04.475 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos'
2024-07-29 11:55:04.475 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)' with route pattern 'api/Archivos' is valid for the request path '/api/Archivos'
2024-07-29 11:55:04.475 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 11:55:04.475 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:55:04.475 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:55:04.475 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:55:04.476 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:55:04.487 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 11:55:04.487 -05:00 [INF] Route matched with {action = "DescargarDocumento", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult DescargarDocumento(Int32, Int32) on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:55:04.487 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:55:04.490 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:55:04.490 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:55:04.490 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:55:04.490 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:55:04.490 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:55:04.490 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:55:04.491 -05:00 [DBG] Attempting to bind parameter 'idArchivo' of type 'System.Int32' ...
2024-07-29 11:55:04.491 -05:00 [DBG] Attempting to bind parameter 'idArchivo' of type 'System.Int32' using the name 'idArchivo' in request data ...
2024-07-29 11:55:04.491 -05:00 [DBG] Done attempting to bind parameter 'idArchivo' of type 'System.Int32'.
2024-07-29 11:55:04.491 -05:00 [DBG] Done attempting to bind parameter 'idArchivo' of type 'System.Int32'.
2024-07-29 11:55:04.491 -05:00 [DBG] Attempting to validate the bound parameter 'idArchivo' of type 'System.Int32' ...
2024-07-29 11:55:04.491 -05:00 [DBG] Done attempting to validate the bound parameter 'idArchivo' of type 'System.Int32'.
2024-07-29 11:55:04.491 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 11:55:04.491 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-29 11:55:04.491 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 11:55:04.491 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 11:55:04.491 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 11:55:04.491 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 11:55:04.526 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:55:04.526 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:55:04.526 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:55:04.526 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:55:04.526 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:55:04.527 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:55:04.527 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:55:04.527 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:55:04.527 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:55:04.527 -05:00 [DBG] Executing DbCommand [Parameters=[@__idArchivo_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[Id] = @__idArchivo_0
2024-07-29 11:55:04.528 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idArchivo_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[Id] = @__idArchivo_0
2024-07-29 11:55:04.528 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:55:04.528 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:55:04.528 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:55:04.528 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:55:04.529 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:55:04.529 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'RegistroArchivoPerfil.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:55:04.529 -05:00 [DBG] The navigation 'RegistroArchivoPerfil.Archivo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:55:04.529 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'RegistroArchivoPerfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:55:04.529 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 11:55:04.529 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 11:55:04.529 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 11:55:04.530 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:55:04.530 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:55:04.530 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:55:04.531 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:55:04.531 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:55:04.531 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 11:55:04.534 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 11:55:04.534 -05:00 [DBG] The foreign key property 'RegistroArchivoPerfil.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-29 11:55:04.534 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:55:04.534 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:55:04.534 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:55:04.534 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:55:04.535 -05:00 [DBG] An entity of type 'RegistroArchivoPerfil' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:55:04.535 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 11:55:04.535 -05:00 [DBG] An entity of type 'Archivo' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:55:04.535 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 11:55:04.535 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 11:55:04.535 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 11:55:04.535 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:55:04.535 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:55:04.535 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:55:04.536 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:55:04.536 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:55:04.536 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Archivo] SET [FechaCarga] = @p0, [FechaEliminacion] = @p1, [Nombre] = @p2, [NumeroDescargas] = @p3, [RutaDocumento] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-29 11:55:04.540 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Archivo] SET [FechaCarga] = @p0, [FechaEliminacion] = @p1, [Nombre] = @p2, [NumeroDescargas] = @p3, [RutaDocumento] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-29 11:55:04.540 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:55:04.540 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:55:04.540 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:55:04.540 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:55:04.540 -05:00 [DBG] An entity of type 'Archivo' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:55:04.541 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 11:55:04.541 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 15.1512ms.
2024-07-29 11:55:04.541 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 11:55:04.541 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 11:55:04.543 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend) in 52.9931ms
2024-07-29 11:55:04.543 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 11:55:04.543 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:55:04.544 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:55:04.544 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:55:04.544 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos?idArchivo=12&idPerfil=34 - 200 20866 application/octet-stream 69.4257ms
2024-07-29 11:55:04.551 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 11:55:04.552 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:55:04.552 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:55:04.552 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:55:04.552 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:55:04.552 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:55:04.552 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:55:04.552 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:55:04.553 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:55:04.553 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:55:04.553 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:55:04.553 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:55:04.553 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:55:04.553 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:55:04.553 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:55:04.553 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:55:04.554 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:55:04.620 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:55:04.621 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:55:04.622 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:55:04.622 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:55:04.622 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:55:04.622 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:55:04.622 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:55:04.622 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:55:04.622 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:55:04.622 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:55:04.761 -05:00 [INF] Executed DbCommand (139ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:55:04.762 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:55:04.762 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:55:04.762 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:55:04.762 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:55:04.764 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:55:04.764 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-07-29 11:55:04.764 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:55:04.764 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:55:04.765 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 143.9888ms.
2024-07-29 11:55:04.765 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 11:55:04.765 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 11:55:04.765 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 11:55:04.765 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 11:55:04.765 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 11:55:04.765 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 11:55:04.765 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 211.9449ms
2024-07-29 11:55:04.765 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:55:04.765 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:55:04.765 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:55:04.765 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:55:04.766 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 216.2779ms
2024-07-29 11:56:26.149 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 11:56:26.149 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:56:26.149 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:56:26.150 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:56:26.150 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:56:26.150 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:56:26.150 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:56:26.150 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:56:26.150 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:56:26.150 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:56:26.150 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:56:26.150 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:56:26.150 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:56:26.150 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:56:26.150 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:56:26.150 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:56:26.151 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:56:26.190 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:56:26.192 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:56:26.192 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:56:26.193 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:56:26.193 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:56:26.193 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:56:26.193 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:56:26.193 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:56:26.193 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:56:26.194 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:56:26.196 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:56:26.196 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:56:26.196 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:56:26.196 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:56:26.197 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:56:26.197 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:56:26.197 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:56:26.197 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:56:26.197 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:56:26.197 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 7.0918ms.
2024-07-29 11:56:26.197 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 11:56:26.197 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 11:56:26.197 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 11:56:26.197 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 11:56:26.197 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 11:56:26.197 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 11:56:26.197 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 46.7662ms
2024-07-29 11:56:26.197 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:56:26.197 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:56:26.197 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:56:26.198 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:56:26.198 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 48.7823ms
2024-07-29 11:58:31.801 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 11:58:31.802 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:58:31.802 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:58:31.802 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:58:31.802 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:58:31.802 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:58:31.802 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:58:31.803 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:58:31.803 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:58:31.803 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:58:31.803 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:58:31.803 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:58:31.803 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:58:31.803 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:58:31.803 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:58:31.803 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:58:31.804 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:58:31.857 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:58:31.858 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:58:31.859 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:58:31.859 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:58:31.859 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:58:31.859 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:58:31.859 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:58:31.859 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:58:31.859 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:58:31.859 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:58:31.863 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:58:31.863 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:58:31.863 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:58:31.863 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:58:31.863 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:58:31.863 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:58:31.863 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:58:31.863 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:58:31.863 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:58:31.863 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5.7942ms.
2024-07-29 11:58:31.863 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 11:58:31.864 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 11:58:31.864 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 11:58:31.864 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 11:58:31.864 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 11:58:31.864 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 11:58:31.865 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 61.3845ms
2024-07-29 11:58:31.865 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:58:31.865 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:58:31.865 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:58:31.865 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:58:31.866 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 64.8399ms
2024-07-29 11:58:41.445 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 11:58:41.446 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:58:41.446 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:58:41.446 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:58:41.446 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:58:41.446 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:58:41.446 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:58:41.447 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:58:41.447 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:58:41.447 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:58:41.447 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:58:41.447 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:58:41.447 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:58:41.448 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:58:41.448 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:58:41.448 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:58:41.448 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:58:41.484 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:58:41.485 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:58:41.485 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:58:41.485 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:58:41.485 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:58:41.486 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:58:41.486 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:58:41.486 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:58:41.486 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:58:41.486 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:58:41.486 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:58:41.487 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:58:41.487 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:58:41.487 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:58:41.487 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:58:41.487 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:58:41.487 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:58:41.487 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:58:41.487 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:58:41.487 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.1954ms.
2024-07-29 11:58:41.487 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 11:58:41.488 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 11:58:41.488 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 11:58:41.488 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 11:58:41.488 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 11:58:41.488 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 11:58:41.488 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 40.2743ms
2024-07-29 11:58:41.488 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:58:41.488 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:58:41.488 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:58:41.488 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:58:41.488 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 44.0411ms
2024-07-29 11:59:05.823 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 11:59:05.823 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:59:05.823 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 11:59:05.823 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:59:05.823 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 11:59:05.823 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 11:59:05.823 -05:00 [INF] CORS policy execution successful.
2024-07-29 11:59:05.824 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 11:59:05.824 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:59:05.824 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 11:59:05.824 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 11:59:05.824 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 11:59:05.824 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 11:59:05.824 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 11:59:05.824 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 11:59:05.824 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:59:05.824 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 11:59:05.884 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 11:59:05.885 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 11:59:05.885 -05:00 [DBG] Creating DbConnection.
2024-07-29 11:59:05.886 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 11:59:05.886 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:59:05.886 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:59:05.886 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 11:59:05.886 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:59:05.886 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 11:59:05.886 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:59:05.889 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 11:59:05.889 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:59:05.890 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:59:05.890 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:59:05.890 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 11:59:05.890 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:59:05.890 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 11:59:05.890 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:59:05.890 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 11:59:05.890 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5.9492ms.
2024-07-29 11:59:05.890 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 11:59:05.890 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 11:59:05.890 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 11:59:05.890 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 11:59:05.890 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 11:59:05.890 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 11:59:05.891 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 66.5011ms
2024-07-29 11:59:05.891 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 11:59:05.891 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 11:59:05.891 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 11:59:05.891 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 11:59:05.891 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 68.2577ms
2024-07-29 12:00:19.965 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 12:00:19.966 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 12:00:19.966 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 12:00:19.966 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 12:00:19.966 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 12:00:19.966 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 12:00:19.966 -05:00 [INF] CORS policy execution successful.
2024-07-29 12:00:19.966 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 12:00:19.966 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 12:00:19.966 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 12:00:19.966 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 12:00:19.967 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 12:00:19.968 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 12:00:19.968 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 12:00:19.968 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 12:00:19.969 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 12:00:19.969 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 12:00:20.012 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 12:00:20.013 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 12:00:20.013 -05:00 [DBG] Creating DbConnection.
2024-07-29 12:00:20.013 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 12:00:20.013 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:00:20.013 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:00:20.013 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 12:00:20.013 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 12:00:20.013 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 12:00:20.013 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 12:00:20.017 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 12:00:20.017 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:00:20.017 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:00:20.017 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:00:20.017 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:00:20.017 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:00:20.017 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 12:00:20.017 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:00:20.017 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 12:00:20.017 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5.201ms.
2024-07-29 12:00:20.018 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 12:00:20.018 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 12:00:20.018 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 12:00:20.018 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 12:00:20.018 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 12:00:20.018 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 12:00:20.018 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 49.3644ms
2024-07-29 12:00:20.018 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 12:00:20.018 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 12:00:20.018 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:00:20.018 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 12:00:20.019 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 53.2826ms
2024-07-29 12:01:00.100 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 12:01:00.115 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 12:01:00.115 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 12:01:00.116 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 12:01:00.116 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 12:01:00.116 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 12:01:00.116 -05:00 [INF] CORS policy execution successful.
2024-07-29 12:01:00.117 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 12:01:00.117 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 12:01:00.117 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 12:01:00.117 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 12:01:00.117 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 12:01:00.117 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 12:01:00.117 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 12:01:00.117 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 12:01:00.118 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 12:01:00.118 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 12:01:00.165 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 12:01:00.165 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 12:01:00.166 -05:00 [DBG] Creating DbConnection.
2024-07-29 12:01:00.166 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 12:01:00.166 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:01:00.166 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:01:00.166 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 12:01:00.166 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 12:01:00.166 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 12:01:00.166 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 12:01:00.174 -05:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 12:01:00.174 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:01:00.174 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:01:00.174 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:01:00.174 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:01:00.174 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:01:00.174 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 12:01:00.174 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:01:00.174 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 12:01:00.174 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 9.5341ms.
2024-07-29 12:01:00.175 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 12:01:00.175 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 12:01:00.175 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 12:01:00.175 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 12:01:00.175 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 12:01:00.175 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 12:01:00.175 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 57.527ms
2024-07-29 12:01:00.175 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 12:01:00.175 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 12:01:00.175 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:01:00.175 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 12:01:00.175 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 75.8656ms
2024-07-29 12:01:31.248 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 12:01:31.248 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 12:01:31.248 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 12:01:31.248 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 12:01:31.249 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 12:01:31.249 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 12:01:31.249 -05:00 [INF] CORS policy execution successful.
2024-07-29 12:01:31.249 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 12:01:31.249 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 12:01:31.249 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 12:01:31.249 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 12:01:31.249 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 12:01:31.249 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 12:01:31.249 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 12:01:31.249 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 12:01:31.252 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 12:01:31.253 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 12:01:31.342 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 12:01:31.343 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 12:01:31.343 -05:00 [DBG] Creating DbConnection.
2024-07-29 12:01:31.343 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 12:01:31.343 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:01:31.344 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:01:31.344 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 12:01:31.344 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 12:01:31.344 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 12:01:31.344 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 12:01:31.346 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 12:01:31.346 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:01:31.346 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:01:31.346 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:01:31.346 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:01:31.346 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:01:31.346 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 12:01:31.346 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:01:31.346 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 12:01:31.346 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.6967ms.
2024-07-29 12:01:31.346 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 12:01:31.346 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 12:01:31.346 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 12:01:31.347 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 12:01:31.347 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 12:01:31.347 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 12:01:31.347 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 97.4645ms
2024-07-29 12:01:31.347 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 12:01:31.347 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 12:01:31.347 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:01:31.347 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 12:01:31.347 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 99.6762ms
2024-07-29 12:01:46.593 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 12:01:46.597 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 12:01:46.597 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 12:01:46.597 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 12:01:46.597 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 12:01:46.597 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 12:01:46.598 -05:00 [INF] CORS policy execution successful.
2024-07-29 12:01:46.599 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 12:01:46.601 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 12:01:46.602 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 12:01:46.602 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 12:01:46.602 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 12:01:46.602 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 12:01:46.603 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 12:01:46.603 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 12:01:46.603 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 12:01:46.604 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 12:01:46.683 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 12:01:46.684 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 12:01:46.684 -05:00 [DBG] Creating DbConnection.
2024-07-29 12:01:46.684 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 12:01:46.684 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:01:46.685 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:01:46.685 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 12:01:46.685 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 12:01:46.685 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 12:01:46.685 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 12:01:46.689 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 12:01:46.689 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:01:46.689 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:01:46.689 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:01:46.690 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:01:46.690 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:01:46.690 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 12:01:46.690 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:01:46.690 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 12:01:46.690 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 6.9681ms.
2024-07-29 12:01:46.690 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 12:01:46.690 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 12:01:46.690 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 12:01:46.690 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 12:01:46.690 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 12:01:46.690 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 12:01:46.690 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 87.5862ms
2024-07-29 12:01:46.690 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 12:01:46.690 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 12:01:46.690 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:01:46.691 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 12:01:46.691 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 112.4218ms
2024-07-29 12:02:23.941 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 12:02:23.941 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 12:02:23.941 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 12:02:23.941 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 12:02:23.941 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 12:02:23.941 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 12:02:23.941 -05:00 [INF] CORS policy execution successful.
2024-07-29 12:02:23.943 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 12:02:23.943 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 12:02:23.943 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 12:02:23.943 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 12:02:23.943 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 12:02:23.944 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 12:02:23.944 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 12:02:23.944 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 12:02:23.944 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 12:02:23.944 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 12:02:24.003 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 12:02:24.004 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 12:02:24.004 -05:00 [DBG] Creating DbConnection.
2024-07-29 12:02:24.004 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 12:02:24.004 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:02:24.004 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:02:24.004 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 12:02:24.004 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 12:02:24.004 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 12:02:24.004 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 12:02:24.006 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 12:02:24.006 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:02:24.006 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:02:24.006 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:02:24.006 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:02:24.006 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:02:24.006 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 12:02:24.006 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:02:24.006 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 12:02:24.007 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.4606ms.
2024-07-29 12:02:24.007 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 12:02:24.007 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 12:02:24.007 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 12:02:24.007 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 12:02:24.007 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 12:02:24.007 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 12:02:24.007 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 63.1397ms
2024-07-29 12:02:24.007 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 12:02:24.007 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 12:02:24.007 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:02:24.007 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 12:02:24.007 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 66.7388ms
2024-07-29 12:02:39.021 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 12:02:39.021 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 12:02:39.021 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 12:02:39.021 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 12:02:39.021 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 12:02:39.021 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 12:02:39.021 -05:00 [INF] CORS policy execution successful.
2024-07-29 12:02:39.023 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 12:02:39.023 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 12:02:39.023 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 12:02:39.023 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 12:02:39.026 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 12:02:39.027 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 12:02:39.027 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 12:02:39.028 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 12:02:39.028 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 12:02:39.028 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 12:02:39.084 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 12:02:39.085 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 12:02:39.085 -05:00 [DBG] Creating DbConnection.
2024-07-29 12:02:39.085 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 12:02:39.085 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:02:39.085 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:02:39.085 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 12:02:39.085 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 12:02:39.085 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 12:02:39.085 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 12:02:39.086 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 12:02:39.086 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:02:39.086 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:02:39.086 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:02:39.086 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:02:39.086 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:02:39.086 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 12:02:39.086 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:02:39.086 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 12:02:39.086 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.8749ms.
2024-07-29 12:02:39.086 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 12:02:39.086 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 12:02:39.086 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 12:02:39.086 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 12:02:39.086 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 12:02:39.086 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 12:02:39.087 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 58.9694ms
2024-07-29 12:02:39.087 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 12:02:39.087 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 12:02:39.087 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:02:39.087 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 12:02:39.087 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 66.898ms
2024-07-29 12:03:17.476 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 12:03:17.476 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 12:03:17.476 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 12:03:17.476 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 12:03:17.476 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 12:03:17.476 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 12:03:17.477 -05:00 [INF] CORS policy execution successful.
2024-07-29 12:03:17.477 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 12:03:17.477 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 12:03:17.477 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 12:03:17.477 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 12:03:17.477 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 12:03:17.477 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 12:03:17.478 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 12:03:17.478 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 12:03:17.478 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 12:03:17.478 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 12:03:17.514 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 12:03:17.515 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 12:03:17.516 -05:00 [DBG] Creating DbConnection.
2024-07-29 12:03:17.516 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 12:03:17.516 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:03:17.526 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:03:17.528 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 12:03:17.528 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 12:03:17.528 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 12:03:17.533 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 12:03:17.536 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 12:03:17.537 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:03:17.537 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:03:17.537 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:03:17.537 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:03:17.537 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:03:17.537 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 12:03:17.537 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:03:17.537 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 12:03:17.537 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 22.816ms.
2024-07-29 12:03:17.537 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 12:03:17.538 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 12:03:17.538 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 12:03:17.538 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 12:03:17.538 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 12:03:17.538 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 12:03:17.538 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 60.1792ms
2024-07-29 12:03:17.538 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 12:03:17.538 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 12:03:17.538 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:03:17.539 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 12:03:17.539 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 64.2553ms
2024-07-29 12:03:34.493 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 12:03:34.493 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 12:03:34.493 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 12:03:34.494 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 12:03:34.496 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 12:03:34.496 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 12:03:34.496 -05:00 [INF] CORS policy execution successful.
2024-07-29 12:03:34.496 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 12:03:34.496 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 12:03:34.496 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 12:03:34.496 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 12:03:34.497 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 12:03:34.497 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 12:03:34.497 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 12:03:34.497 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 12:03:34.497 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 12:03:34.497 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 12:03:34.552 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 12:03:34.553 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 12:03:34.553 -05:00 [DBG] Creating DbConnection.
2024-07-29 12:03:34.553 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 12:03:34.553 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:03:34.553 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:03:34.553 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 12:03:34.553 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 12:03:34.553 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 12:03:34.554 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 12:03:34.558 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 12:03:34.558 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:03:34.559 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:03:34.559 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:03:34.559 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:03:34.559 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:03:34.559 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 12:03:34.559 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:03:34.559 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 12:03:34.559 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 7.3171ms.
2024-07-29 12:03:34.559 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 12:03:34.559 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 12:03:34.559 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 12:03:34.559 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 12:03:34.559 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 12:03:34.560 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 12:03:34.560 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 62.9ms
2024-07-29 12:03:34.560 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 12:03:34.560 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 12:03:34.560 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:03:34.560 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 12:03:34.561 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 67.7118ms
2024-07-29 12:03:58.648 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 12:03:58.649 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 12:03:58.649 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 12:03:58.649 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 12:03:58.649 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 12:03:58.649 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 12:03:58.649 -05:00 [INF] CORS policy execution successful.
2024-07-29 12:03:58.649 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 12:03:58.650 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 12:03:58.650 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 12:03:58.650 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 12:03:58.650 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 12:03:58.650 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 12:03:58.650 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 12:03:58.650 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 12:03:58.651 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 12:03:58.652 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 12:03:58.694 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 12:03:58.695 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 12:03:58.695 -05:00 [DBG] Creating DbConnection.
2024-07-29 12:03:58.695 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 12:03:58.695 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:03:58.695 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:03:58.695 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 12:03:58.695 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 12:03:58.696 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 12:03:58.696 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 12:03:58.696 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 12:03:58.696 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:03:58.697 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:03:58.697 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:03:58.697 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:03:58.697 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:03:58.697 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 12:03:58.697 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:03:58.697 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 12:03:58.697 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.1297ms.
2024-07-29 12:03:58.697 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 12:03:58.697 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 12:03:58.697 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 12:03:58.697 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 12:03:58.697 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 12:03:58.697 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 12:03:58.698 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 47.415ms
2024-07-29 12:03:58.698 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 12:03:58.698 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 12:03:58.698 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:03:58.698 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 12:03:58.698 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 51.0996ms
2024-07-29 12:04:16.462 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 12:04:16.463 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 12:04:16.463 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 12:04:16.463 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 12:04:16.463 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 12:04:16.463 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 12:04:16.463 -05:00 [INF] CORS policy execution successful.
2024-07-29 12:04:16.463 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 12:04:16.463 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 12:04:16.463 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 12:04:16.463 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 12:04:16.463 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 12:04:16.463 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 12:04:16.463 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 12:04:16.463 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 12:04:16.464 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 12:04:16.464 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 12:04:16.512 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 12:04:16.513 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 12:04:16.513 -05:00 [DBG] Creating DbConnection.
2024-07-29 12:04:16.514 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 12:04:16.514 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:04:16.514 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:04:16.514 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 12:04:16.514 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 12:04:16.514 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 12:04:16.514 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 12:04:16.516 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 12:04:16.516 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:04:16.516 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:04:16.516 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:04:16.516 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:04:16.516 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:04:16.516 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 12:04:16.516 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:04:16.516 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 12:04:16.516 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.2024ms.
2024-07-29 12:04:16.517 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 12:04:16.517 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 12:04:16.517 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 12:04:16.517 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 12:04:16.517 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 12:04:16.517 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 12:04:16.517 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 53.2689ms
2024-07-29 12:04:16.517 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 12:04:16.517 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 12:04:16.517 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:04:16.517 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 12:04:16.517 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 60.4354ms
2024-07-29 12:04:26.498 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 12:04:26.499 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 12:04:26.499 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 12:04:26.499 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 12:04:26.499 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 12:04:26.500 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 12:04:26.500 -05:00 [INF] CORS policy execution successful.
2024-07-29 12:04:26.500 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 12:04:26.500 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 12:04:26.500 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 12:04:26.501 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 12:04:26.501 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 12:04:26.501 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 12:04:26.504 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 12:04:26.504 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 12:04:26.505 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 12:04:26.505 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 12:04:26.582 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 12:04:26.582 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 12:04:26.583 -05:00 [DBG] Creating DbConnection.
2024-07-29 12:04:26.583 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 12:04:26.583 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:04:26.583 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:04:26.583 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 12:04:26.583 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 12:04:26.583 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 12:04:26.583 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 12:04:26.586 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 12:04:26.586 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:04:26.586 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:04:26.586 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:04:26.586 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:04:26.587 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:04:26.587 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 12:04:26.587 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:04:26.587 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 12:04:26.587 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5.2983ms.
2024-07-29 12:04:26.587 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 12:04:26.587 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 12:04:26.587 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 12:04:26.587 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 12:04:26.587 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 12:04:26.587 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 12:04:26.588 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 83.0271ms
2024-07-29 12:04:26.588 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 12:04:26.588 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 12:04:26.588 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:04:26.588 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 12:04:26.588 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 90.1791ms
2024-07-29 12:04:35.093 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 12:04:35.094 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 12:04:35.094 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 12:04:35.094 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 12:04:35.094 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 12:04:35.095 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 12:04:35.095 -05:00 [INF] CORS policy execution successful.
2024-07-29 12:04:35.097 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 12:04:35.097 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 12:04:35.097 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 12:04:35.097 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 12:04:35.097 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 12:04:35.097 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 12:04:35.097 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 12:04:35.097 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 12:04:35.097 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 12:04:35.098 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 12:04:35.154 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 12:04:35.155 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 12:04:35.155 -05:00 [DBG] Creating DbConnection.
2024-07-29 12:04:35.155 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 12:04:35.155 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:04:35.155 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:04:35.155 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 12:04:35.155 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 12:04:35.155 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 12:04:35.155 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 12:04:35.156 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 12:04:35.156 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:04:35.156 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:04:35.158 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:04:35.159 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 12:04:35.159 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:04:35.160 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-07-29 12:04:35.160 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:04:35.160 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 12:04:35.160 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 6.1655ms.
2024-07-29 12:04:35.160 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 12:04:35.160 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 12:04:35.160 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 12:04:35.161 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 12:04:35.161 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 12:04:35.161 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 12:04:35.161 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 63.5375ms
2024-07-29 12:04:35.161 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 12:04:35.161 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 12:04:35.161 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 12:04:35.161 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 12:04:35.162 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 68.6472ms
2024-07-29 13:24:09.733 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-29 13:24:10.124 -05:00 [DBG] Hosting starting
2024-07-29 13:24:10.296 -05:00 [INF] User profile is available. Using 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-29 13:24:10.312 -05:00 [DBG] Reading data from file 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys\key-12ed5171-7863-4d3e-a216-6f5439158e60.xml'.
2024-07-29 13:24:10.334 -05:00 [DBG] Found key {12ed5171-7863-4d3e-a216-6f5439158e60}.
2024-07-29 13:24:10.353 -05:00 [DBG] Considering key {12ed5171-7863-4d3e-a216-6f5439158e60} with expiration date 2024-09-28 19:27:42Z as default key.
2024-07-29 13:24:10.366 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-29 13:24:10.370 -05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-29 13:24:10.372 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-29 13:24:10.377 -05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-29 13:24:10.379 -05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-29 13:24:10.382 -05:00 [DBG] Using key {12ed5171-7863-4d3e-a216-6f5439158e60} as the default key.
2024-07-29 13:24:10.383 -05:00 [DBG] Key ring with default key {12ed5171-7863-4d3e-a216-6f5439158e60} was loaded during application startup.
2024-07-29 13:24:11.023 -05:00 [INF] Now listening on: https://localhost:7299
2024-07-29 13:24:11.024 -05:00 [INF] Now listening on: http://localhost:5219
2024-07-29 13:24:11.024 -05:00 [DBG] Loaded hosting startup assembly biblioteca-backend
2024-07-29 13:24:11.024 -05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-29 13:24:11.024 -05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-29 13:24:11.024 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-29 13:24:11.024 -05:00 [INF] Hosting environment: Development
2024-07-29 13:24:11.024 -05:00 [INF] Content root path: C:\Users\spatino\Documents\Proyeco - Biblioteca\biblioteca-backend
2024-07-29 13:24:11.025 -05:00 [DBG] Hosting started
2024-07-29 13:24:11.223 -05:00 [DBG] Connection id "0HN5FVEI8T4QT" accepted.
2024-07-29 13:24:11.224 -05:00 [DBG] Connection id "0HN5FVEI8T4QT" started.
2024-07-29 13:24:11.245 -05:00 [DBG] Connection id "0HN5FVEI8T4QT" received FIN.
2024-07-29 13:24:11.256 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-29 13:24:11.370 -05:00 [DBG] Connection id "0HN5FVEI8T4QT" stopped.
2024-07-29 13:24:11.376 -05:00 [DBG] Connection id "0HN5FVEI8T4QT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-29 13:24:11.550 -05:00 [DBG] Connection id "0HN5FVEI8T4QU" accepted.
2024-07-29 13:24:11.550 -05:00 [DBG] Connection id "0HN5FVEI8T4QU" started.
2024-07-29 13:24:11.879 -05:00 [DBG] Connection 0HN5FVEI8T4QU established using the following protocol: "Tls12"
2024-07-29 13:24:12.120 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/index.html - null null
2024-07-29 13:24:16.090 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-29 13:24:16.199 -05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-29 13:24:16.207 -05:00 [DBG] Request did not match any endpoints
2024-07-29 13:24:16.685 -05:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-07-29 13:24:16.699 -05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-29 13:24:16.946 -05:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-07-29 13:24:17.137 -05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-29 13:24:17.151 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/index.html - 200 null text/html;charset=utf-8 5044.2974ms
2024-07-29 13:24:17.223 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
2024-07-29 13:24:17.224 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
2024-07-29 13:24:17.243 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 18.5673ms
2024-07-29 13:24:17.606 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 382.5583ms
2024-07-29 13:24:17.951 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
2024-07-29 13:24:17.951 -05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-29 13:24:17.952 -05:00 [DBG] Request did not match any endpoints
2024-07-29 13:24:18.588 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 637.1319ms
2024-07-29 13:29:32.601 -05:00 [DBG] Connection id "0HN5FVEI8T4QV" accepted.
2024-07-29 13:29:32.602 -05:00 [DBG] Connection id "0HN5FVEI8T4QV" started.
2024-07-29 13:29:32.625 -05:00 [DBG] Connection 0HN5FVEI8T4QV established using the following protocol: "Tls12"
2024-07-29 13:29:32.682 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - null null
2024-07-29 13:29:32.687 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-29 13:29:32.688 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 13:29:32.690 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 13:29:32.691 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 13:29:32.691 -05:00 [INF] CORS policy execution successful.
2024-07-29 13:29:32.692 -05:00 [DBG] The request is a preflight request.
2024-07-29 13:29:32.693 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - 204 null null 16.4545ms
2024-07-29 13:29:32.697 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Perfiles/ - application/json 54
2024-07-29 13:29:32.698 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-29 13:29:32.702 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-29 13:29:32.702 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-29 13:29:32.702 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 13:29:32.703 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 13:29:32.703 -05:00 [INF] CORS policy execution successful.
2024-07-29 13:29:32.787 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 13:29:32.789 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-29 13:29:32.812 -05:00 [INF] Route matched with {action = "Post", controller = "Perfiles"}. Executing controller action with signature System.Object Post(biblioteca_backend.Models.DTOs.LogInModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-29 13:29:32.814 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 13:29:32.814 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 13:29:32.814 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 13:29:32.814 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 13:29:32.814 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 13:29:32.816 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-29 13:29:32.973 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-29 13:29:33.001 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-29 13:29:33.017 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-29 13:29:33.021 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' using the name '' in request data ...
2024-07-29 13:29:33.022 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-29 13:29:33.032 -05:00 [DBG] Connection id "0HN5FVEI8T4QV", Request id "0HN5FVEI8T4QV:00000003": started reading request body.
2024-07-29 13:29:33.032 -05:00 [DBG] Connection id "0HN5FVEI8T4QV", Request id "0HN5FVEI8T4QV:00000003": done reading request body.
2024-07-29 13:29:33.036 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.LogInModel'
2024-07-29 13:29:33.036 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-29 13:29:33.036 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-29 13:29:33.037 -05:00 [DBG] Attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-29 13:29:33.045 -05:00 [DBG] Done attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-29 13:29:33.151 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) - Validation state: "Valid"
2024-07-29 13:29:33.172 -05:00 [DBG] Iniciando sesión...
2024-07-29 13:29:34.051 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 13:29:34.103 -05:00 [DBG] Compiling query expression: 
'DbSet<Perfil>()
    .FirstOrDefault(p => p.Correo == __8__locals1_logInModel_Correo_0 && p.Contrasena == __claveCifrada_1)'
2024-07-29 13:29:34.368 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Perfil>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Perfil.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Perfil.Apellido (string) Required, 1], [Property: Perfil.Contrasena (string) Required, 2], [Property: Perfil.Correo (string) Required, 3], [Property: Perfil.Direccion (string) Required, 4], [Property: Perfil.IdRol (int) Required FK Index, 5], [Property: Perfil.Nombre (string) Required, 6], [Property: Perfil.Telefono (string) Required, 7] }
        SELECT TOP(1) p.Id, p.Apellido, p.Contrasena, p.Correo, p.Direccion, p.IdRol, p.Nombre, p.Telefono
        FROM Perfil AS p
        WHERE (p.Correo == @__8__locals1_logInModel_Correo_0) && (p.Contrasena == @__claveCifrada_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Perfil>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-29 13:29:34.404 -05:00 [DBG] Creating DbConnection.
2024-07-29 13:29:34.429 -05:00 [DBG] Created DbConnection. (20ms).
2024-07-29 13:29:34.431 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:29:34.823 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:29:34.825 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 13:29:34.834 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-07-29 13:29:34.842 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2024-07-29 13:29:34.853 -05:00 [DBG] Executing DbCommand [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-29 13:29:34.923 -05:00 [INF] Executed DbCommand (73ms) [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-29 13:29:34.975 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:29:35.002 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:29:35.012 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 83ms reading results.
2024-07-29 13:29:35.014 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:29:35.020 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (5ms).
2024-07-29 13:29:35.022 -05:00 [DBG] Compiling query expression: 
'DbSet<Rol>()
    .FirstOrDefault(r => r.Id == ___perfil_IdRol_0)'
2024-07-29 13:29:35.026 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Rol>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Rol.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Rol.Nombre (string) Required, 1] }
        SELECT TOP(1) r.Id, r.Nombre
        FROM Rol AS r
        WHERE r.Id == @___perfil_IdRol_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Rol>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-29 13:29:35.026 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:29:35.028 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:29:35.029 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 13:29:35.029 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:29:35.029 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:29:35.030 -05:00 [DBG] Executing DbCommand [Parameters=[@___perfil_IdRol_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Nombre]
FROM [Rol] AS [r]
WHERE [r].[Id] = @___perfil_IdRol_0
2024-07-29 13:29:35.036 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[@___perfil_IdRol_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Nombre]
FROM [Rol] AS [r]
WHERE [r].[Id] = @___perfil_IdRol_0
2024-07-29 13:29:35.052 -05:00 [DBG] The navigation 'Perfil.Rol' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:29:35.063 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Rol' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:29:35.065 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:29:35.065 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 29ms reading results.
2024-07-29 13:29:35.065 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:29:35.066 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 13:29:35.099 -05:00 [INF] Inicio de sesión exitoso
2024-07-29 13:29:35.106 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1950.0987ms.
2024-07-29 13:29:35.113 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 13:29:35.116 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 13:29:35.116 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 13:29:35.116 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 13:29:35.118 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 13:29:35.118 -05:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-29 13:29:35.132 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) in 2313.6501ms
2024-07-29 13:29:35.132 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-29 13:29:35.135 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 13:29:35.139 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:29:35.141 -05:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-07-29 13:29:35.143 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Perfiles/ - 200 null application/json; charset=utf-8 2445.8611ms
2024-07-29 13:29:35.164 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-29 13:29:35.164 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-07-29 13:29:35.164 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-29 13:29:35.165 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-29 13:29:35.165 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 13:29:35.165 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 13:29:35.165 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 13:29:35.165 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 13:29:35.165 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 13:29:35.165 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 13:29:35.165 -05:00 [INF] CORS policy execution successful.
2024-07-29 13:29:35.165 -05:00 [INF] CORS policy execution successful.
2024-07-29 13:29:35.165 -05:00 [DBG] The request is a preflight request.
2024-07-29 13:29:35.165 -05:00 [DBG] The request is a preflight request.
2024-07-29 13:29:35.166 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 1.9008ms
2024-07-29 13:29:35.166 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 2.022ms
2024-07-29 13:29:35.169 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-07-29 13:29:35.169 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-29 13:29:35.170 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-29 13:29:35.170 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-29 13:29:35.170 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-07-29 13:29:35.170 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-29 13:29:35.170 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-29 13:29:35.170 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 13:29:35.170 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 13:29:35.170 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 13:29:35.170 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 13:29:35.170 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 13:29:35.171 -05:00 [INF] CORS policy execution successful.
2024-07-29 13:29:35.171 -05:00 [INF] CORS policy execution successful.
2024-07-29 13:29:35.237 -05:00 [DBG] Successfully validated the token.
2024-07-29 13:29:35.237 -05:00 [DBG] Successfully validated the token.
2024-07-29 13:29:35.240 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 13:29:35.240 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 13:29:35.248 -05:00 [DBG] Authorization was successful.
2024-07-29 13:29:35.248 -05:00 [DBG] Authorization was successful.
2024-07-29 13:29:35.248 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-29 13:29:35.248 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 13:29:35.252 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-29 13:29:35.252 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 13:29:35.252 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 13:29:35.252 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 13:29:35.252 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 13:29:35.252 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 13:29:35.253 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-29 13:29:35.255 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-29 13:29:35.256 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-07-29 13:29:35.256 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 13:29:35.256 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 13:29:35.256 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 13:29:35.256 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 13:29:35.256 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 13:29:35.256 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-29 13:29:35.258 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-29 13:29:35.259 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-29 13:29:35.260 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-29 13:29:35.263 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 13:29:35.263 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 13:29:35.263 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-29 13:29:35.264 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 13:29:35.300 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-29 13:29:35.340 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-29 13:29:35.353 -05:00 [DBG] Consultando libros...
2024-07-29 13:29:35.381 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 13:29:35.381 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 13:29:35.385 -05:00 [DBG] Compiling query expression: 
'DbSet<Genero>()'
2024-07-29 13:29:35.398 -05:00 [DBG] Compiling query expression: 
'DbSet<Libro>()
    .Join(
        inner: DbSet<Genero>(), 
        outerKeySelector: L => L.IdGenero, 
        innerKeySelector: G => G.Id, 
        resultSelector: (L, G) => new { 
            L = L, 
            G = G
         })
    .Where(<>h__TransparentIdentifier0 => True)
    .Select(<>h__TransparentIdentifier0 => new { 
        id = <>h__TransparentIdentifier0.L.Id, 
        titulo = <>h__TransparentIdentifier0.L.Titulo, 
        autor = <>h__TransparentIdentifier0.L.Autor, 
        anio = <>h__TransparentIdentifier0.L.Anio, 
        idGenero = <>h__TransparentIdentifier0.L.IdGenero, 
        genero = <>h__TransparentIdentifier0.G.Nombre, 
        activo = <>h__TransparentIdentifier0.L.Activo
     })'
2024-07-29 13:29:35.398 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Genero>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Genero.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Genero.Nombre (string) Required, 1] }
        SELECT g.Id, g.Nombre
        FROM Genero AS g), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Genero>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-29 13:29:35.415 -05:00 [DBG] Creating DbConnection.
2024-07-29 13:29:35.416 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 13:29:35.420 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:29:35.422 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:29:35.423 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 13:29:35.423 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:29:35.423 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:29:35.432 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-29 13:29:35.458 -05:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-29 13:29:35.478 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:29:35.479 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType1<int, string, string, int, int, string, bool>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            id -> 0
            titulo -> 1
            autor -> 2
            anio -> 3
            idGenero -> 4
            genero -> 5
            activo -> 6
        SELECT l.Id AS id, l.Titulo AS titulo, l.Autor AS autor, l.Anio AS anio, l.IdGenero AS idGenero, g.Nombre AS genero, l.Activo AS activo
        FROM Libro AS l
        INNER JOIN Genero AS g ON l.IdGenero == g.Id), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType1<int, string, string, int, int, string, bool>>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-29 13:29:35.480 -05:00 [DBG] Creating DbConnection.
2024-07-29 13:29:35.480 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 13:29:35.480 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:29:35.482 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:29:35.482 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:29:35.482 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:29:35.482 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:29:35.483 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:29:35.483 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:29:35.483 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:29:35.483 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:29:35.483 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:29:35.483 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:29:35.483 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:29:35.483 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:29:35.484 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:29:35.484 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 13:29:35.485 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:29:35.485 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:29:35.485 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-29 13:29:35.488 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:29:35.488 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 29ms reading results.
2024-07-29 13:29:35.491 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:29:35.491 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-29 13:29:35.491 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 13:29:35.492 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:29:35.492 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 13:29:35.492 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:29:35.492 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 13:29:35.495 -05:00 [INF] Consulta de libros exitosa
2024-07-29 13:29:35.496 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 195.2349ms.
2024-07-29 13:29:35.496 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 155.6396ms.
2024-07-29 13:29:35.497 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 13:29:35.497 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 13:29:35.497 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 13:29:35.497 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 13:29:35.497 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 13:29:35.498 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 13:29:35.498 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 13:29:35.498 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 13:29:35.498 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 13:29:35.498 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 13:29:35.498 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 13:29:35.498 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 13:29:35.503 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 250.2855ms
2024-07-29 13:29:35.503 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 13:29:35.503 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 247.008ms
2024-07-29 13:29:35.503 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 13:29:35.504 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:29:35.504 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 13:29:35.504 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 335.2984ms
2024-07-29 13:29:35.504 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-29 13:29:35.506 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 13:29:35.506 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:29:35.506 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 13:29:35.506 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 337.1634ms
2024-07-29 13:29:43.025 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-29 13:29:43.025 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-07-29 13:29:43.025 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-29 13:29:43.025 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-29 13:29:43.025 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 13:29:43.025 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 13:29:43.025 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 13:29:43.025 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 13:29:43.025 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 13:29:43.025 -05:00 [INF] CORS policy execution successful.
2024-07-29 13:29:43.026 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 13:29:43.026 -05:00 [DBG] The request is a preflight request.
2024-07-29 13:29:43.026 -05:00 [INF] CORS policy execution successful.
2024-07-29 13:29:43.026 -05:00 [DBG] The request is a preflight request.
2024-07-29 13:29:43.026 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 1.322ms
2024-07-29 13:29:43.026 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 1.2174ms
2024-07-29 13:29:43.032 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-29 13:29:43.032 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-07-29 13:29:43.032 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-29 13:29:43.033 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-29 13:29:43.033 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-29 13:29:43.033 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-07-29 13:29:43.033 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 13:29:43.033 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-29 13:29:43.033 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 13:29:43.033 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 13:29:43.033 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 13:29:43.033 -05:00 [INF] CORS policy execution successful.
2024-07-29 13:29:43.033 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 13:29:43.033 -05:00 [INF] CORS policy execution successful.
2024-07-29 13:29:43.040 -05:00 [DBG] Successfully validated the token.
2024-07-29 13:29:43.040 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 13:29:43.040 -05:00 [DBG] Successfully validated the token.
2024-07-29 13:29:43.042 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 13:29:43.053 -05:00 [DBG] Authorization was successful.
2024-07-29 13:29:43.053 -05:00 [DBG] Authorization was successful.
2024-07-29 13:29:43.054 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 13:29:43.054 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-29 13:29:43.054 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-29 13:29:43.054 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-07-29 13:29:43.054 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 13:29:43.054 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 13:29:43.054 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 13:29:43.055 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 13:29:43.055 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 13:29:43.055 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 13:29:43.055 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 13:29:43.055 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 13:29:43.055 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-29 13:29:43.055 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 13:29:43.056 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-29 13:29:43.055 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 13:29:43.057 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-29 13:29:43.068 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-29 13:29:43.069 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-29 13:29:43.070 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-29 13:29:43.070 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 13:29:43.071 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 13:29:43.071 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-29 13:29:43.071 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 13:29:43.170 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-29 13:29:43.217 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-29 13:29:43.219 -05:00 [DBG] Consultando libros...
2024-07-29 13:29:43.319 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 13:29:43.319 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 13:29:43.321 -05:00 [DBG] Creating DbConnection.
2024-07-29 13:29:43.321 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 13:29:43.321 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:29:43.322 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:29:43.322 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 13:29:43.322 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:29:43.322 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:29:43.322 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-29 13:29:43.338 -05:00 [DBG] Creating DbConnection.
2024-07-29 13:29:43.338 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 13:29:43.338 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:29:43.338 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:29:43.338 -05:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-29 13:29:43.338 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 13:29:43.338 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:29:43.338 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:29:43.338 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:29:43.338 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-29 13:29:43.339 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:29:43.339 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:29:43.339 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:29:43.339 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:29:43.340 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:29:43.340 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:29:43.341 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:29:43.341 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:29:43.341 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:29:43.341 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-29 13:29:43.341 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:29:43.341 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:29:43.341 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:29:43.342 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:29:43.342 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:29:43.342 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 13:29:43.342 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-07-29 13:29:43.342 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:29:43.342 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:29:43.342 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 13:29:43.342 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 13:29:43.345 -05:00 [INF] Consulta de libros exitosa
2024-07-29 13:29:43.345 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 174.8404ms.
2024-07-29 13:29:43.346 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 13:29:43.346 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 128.2177ms.
2024-07-29 13:29:43.346 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 13:29:43.346 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 13:29:43.346 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 13:29:43.346 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 13:29:43.346 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 13:29:43.346 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 13:29:43.346 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 13:29:43.347 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 13:29:43.347 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 13:29:43.347 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 13:29:43.347 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 13:29:43.347 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 292.3212ms
2024-07-29 13:29:43.347 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-29 13:29:43.347 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 290.7041ms
2024-07-29 13:29:43.348 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 13:29:43.348 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 13:29:43.348 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 13:29:43.348 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:29:43.348 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:29:43.348 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 13:29:43.348 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 13:29:43.348 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 316.4497ms
2024-07-29 13:29:43.348 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 315.6942ms
2024-07-29 13:29:50.887 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 13:29:50.887 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 13:29:50.887 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 13:29:50.887 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 13:29:50.888 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 13:29:50.888 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 13:29:50.888 -05:00 [INF] CORS policy execution successful.
2024-07-29 13:29:50.888 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 13:29:50.888 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 13:29:50.891 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 13:29:50.891 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 13:29:50.891 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 13:29:50.891 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 13:29:50.891 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 13:29:50.891 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 13:29:50.891 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 13:29:50.892 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 13:29:50.923 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 13:29:50.924 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 13:29:50.926 -05:00 [DBG] Compiling query expression: 
'DbSet<Archivo>()
    .Where(A => A.FechaEliminacion == null)'
2024-07-29 13:29:50.934 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Archivo>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Archivo.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Archivo.FechaCarga (DateTime) Required, 1], [Property: Archivo.FechaEliminacion (DateTime?), 2], [Property: Archivo.Nombre (string) Required, 3], [Property: Archivo.NumeroDescargas (int) Required, 4], [Property: Archivo.RutaDocumento (string) Required, 5] }
        SELECT a.Id, a.FechaCarga, a.FechaEliminacion, a.Nombre, a.NumeroDescargas, a.RutaDocumento
        FROM Archivo AS a
        WHERE a.FechaEliminacion == NULL), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Archivo>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-29 13:29:50.938 -05:00 [DBG] Creating DbConnection.
2024-07-29 13:29:50.938 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 13:29:50.938 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:29:50.938 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:29:50.938 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 13:29:50.938 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:29:50.938 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:29:50.939 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 13:29:50.942 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 13:29:50.951 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:29:50.972 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:29:50.972 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:29:50.972 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:29:50.972 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:29:50.972 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 30ms reading results.
2024-07-29 13:29:50.973 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:29:50.973 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 13:29:50.973 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 50.017ms.
2024-07-29 13:29:50.973 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 13:29:50.973 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 13:29:50.973 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 13:29:50.973 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 13:29:50.973 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 13:29:50.973 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 13:29:50.988 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 96.5606ms
2024-07-29 13:29:50.988 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 13:29:50.988 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 13:29:50.988 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:29:50.988 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 13:29:50.989 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 101.6381ms
2024-07-29 13:32:02.013 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 13:32:02.017 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 13:32:02.017 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 13:32:02.017 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 13:32:02.017 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 13:32:02.017 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 13:32:02.017 -05:00 [INF] CORS policy execution successful.
2024-07-29 13:32:02.018 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 13:32:02.018 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 13:32:02.018 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 13:32:02.018 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 13:32:02.018 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 13:32:02.018 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 13:32:02.018 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 13:32:02.019 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 13:32:02.019 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 13:32:02.019 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 13:32:02.064 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 13:32:02.065 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 13:32:02.066 -05:00 [DBG] Creating DbConnection.
2024-07-29 13:32:02.066 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 13:32:02.066 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:32:02.066 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:32:02.066 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 13:32:02.067 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:32:02.067 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:32:02.067 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 13:32:02.080 -05:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 13:32:02.080 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:32:02.080 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:32:02.081 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:32:02.081 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:32:02.081 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:32:02.081 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-29 13:32:02.081 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:32:02.082 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 13:32:02.082 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 17.8321ms.
2024-07-29 13:32:02.082 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 13:32:02.082 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 13:32:02.082 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 13:32:02.082 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 13:32:02.082 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 13:32:02.082 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 13:32:02.083 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 64.0238ms
2024-07-29 13:32:02.083 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 13:32:02.083 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 13:32:02.083 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:32:02.083 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 13:32:02.083 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 70.2183ms
2024-07-29 13:37:08.884 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 13:37:08.884 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 13:37:08.884 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 13:37:08.884 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 13:37:08.885 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 13:37:08.885 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 13:37:08.885 -05:00 [INF] CORS policy execution successful.
2024-07-29 13:37:08.886 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 13:37:08.887 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 13:37:08.887 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 13:37:08.887 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 13:37:08.887 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 13:37:08.887 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 13:37:08.887 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 13:37:08.887 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 13:37:08.888 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 13:37:08.888 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 13:37:08.955 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 13:37:08.956 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 13:37:08.957 -05:00 [DBG] Creating DbConnection.
2024-07-29 13:37:08.957 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 13:37:08.957 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:37:09.105 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:37:09.105 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 13:37:09.106 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:37:09.106 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:37:09.106 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 13:37:09.183 -05:00 [INF] Executed DbCommand (77ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
2024-07-29 13:37:09.184 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:37:09.184 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:37:09.184 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:37:09.184 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:37:09.184 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:37:09.184 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-29 13:37:09.185 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:37:09.185 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 13:37:09.185 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 230.0117ms.
2024-07-29 13:37:09.185 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 13:37:09.185 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 13:37:09.185 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 13:37:09.185 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 13:37:09.185 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 13:37:09.186 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 13:37:09.186 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 298.3876ms
2024-07-29 13:37:09.186 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 13:37:09.186 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 13:37:09.186 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:37:09.186 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 13:37:09.187 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 303.3276ms
2024-07-29 13:44:44.665 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-29 13:44:44.795 -05:00 [DBG] Hosting starting
2024-07-29 13:44:44.847 -05:00 [INF] User profile is available. Using 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-29 13:44:44.872 -05:00 [DBG] Reading data from file 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys\key-12ed5171-7863-4d3e-a216-6f5439158e60.xml'.
2024-07-29 13:44:44.885 -05:00 [DBG] Found key {12ed5171-7863-4d3e-a216-6f5439158e60}.
2024-07-29 13:44:44.894 -05:00 [DBG] Considering key {12ed5171-7863-4d3e-a216-6f5439158e60} with expiration date 2024-09-28 19:27:42Z as default key.
2024-07-29 13:44:44.897 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-29 13:44:44.899 -05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-29 13:44:44.901 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-29 13:44:44.909 -05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-29 13:44:44.911 -05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-29 13:44:44.913 -05:00 [DBG] Using key {12ed5171-7863-4d3e-a216-6f5439158e60} as the default key.
2024-07-29 13:44:44.914 -05:00 [DBG] Key ring with default key {12ed5171-7863-4d3e-a216-6f5439158e60} was loaded during application startup.
2024-07-29 13:44:45.270 -05:00 [INF] Now listening on: https://localhost:7299
2024-07-29 13:44:45.270 -05:00 [INF] Now listening on: http://localhost:5219
2024-07-29 13:44:45.270 -05:00 [DBG] Loaded hosting startup assembly biblioteca-backend
2024-07-29 13:44:45.270 -05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-29 13:44:45.270 -05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-29 13:44:45.270 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-29 13:44:45.270 -05:00 [INF] Hosting environment: Development
2024-07-29 13:44:45.270 -05:00 [INF] Content root path: C:\Users\spatino\Documents\Proyeco - Biblioteca\biblioteca-backend
2024-07-29 13:44:45.271 -05:00 [DBG] Hosting started
2024-07-29 13:44:45.511 -05:00 [DBG] Connection id "0HN5FVQ23VTAT" received FIN.
2024-07-29 13:44:45.628 -05:00 [DBG] Connection id "0HN5FVQ23VTAT" accepted.
2024-07-29 13:44:45.674 -05:00 [DBG] Connection id "0HN5FVQ23VTAT" started.
2024-07-29 13:44:45.913 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-29 13:44:45.969 -05:00 [DBG] Connection id "0HN5FVQ23VTAT" stopped.
2024-07-29 13:44:45.972 -05:00 [DBG] Connection id "0HN5FVQ23VTAT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-29 13:44:46.033 -05:00 [DBG] Connection id "0HN5FVQ23VTAU" accepted.
2024-07-29 13:44:46.035 -05:00 [DBG] Connection id "0HN5FVQ23VTAU" started.
2024-07-29 13:44:46.183 -05:00 [DBG] Connection 0HN5FVQ23VTAU established using the following protocol: "Tls12"
2024-07-29 13:44:46.267 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/index.html - null null
2024-07-29 13:44:46.579 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-29 13:44:46.601 -05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-29 13:44:46.602 -05:00 [DBG] Request did not match any endpoints
2024-07-29 13:44:46.710 -05:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-07-29 13:44:46.713 -05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-29 13:44:46.781 -05:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-07-29 13:44:46.783 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
2024-07-29 13:44:46.782 -05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-29 13:44:46.793 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/index.html - 200 null text/html;charset=utf-8 536.4457ms
2024-07-29 13:44:46.808 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 24.8946ms
2024-07-29 13:44:46.816 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
2024-07-29 13:44:47.048 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 232.4051ms
2024-07-29 13:44:47.204 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
2024-07-29 13:44:47.204 -05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-29 13:44:47.205 -05:00 [DBG] Request did not match any endpoints
2024-07-29 13:44:47.380 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 176.2707ms
2024-07-29 13:45:01.898 -05:00 [DBG] Connection id "0HN5FVQ23VTAV" accepted.
2024-07-29 13:45:01.898 -05:00 [DBG] Connection id "0HN5FVQ23VTAV" started.
2024-07-29 13:45:01.909 -05:00 [DBG] Connection 0HN5FVQ23VTAV established using the following protocol: "Tls12"
2024-07-29 13:45:01.911 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 13:45:01.924 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 13:45:01.929 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 13:45:01.930 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 13:45:01.933 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 13:45:01.937 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 13:45:01.937 -05:00 [INF] CORS policy execution successful.
2024-07-29 13:45:02.049 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 13:45:02.051 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 13:45:02.074 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 13:45:02.075 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 13:45:02.075 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 13:45:02.076 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 13:45:02.076 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 13:45:02.076 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 13:45:02.078 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 13:45:02.258 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-29 13:45:02.286 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 13:45:02.390 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 13:45:03.555 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 13:45:03.618 -05:00 [DBG] Compiling query expression: 
'DbSet<Archivo>()
    .Where(A => A.FechaEliminacion == null)
    .OrderByDescending(A => A.FechaCarga)'
2024-07-29 13:45:03.875 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Archivo>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Archivo.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Archivo.FechaCarga (DateTime) Required, 1], [Property: Archivo.FechaEliminacion (DateTime?), 2], [Property: Archivo.Nombre (string) Required, 3], [Property: Archivo.NumeroDescargas (int) Required, 4], [Property: Archivo.RutaDocumento (string) Required, 5] }
        SELECT a.Id, a.FechaCarga, a.FechaEliminacion, a.Nombre, a.NumeroDescargas, a.RutaDocumento
        FROM Archivo AS a
        WHERE a.FechaEliminacion == NULL
        ORDER BY a.FechaCarga DESC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Archivo>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-29 13:45:03.917 -05:00 [DBG] Creating DbConnection.
2024-07-29 13:45:03.939 -05:00 [DBG] Created DbConnection. (20ms).
2024-07-29 13:45:03.942 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:45:04.269 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:45:04.272 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 13:45:04.280 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-07-29 13:45:04.281 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-07-29 13:45:04.292 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 13:45:04.326 -05:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 13:45:04.368 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:45:04.394 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:45:04.395 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:45:04.395 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:45:04.398 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:45:04.405 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 74ms reading results.
2024-07-29 13:45:04.407 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:45:04.415 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (8ms).
2024-07-29 13:45:04.419 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2025.1865ms.
2024-07-29 13:45:04.423 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 13:45:04.424 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 13:45:04.425 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 13:45:04.425 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 13:45:04.426 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 13:45:04.427 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 13:45:04.462 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 2378.6148ms
2024-07-29 13:45:04.462 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 13:45:04.467 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 13:45:04.486 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:45:04.488 -05:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-07-29 13:45:04.489 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 2577.91ms
2024-07-29 13:45:46.179 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Archivos?idPerfil=31 - multipart/form-data; boundary=----WebKitFormBoundarylJA3f5nTwvdvUvnW 2427
2024-07-29 13:45:46.182 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos'
2024-07-29 13:45:46.182 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend)' with route pattern 'api/Archivos' is valid for the request path '/api/Archivos'
2024-07-29 13:45:46.183 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend)'
2024-07-29 13:45:46.185 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 13:45:46.186 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 13:45:46.186 -05:00 [INF] CORS policy execution successful.
2024-07-29 13:45:46.188 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 13:45:46.188 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend)'
2024-07-29 13:45:46.208 -05:00 [INF] Route matched with {action = "CargarDocumento", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CargarDocumento(Microsoft.AspNetCore.Http.IFormFile, Int32) on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 13:45:46.208 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 13:45:46.209 -05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-07-29 13:45:46.209 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 13:45:46.209 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 13:45:46.209 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 13:45:46.210 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 13:45:46.212 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 13:45:46.233 -05:00 [DBG] Connection id "0HN5FVQ23VTAV", Request id "0HN5FVQ23VTAV:00000003": started reading request body.
2024-07-29 13:45:46.233 -05:00 [DBG] Connection id "0HN5FVQ23VTAV", Request id "0HN5FVQ23VTAV:00000003": done reading request body.
2024-07-29 13:45:46.246 -05:00 [DBG] Attempting to bind parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile' ...
2024-07-29 13:45:46.250 -05:00 [DBG] Attempting to bind parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile' using the name 'archivo' in request data ...
2024-07-29 13:45:46.251 -05:00 [DBG] Done attempting to bind parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-07-29 13:45:46.251 -05:00 [DBG] Done attempting to bind parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-07-29 13:45:46.251 -05:00 [DBG] Attempting to validate the bound parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile' ...
2024-07-29 13:45:46.258 -05:00 [DBG] Done attempting to validate the bound parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-07-29 13:45:46.260 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 13:45:46.261 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-29 13:45:46.262 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 13:45:46.262 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 13:45:46.262 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 13:45:46.263 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 13:45:46.294 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend) - Validation state: "Valid"
2024-07-29 13:45:46.313 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 13:45:46.315 -05:00 [DBG] Compiling query expression: 
'DbSet<Archivo>()
    .FirstOrDefault(A => A.RutaDocumento == __ruta_0)'
2024-07-29 13:45:46.321 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Archivo>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Archivo.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Archivo.FechaCarga (DateTime) Required, 1], [Property: Archivo.FechaEliminacion (DateTime?), 2], [Property: Archivo.Nombre (string) Required, 3], [Property: Archivo.NumeroDescargas (int) Required, 4], [Property: Archivo.RutaDocumento (string) Required, 5] }
        SELECT TOP(1) a.Id, a.FechaCarga, a.FechaEliminacion, a.Nombre, a.NumeroDescargas, a.RutaDocumento
        FROM Archivo AS a
        WHERE a.RutaDocumento == @__ruta_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Archivo>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-29 13:45:46.325 -05:00 [DBG] Creating DbConnection.
2024-07-29 13:45:46.325 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 13:45:46.325 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:45:46.326 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:45:46.326 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 13:45:46.326 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:45:46.329 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-07-29 13:45:46.332 -05:00 [DBG] Executing DbCommand [Parameters=[@__ruta_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[RutaDocumento] = @__ruta_0
2024-07-29 13:45:46.356 -05:00 [INF] Executed DbCommand (26ms) [Parameters=[@__ruta_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[RutaDocumento] = @__ruta_0
2024-07-29 13:45:46.356 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:45:46.356 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 13:45:46.356 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:45:46.357 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 13:45:46.382 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'Archivo.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:45:46.392 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:45:46.394 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 13:45:46.396 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 13:45:46.409 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 13:45:46.544 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:45:46.544 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:45:46.546 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 13:45:46.546 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:45:46.547 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-07-29 13:45:46.548 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Archivo] ([FechaCarga], [FechaEliminacion], [Nombre], [NumeroDescargas], [RutaDocumento])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-07-29 13:45:46.552 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Archivo] ([FechaCarga], [FechaEliminacion], [Nombre], [NumeroDescargas], [RutaDocumento])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-07-29 13:45:46.566 -05:00 [DBG] The foreign key property 'Archivo.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-29 13:45:46.578 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:45:46.578 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 25ms reading results.
2024-07-29 13:45:46.579 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:45:46.579 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 13:45:46.596 -05:00 [DBG] An entity of type 'Archivo' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:45:46.597 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 13:45:46.600 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'RegistroArchivoPerfil.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:45:46.617 -05:00 [DBG] The navigation 'RegistroArchivoPerfil.Archivo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:45:46.630 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'RegistroArchivoPerfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:45:46.631 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 13:45:46.631 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 13:45:46.636 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 13:45:46.640 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:45:46.640 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:45:46.640 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 13:45:46.640 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:45:46.641 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:45:46.641 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 13:45:46.647 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 13:45:46.648 -05:00 [DBG] The foreign key property 'RegistroArchivoPerfil.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-29 13:45:46.651 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:45:46.652 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-07-29 13:45:46.652 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:45:46.652 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 13:45:46.654 -05:00 [DBG] An entity of type 'RegistroArchivoPerfil' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:45:46.654 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 13:45:46.654 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 360.284ms.
2024-07-29 13:45:46.655 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 13:45:46.655 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 13:45:46.655 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 13:45:46.655 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 13:45:46.655 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 13:45:46.655 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-29 13:45:46.660 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend) in 451.0692ms
2024-07-29 13:45:46.661 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend)'
2024-07-29 13:45:46.678 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 13:45:46.678 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:45:46.678 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 13:45:46.679 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Archivos?idPerfil=31 - 200 null application/json; charset=utf-8 500.7844ms
2024-07-29 13:45:48.543 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 13:45:48.546 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 13:45:48.547 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 13:45:48.548 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 13:45:48.548 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 13:45:48.549 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 13:45:48.554 -05:00 [INF] CORS policy execution successful.
2024-07-29 13:45:48.558 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 13:45:48.558 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 13:45:48.559 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 13:45:48.565 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 13:45:48.565 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 13:45:48.566 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 13:45:48.566 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 13:45:48.568 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 13:45:48.568 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 13:45:48.571 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 13:45:48.618 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 13:45:48.682 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 13:45:48.687 -05:00 [DBG] Creating DbConnection.
2024-07-29 13:45:48.687 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 13:45:48.687 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:45:48.687 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:45:48.687 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 13:45:48.688 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:45:48.688 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:45:48.688 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 13:45:48.690 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 13:45:48.690 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:45:48.690 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:45:48.690 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:45:48.690 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:45:48.691 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:45:48.691 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:45:48.691 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 13:45:48.691 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:45:48.691 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 13:45:48.691 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 72.5163ms.
2024-07-29 13:45:48.691 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 13:45:48.691 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 13:45:48.691 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 13:45:48.691 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 13:45:48.691 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 13:45:48.691 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 13:45:48.691 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 123.8103ms
2024-07-29 13:45:48.692 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 13:45:48.692 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 13:45:48.692 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:45:48.692 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 13:45:48.692 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 149.5596ms
2024-07-29 13:45:56.962 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Archivos?idArchivo=14&idPerfil=31 - null null
2024-07-29 13:45:56.962 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos'
2024-07-29 13:45:56.962 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 13:45:56.962 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 13:45:56.962 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 13:45:56.962 -05:00 [INF] CORS policy execution successful.
2024-07-29 13:45:56.963 -05:00 [DBG] The request is a preflight request.
2024-07-29 13:45:56.964 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Archivos?idArchivo=14&idPerfil=31 - 204 null null 1.6976ms
2024-07-29 13:45:56.966 -05:00 [INF] Request starting HTTP/2 DELETE https://localhost:7299/api/Archivos?idArchivo=14&idPerfil=31 - null null
2024-07-29 13:45:56.967 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos'
2024-07-29 13:45:56.967 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.EliminarDocumento (biblioteca-backend)' with route pattern 'api/Archivos' is valid for the request path '/api/Archivos'
2024-07-29 13:45:56.967 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.EliminarDocumento (biblioteca-backend)'
2024-07-29 13:45:56.967 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 13:45:56.967 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 13:45:56.967 -05:00 [INF] CORS policy execution successful.
2024-07-29 13:45:56.967 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 13:45:56.967 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.EliminarDocumento (biblioteca-backend)'
2024-07-29 13:45:56.968 -05:00 [INF] Route matched with {action = "EliminarDocumento", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult EliminarDocumento(Int32, Int32) on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 13:45:56.968 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 13:45:56.968 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 13:45:56.969 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 13:45:56.969 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 13:45:56.969 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 13:45:56.969 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 13:45:56.969 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 13:45:56.969 -05:00 [DBG] Attempting to bind parameter 'idArchivo' of type 'System.Int32' ...
2024-07-29 13:45:56.970 -05:00 [DBG] Attempting to bind parameter 'idArchivo' of type 'System.Int32' using the name 'idArchivo' in request data ...
2024-07-29 13:45:56.970 -05:00 [DBG] Done attempting to bind parameter 'idArchivo' of type 'System.Int32'.
2024-07-29 13:45:56.970 -05:00 [DBG] Done attempting to bind parameter 'idArchivo' of type 'System.Int32'.
2024-07-29 13:45:56.970 -05:00 [DBG] Attempting to validate the bound parameter 'idArchivo' of type 'System.Int32' ...
2024-07-29 13:45:56.970 -05:00 [DBG] Done attempting to validate the bound parameter 'idArchivo' of type 'System.Int32'.
2024-07-29 13:45:56.970 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 13:45:56.970 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-29 13:45:56.970 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 13:45:56.970 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 13:45:56.970 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 13:45:56.970 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 13:45:56.996 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.EliminarDocumento (biblioteca-backend) - Validation state: "Valid"
2024-07-29 13:45:56.998 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 13:45:56.999 -05:00 [DBG] Compiling query expression: 
'DbSet<Archivo>()
    .FirstOrDefault(a => a.Id == __idArchivo_0)'
2024-07-29 13:45:57.006 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Archivo>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Archivo.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Archivo.FechaCarga (DateTime) Required, 1], [Property: Archivo.FechaEliminacion (DateTime?), 2], [Property: Archivo.Nombre (string) Required, 3], [Property: Archivo.NumeroDescargas (int) Required, 4], [Property: Archivo.RutaDocumento (string) Required, 5] }
        SELECT TOP(1) a.Id, a.FechaCarga, a.FechaEliminacion, a.Nombre, a.NumeroDescargas, a.RutaDocumento
        FROM Archivo AS a
        WHERE a.Id == @__idArchivo_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Archivo>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-29 13:45:57.006 -05:00 [DBG] Creating DbConnection.
2024-07-29 13:45:57.006 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 13:45:57.006 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:45:57.006 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:45:57.006 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 13:45:57.007 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:45:57.007 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:45:57.007 -05:00 [DBG] Executing DbCommand [Parameters=[@__idArchivo_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[Id] = @__idArchivo_0
2024-07-29 13:45:57.008 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__idArchivo_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[Id] = @__idArchivo_0
2024-07-29 13:45:57.008 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:45:57.009 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:45:57.009 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 13:45:57.009 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:45:57.009 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 13:45:57.009 -05:00 [DBG] An entity of type 'Archivo' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:45:57.009 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 13:45:57.009 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 13:45:57.009 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 13:45:57.014 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:45:57.014 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:45:57.014 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 13:45:57.014 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:45:57.015 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:45:57.015 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Archivo] SET [FechaCarga] = @p0, [FechaEliminacion] = @p1, [Nombre] = @p2, [NumeroDescargas] = @p3, [RutaDocumento] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-29 13:45:57.021 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Archivo] SET [FechaCarga] = @p0, [FechaEliminacion] = @p1, [Nombre] = @p2, [NumeroDescargas] = @p3, [RutaDocumento] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-29 13:45:57.021 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:45:57.021 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 13:45:57.021 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:45:57.021 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 13:45:57.023 -05:00 [DBG] An entity of type 'Archivo' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:45:57.023 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 13:45:57.025 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'RegistroArchivoPerfil.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:45:57.025 -05:00 [DBG] The navigation 'RegistroArchivoPerfil.Archivo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:45:57.025 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'RegistroArchivoPerfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:45:57.025 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 13:45:57.025 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 13:45:57.026 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 13:45:57.027 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:45:57.027 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:45:57.027 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 13:45:57.027 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:45:57.027 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:45:57.028 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 13:45:57.029 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 13:45:57.029 -05:00 [DBG] The foreign key property 'RegistroArchivoPerfil.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-29 13:45:57.029 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:45:57.029 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 13:45:57.029 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:45:57.029 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 13:45:57.029 -05:00 [DBG] An entity of type 'RegistroArchivoPerfil' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:45:57.029 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 13:45:57.029 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.EliminarDocumento (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 33.2127ms.
2024-07-29 13:45:57.029 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 13:45:57.030 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 13:45:57.030 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 13:45:57.030 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 13:45:57.030 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 13:45:57.030 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-29 13:45:57.030 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.EliminarDocumento (biblioteca-backend) in 61.2282ms
2024-07-29 13:45:57.030 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.EliminarDocumento (biblioteca-backend)'
2024-07-29 13:45:57.030 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 13:45:57.030 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:45:57.031 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 13:45:57.031 -05:00 [INF] Request finished HTTP/2 DELETE https://localhost:7299/api/Archivos?idArchivo=14&idPerfil=31 - 200 null application/json; charset=utf-8 64.3595ms
2024-07-29 13:45:58.399 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 13:45:58.402 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 13:45:58.402 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 13:45:58.402 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 13:45:58.402 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 13:45:58.402 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 13:45:58.402 -05:00 [INF] CORS policy execution successful.
2024-07-29 13:45:58.402 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 13:45:58.402 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 13:45:58.402 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 13:45:58.403 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 13:45:58.403 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 13:45:58.403 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 13:45:58.403 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 13:45:58.403 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 13:45:58.403 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 13:45:58.403 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 13:45:58.453 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 13:45:58.454 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 13:45:58.454 -05:00 [DBG] Creating DbConnection.
2024-07-29 13:45:58.454 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 13:45:58.454 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:45:58.454 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:45:58.455 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 13:45:58.455 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:45:58.455 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:45:58.455 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 13:45:58.456 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 13:45:58.456 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:45:58.456 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:45:58.456 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:45:58.456 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:45:58.456 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:45:58.456 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 13:45:58.456 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:45:58.456 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 13:45:58.456 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.1419ms.
2024-07-29 13:45:58.457 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 13:45:58.457 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 13:45:58.457 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 13:45:58.457 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 13:45:58.457 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 13:45:58.457 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 13:45:58.457 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 54.0512ms
2024-07-29 13:45:58.457 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 13:45:58.457 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 13:45:58.457 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:45:58.457 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 13:45:58.457 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 58.9534ms
2024-07-29 13:51:33.890 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 13:51:33.890 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 13:51:33.891 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 13:51:33.891 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 13:51:33.892 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 13:51:33.892 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 13:51:33.892 -05:00 [INF] CORS policy execution successful.
2024-07-29 13:51:33.892 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 13:51:33.893 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 13:51:33.893 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 13:51:33.893 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 13:51:33.894 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 13:51:33.894 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 13:51:33.894 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 13:51:33.894 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 13:51:33.894 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 13:51:33.895 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 13:51:33.945 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 13:51:33.947 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 13:51:33.947 -05:00 [DBG] Creating DbConnection.
2024-07-29 13:51:33.947 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 13:51:33.948 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:51:33.959 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:51:33.959 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 13:51:33.959 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:51:33.960 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:51:33.960 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 13:51:33.965 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 13:51:33.965 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:51:33.965 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:51:33.965 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:51:33.965 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:51:33.966 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:51:33.966 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 13:51:33.966 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:51:33.966 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 13:51:33.966 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 20.3788ms.
2024-07-29 13:51:33.966 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 13:51:33.966 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 13:51:33.966 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 13:51:33.966 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 13:51:33.966 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 13:51:33.966 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 13:51:33.967 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 72.733ms
2024-07-29 13:51:33.967 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 13:51:33.967 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 13:51:33.967 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:51:33.968 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 13:51:33.968 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 78.5426ms
2024-07-29 13:52:07.568 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 13:52:07.568 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 13:52:07.568 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 13:52:07.568 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 13:52:07.568 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 13:52:07.568 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 13:52:07.568 -05:00 [INF] CORS policy execution successful.
2024-07-29 13:52:07.568 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 13:52:07.568 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 13:52:07.569 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 13:52:07.569 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 13:52:07.569 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 13:52:07.569 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 13:52:07.569 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 13:52:07.569 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 13:52:07.569 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 13:52:07.573 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 13:52:07.607 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 13:52:07.607 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 13:52:07.608 -05:00 [DBG] Creating DbConnection.
2024-07-29 13:52:07.608 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 13:52:07.608 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:52:07.608 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:52:07.608 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 13:52:07.608 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:52:07.608 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:52:07.608 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 13:52:07.609 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 13:52:07.609 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:52:07.610 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:52:07.610 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:52:07.610 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:52:07.610 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:52:07.610 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 13:52:07.610 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:52:07.610 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 13:52:07.610 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.1406ms.
2024-07-29 13:52:07.610 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 13:52:07.610 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 13:52:07.610 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 13:52:07.610 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 13:52:07.610 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 13:52:07.610 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 13:52:07.610 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 41.15ms
2024-07-29 13:52:07.610 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 13:52:07.611 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 13:52:07.611 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:52:07.611 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 13:52:07.611 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 43.2492ms
2024-07-29 13:53:07.157 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 13:53:07.157 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 13:53:07.158 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 13:53:07.158 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 13:53:07.158 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 13:53:07.159 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 13:53:07.159 -05:00 [INF] CORS policy execution successful.
2024-07-29 13:53:07.159 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 13:53:07.159 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 13:53:07.159 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 13:53:07.159 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 13:53:07.159 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 13:53:07.159 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 13:53:07.159 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 13:53:07.160 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 13:53:07.160 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 13:53:07.160 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 13:53:07.226 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 13:53:07.227 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 13:53:07.227 -05:00 [DBG] Creating DbConnection.
2024-07-29 13:53:07.227 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 13:53:07.227 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:53:07.228 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:53:07.228 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 13:53:07.228 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:53:07.228 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:53:07.228 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 13:53:07.233 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 13:53:07.233 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:53:07.233 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:53:07.233 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:53:07.233 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:53:07.234 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:53:07.234 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 13:53:07.234 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:53:07.234 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 13:53:07.234 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 8.0144ms.
2024-07-29 13:53:07.234 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 13:53:07.234 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 13:53:07.234 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 13:53:07.234 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 13:53:07.234 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 13:53:07.234 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 13:53:07.235 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 75.1353ms
2024-07-29 13:53:07.235 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 13:53:07.235 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 13:53:07.235 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:53:07.235 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 13:53:07.235 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 77.9821ms
2024-07-29 13:53:28.626 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 13:53:28.627 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 13:53:28.627 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 13:53:28.627 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 13:53:28.627 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 13:53:28.627 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 13:53:28.627 -05:00 [INF] CORS policy execution successful.
2024-07-29 13:53:28.628 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 13:53:28.632 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 13:53:28.632 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 13:53:28.632 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 13:53:28.632 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 13:53:28.632 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 13:53:28.632 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 13:53:28.633 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 13:53:28.633 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 13:53:28.633 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 13:53:28.678 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 13:53:28.682 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 13:53:28.683 -05:00 [DBG] Creating DbConnection.
2024-07-29 13:53:28.683 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 13:53:28.683 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:53:28.683 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:53:28.683 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 13:53:28.683 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:53:28.683 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:53:28.683 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 13:53:28.687 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 13:53:28.688 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:53:28.688 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:53:28.688 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:53:28.688 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:53:28.688 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:53:28.688 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 13:53:28.688 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:53:28.688 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 13:53:28.688 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 9.9814ms.
2024-07-29 13:53:28.688 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 13:53:28.688 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 13:53:28.688 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 13:53:28.688 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 13:53:28.688 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 13:53:28.688 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 13:53:28.689 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 55.9873ms
2024-07-29 13:53:28.689 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 13:53:28.689 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 13:53:28.689 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:53:28.689 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 13:53:28.689 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 63.101ms
2024-07-29 13:55:46.882 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos?idArchivo=12&idPerfil=31 - null null
2024-07-29 13:55:46.882 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos'
2024-07-29 13:55:46.883 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)' with route pattern 'api/Archivos' is valid for the request path '/api/Archivos'
2024-07-29 13:55:46.883 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 13:55:46.883 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 13:55:46.893 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 13:55:46.893 -05:00 [INF] CORS policy execution successful.
2024-07-29 13:55:46.894 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 13:55:46.894 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 13:55:46.899 -05:00 [INF] Route matched with {action = "DescargarDocumento", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult DescargarDocumento(Int32, Int32) on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 13:55:46.899 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 13:55:46.899 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 13:55:46.899 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 13:55:46.900 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 13:55:46.900 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 13:55:46.900 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 13:55:46.900 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 13:55:46.900 -05:00 [DBG] Attempting to bind parameter 'idArchivo' of type 'System.Int32' ...
2024-07-29 13:55:46.900 -05:00 [DBG] Attempting to bind parameter 'idArchivo' of type 'System.Int32' using the name 'idArchivo' in request data ...
2024-07-29 13:55:46.900 -05:00 [DBG] Done attempting to bind parameter 'idArchivo' of type 'System.Int32'.
2024-07-29 13:55:46.900 -05:00 [DBG] Done attempting to bind parameter 'idArchivo' of type 'System.Int32'.
2024-07-29 13:55:46.900 -05:00 [DBG] Attempting to validate the bound parameter 'idArchivo' of type 'System.Int32' ...
2024-07-29 13:55:46.900 -05:00 [DBG] Done attempting to validate the bound parameter 'idArchivo' of type 'System.Int32'.
2024-07-29 13:55:46.900 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 13:55:46.900 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-29 13:55:46.900 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 13:55:46.900 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 13:55:46.901 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 13:55:46.901 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 13:55:46.927 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend) - Validation state: "Valid"
2024-07-29 13:55:46.929 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 13:55:46.929 -05:00 [DBG] Compiling query expression: 
'DbSet<Archivo>()
    .FirstOrDefault(A => A.Id == __idArchivo_0)'
2024-07-29 13:55:46.934 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Archivo>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Archivo.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Archivo.FechaCarga (DateTime) Required, 1], [Property: Archivo.FechaEliminacion (DateTime?), 2], [Property: Archivo.Nombre (string) Required, 3], [Property: Archivo.NumeroDescargas (int) Required, 4], [Property: Archivo.RutaDocumento (string) Required, 5] }
        SELECT TOP(1) a.Id, a.FechaCarga, a.FechaEliminacion, a.Nombre, a.NumeroDescargas, a.RutaDocumento
        FROM Archivo AS a
        WHERE a.Id == @__idArchivo_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Archivo>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-29 13:55:46.934 -05:00 [DBG] Creating DbConnection.
2024-07-29 13:55:46.934 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 13:55:46.934 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:55:46.934 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:55:46.934 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 13:55:46.934 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:55:46.934 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:55:46.935 -05:00 [DBG] Executing DbCommand [Parameters=[@__idArchivo_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[Id] = @__idArchivo_0
2024-07-29 13:55:46.937 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__idArchivo_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[Id] = @__idArchivo_0
2024-07-29 13:55:46.937 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:55:46.937 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:55:46.937 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 13:55:46.937 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:55:46.937 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 13:55:46.937 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'RegistroArchivoPerfil.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:55:46.937 -05:00 [DBG] The navigation 'RegistroArchivoPerfil.Archivo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:55:46.937 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'RegistroArchivoPerfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:55:46.938 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 13:55:46.938 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 13:55:46.938 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 13:55:46.938 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:55:46.938 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:55:46.938 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 13:55:46.938 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:55:46.939 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:55:46.940 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 13:55:46.945 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 13:55:46.945 -05:00 [DBG] The foreign key property 'RegistroArchivoPerfil.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-29 13:55:46.945 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:55:46.945 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 13:55:46.945 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:55:46.945 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 13:55:46.946 -05:00 [DBG] An entity of type 'RegistroArchivoPerfil' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:55:46.946 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 13:55:46.946 -05:00 [DBG] An entity of type 'Archivo' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:55:46.946 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 13:55:46.946 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 13:55:46.946 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 13:55:46.947 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:55:46.947 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:55:46.947 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 13:55:46.947 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:55:46.947 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:55:46.948 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Archivo] SET [FechaCarga] = @p0, [FechaEliminacion] = @p1, [Nombre] = @p2, [NumeroDescargas] = @p3, [RutaDocumento] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-29 13:55:46.953 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Archivo] SET [FechaCarga] = @p0, [FechaEliminacion] = @p1, [Nombre] = @p2, [NumeroDescargas] = @p3, [RutaDocumento] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-29 13:55:46.953 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:55:46.953 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 13:55:46.954 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:55:46.954 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 13:55:46.954 -05:00 [DBG] An entity of type 'Archivo' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:55:46.954 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 13:55:46.955 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 27.7635ms.
2024-07-29 13:55:46.958 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 13:55:46.961 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 13:55:46.970 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend) in 70.5584ms
2024-07-29 13:55:46.970 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 13:55:46.970 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 13:55:46.970 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:55:46.970 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 13:55:46.971 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos?idArchivo=12&idPerfil=31 - 200 20866 application/octet-stream 88.9163ms
2024-07-29 13:55:46.975 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 13:55:46.975 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 13:55:46.975 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 13:55:46.975 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 13:55:46.975 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 13:55:46.976 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 13:55:46.976 -05:00 [INF] CORS policy execution successful.
2024-07-29 13:55:46.977 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 13:55:46.977 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 13:55:46.977 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 13:55:46.977 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 13:55:46.977 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 13:55:46.977 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 13:55:46.978 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 13:55:46.978 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 13:55:46.978 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 13:55:46.980 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 13:55:47.022 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 13:55:47.027 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 13:55:47.028 -05:00 [DBG] Creating DbConnection.
2024-07-29 13:55:47.028 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 13:55:47.028 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:55:47.028 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:55:47.028 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 13:55:47.028 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:55:47.028 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:55:47.029 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 13:55:47.046 -05:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 13:55:47.047 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:55:47.047 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:55:47.047 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:55:47.048 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:55:47.048 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:55:47.048 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-29 13:55:47.048 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:55:47.048 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 13:55:47.048 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 24.2285ms.
2024-07-29 13:55:47.049 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 13:55:47.049 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 13:55:47.049 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 13:55:47.049 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 13:55:47.049 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 13:55:47.049 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 13:55:47.050 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 72.1383ms
2024-07-29 13:55:47.050 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 13:55:47.050 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 13:55:47.050 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:55:47.050 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 13:55:47.050 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 75.549ms
2024-07-29 13:59:04.087 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 13:59:04.087 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 13:59:04.089 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 13:59:04.089 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 13:59:04.089 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 13:59:04.089 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 13:59:04.089 -05:00 [INF] CORS policy execution successful.
2024-07-29 13:59:04.089 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 13:59:04.089 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 13:59:04.090 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 13:59:04.090 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 13:59:04.090 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 13:59:04.090 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 13:59:04.090 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 13:59:04.090 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 13:59:04.090 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 13:59:04.090 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 13:59:04.162 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 13:59:04.175 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 13:59:04.175 -05:00 [DBG] Creating DbConnection.
2024-07-29 13:59:04.175 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 13:59:04.175 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:59:04.176 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:59:04.176 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 13:59:04.176 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:59:04.176 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 13:59:04.176 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 13:59:04.184 -05:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 13:59:04.185 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:59:04.185 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:59:04.185 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:59:04.185 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 13:59:04.185 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:59:04.185 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 13:59:04.185 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:59:04.186 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 13:59:04.186 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 23.6236ms.
2024-07-29 13:59:04.186 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 13:59:04.186 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 13:59:04.186 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 13:59:04.186 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 13:59:04.186 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 13:59:04.186 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 13:59:04.186 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 96.3084ms
2024-07-29 13:59:04.186 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 13:59:04.187 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 13:59:04.187 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 13:59:04.187 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 13:59:04.187 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 100.852ms
2024-07-29 14:01:14.772 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 14:01:14.772 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 14:01:14.772 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 14:01:14.772 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 14:01:14.772 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:01:14.772 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:01:14.772 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:01:14.772 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 14:01:14.772 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 14:01:14.774 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 14:01:14.778 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 14:01:14.779 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 14:01:14.780 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 14:01:14.780 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 14:01:14.780 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 14:01:14.781 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 14:01:14.781 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 14:01:14.818 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 14:01:14.819 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 14:01:14.819 -05:00 [DBG] Creating DbConnection.
2024-07-29 14:01:14.819 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 14:01:14.819 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:01:14.820 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:01:14.820 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 14:01:14.820 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:01:14.820 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:01:14.820 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 14:01:14.828 -05:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 14:01:14.828 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:01:14.828 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:01:14.829 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:01:14.829 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:01:14.829 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:01:14.829 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 14:01:14.829 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:01:14.829 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 14:01:14.829 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 10.8184ms.
2024-07-29 14:01:14.829 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 14:01:14.829 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 14:01:14.829 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 14:01:14.829 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 14:01:14.829 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 14:01:14.829 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 14:01:14.829 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 48.7606ms
2024-07-29 14:01:14.829 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 14:01:14.830 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 14:01:14.830 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:01:14.830 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 14:01:14.830 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 61.4139ms
2024-07-29 14:01:19.926 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 14:01:19.931 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 14:01:19.931 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 14:01:19.931 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 14:01:19.931 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:01:19.932 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:01:19.932 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:01:19.932 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 14:01:19.932 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 14:01:19.933 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 14:01:19.933 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 14:01:19.933 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 14:01:19.934 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 14:01:19.934 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 14:01:19.936 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 14:01:19.936 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 14:01:19.936 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 14:01:19.987 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 14:01:19.988 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 14:01:19.988 -05:00 [DBG] Creating DbConnection.
2024-07-29 14:01:19.988 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 14:01:19.988 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:01:19.988 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:01:19.989 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 14:01:19.989 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:01:19.989 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:01:19.989 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 14:01:19.992 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 14:01:19.992 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:01:19.992 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:01:19.992 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:01:19.992 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:01:19.992 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:01:19.993 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 14:01:19.993 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:01:19.993 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 14:01:19.993 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5.7041ms.
2024-07-29 14:01:19.993 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 14:01:19.993 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 14:01:19.993 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 14:01:19.993 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 14:01:19.993 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 14:01:19.993 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 14:01:19.994 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 57.877ms
2024-07-29 14:01:19.994 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 14:01:19.994 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 14:01:19.994 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:01:19.994 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 14:01:19.994 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 68.1077ms
2024-07-29 14:01:21.696 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=31 - null null
2024-07-29 14:01:21.696 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-29 14:01:21.697 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 14:01:21.697 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:01:21.697 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:01:21.697 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:01:21.697 -05:00 [DBG] The request is a preflight request.
2024-07-29 14:01:21.698 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=31 - 204 null null 1.4684ms
2024-07-29 14:01:21.705 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=31 - null null
2024-07-29 14:01:21.706 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-29 14:01:21.706 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-07-29 14:01:21.706 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-29 14:01:21.706 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:01:21.706 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:01:21.706 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:01:21.799 -05:00 [DBG] Successfully validated the token.
2024-07-29 14:01:21.800 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 14:01:21.807 -05:00 [DBG] Authorization was successful.
2024-07-29 14:01:21.808 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-29 14:01:21.810 -05:00 [INF] Route matched with {action = "Get", controller = "Prestmaos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-29 14:01:21.810 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 14:01:21.810 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 14:01:21.810 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 14:01:21.810 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 14:01:21.810 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 14:01:21.810 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-29 14:01:21.810 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-29 14:01:21.811 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 14:01:21.811 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-29 14:01:21.811 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 14:01:21.811 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 14:01:21.811 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 14:01:21.811 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 14:01:21.836 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-29 14:01:21.848 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-29 14:01:21.850 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 14:01:21.854 -05:00 [INF] Libros encontrados exitosamente
2024-07-29 14:01:21.858 -05:00 [DBG] Compiling query expression: 
'DbSet<Perfil>()
    .Join(
        inner: DbSet<Prestamo>(), 
        outerKeySelector: P => P.Id, 
        innerKeySelector: PR => PR.IdPerfil, 
        resultSelector: (P, PR) => new { 
            P = P, 
            PR = PR
         })
    .Join(
        inner: DbSet<DetallePrestamoLibro>(), 
        outerKeySelector: <>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.PR.Id, 
        innerKeySelector: DP => DP.IdPrestamo, 
        resultSelector: (<>h__TransparentIdentifier0, DP) => new { 
            <>h__TransparentIdentifier0 = <>h__TransparentIdentifier0, 
            DP = DP
         })
    .Join(
        inner: DbSet<Libro>(), 
        outerKeySelector: <>h__TransparentIdentifier1 => <>h__TransparentIdentifier1.DP.IdLibro, 
        innerKeySelector: L => L.Id, 
        resultSelector: (<>h__TransparentIdentifier1, L) => new { 
            <>h__TransparentIdentifier1 = <>h__TransparentIdentifier1, 
            L = L
         })
    .Where(<>h__TransparentIdentifier2 => <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.P.Id == __idPerfil_0)
    .Select(<>h__TransparentIdentifier2 => new Libro{ 
        Id = <>h__TransparentIdentifier2.L.Id, 
        Titulo = <>h__TransparentIdentifier2.L.Titulo, 
        Autor = <>h__TransparentIdentifier2.L.Autor, 
        IdGenero = <>h__TransparentIdentifier2.L.IdGenero, 
        Anio = <>h__TransparentIdentifier2.L.Anio, 
        Activo = <>h__TransparentIdentifier2.L.Activo 
    }
    )'
2024-07-29 14:01:21.904 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Libro>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            Id -> 0
            Titulo -> 1
            Autor -> 2
            IdGenero -> 3
            Anio -> 4
            Activo -> 5
        SELECT l.Id, l.Titulo, l.Autor, l.IdGenero, l.Anio, l.Activo
        FROM Perfil AS p
        INNER JOIN Prestamo AS p0 ON p.Id == p0.IdPerfil
        INNER JOIN DetallePrestamoLibro AS d ON p0.Id == d.IdPrestamo
        INNER JOIN Libro AS l ON d.IdLibro == l.Id
        WHERE p.Id == @__idPerfil_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Libro>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-29 14:01:21.905 -05:00 [DBG] Creating DbConnection.
2024-07-29 14:01:21.905 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 14:01:21.906 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:01:21.906 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:01:21.906 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 14:01:21.906 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:01:21.906 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:01:21.906 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-29 14:01:21.917 -05:00 [INF] Executed DbCommand (11ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-29 14:01:21.918 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:01:21.918 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-29 14:01:21.918 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:01:21.918 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 14:01:21.918 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 82.5281ms.
2024-07-29 14:01:21.918 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 14:01:21.918 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 14:01:21.918 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 14:01:21.918 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 14:01:21.919 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 14:01:21.919 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.Collections.Generic.List`1[[biblioteca_backend.Models.Libro, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-29 14:01:21.922 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) in 112.056ms
2024-07-29 14:01:21.922 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-29 14:01:21.922 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 14:01:21.922 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:01:21.923 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 14:01:21.923 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=31 - 200 null application/json; charset=utf-8 218.2569ms
2024-07-29 14:02:29.860 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=31 - null null
2024-07-29 14:02:29.860 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-29 14:02:29.860 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 14:02:29.860 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:02:29.860 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:02:29.860 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:02:29.860 -05:00 [DBG] The request is a preflight request.
2024-07-29 14:02:29.861 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=31 - 204 null null 0.7325ms
2024-07-29 14:02:29.875 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=31 - null null
2024-07-29 14:02:29.876 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-29 14:02:29.876 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-07-29 14:02:29.876 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-29 14:02:29.876 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:02:29.876 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:02:29.876 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:02:29.877 -05:00 [DBG] Successfully validated the token.
2024-07-29 14:02:29.877 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 14:02:29.880 -05:00 [DBG] Authorization was successful.
2024-07-29 14:02:29.880 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-29 14:02:29.880 -05:00 [INF] Route matched with {action = "Get", controller = "Prestmaos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-29 14:02:29.880 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 14:02:29.880 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 14:02:29.881 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 14:02:29.881 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 14:02:29.881 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 14:02:29.881 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-29 14:02:29.881 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-29 14:02:29.881 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 14:02:29.882 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-29 14:02:29.882 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 14:02:29.882 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 14:02:29.882 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 14:02:29.882 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 14:02:29.917 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-29 14:02:29.920 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-29 14:02:29.921 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 14:02:29.924 -05:00 [INF] Libros encontrados exitosamente
2024-07-29 14:02:29.926 -05:00 [DBG] Creating DbConnection.
2024-07-29 14:02:29.926 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 14:02:29.926 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:02:29.926 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:02:29.926 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 14:02:29.926 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:02:29.926 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:02:29.926 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-29 14:02:29.932 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-29 14:02:29.932 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:02:29.933 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 14:02:29.933 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:02:29.933 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 14:02:29.933 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.1731ms.
2024-07-29 14:02:29.933 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 14:02:29.933 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 14:02:29.933 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 14:02:29.933 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 14:02:29.933 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 14:02:29.933 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.Collections.Generic.List`1[[biblioteca_backend.Models.Libro, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-29 14:02:29.933 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) in 52.6226ms
2024-07-29 14:02:29.933 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-29 14:02:29.934 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 14:02:29.934 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:02:29.934 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 14:02:29.934 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=31 - 200 null application/json; charset=utf-8 58.7053ms
2024-07-29 14:02:45.063 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=31 - null null
2024-07-29 14:02:45.063 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-29 14:02:45.063 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 14:02:45.064 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:02:45.064 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:02:45.064 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:02:45.064 -05:00 [DBG] The request is a preflight request.
2024-07-29 14:02:45.064 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=31 - 204 null null 1.8621ms
2024-07-29 14:02:45.073 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=31 - null null
2024-07-29 14:02:45.073 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-29 14:02:45.073 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-07-29 14:02:45.074 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-29 14:02:45.074 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:02:45.075 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:02:45.075 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:02:45.075 -05:00 [DBG] Successfully validated the token.
2024-07-29 14:02:45.075 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 14:02:45.078 -05:00 [DBG] Authorization was successful.
2024-07-29 14:02:45.078 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-29 14:02:45.078 -05:00 [INF] Route matched with {action = "Get", controller = "Prestmaos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-29 14:02:45.078 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 14:02:45.078 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 14:02:45.078 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 14:02:45.079 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 14:02:45.079 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 14:02:45.079 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-29 14:02:45.079 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-29 14:02:45.080 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 14:02:45.080 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-29 14:02:45.080 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 14:02:45.080 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 14:02:45.080 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 14:02:45.080 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 14:02:45.126 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-29 14:02:45.129 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-29 14:02:45.130 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 14:02:45.134 -05:00 [INF] Libros encontrados exitosamente
2024-07-29 14:02:45.134 -05:00 [DBG] Creating DbConnection.
2024-07-29 14:02:45.134 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 14:02:45.135 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:02:45.135 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:02:45.135 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 14:02:45.135 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:02:45.135 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:02:45.135 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-29 14:02:45.136 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-29 14:02:45.136 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:02:45.136 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 14:02:45.136 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:02:45.136 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 14:02:45.136 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 9.5062ms.
2024-07-29 14:02:45.136 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 14:02:45.138 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 14:02:45.139 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 14:02:45.139 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 14:02:45.140 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 14:02:45.140 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.Collections.Generic.List`1[[biblioteca_backend.Models.Libro, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-29 14:02:45.140 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) in 61.2138ms
2024-07-29 14:02:45.140 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-29 14:02:45.140 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 14:02:45.140 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:02:45.140 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 14:02:45.141 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=31 - 200 null application/json; charset=utf-8 71.1501ms
2024-07-29 14:03:10.228 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-29 14:03:10.228 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-29 14:03:10.228 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 14:03:10.228 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:03:10.229 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:03:10.229 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:03:10.229 -05:00 [DBG] The request is a preflight request.
2024-07-29 14:03:10.229 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 1.76ms
2024-07-29 14:03:10.233 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-07-29 14:03:10.233 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-29 14:03:10.233 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 14:03:10.233 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:03:10.233 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:03:10.233 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:03:10.246 -05:00 [DBG] The request is a preflight request.
2024-07-29 14:03:10.247 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 13.4369ms
2024-07-29 14:03:10.251 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-29 14:03:10.251 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-29 14:03:10.252 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-29 14:03:10.252 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 14:03:10.253 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:03:10.253 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:03:10.253 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:03:10.254 -05:00 [DBG] Successfully validated the token.
2024-07-29 14:03:10.254 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 14:03:10.255 -05:00 [DBG] Authorization was successful.
2024-07-29 14:03:10.256 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 14:03:10.261 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-29 14:03:10.261 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 14:03:10.261 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 14:03:10.261 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 14:03:10.261 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 14:03:10.261 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 14:03:10.261 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-29 14:03:10.262 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-29 14:03:10.263 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-29 14:03:10.263 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-29 14:03:10.263 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 14:03:10.263 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 14:03:10.263 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-29 14:03:10.264 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 14:03:10.252 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-07-29 14:03:10.267 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-29 14:03:10.267 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-07-29 14:03:10.267 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-29 14:03:10.267 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:03:10.293 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:03:10.293 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-29 14:03:10.293 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:03:10.294 -05:00 [DBG] Successfully validated the token.
2024-07-29 14:03:10.294 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 14:03:10.294 -05:00 [DBG] Authorization was successful.
2024-07-29 14:03:10.294 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-29 14:03:10.299 -05:00 [DBG] Consultando libros...
2024-07-29 14:03:10.300 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 14:03:10.301 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-07-29 14:03:10.301 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 14:03:10.301 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 14:03:10.301 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 14:03:10.301 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 14:03:10.301 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 14:03:10.301 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-29 14:03:10.302 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-29 14:03:10.336 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-29 14:03:10.342 -05:00 [DBG] Compiling query expression: 
'DbSet<Libro>()
    .Join(
        inner: DbSet<Genero>(), 
        outerKeySelector: L => L.IdGenero, 
        innerKeySelector: G => G.Id, 
        resultSelector: (L, G) => new { 
            L = L, 
            G = G
         })
    .Where(<>h__TransparentIdentifier0 => True)
    .Select(<>h__TransparentIdentifier0 => new { 
        id = <>h__TransparentIdentifier0.L.Id, 
        titulo = <>h__TransparentIdentifier0.L.Titulo, 
        autor = <>h__TransparentIdentifier0.L.Autor, 
        anio = <>h__TransparentIdentifier0.L.Anio, 
        idGenero = <>h__TransparentIdentifier0.L.IdGenero, 
        genero = <>h__TransparentIdentifier0.G.Nombre, 
        activo = <>h__TransparentIdentifier0.L.Activo
     })'
2024-07-29 14:03:10.344 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 14:03:10.347 -05:00 [DBG] Compiling query expression: 
'DbSet<Genero>()'
2024-07-29 14:03:10.350 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType1<int, string, string, int, int, string, bool>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            id -> 0
            titulo -> 1
            autor -> 2
            anio -> 3
            idGenero -> 4
            genero -> 5
            activo -> 6
        SELECT l.Id AS id, l.Titulo AS titulo, l.Autor AS autor, l.Anio AS anio, l.IdGenero AS idGenero, g.Nombre AS genero, l.Activo AS activo
        FROM Libro AS l
        INNER JOIN Genero AS g ON l.IdGenero == g.Id), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType1<int, string, string, int, int, string, bool>>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-29 14:03:10.351 -05:00 [DBG] Creating DbConnection.
2024-07-29 14:03:10.351 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 14:03:10.352 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:03:10.352 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:03:10.352 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 14:03:10.352 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:03:10.353 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:03:10.353 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-29 14:03:10.353 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Genero>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Genero.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Genero.Nombre (string) Required, 1] }
        SELECT g.Id, g.Nombre
        FROM Genero AS g), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Genero>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-29 14:03:10.370 -05:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-29 14:03:10.371 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:03:10.372 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 14:03:10.372 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:03:10.372 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 14:03:10.379 -05:00 [INF] Consulta de libros exitosa
2024-07-29 14:03:10.379 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 85.2256ms.
2024-07-29 14:03:10.379 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 14:03:10.379 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 14:03:10.379 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 14:03:10.379 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 14:03:10.379 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 14:03:10.379 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 14:03:10.380 -05:00 [DBG] Creating DbConnection.
2024-07-29 14:03:10.380 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 14:03:10.383 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:03:10.385 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:03:10.386 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 14:03:10.386 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:03:10.386 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:03:10.387 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-29 14:03:10.385 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 123.7948ms
2024-07-29 14:03:10.388 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 14:03:10.388 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 14:03:10.388 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:03:10.388 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 14:03:10.388 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 142.2925ms
2024-07-29 14:03:10.423 -05:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-29 14:03:10.448 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:03:10.457 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:03:10.458 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:03:10.458 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:03:10.458 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:03:10.458 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:03:10.458 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:03:10.458 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:03:10.458 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:03:10.458 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:03:10.458 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:03:10.458 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:03:10.458 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:03:10.461 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:03:10.461 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 37ms reading results.
2024-07-29 14:03:10.463 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:03:10.463 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 14:03:10.465 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 128.2065ms.
2024-07-29 14:03:10.466 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 14:03:10.466 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 14:03:10.466 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 14:03:10.466 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 14:03:10.466 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 14:03:10.466 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 14:03:10.470 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 168.9444ms
2024-07-29 14:03:10.471 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-29 14:03:10.472 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 14:03:10.472 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:03:10.472 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 14:03:10.473 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 221.2714ms
2024-07-29 14:03:13.150 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 14:03:13.150 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 14:03:13.151 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 14:03:13.151 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 14:03:13.151 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:03:13.151 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:03:13.151 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:03:13.151 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 14:03:13.151 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 14:03:13.151 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 14:03:13.151 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 14:03:13.151 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 14:03:13.151 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 14:03:13.151 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 14:03:13.152 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 14:03:13.152 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 14:03:13.153 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 14:03:13.212 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 14:03:13.213 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 14:03:13.213 -05:00 [DBG] Creating DbConnection.
2024-07-29 14:03:13.213 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 14:03:13.213 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:03:13.213 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:03:13.213 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 14:03:13.213 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:03:13.213 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:03:13.214 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 14:03:13.215 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 14:03:13.216 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:03:13.216 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:03:13.216 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:03:13.216 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:03:13.216 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:03:13.216 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 14:03:13.216 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:03:13.216 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 14:03:13.216 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.577ms.
2024-07-29 14:03:13.216 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 14:03:13.216 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 14:03:13.216 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 14:03:13.216 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 14:03:13.216 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 14:03:13.216 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 14:03:13.216 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 64.7489ms
2024-07-29 14:03:13.216 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 14:03:13.216 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 14:03:13.217 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:03:13.217 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 14:03:13.217 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 66.7106ms
2024-07-29 14:03:25.031 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 14:03:25.032 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 14:03:25.032 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 14:03:25.032 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 14:03:25.032 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:03:25.033 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:03:25.033 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:03:25.033 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 14:03:25.033 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 14:03:25.033 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 14:03:25.033 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 14:03:25.033 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 14:03:25.033 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 14:03:25.033 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 14:03:25.033 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 14:03:25.034 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 14:03:25.034 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 14:03:25.085 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 14:03:25.087 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 14:03:25.088 -05:00 [DBG] Creating DbConnection.
2024-07-29 14:03:25.091 -05:00 [DBG] Created DbConnection. (2ms).
2024-07-29 14:03:25.091 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:03:25.091 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:03:25.091 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 14:03:25.091 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:03:25.092 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:03:25.092 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 14:03:25.098 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 14:03:25.099 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:03:25.099 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:03:25.099 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:03:25.099 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:03:25.099 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:03:25.099 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 14:03:25.099 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:03:25.099 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 14:03:25.099 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 14.2105ms.
2024-07-29 14:03:25.099 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 14:03:25.099 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 14:03:25.099 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 14:03:25.099 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 14:03:25.099 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 14:03:25.099 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 14:03:25.100 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 66.0253ms
2024-07-29 14:03:25.100 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 14:03:25.100 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 14:03:25.100 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:03:25.100 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 14:03:25.100 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 68.7323ms
2024-07-29 14:06:48.893 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 14:06:48.893 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 14:06:48.896 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 14:06:48.907 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 14:06:48.908 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:06:48.909 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:06:48.909 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:06:48.910 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 14:06:48.914 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 14:06:48.914 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 14:06:48.914 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 14:06:48.914 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 14:06:48.914 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 14:06:48.915 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 14:06:48.915 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 14:06:48.915 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 14:06:48.915 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 14:06:48.946 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 14:06:48.947 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 14:06:48.947 -05:00 [DBG] Creating DbConnection.
2024-07-29 14:06:48.948 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 14:06:48.948 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:06:48.948 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:06:48.948 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 14:06:48.948 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:06:48.948 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:06:48.948 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 14:06:48.949 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 14:06:48.949 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:06:48.949 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:06:48.949 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:06:48.950 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:06:48.950 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:06:48.950 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 14:06:48.950 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:06:48.950 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 14:06:48.950 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.445ms.
2024-07-29 14:06:48.950 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 14:06:48.950 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 14:06:48.950 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 14:06:48.950 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 14:06:48.950 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 14:06:48.950 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 14:06:48.950 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 35.5684ms
2024-07-29 14:06:48.950 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 14:06:48.950 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 14:06:48.950 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:06:48.951 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 14:06:48.951 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 58.0205ms
2024-07-29 14:07:53.780 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 14:07:53.781 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 14:07:53.781 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 14:07:53.782 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 14:07:53.788 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:07:53.788 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:07:53.788 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:07:53.788 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 14:07:53.788 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 14:07:53.789 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 14:07:53.789 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 14:07:53.789 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 14:07:53.789 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 14:07:53.789 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 14:07:53.789 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 14:07:53.789 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 14:07:53.791 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 14:07:53.827 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 14:07:53.828 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 14:07:53.829 -05:00 [DBG] Creating DbConnection.
2024-07-29 14:07:53.829 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 14:07:53.829 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:07:53.829 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:07:53.829 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 14:07:53.829 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:07:53.829 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:07:53.830 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 14:07:53.832 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 14:07:53.832 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:07:53.832 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:07:53.832 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:07:53.833 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:07:53.833 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:07:53.833 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 14:07:53.833 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:07:53.833 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 14:07:53.833 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5.7276ms.
2024-07-29 14:07:53.833 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 14:07:53.833 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 14:07:53.833 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 14:07:53.833 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 14:07:53.833 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 14:07:53.834 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 14:07:53.834 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 44.8861ms
2024-07-29 14:07:53.834 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 14:07:53.834 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 14:07:53.834 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:07:53.834 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 14:07:53.834 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 53.9498ms
2024-07-29 14:13:16.557 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 14:13:16.557 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 14:13:16.557 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 14:13:16.557 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 14:13:16.558 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:13:16.558 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:13:16.558 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:13:16.558 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 14:13:16.560 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 14:13:16.560 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 14:13:16.561 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 14:13:16.561 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 14:13:16.562 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 14:13:16.564 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 14:13:16.565 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 14:13:16.565 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 14:13:16.565 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 14:13:16.646 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 14:13:16.647 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 14:13:16.647 -05:00 [DBG] Creating DbConnection.
2024-07-29 14:13:16.648 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 14:13:16.648 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:13:16.648 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:13:16.648 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 14:13:16.648 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:13:16.648 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:13:16.648 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 14:13:16.650 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 14:13:16.650 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:13:16.650 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:13:16.650 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:13:16.650 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:13:16.650 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:13:16.650 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 14:13:16.650 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:13:16.650 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 14:13:16.650 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.4185ms.
2024-07-29 14:13:16.651 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 14:13:16.651 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 14:13:16.651 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 14:13:16.651 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 14:13:16.651 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 14:13:16.651 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 14:13:16.651 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 86.3481ms
2024-07-29 14:13:16.651 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 14:13:16.651 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 14:13:16.651 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:13:16.651 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 14:13:16.651 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 94.6243ms
2024-07-29 14:13:26.456 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 14:13:26.457 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 14:13:26.464 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 14:13:26.464 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 14:13:26.464 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:13:26.464 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:13:26.464 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:13:26.465 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 14:13:26.465 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 14:13:26.465 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 14:13:26.465 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 14:13:26.465 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 14:13:26.465 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 14:13:26.465 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 14:13:26.465 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 14:13:26.465 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 14:13:26.466 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 14:13:26.530 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 14:13:26.531 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 14:13:26.531 -05:00 [DBG] Creating DbConnection.
2024-07-29 14:13:26.531 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 14:13:26.531 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:13:26.531 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:13:26.531 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 14:13:26.531 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:13:26.531 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:13:26.532 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 14:13:26.532 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 14:13:26.532 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:13:26.532 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:13:26.532 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:13:26.532 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:13:26.532 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:13:26.532 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 14:13:26.532 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:13:26.533 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 14:13:26.533 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.2343ms.
2024-07-29 14:13:26.533 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 14:13:26.533 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 14:13:26.533 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 14:13:26.533 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 14:13:26.533 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 14:13:26.533 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 14:13:26.533 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 67.5992ms
2024-07-29 14:13:26.533 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 14:13:26.533 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 14:13:26.533 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:13:26.533 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 14:13:26.533 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 77.5381ms
2024-07-29 14:13:40.252 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 14:13:40.253 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 14:13:40.253 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 14:13:40.253 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 14:13:40.253 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:13:40.253 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:13:40.253 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:13:40.253 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 14:13:40.253 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 14:13:40.253 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 14:13:40.253 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 14:13:40.254 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 14:13:40.254 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 14:13:40.254 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 14:13:40.254 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 14:13:40.254 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 14:13:40.254 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 14:13:40.318 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 14:13:40.318 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 14:13:40.318 -05:00 [DBG] Creating DbConnection.
2024-07-29 14:13:40.318 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 14:13:40.319 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:13:40.319 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:13:40.319 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 14:13:40.319 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:13:40.319 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:13:40.319 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 14:13:40.319 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 14:13:40.320 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:13:40.320 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:13:40.320 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:13:40.320 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:13:40.320 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:13:40.320 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 14:13:40.320 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:13:40.320 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 14:13:40.320 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.3513ms.
2024-07-29 14:13:40.320 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 14:13:40.320 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 14:13:40.320 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 14:13:40.320 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 14:13:40.320 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 14:13:40.320 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 14:13:40.320 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 66.3348ms
2024-07-29 14:13:40.320 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 14:13:40.320 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 14:13:40.321 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:13:40.321 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 14:13:40.321 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 68.3939ms
2024-07-29 14:14:57.842 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 14:14:57.842 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 14:14:57.843 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 14:14:57.843 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 14:14:57.843 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:14:57.843 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:14:57.843 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:14:57.843 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 14:14:57.843 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 14:14:57.843 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 14:14:57.843 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 14:14:57.846 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 14:14:57.846 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 14:14:57.846 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 14:14:57.847 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 14:14:57.847 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 14:14:57.847 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 14:14:57.911 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 14:14:57.912 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 14:14:57.912 -05:00 [DBG] Creating DbConnection.
2024-07-29 14:14:57.912 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 14:14:57.912 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:14:57.913 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:14:57.913 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 14:14:57.913 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:14:57.913 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:14:57.913 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 14:14:57.914 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 14:14:57.914 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:14:57.914 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:14:57.914 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:14:57.914 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:14:57.914 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:14:57.914 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 14:14:57.915 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:14:57.915 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 14:14:57.915 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.5187ms.
2024-07-29 14:14:57.915 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 14:14:57.915 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 14:14:57.915 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 14:14:57.915 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 14:14:57.915 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 14:14:57.915 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 14:14:57.915 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 68.4565ms
2024-07-29 14:14:57.915 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 14:14:57.915 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 14:14:57.915 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:14:57.915 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 14:14:57.915 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 73.1704ms
2024-07-29 14:17:19.433 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-07-29 14:17:19.433 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-29 14:17:19.435 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 14:17:19.435 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:17:19.435 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-29 14:17:19.435 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-29 14:17:19.435 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 14:17:19.435 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:17:19.435 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:17:19.435 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:17:19.435 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:17:19.435 -05:00 [DBG] The request is a preflight request.
2024-07-29 14:17:19.435 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:17:19.435 -05:00 [DBG] The request is a preflight request.
2024-07-29 14:17:19.435 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 0.6689ms
2024-07-29 14:17:19.435 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 2.8076ms
2024-07-29 14:17:19.455 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-29 14:17:19.456 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-29 14:17:19.456 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-29 14:17:19.456 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-07-29 14:17:19.456 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 14:17:19.457 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:17:19.467 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:17:19.467 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-29 14:17:19.467 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:17:19.467 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-07-29 14:17:19.467 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-29 14:17:19.470 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:17:19.471 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:17:19.471 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:17:19.471 -05:00 [DBG] Successfully validated the token.
2024-07-29 14:17:19.471 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 14:17:19.471 -05:00 [DBG] Authorization was successful.
2024-07-29 14:17:19.471 -05:00 [DBG] Successfully validated the token.
2024-07-29 14:17:19.471 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 14:17:19.471 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 14:17:19.471 -05:00 [DBG] Authorization was successful.
2024-07-29 14:17:19.471 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-29 14:17:19.472 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-29 14:17:19.472 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 14:17:19.472 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 14:17:19.472 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-07-29 14:17:19.472 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 14:17:19.472 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 14:17:19.472 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 14:17:19.472 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 14:17:19.472 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 14:17:19.472 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 14:17:19.472 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-29 14:17:19.472 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 14:17:19.472 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 14:17:19.472 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-29 14:17:19.473 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-29 14:17:19.473 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-29 14:17:19.473 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-29 14:17:19.473 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-29 14:17:19.474 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 14:17:19.474 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 14:17:19.474 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-29 14:17:19.474 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 14:17:19.507 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-29 14:17:19.537 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 14:17:19.538 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-29 14:17:19.539 -05:00 [DBG] Creating DbConnection.
2024-07-29 14:17:19.539 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 14:17:19.540 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:17:19.540 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:17:19.540 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 14:17:19.540 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:17:19.540 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:17:19.540 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-29 14:17:19.542 -05:00 [DBG] Consultando libros...
2024-07-29 14:17:19.549 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 14:17:19.550 -05:00 [DBG] Creating DbConnection.
2024-07-29 14:17:19.550 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 14:17:19.550 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:17:19.572 -05:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-29 14:17:19.572 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:17:19.572 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:17:19.572 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:17:19.572 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:17:19.572 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:17:19.572 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:17:19.572 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:17:19.573 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:17:19.573 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:17:19.573 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:17:19.573 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:17:19.573 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:17:19.573 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:17:19.574 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:17:19.574 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-07-29 14:17:19.574 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:17:19.574 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 14:17:19.575 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 39.2101ms.
2024-07-29 14:17:19.576 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 14:17:19.577 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 14:17:19.577 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 14:17:19.577 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 14:17:19.577 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 14:17:19.577 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 14:17:19.577 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 104.9953ms
2024-07-29 14:17:19.577 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-29 14:17:19.578 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 14:17:19.578 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:17:19.578 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 14:17:19.578 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 123.4698ms
2024-07-29 14:17:19.584 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:17:19.584 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 14:17:19.584 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:17:19.585 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:17:19.585 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-29 14:17:19.645 -05:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-29 14:17:19.645 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:17:19.645 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 14:17:19.646 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:17:19.648 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (2ms).
2024-07-29 14:17:19.730 -05:00 [INF] Consulta de libros exitosa
2024-07-29 14:17:19.731 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 192.7902ms.
2024-07-29 14:17:19.731 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 14:17:19.731 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 14:17:19.731 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 14:17:19.732 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 14:17:19.732 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 14:17:19.732 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 14:17:19.732 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 260.1568ms
2024-07-29 14:17:19.732 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 14:17:19.733 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 14:17:19.733 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:17:19.733 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 14:17:19.733 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 277.8315ms
2024-07-29 14:19:11.933 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 14:19:11.934 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 14:19:11.936 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 14:19:11.937 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 14:19:11.937 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:19:11.937 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:19:11.937 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:19:11.937 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 14:19:11.938 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 14:19:11.939 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 14:19:11.939 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 14:19:11.939 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 14:19:11.939 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 14:19:11.940 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 14:19:11.941 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 14:19:11.941 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 14:19:11.945 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 14:19:11.997 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 14:19:11.998 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 14:19:11.998 -05:00 [DBG] Creating DbConnection.
2024-07-29 14:19:11.998 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 14:19:11.998 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:19:11.998 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:19:11.998 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 14:19:11.998 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:19:11.998 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:19:11.999 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 14:19:12.001 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 14:19:12.001 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:19:12.001 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:19:12.001 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:19:12.001 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:19:12.001 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:19:12.002 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 14:19:12.002 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:19:12.002 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 14:19:12.002 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.485ms.
2024-07-29 14:19:12.002 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 14:19:12.002 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 14:19:12.002 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 14:19:12.002 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 14:19:12.002 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 14:19:12.002 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 14:19:12.002 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 61.1022ms
2024-07-29 14:19:12.002 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 14:19:12.002 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 14:19:12.002 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:19:12.002 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 14:19:12.003 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 70.1937ms
2024-07-29 14:20:21.453 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 14:20:21.453 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 14:20:21.454 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 14:20:21.454 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 14:20:21.454 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:20:21.454 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:20:21.455 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:20:21.455 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 14:20:21.455 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 14:20:21.455 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 14:20:21.455 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 14:20:21.455 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 14:20:21.456 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 14:20:21.456 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 14:20:21.457 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 14:20:21.457 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 14:20:21.457 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 14:20:21.493 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 14:20:21.494 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 14:20:21.494 -05:00 [DBG] Creating DbConnection.
2024-07-29 14:20:21.494 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 14:20:21.494 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:20:21.494 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:20:21.494 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 14:20:21.495 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:20:21.495 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:20:21.495 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 14:20:21.495 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 14:20:21.495 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:20:21.495 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:20:21.495 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:20:21.495 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:20:21.496 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:20:21.496 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 14:20:21.496 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:20:21.496 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 14:20:21.496 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.3386ms.
2024-07-29 14:20:21.496 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 14:20:21.496 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 14:20:21.496 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 14:20:21.496 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 14:20:21.496 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 14:20:21.496 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 14:20:21.496 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 39.5318ms
2024-07-29 14:20:21.497 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 14:20:21.497 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 14:20:21.497 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:20:21.497 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 14:20:21.497 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 44.3555ms
2024-07-29 14:20:28.671 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 14:20:28.671 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 14:20:28.671 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 14:20:28.671 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 14:20:28.671 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:20:28.671 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:20:28.672 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:20:28.673 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 14:20:28.673 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 14:20:28.673 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 14:20:28.673 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 14:20:28.673 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 14:20:28.673 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 14:20:28.674 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 14:20:28.675 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 14:20:28.679 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 14:20:28.679 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 14:20:28.743 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 14:20:28.744 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 14:20:28.745 -05:00 [DBG] Creating DbConnection.
2024-07-29 14:20:28.745 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 14:20:28.745 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:20:28.745 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:20:28.745 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 14:20:28.745 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:20:28.745 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:20:28.745 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 14:20:28.746 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 14:20:28.746 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:20:28.746 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:20:28.746 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:20:28.746 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:20:28.746 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:20:28.746 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 14:20:28.746 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:20:28.746 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 14:20:28.746 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.9694ms.
2024-07-29 14:20:28.746 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 14:20:28.746 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 14:20:28.746 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 14:20:28.747 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 14:20:28.747 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 14:20:28.747 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 14:20:28.747 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 68.3438ms
2024-07-29 14:20:28.747 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 14:20:28.747 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 14:20:28.747 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:20:28.747 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 14:20:28.747 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 76.788ms
2024-07-29 14:20:54.681 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-07-29 14:20:54.682 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-29 14:20:54.682 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 14:20:54.682 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:20:54.682 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:20:54.682 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:20:54.682 -05:00 [DBG] The request is a preflight request.
2024-07-29 14:20:54.683 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 2.2042ms
2024-07-29 14:20:54.684 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-29 14:20:54.684 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-29 14:20:54.684 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 14:20:54.684 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:20:54.684 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:20:54.684 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:20:54.685 -05:00 [DBG] The request is a preflight request.
2024-07-29 14:20:54.685 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 0.71ms
2024-07-29 14:20:54.745 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-07-29 14:20:54.746 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-29 14:20:54.749 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-07-29 14:20:54.750 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-29 14:20:54.750 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-29 14:20:54.750 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-29 14:20:54.750 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:20:54.750 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:20:54.750 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-29 14:20:54.750 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:20:54.750 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 14:20:54.750 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:20:54.751 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:20:54.751 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:20:54.751 -05:00 [DBG] Successfully validated the token.
2024-07-29 14:20:54.751 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 14:20:54.751 -05:00 [DBG] Successfully validated the token.
2024-07-29 14:20:54.751 -05:00 [DBG] Authorization was successful.
2024-07-29 14:20:54.751 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 14:20:54.751 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-29 14:20:54.751 -05:00 [DBG] Authorization was successful.
2024-07-29 14:20:54.751 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 14:20:54.751 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-07-29 14:20:54.751 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-29 14:20:54.751 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 14:20:54.751 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 14:20:54.751 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 14:20:54.751 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 14:20:54.751 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 14:20:54.751 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 14:20:54.751 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 14:20:54.751 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 14:20:54.751 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 14:20:54.751 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 14:20:54.752 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-29 14:20:54.752 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-29 14:20:54.752 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-29 14:20:54.786 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-29 14:20:54.786 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-29 14:20:54.786 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-29 14:20:54.787 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-29 14:20:54.787 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 14:20:54.787 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 14:20:54.787 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-29 14:20:54.787 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 14:20:54.788 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 14:20:54.788 -05:00 [DBG] Creating DbConnection.
2024-07-29 14:20:54.791 -05:00 [DBG] Created DbConnection. (2ms).
2024-07-29 14:20:54.791 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:20:54.791 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:20:54.791 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 14:20:54.791 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:20:54.791 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:20:54.791 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-29 14:20:54.835 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-29 14:20:54.837 -05:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-29 14:20:54.838 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:20:54.839 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:20:54.839 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:20:54.839 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:20:54.840 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:20:54.840 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:20:54.840 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:20:54.840 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:20:54.840 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:20:54.840 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:20:54.840 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:20:54.840 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:20:54.840 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:20:54.840 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:20:54.842 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-07-29 14:20:54.843 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:20:54.843 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 14:20:54.844 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 57.3418ms.
2024-07-29 14:20:54.844 -05:00 [DBG] Consultando libros...
2024-07-29 14:20:54.844 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 14:20:54.844 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 14:20:54.844 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 14:20:54.844 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 14:20:54.845 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 14:20:54.845 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 14:20:54.845 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 14:20:54.845 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 93.1559ms
2024-07-29 14:20:54.845 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-29 14:20:54.845 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 14:20:54.845 -05:00 [DBG] Creating DbConnection.
2024-07-29 14:20:54.845 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:20:54.845 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 14:20:54.845 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 14:20:54.845 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:20:54.845 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 109.2979ms
2024-07-29 14:20:54.845 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:20:54.846 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 14:20:54.846 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:20:54.846 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:20:54.846 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-29 14:20:54.851 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-29 14:20:54.852 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:20:54.852 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 14:20:54.852 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:20:54.852 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 14:20:54.863 -05:00 [INF] Consulta de libros exitosa
2024-07-29 14:20:54.863 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 27.2997ms.
2024-07-29 14:20:54.863 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 14:20:54.863 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 14:20:54.863 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 14:20:54.863 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 14:20:54.863 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 14:20:54.863 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 14:20:54.864 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 111.8089ms
2024-07-29 14:20:54.864 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 14:20:54.864 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 14:20:54.864 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:20:54.864 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 14:20:54.864 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 114.6923ms
2024-07-29 14:26:04.784 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-29 14:26:04.785 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-29 14:26:04.785 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 14:26:04.785 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-07-29 14:26:04.785 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:26:04.785 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-29 14:26:04.785 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:26:04.785 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:26:04.785 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 14:26:04.785 -05:00 [DBG] The request is a preflight request.
2024-07-29 14:26:04.785 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:26:04.785 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 1.6511ms
2024-07-29 14:26:04.785 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:26:04.785 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:26:04.786 -05:00 [DBG] The request is a preflight request.
2024-07-29 14:26:04.786 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 0.9375ms
2024-07-29 14:26:04.791 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-29 14:26:04.792 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-29 14:26:04.792 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-29 14:26:04.792 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 14:26:04.792 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:26:04.792 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:26:04.792 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:26:04.792 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-07-29 14:26:04.792 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-29 14:26:04.792 -05:00 [DBG] Successfully validated the token.
2024-07-29 14:26:04.792 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-07-29 14:26:04.792 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 14:26:04.792 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-29 14:26:04.792 -05:00 [DBG] Authorization was successful.
2024-07-29 14:26:04.792 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:26:04.792 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 14:26:04.792 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:26:04.793 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-29 14:26:04.793 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:26:04.793 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 14:26:04.793 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 14:26:04.793 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 14:26:04.793 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 14:26:04.793 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 14:26:04.793 -05:00 [DBG] Successfully validated the token.
2024-07-29 14:26:04.793 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-29 14:26:04.793 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 14:26:04.793 -05:00 [DBG] Authorization was successful.
2024-07-29 14:26:04.793 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-29 14:26:04.793 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-29 14:26:04.793 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-07-29 14:26:04.793 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-29 14:26:04.793 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 14:26:04.794 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 14:26:04.794 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-29 14:26:04.794 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 14:26:04.794 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 14:26:04.794 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 14:26:04.795 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-29 14:26:04.795 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-29 14:26:04.795 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 14:26:04.795 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 14:26:04.834 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-29 14:26:04.834 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-29 14:26:04.835 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 14:26:04.837 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 14:26:04.898 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-29 14:26:04.898 -05:00 [DBG] Creating DbConnection.
2024-07-29 14:26:04.898 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 14:26:04.908 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:26:04.910 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:26:04.910 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 14:26:04.911 -05:00 [DBG] Consultando libros...
2024-07-29 14:26:04.911 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-29 14:26:04.911 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-07-29 14:26:04.912 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-29 14:26:04.914 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 14:26:04.920 -05:00 [DBG] Creating DbConnection.
2024-07-29 14:26:04.920 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 14:26:04.920 -05:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-29 14:26:04.920 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:26:04.920 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:26:04.920 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:26:04.921 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:26:04.921 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:26:04.921 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:26:04.921 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:26:04.921 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:26:04.921 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:26:04.921 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:26:04.922 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:26:04.922 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:26:04.922 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:26:04.922 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:26:04.922 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:26:04.922 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-07-29 14:26:04.922 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:26:04.922 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 14:26:04.923 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 88.2251ms.
2024-07-29 14:26:04.923 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 14:26:04.923 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 14:26:04.923 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 14:26:04.923 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 14:26:04.923 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 14:26:04.923 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 14:26:04.923 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 128.9965ms
2024-07-29 14:26:04.923 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-29 14:26:04.924 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 14:26:04.924 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:26:04.924 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 14:26:04.924 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 132.2425ms
2024-07-29 14:26:04.933 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:26:04.933 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 14:26:04.933 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:26:04.933 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:26:04.933 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-29 14:26:04.939 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-29 14:26:04.940 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:26:04.940 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 14:26:04.940 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:26:04.940 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 14:26:04.943 -05:00 [INF] Consulta de libros exitosa
2024-07-29 14:26:04.943 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 44.804ms.
2024-07-29 14:26:04.943 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 14:26:04.943 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 14:26:04.943 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 14:26:04.943 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 14:26:04.943 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 14:26:04.943 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 14:26:04.944 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 150.8385ms
2024-07-29 14:26:04.944 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 14:26:04.944 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 14:26:04.944 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:26:04.944 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 14:26:04.944 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 153.1953ms
2024-07-29 14:27:03.293 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-29 14:27:03.293 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-29 14:27:03.293 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 14:27:03.293 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:27:03.294 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-07-29 14:27:03.294 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-29 14:27:03.295 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 14:27:03.295 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:27:03.295 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:27:03.297 -05:00 [DBG] The request is a preflight request.
2024-07-29 14:27:03.300 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 4.4871ms
2024-07-29 14:27:03.302 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:27:03.303 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:27:03.303 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:27:03.303 -05:00 [DBG] The request is a preflight request.
2024-07-29 14:27:03.303 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 8.7779ms
2024-07-29 14:27:03.326 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-07-29 14:27:03.326 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-29 14:27:03.326 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-29 14:27:03.326 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-29 14:27:03.326 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-07-29 14:27:03.326 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-29 14:27:03.326 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-29 14:27:03.326 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 14:27:03.326 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:27:03.327 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:27:03.327 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:27:03.326 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:27:03.328 -05:00 [DBG] Successfully validated the token.
2024-07-29 14:27:03.339 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:27:03.339 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 14:27:03.339 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:27:03.340 -05:00 [DBG] Authorization was successful.
2024-07-29 14:27:03.340 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 14:27:03.344 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-29 14:27:03.344 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 14:27:03.344 -05:00 [DBG] Successfully validated the token.
2024-07-29 14:27:03.344 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 14:27:03.344 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 14:27:03.344 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 14:27:03.344 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 14:27:03.344 -05:00 [DBG] Authorization was successful.
2024-07-29 14:27:03.344 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 14:27:03.344 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-29 14:27:03.344 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-29 14:27:03.344 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-07-29 14:27:03.345 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 14:27:03.345 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-29 14:27:03.345 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 14:27:03.345 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 14:27:03.345 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 14:27:03.345 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 14:27:03.345 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-29 14:27:03.345 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-29 14:27:03.345 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-29 14:27:03.345 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-29 14:27:03.345 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 14:27:03.345 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 14:27:03.345 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-29 14:27:03.346 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 14:27:03.370 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-29 14:27:03.405 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-29 14:27:03.408 -05:00 [DBG] Consultando libros...
2024-07-29 14:27:03.408 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 14:27:03.409 -05:00 [DBG] Creating DbConnection.
2024-07-29 14:27:03.409 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 14:27:03.409 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:27:03.409 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:27:03.409 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 14:27:03.409 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 14:27:03.409 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:27:03.409 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:27:03.409 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-29 14:27:03.412 -05:00 [DBG] Creating DbConnection.
2024-07-29 14:27:03.412 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 14:27:03.412 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:27:03.412 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:27:03.412 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 14:27:03.412 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:27:03.413 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:27:03.413 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-29 14:27:03.414 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-29 14:27:03.415 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:27:03.415 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:27:03.415 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:27:03.415 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:27:03.415 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:27:03.415 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:27:03.415 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:27:03.415 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:27:03.415 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:27:03.415 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:27:03.415 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:27:03.415 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:27:03.416 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:27:03.416 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:27:03.416 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-29 14:27:03.416 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:27:03.416 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 14:27:03.416 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 45.2725ms.
2024-07-29 14:27:03.416 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 14:27:03.416 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 14:27:03.416 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 14:27:03.416 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 14:27:03.416 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 14:27:03.416 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 14:27:03.417 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 71.8669ms
2024-07-29 14:27:03.417 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-29 14:27:03.418 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 14:27:03.418 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:27:03.418 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 14:27:03.419 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 93.1725ms
2024-07-29 14:27:03.420 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-29 14:27:03.421 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:27:03.421 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 14:27:03.421 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:27:03.421 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 14:27:03.432 -05:00 [INF] Consulta de libros exitosa
2024-07-29 14:27:03.432 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 27.1223ms.
2024-07-29 14:27:03.432 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 14:27:03.433 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 14:27:03.433 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 14:27:03.433 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 14:27:03.433 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 14:27:03.433 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 14:27:03.433 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 88.7054ms
2024-07-29 14:27:03.433 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 14:27:03.433 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 14:27:03.433 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:27:03.433 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 14:27:03.433 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 107.918ms
2024-07-29 14:27:15.306 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 14:27:15.306 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 14:27:15.306 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 14:27:15.306 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 14:27:15.308 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:27:15.308 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:27:15.308 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:27:15.308 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 14:27:15.308 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 14:27:15.308 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 14:27:15.308 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 14:27:15.309 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 14:27:15.309 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 14:27:15.309 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 14:27:15.309 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 14:27:15.310 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 14:27:15.310 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 14:27:15.347 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 14:27:15.348 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 14:27:15.348 -05:00 [DBG] Creating DbConnection.
2024-07-29 14:27:15.349 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 14:27:15.349 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:27:15.349 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:27:15.349 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 14:27:15.349 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:27:15.349 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:27:15.349 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 14:27:15.352 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 14:27:15.353 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:27:15.353 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:27:15.353 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:27:15.353 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:27:15.353 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:27:15.353 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 14:27:15.353 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:27:15.353 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 14:27:15.353 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 6.1511ms.
2024-07-29 14:27:15.354 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 14:27:15.354 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 14:27:15.354 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 14:27:15.354 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 14:27:15.354 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 14:27:15.354 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 14:27:15.354 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 44.5374ms
2024-07-29 14:27:15.354 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 14:27:15.354 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 14:27:15.354 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:27:15.354 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 14:27:15.354 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 48.2999ms
2024-07-29 14:27:23.252 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-07-29 14:27:23.253 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-29 14:27:23.253 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 14:27:23.253 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:27:23.253 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:27:23.254 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:27:23.254 -05:00 [DBG] The request is a preflight request.
2024-07-29 14:27:23.254 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 1.3686ms
2024-07-29 14:27:23.251 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-29 14:27:23.254 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-29 14:27:23.254 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 14:27:23.254 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:27:23.255 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:27:23.255 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:27:23.255 -05:00 [DBG] The request is a preflight request.
2024-07-29 14:27:23.255 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 4.3349ms
2024-07-29 14:27:23.259 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-07-29 14:27:23.269 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-29 14:27:23.269 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-07-29 14:27:23.269 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-29 14:27:23.269 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:27:23.270 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:27:23.270 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:27:23.270 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-29 14:27:23.270 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-29 14:27:23.270 -05:00 [DBG] Successfully validated the token.
2024-07-29 14:27:23.270 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-29 14:27:23.270 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 14:27:23.270 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 14:27:23.270 -05:00 [DBG] Authorization was successful.
2024-07-29 14:27:23.270 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:27:23.271 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:27:23.271 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-29 14:27:23.271 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:27:23.271 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-07-29 14:27:23.271 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 14:27:23.271 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 14:27:23.271 -05:00 [DBG] Successfully validated the token.
2024-07-29 14:27:23.271 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 14:27:23.271 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 14:27:23.271 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 14:27:23.271 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 14:27:23.271 -05:00 [DBG] Authorization was successful.
2024-07-29 14:27:23.271 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 14:27:23.271 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-29 14:27:23.271 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-29 14:27:23.271 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 14:27:23.271 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 14:27:23.271 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-29 14:27:23.271 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 14:27:23.272 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 14:27:23.272 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 14:27:23.272 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-29 14:27:23.273 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-29 14:27:23.329 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-29 14:27:23.330 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-29 14:27:23.330 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-29 14:27:23.330 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 14:27:23.330 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 14:27:23.330 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-29 14:27:23.330 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 14:27:23.331 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 14:27:23.373 -05:00 [DBG] Creating DbConnection.
2024-07-29 14:27:23.373 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-29 14:27:23.374 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 14:27:23.376 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:27:23.377 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:27:23.377 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 14:27:23.377 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:27:23.377 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:27:23.377 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-29 14:27:23.413 -05:00 [DBG] Consultando libros...
2024-07-29 14:27:23.415 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 14:27:23.416 -05:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-29 14:27:23.416 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:27:23.416 -05:00 [DBG] Creating DbConnection.
2024-07-29 14:27:23.416 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:27:23.416 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 14:27:23.416 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:27:23.416 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:27:23.416 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:27:23.417 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:27:23.417 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:27:23.417 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:27:23.417 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 14:27:23.417 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:27:23.417 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:27:23.417 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:27:23.417 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:27:23.417 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:27:23.417 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-29 14:27:23.417 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:27:23.417 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:27:23.417 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:27:23.417 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:27:23.417 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:27:23.417 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-29 14:27:23.417 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:27:23.417 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 14:27:23.417 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 87.8658ms.
2024-07-29 14:27:23.418 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-29 14:27:23.418 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 14:27:23.418 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 14:27:23.418 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:27:23.418 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 14:27:23.418 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 14:27:23.418 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 14:27:23.418 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:27:23.418 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 14:27:23.418 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 14:27:23.419 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 14:27:23.419 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 148.3758ms
2024-07-29 14:27:23.419 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-29 14:27:23.420 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 14:27:23.420 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:27:23.420 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 14:27:23.420 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 160.9327ms
2024-07-29 14:27:23.421 -05:00 [INF] Consulta de libros exitosa
2024-07-29 14:27:23.421 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 47.8778ms.
2024-07-29 14:27:23.421 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 14:27:23.422 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 14:27:23.422 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 14:27:23.422 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 14:27:23.422 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 14:27:23.422 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 14:27:23.422 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 150.8754ms
2024-07-29 14:27:23.422 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 14:27:23.423 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 14:27:23.423 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:27:23.423 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 14:27:23.423 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 153.5039ms
2024-07-29 14:27:35.750 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-29 14:27:35.782 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-29 14:27:35.782 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 14:27:35.782 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:27:35.782 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:27:35.782 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:27:35.782 -05:00 [DBG] The request is a preflight request.
2024-07-29 14:27:35.783 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 33.0195ms
2024-07-29 14:27:35.806 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-29 14:27:35.812 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-29 14:27:35.812 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-29 14:27:35.812 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 14:27:35.812 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:27:35.812 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:27:35.812 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:27:35.812 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-07-29 14:27:35.812 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-29 14:27:35.813 -05:00 [DBG] Successfully validated the token.
2024-07-29 14:27:35.813 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 14:27:35.813 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 14:27:35.813 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:27:35.813 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:27:35.813 -05:00 [DBG] Authorization was successful.
2024-07-29 14:27:35.813 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:27:35.813 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 14:27:35.813 -05:00 [DBG] The request is a preflight request.
2024-07-29 14:27:35.814 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-29 14:27:35.814 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 14:27:35.814 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 1.7227ms
2024-07-29 14:27:35.814 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 14:27:35.814 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 14:27:35.814 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 14:27:35.814 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 14:27:35.815 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-29 14:27:35.815 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-29 14:27:35.815 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-29 14:27:35.815 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-29 14:27:35.815 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 14:27:35.823 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 14:27:35.823 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-29 14:27:35.836 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 14:27:35.837 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-07-29 14:27:35.841 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-29 14:27:35.843 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-07-29 14:27:35.843 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-29 14:27:35.843 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:27:35.894 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:27:35.895 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-29 14:27:35.895 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:27:35.895 -05:00 [DBG] Successfully validated the token.
2024-07-29 14:27:35.896 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 14:27:35.896 -05:00 [DBG] Authorization was successful.
2024-07-29 14:27:35.896 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-29 14:27:35.896 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-07-29 14:27:35.896 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 14:27:35.896 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 14:27:35.896 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 14:27:35.896 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 14:27:35.896 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 14:27:35.896 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-29 14:27:35.898 -05:00 [DBG] Consultando libros...
2024-07-29 14:27:35.898 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-29 14:27:35.930 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-29 14:27:35.930 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 14:27:35.930 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 14:27:35.930 -05:00 [DBG] Creating DbConnection.
2024-07-29 14:27:35.930 -05:00 [DBG] Creating DbConnection.
2024-07-29 14:27:35.930 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 14:27:35.931 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 14:27:35.931 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:27:35.931 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:27:35.931 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:27:35.931 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:27:35.931 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 14:27:35.931 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:27:35.931 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 14:27:35.931 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:27:35.931 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:27:35.931 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-29 14:27:35.931 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:27:35.931 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-29 14:27:35.939 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-29 14:27:35.939 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:27:35.939 -05:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-29 14:27:35.939 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:27:35.939 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:27:35.939 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:27:35.939 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 14:27:35.939 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:27:35.939 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:27:35.939 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:27:35.939 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:27:35.939 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 14:27:35.940 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:27:35.945 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:27:35.945 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:27:35.945 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:27:35.945 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:27:35.945 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:27:35.945 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:27:35.945 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:27:35.945 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 6ms reading results.
2024-07-29 14:27:35.945 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:27:35.946 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 14:27:35.946 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 15.9741ms.
2024-07-29 14:27:35.946 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 14:27:35.946 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 14:27:35.946 -05:00 [INF] Consulta de libros exitosa
2024-07-29 14:27:35.946 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 14:27:35.946 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 14:27:35.946 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 51.5492ms.
2024-07-29 14:27:35.946 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 14:27:35.946 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 14:27:35.946 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 14:27:35.946 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 14:27:35.946 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 14:27:35.946 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 50.03ms
2024-07-29 14:27:35.946 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 14:27:35.947 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-29 14:27:35.947 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 14:27:35.947 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 14:27:35.947 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 14:27:35.947 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:27:35.947 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 14:27:35.947 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 110.6948ms
2024-07-29 14:27:35.948 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 133.3528ms
2024-07-29 14:27:35.948 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 14:27:35.948 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 14:27:35.948 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:27:35.948 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 14:27:35.949 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 142.7131ms
2024-07-29 14:36:10.798 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-29 14:36:10.798 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-07-29 14:36:10.800 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-29 14:36:10.800 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 14:36:10.800 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-29 14:36:10.800 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 14:36:10.800 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:36:10.800 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:36:10.800 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:36:10.801 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:36:10.801 -05:00 [DBG] The request is a preflight request.
2024-07-29 14:36:10.801 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 2.9711ms
2024-07-29 14:36:10.801 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:36:10.802 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:36:10.802 -05:00 [DBG] The request is a preflight request.
2024-07-29 14:36:10.802 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 5.059ms
2024-07-29 14:36:10.854 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-29 14:36:10.854 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-07-29 14:36:10.854 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-29 14:36:10.854 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-29 14:36:10.854 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-07-29 14:36:10.854 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-29 14:36:10.854 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-29 14:36:10.854 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 14:36:10.855 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:36:10.855 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 14:36:10.855 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:36:10.855 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 14:36:10.855 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:36:10.855 -05:00 [INF] CORS policy execution successful.
2024-07-29 14:36:10.856 -05:00 [DBG] Successfully validated the token.
2024-07-29 14:36:10.856 -05:00 [DBG] Successfully validated the token.
2024-07-29 14:36:10.863 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 14:36:10.864 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 14:36:10.864 -05:00 [DBG] Authorization was successful.
2024-07-29 14:36:10.864 -05:00 [DBG] Authorization was successful.
2024-07-29 14:36:10.864 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-29 14:36:10.864 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 14:36:10.864 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-07-29 14:36:10.865 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-29 14:36:10.865 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 14:36:10.865 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 14:36:10.865 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 14:36:10.865 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 14:36:10.869 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 14:36:10.870 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 14:36:10.870 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 14:36:10.870 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 14:36:10.870 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 14:36:10.870 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 14:36:10.870 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-29 14:36:10.870 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-29 14:36:10.870 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-29 14:36:10.870 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-29 14:36:10.870 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-29 14:36:10.871 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-29 14:36:10.871 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 14:36:10.871 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 14:36:10.871 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-29 14:36:10.919 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 14:36:10.919 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-29 14:36:10.942 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 14:36:10.942 -05:00 [DBG] Creating DbConnection.
2024-07-29 14:36:10.943 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 14:36:10.943 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:36:10.948 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-29 14:36:10.953 -05:00 [DBG] Consultando libros...
2024-07-29 14:36:10.954 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 14:36:10.956 -05:00 [DBG] Creating DbConnection.
2024-07-29 14:36:10.956 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 14:36:10.957 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:36:11.019 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:36:11.019 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 14:36:11.019 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:36:11.019 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:36:11.020 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-29 14:36:11.031 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:36:11.032 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 14:36:11.032 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:36:11.032 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 14:36:11.033 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-29 14:36:11.036 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-29 14:36:11.036 -05:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-29 14:36:11.036 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:36:11.036 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:36:11.036 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:36:11.036 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 14:36:11.036 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:36:11.036 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:36:11.036 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:36:11.036 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 14:36:11.036 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:36:11.036 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:36:11.038 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:36:11.038 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:36:11.039 -05:00 [INF] Consulta de libros exitosa
2024-07-29 14:36:11.039 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:36:11.039 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 90.9773ms.
2024-07-29 14:36:11.039 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:36:11.039 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 14:36:11.039 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:36:11.039 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 14:36:11.039 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:36:11.039 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 14:36:11.039 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 14:36:11.039 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 14:36:11.039 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 14:36:11.039 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:36:11.039 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 14:36:11.039 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-07-29 14:36:11.039 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:36:11.039 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 169.6328ms
2024-07-29 14:36:11.039 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 14:36:11.039 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 14:36:11.040 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 14:36:11.040 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:36:11.040 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 14:36:11.040 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 120.6508ms.
2024-07-29 14:36:11.040 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 185.6837ms
2024-07-29 14:36:11.040 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 14:36:11.040 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 14:36:11.040 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 14:36:11.040 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 14:36:11.040 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 14:36:11.040 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 14:36:11.040 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 170.6179ms
2024-07-29 14:36:11.040 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-29 14:36:11.041 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 14:36:11.041 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 14:36:11.041 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 14:36:11.041 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 187.1357ms
2024-07-29 15:04:42.802 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-29 15:04:42.994 -05:00 [DBG] Hosting starting
2024-07-29 15:04:43.064 -05:00 [INF] User profile is available. Using 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-29 15:04:43.072 -05:00 [DBG] Reading data from file 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys\key-12ed5171-7863-4d3e-a216-6f5439158e60.xml'.
2024-07-29 15:04:43.084 -05:00 [DBG] Found key {12ed5171-7863-4d3e-a216-6f5439158e60}.
2024-07-29 15:04:43.094 -05:00 [DBG] Considering key {12ed5171-7863-4d3e-a216-6f5439158e60} with expiration date 2024-09-28 19:27:42Z as default key.
2024-07-29 15:04:43.097 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-29 15:04:43.100 -05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-29 15:04:43.102 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-29 15:04:43.107 -05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-29 15:04:43.108 -05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-29 15:04:43.110 -05:00 [DBG] Using key {12ed5171-7863-4d3e-a216-6f5439158e60} as the default key.
2024-07-29 15:04:43.111 -05:00 [DBG] Key ring with default key {12ed5171-7863-4d3e-a216-6f5439158e60} was loaded during application startup.
2024-07-29 15:04:43.448 -05:00 [INF] Now listening on: https://localhost:7299
2024-07-29 15:04:43.448 -05:00 [INF] Now listening on: http://localhost:5219
2024-07-29 15:04:43.448 -05:00 [DBG] Loaded hosting startup assembly biblioteca-backend
2024-07-29 15:04:43.448 -05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-29 15:04:43.448 -05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-29 15:04:43.448 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-29 15:04:43.448 -05:00 [INF] Hosting environment: Development
2024-07-29 15:04:43.448 -05:00 [INF] Content root path: C:\Users\spatino\Documents\Proyeco - Biblioteca\biblioteca-backend
2024-07-29 15:04:43.448 -05:00 [DBG] Hosting started
2024-07-29 15:04:43.466 -05:00 [DBG] Connection id "0HN5G16O0RPKN" accepted.
2024-07-29 15:04:43.468 -05:00 [DBG] Connection id "0HN5G16O0RPKN" started.
2024-07-29 15:04:43.470 -05:00 [DBG] Connection id "0HN5G16O0RPKO" accepted.
2024-07-29 15:04:43.471 -05:00 [DBG] Connection id "0HN5G16O0RPKO" started.
2024-07-29 15:04:43.486 -05:00 [DBG] Connection id "0HN5G16O0RPKN" received FIN.
2024-07-29 15:04:43.487 -05:00 [DBG] Connection id "0HN5G16O0RPKO" received FIN.
2024-07-29 15:04:43.520 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-29 15:04:43.520 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-29 15:04:43.584 -05:00 [DBG] Connection id "0HN5G16O0RPKO" stopped.
2024-07-29 15:04:43.584 -05:00 [DBG] Connection id "0HN5G16O0RPKN" stopped.
2024-07-29 15:04:43.587 -05:00 [DBG] Connection id "0HN5G16O0RPKN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-29 15:04:43.587 -05:00 [DBG] Connection id "0HN5G16O0RPKO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-29 15:04:43.707 -05:00 [DBG] Connection id "0HN5G16O0RPKP" accepted.
2024-07-29 15:04:43.708 -05:00 [DBG] Connection id "0HN5G16O0RPKP" started.
2024-07-29 15:04:43.954 -05:00 [DBG] Connection 0HN5G16O0RPKP established using the following protocol: "Tls12"
2024-07-29 15:04:44.080 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/index.html - null null
2024-07-29 15:04:44.525 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-29 15:04:44.561 -05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-29 15:04:44.563 -05:00 [DBG] Request did not match any endpoints
2024-07-29 15:04:44.750 -05:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-07-29 15:04:44.754 -05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-29 15:04:44.799 -05:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-07-29 15:04:44.800 -05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-29 15:04:44.813 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/index.html - 200 null text/html;charset=utf-8 741.9596ms
2024-07-29 15:04:44.880 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
2024-07-29 15:04:44.901 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
2024-07-29 15:04:44.931 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 50.8633ms
2024-07-29 15:04:45.047 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 146.8891ms
2024-07-29 15:04:45.134 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
2024-07-29 15:04:45.134 -05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-29 15:04:45.134 -05:00 [DBG] Request did not match any endpoints
2024-07-29 15:04:45.404 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 270.4671ms
2024-07-29 15:12:06.980 -05:00 [DBG] Connection id "0HN5G16O0RPKQ" accepted.
2024-07-29 15:12:06.980 -05:00 [DBG] Connection id "0HN5G16O0RPKQ" started.
2024-07-29 15:12:07.029 -05:00 [DBG] Connection 0HN5G16O0RPKQ established using the following protocol: "Tls12"
2024-07-29 15:12:07.047 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - null null
2024-07-29 15:12:07.060 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:12:07.066 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarHistorial' is valid for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:12:07.067 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:12:07.076 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:12:07.080 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:12:07.080 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:12:07.227 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 15:12:07.229 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:12:07.251 -05:00 [INF] Route matched with {action = "ConsultarHistorial", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarHistorial() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 15:12:07.255 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:12:07.256 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:12:07.257 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:12:07.257 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:12:07.257 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:12:07.259 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:12:07.426 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-29 15:12:07.451 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:12:07.564 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:12:08.467 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:12:08.480 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 912.2699ms.
2024-07-29 15:12:08.483 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:12:08.485 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:12:08.486 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:12:08.486 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:12:08.487 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:12:08.488 -05:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType2`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:12:08.555 -05:00 [DBG] Compiling query expression: 
'DbSet<Archivo>()
    .Join(
        inner: DbSet<RegistroArchivoPerfil>(), 
        outerKeySelector: A => A.Id, 
        innerKeySelector: RA => RA.IdArchivo, 
        resultSelector: (A, RA) => new { 
            A = A, 
            RA = RA
         })
    .Join(
        inner: DbSet<Perfil>(), 
        outerKeySelector: <>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.RA.IdPerfil, 
        innerKeySelector: P => P.Id, 
        resultSelector: (<>h__TransparentIdentifier0, P) => new { 
            <>h__TransparentIdentifier0 = <>h__TransparentIdentifier0, 
            P = P
         })
    .Join(
        inner: DbSet<Accion>(), 
        outerKeySelector: <>h__TransparentIdentifier1 => <>h__TransparentIdentifier1.<>h__TransparentIdentifier0.RA.IdAccion, 
        innerKeySelector: AC => AC.Id, 
        resultSelector: (<>h__TransparentIdentifier1, AC) => new { 
            nombreArchivo = <>h__TransparentIdentifier1.<>h__TransparentIdentifier0.A.Nombre, 
            accion = AC.Nombre, 
            nombreUsuario = <>h__TransparentIdentifier1.P.Nombre + (object)  + <>h__TransparentIdentifier1.P.Apellido, 
            fechaAccion = <>h__TransparentIdentifier1.<>h__TransparentIdentifier0.RA.Fecha
         })'
2024-07-29 15:12:08.847 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType2<string, string, string, DateTime>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            nombreArchivo -> 0
            accion -> 1
            nombreUsuario -> 2
            fechaAccion -> 3
        SELECT a.Nombre AS nombreArchivo, a0.Nombre AS accion, (p.Nombre + CAST(N' ' AS nvarchar(max))) + p.Apellido AS nombreUsuario, r.Fecha AS fechaAccion
        FROM Archivo AS a
        INNER JOIN RegistroArchivoPerfil AS r ON a.Id == r.IdArchivo
        INNER JOIN Perfil AS p ON r.IdPerfil == p.Id
        INNER JOIN Accion AS a0 ON r.IdAccion == a0.Id), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType2<string, string, string, DateTime>>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-29 15:12:08.889 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:12:08.914 -05:00 [DBG] Created DbConnection. (22ms).
2024-07-29 15:12:08.917 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:12:09.274 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:12:09.279 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:12:09.291 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-07-29 15:12:09.294 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2024-07-29 15:12:09.304 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
2024-07-29 15:12:09.366 -05:00 [INF] Executed DbCommand (64ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
2024-07-29 15:12:09.421 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:12:09.439 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 58ms reading results.
2024-07-29 15:12:09.444 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:12:09.460 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (15ms).
2024-07-29 15:12:09.475 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) in 2209.1302ms
2024-07-29 15:12:09.476 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:12:09.481 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:12:09.492 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:12:09.494 -05:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-07-29 15:12:09.509 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - 200 null application/json; charset=utf-8 2462.3628ms
2024-07-29 15:12:53.891 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-29 15:12:54.029 -05:00 [DBG] Hosting starting
2024-07-29 15:12:54.089 -05:00 [INF] User profile is available. Using 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-29 15:12:54.096 -05:00 [DBG] Reading data from file 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys\key-12ed5171-7863-4d3e-a216-6f5439158e60.xml'.
2024-07-29 15:12:54.108 -05:00 [DBG] Found key {12ed5171-7863-4d3e-a216-6f5439158e60}.
2024-07-29 15:12:54.117 -05:00 [DBG] Considering key {12ed5171-7863-4d3e-a216-6f5439158e60} with expiration date 2024-09-28 19:27:42Z as default key.
2024-07-29 15:12:54.119 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-29 15:12:54.122 -05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-29 15:12:54.123 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-29 15:12:54.126 -05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-29 15:12:54.127 -05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-29 15:12:54.129 -05:00 [DBG] Using key {12ed5171-7863-4d3e-a216-6f5439158e60} as the default key.
2024-07-29 15:12:54.129 -05:00 [DBG] Key ring with default key {12ed5171-7863-4d3e-a216-6f5439158e60} was loaded during application startup.
2024-07-29 15:12:54.423 -05:00 [DBG] Connection id "0HN5G1BAAVPG1" accepted.
2024-07-29 15:12:54.425 -05:00 [DBG] Connection id "0HN5G1BAAVPG1" started.
2024-07-29 15:12:54.427 -05:00 [DBG] Connection id "0HN5G1BAAVPG1" received FIN.
2024-07-29 15:12:54.437 -05:00 [INF] Now listening on: https://localhost:7299
2024-07-29 15:12:54.437 -05:00 [INF] Now listening on: http://localhost:5219
2024-07-29 15:12:54.438 -05:00 [DBG] Loaded hosting startup assembly biblioteca-backend
2024-07-29 15:12:54.438 -05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-29 15:12:54.438 -05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-29 15:12:54.438 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-29 15:12:54.438 -05:00 [INF] Hosting environment: Development
2024-07-29 15:12:54.438 -05:00 [INF] Content root path: C:\Users\spatino\Documents\Proyeco - Biblioteca\biblioteca-backend
2024-07-29 15:12:54.439 -05:00 [DBG] Hosting started
2024-07-29 15:12:54.476 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-29 15:12:54.558 -05:00 [DBG] Connection id "0HN5G1BAAVPG1" stopped.
2024-07-29 15:12:54.575 -05:00 [DBG] Connection id "0HN5G1BAAVPG1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-29 15:12:54.771 -05:00 [DBG] Connection id "0HN5G1BAAVPG2" accepted.
2024-07-29 15:12:54.772 -05:00 [DBG] Connection id "0HN5G1BAAVPG2" started.
2024-07-29 15:12:54.973 -05:00 [DBG] Connection 0HN5G1BAAVPG2 established using the following protocol: "Tls12"
2024-07-29 15:12:55.138 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/index.html - null null
2024-07-29 15:12:55.709 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-29 15:12:55.792 -05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-29 15:12:55.793 -05:00 [DBG] Request did not match any endpoints
2024-07-29 15:12:56.053 -05:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-07-29 15:12:56.056 -05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-29 15:12:56.152 -05:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-07-29 15:12:56.153 -05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-29 15:12:56.156 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/index.html - 200 null text/html;charset=utf-8 1029.8388ms
2024-07-29 15:12:56.162 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
2024-07-29 15:12:56.162 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
2024-07-29 15:12:56.175 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 13.3548ms
2024-07-29 15:12:56.281 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 119.573ms
2024-07-29 15:12:56.425 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
2024-07-29 15:12:56.425 -05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-29 15:12:56.426 -05:00 [DBG] Request did not match any endpoints
2024-07-29 15:12:56.851 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 426.4326ms
2024-07-29 15:13:05.890 -05:00 [DBG] Connection id "0HN5G1BAAVPG3" accepted.
2024-07-29 15:13:05.894 -05:00 [DBG] Connection id "0HN5G1BAAVPG3" started.
2024-07-29 15:13:05.951 -05:00 [DBG] Connection 0HN5G1BAAVPG3 established using the following protocol: "Tls12"
2024-07-29 15:13:05.964 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - null null
2024-07-29 15:13:05.978 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:13:05.984 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarHistorial' is valid for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:13:05.986 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:13:05.990 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:13:05.992 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:13:05.992 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:13:06.122 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 15:13:06.126 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:13:06.187 -05:00 [INF] Route matched with {action = "ConsultarHistorial", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarHistorial() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 15:13:06.189 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:13:06.190 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:13:06.190 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:13:06.191 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:13:06.191 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:13:06.194 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:13:06.421 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-29 15:13:06.461 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:13:06.574 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:13:07.755 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:13:07.764 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1185.5772ms.
2024-07-29 15:13:07.769 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:13:07.771 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:13:07.771 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:13:07.772 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:13:07.777 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:13:07.777 -05:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType3`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:13:07.869 -05:00 [DBG] Compiling query expression: 
'DbSet<Archivo>()
    .Join(
        inner: DbSet<RegistroArchivoPerfil>(), 
        outerKeySelector: A => A.Id, 
        innerKeySelector: RA => RA.IdArchivo, 
        resultSelector: (A, RA) => new { 
            A = A, 
            RA = RA
         })
    .Join(
        inner: DbSet<Perfil>(), 
        outerKeySelector: <>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.RA.IdPerfil, 
        innerKeySelector: P => P.Id, 
        resultSelector: (<>h__TransparentIdentifier0, P) => new { 
            <>h__TransparentIdentifier0 = <>h__TransparentIdentifier0, 
            P = P
         })
    .Join(
        inner: DbSet<Accion>(), 
        outerKeySelector: <>h__TransparentIdentifier1 => <>h__TransparentIdentifier1.<>h__TransparentIdentifier0.RA.IdAccion, 
        innerKeySelector: AC => AC.Id, 
        resultSelector: (<>h__TransparentIdentifier1, AC) => new { 
            <>h__TransparentIdentifier1 = <>h__TransparentIdentifier1, 
            AC = AC
         })
    .OrderByDescending(<>h__TransparentIdentifier2 => <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.RA.Fecha)
    .Select(<>h__TransparentIdentifier2 => new { 
        nombreArchivo = <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.A.Nombre, 
        accion = <>h__TransparentIdentifier2.AC.Nombre, 
        nombreUsuario = <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.P.Nombre + (object)  + <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.P.Apellido, 
        fechaAccion = <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.RA.Fecha
     })'
2024-07-29 15:13:08.190 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType3<string, string, string, DateTime>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            nombreArchivo -> 0
            accion -> 1
            nombreUsuario -> 2
            fechaAccion -> 3
        SELECT a.Nombre AS nombreArchivo, a0.Nombre AS accion, (p.Nombre + CAST(N' ' AS nvarchar(max))) + p.Apellido AS nombreUsuario, r.Fecha AS fechaAccion
        FROM Archivo AS a
        INNER JOIN RegistroArchivoPerfil AS r ON a.Id == r.IdArchivo
        INNER JOIN Perfil AS p ON r.IdPerfil == p.Id
        INNER JOIN Accion AS a0 ON r.IdAccion == a0.Id
        ORDER BY r.Fecha DESC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType3<string, string, string, DateTime>>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-29 15:13:08.292 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:13:08.336 -05:00 [DBG] Created DbConnection. (39ms).
2024-07-29 15:13:08.343 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:13:08.746 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:13:08.752 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:13:08.760 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-07-29 15:13:08.762 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2024-07-29 15:13:08.769 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:13:08.837 -05:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:13:08.867 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:13:08.875 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 31ms reading results.
2024-07-29 15:13:08.881 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:13:08.896 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (15ms).
2024-07-29 15:13:08.904 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) in 2709.395ms
2024-07-29 15:13:08.905 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:13:08.908 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:13:08.912 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:13:08.914 -05:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-29 15:13:08.915 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - 200 null application/json; charset=utf-8 2951.1062ms
2024-07-29 15:14:27.207 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - null null
2024-07-29 15:14:27.211 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:14:27.211 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarHistorial' is valid for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:14:27.215 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:14:27.216 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:14:27.223 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:14:27.223 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:14:27.236 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 15:14:27.237 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:14:27.237 -05:00 [INF] Route matched with {action = "ConsultarHistorial", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarHistorial() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 15:14:27.238 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:14:27.238 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:14:27.238 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:14:27.238 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:14:27.239 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:14:27.239 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:14:27.240 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:14:27.285 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:14:27.304 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:14:27.304 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 18.6515ms.
2024-07-29 15:14:27.305 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:14:27.305 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:14:27.305 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:14:27.305 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:14:27.305 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:14:27.305 -05:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType3`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:14:27.309 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:14:27.310 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:14:27.310 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:14:27.311 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:14:27.311 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:14:27.311 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:14:27.311 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:14:27.311 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:14:27.322 -05:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:14:27.324 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:14:27.324 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-29 15:14:27.324 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:14:27.324 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:14:27.325 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) in 86.1944ms
2024-07-29 15:14:27.325 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:14:27.326 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:14:27.326 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:14:27.326 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:14:27.326 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - 200 null application/json; charset=utf-8 119.7931ms
2024-07-29 15:14:42.249 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - null null
2024-07-29 15:14:42.249 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:14:42.249 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarHistorial' is valid for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:14:42.249 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:14:42.250 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:14:42.251 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:14:42.251 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:14:42.254 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 15:14:42.254 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:14:42.254 -05:00 [INF] Route matched with {action = "ConsultarHistorial", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarHistorial() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 15:14:42.254 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:14:42.254 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:14:42.255 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:14:42.255 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:14:42.255 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:14:42.255 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:14:42.262 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:14:42.304 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:14:42.381 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:14:42.382 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 78.6714ms.
2024-07-29 15:14:42.383 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:14:42.383 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:14:42.383 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:14:42.383 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:14:42.383 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:14:42.384 -05:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType3`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:14:42.386 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:14:42.386 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:14:42.386 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:14:42.386 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:14:42.387 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:14:42.387 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:14:42.387 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:14:42.387 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:14:42.398 -05:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:14:42.401 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:14:42.401 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-07-29 15:14:42.402 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:14:42.403 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (1ms).
2024-07-29 15:14:42.403 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) in 147.7954ms
2024-07-29 15:14:42.415 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:14:42.416 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:14:42.420 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:14:42.421 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:14:42.421 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - 200 null application/json; charset=utf-8 172.4184ms
2024-07-29 15:15:03.810 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - null null
2024-07-29 15:15:03.814 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:15:03.814 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarHistorial' is valid for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:15:03.814 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:15:03.814 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:15:03.815 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:15:03.815 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:15:03.815 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 15:15:03.815 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:15:03.815 -05:00 [INF] Route matched with {action = "ConsultarHistorial", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarHistorial() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 15:15:03.816 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:15:03.816 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:15:03.816 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:15:03.816 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:15:03.816 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:15:03.816 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:15:03.821 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:15:03.885 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:15:03.886 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:15:03.886 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.9425ms.
2024-07-29 15:15:03.886 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:15:03.886 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:15:03.886 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:15:03.886 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:15:03.886 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:15:03.886 -05:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType3`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:15:03.887 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:15:03.887 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:15:03.887 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:15:03.887 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:15:03.887 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:15:03.887 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:15:03.888 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:15:03.888 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:15:03.891 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:15:03.892 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:15:03.892 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-29 15:15:03.892 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:15:03.892 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:15:03.892 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) in 76.3828ms
2024-07-29 15:15:03.893 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:15:03.893 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:15:03.893 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:15:03.894 -05:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-29 15:15:03.895 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - 200 null application/json; charset=utf-8 85.1424ms
2024-07-29 15:16:30.532 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-07-29 15:16:30.532 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-29 15:16:30.532 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-29 15:16:30.532 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 15:16:30.532 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-29 15:16:30.532 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 15:16:30.532 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:16:30.532 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:16:30.533 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:16:30.533 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:16:30.533 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:16:30.533 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:16:30.534 -05:00 [DBG] The request is a preflight request.
2024-07-29 15:16:30.534 -05:00 [DBG] The request is a preflight request.
2024-07-29 15:16:30.535 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 3.4017ms
2024-07-29 15:16:30.536 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 4.1003ms
2024-07-29 15:16:30.558 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-29 15:16:30.558 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-07-29 15:16:30.558 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-29 15:16:30.558 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-29 15:16:30.558 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-07-29 15:16:30.558 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-29 15:16:30.558 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 15:16:30.558 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-29 15:16:30.559 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:16:30.559 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:16:30.559 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:16:30.559 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:16:30.559 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:16:30.559 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:16:30.661 -05:00 [DBG] Successfully validated the token.
2024-07-29 15:16:30.661 -05:00 [DBG] Successfully validated the token.
2024-07-29 15:16:30.663 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 15:16:30.663 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 15:16:30.671 -05:00 [DBG] Authorization was successful.
2024-07-29 15:16:30.671 -05:00 [DBG] Authorization was successful.
2024-07-29 15:16:30.671 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 15:16:30.671 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-29 15:16:30.680 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-07-29 15:16:30.680 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:16:30.680 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:16:30.680 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:16:30.680 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:16:30.680 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:16:30.680 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-29 15:16:30.681 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-29 15:16:30.721 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:16:30.728 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-29 15:16:30.728 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:16:30.728 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:16:30.728 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:16:30.729 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:16:30.729 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:16:30.729 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-29 15:16:30.730 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-29 15:16:30.743 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:16:30.745 -05:00 [DBG] Compiling query expression: 
'DbSet<Genero>()'
2024-07-29 15:16:30.766 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-29 15:16:30.770 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-29 15:16:30.772 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 15:16:30.772 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 15:16:30.773 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-29 15:16:30.777 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 15:16:30.810 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:16:30.825 -05:00 [DBG] Consultando libros...
2024-07-29 15:16:30.826 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:16:30.833 -05:00 [DBG] Compiling query expression: 
'DbSet<Libro>()
    .Join(
        inner: DbSet<Genero>(), 
        outerKeySelector: L => L.IdGenero, 
        innerKeySelector: G => G.Id, 
        resultSelector: (L, G) => new { 
            L = L, 
            G = G
         })
    .Where(<>h__TransparentIdentifier0 => True)
    .Select(<>h__TransparentIdentifier0 => new { 
        id = <>h__TransparentIdentifier0.L.Id, 
        titulo = <>h__TransparentIdentifier0.L.Titulo, 
        autor = <>h__TransparentIdentifier0.L.Autor, 
        anio = <>h__TransparentIdentifier0.L.Anio, 
        idGenero = <>h__TransparentIdentifier0.L.IdGenero, 
        genero = <>h__TransparentIdentifier0.G.Nombre, 
        activo = <>h__TransparentIdentifier0.L.Activo
     })'
2024-07-29 15:16:30.839 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Genero>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Genero.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Genero.Nombre (string) Required, 1] }
        SELECT g.Id, g.Nombre
        FROM Genero AS g), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Genero>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-29 15:16:30.839 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType5<int, string, string, int, int, string, bool>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            id -> 0
            titulo -> 1
            autor -> 2
            anio -> 3
            idGenero -> 4
            genero -> 5
            activo -> 6
        SELECT l.Id AS id, l.Titulo AS titulo, l.Autor AS autor, l.Anio AS anio, l.IdGenero AS idGenero, g.Nombre AS genero, l.Activo AS activo
        FROM Libro AS l
        INNER JOIN Genero AS g ON l.IdGenero == g.Id), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType5<int, string, string, int, int, string, bool>>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-29 15:16:30.840 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:16:30.841 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:16:30.841 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:16:30.841 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:16:30.841 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:16:30.841 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:16:30.841 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:16:30.841 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-29 15:16:30.846 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-29 15:16:30.847 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:16:30.847 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:16:30.848 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:16:30.862 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:16:30.863 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:16:30.863 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:16:30.863 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:16:30.864 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-29 15:16:30.870 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-29 15:16:30.873 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:16:30.873 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-07-29 15:16:30.874 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:16:30.875 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:16:30.878 -05:00 [INF] Consulta de libros exitosa
2024-07-29 15:16:30.878 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 68.0491ms.
2024-07-29 15:16:30.878 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:16:30.878 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:16:30.878 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:16:30.878 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:16:30.878 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:16:30.878 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:16:30.883 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 153.7493ms
2024-07-29 15:16:30.883 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 15:16:30.883 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:16:30.883 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:16:30.883 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:16:30.883 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 325.4162ms
2024-07-29 15:16:30.903 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:16:30.924 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:16:30.925 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:16:30.925 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:16:30.925 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:16:30.925 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:16:30.925 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:16:30.925 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:16:30.925 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:16:30.926 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:16:30.926 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:16:30.926 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:16:30.926 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:16:30.926 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:16:30.926 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 80ms reading results.
2024-07-29 15:16:30.926 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:16:30.926 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:16:30.928 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 206.9997ms.
2024-07-29 15:16:30.929 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:16:30.929 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:16:30.929 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:16:30.929 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:16:30.929 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:16:30.929 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:16:30.932 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 251.8678ms
2024-07-29 15:16:30.932 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-29 15:16:30.933 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:16:30.933 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:16:30.933 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:16:30.933 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 374.8353ms
2024-07-29 15:16:32.858 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - null null
2024-07-29 15:16:32.859 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:16:32.859 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarHistorial' is valid for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:16:32.859 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:16:32.859 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:16:32.859 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:16:32.859 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:16:32.859 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 15:16:32.859 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:16:32.859 -05:00 [INF] Route matched with {action = "ConsultarHistorial", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarHistorial() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 15:16:32.859 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:16:32.860 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:16:32.860 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:16:32.860 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:16:32.860 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:16:32.860 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:16:32.860 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:16:32.897 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:16:32.897 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:16:32.898 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.7508ms.
2024-07-29 15:16:32.898 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:16:32.898 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:16:32.898 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:16:32.898 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:16:32.898 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:16:32.898 -05:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType3`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:16:32.898 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:16:32.898 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:16:32.898 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:16:32.898 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:16:32.899 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:16:32.899 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:16:32.899 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:16:32.899 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:16:32.907 -05:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:16:32.910 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:16:32.911 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-07-29 15:16:32.911 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:16:32.911 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:16:32.920 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) in 52.3942ms
2024-07-29 15:16:32.921 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:16:32.925 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:16:32.925 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:16:32.925 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:16:32.925 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - 200 null application/json; charset=utf-8 67.2593ms
2024-07-29 15:19:22.603 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - null null
2024-07-29 15:19:22.603 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:19:22.603 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarHistorial' is valid for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:19:22.603 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:19:22.603 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:19:22.603 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:19:22.603 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:19:22.603 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 15:19:22.603 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:19:22.604 -05:00 [INF] Route matched with {action = "ConsultarHistorial", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarHistorial() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 15:19:22.604 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:19:22.608 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:19:22.608 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:19:22.609 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:19:22.609 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:19:22.609 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:19:22.612 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:19:22.664 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:19:22.664 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:19:22.665 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.8532ms.
2024-07-29 15:19:22.665 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:19:22.665 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:19:22.665 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:19:22.666 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:19:22.666 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:19:22.666 -05:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType3`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:19:22.667 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:19:22.667 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:19:22.667 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:19:22.668 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:19:22.668 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:19:22.668 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:19:22.668 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:19:22.669 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:19:22.679 -05:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:19:22.684 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:19:22.684 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 5ms reading results.
2024-07-29 15:19:22.684 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:19:22.685 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:19:22.698 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) in 87.5881ms
2024-07-29 15:19:22.698 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:19:22.703 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:19:22.703 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:19:22.703 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:19:22.703 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - 200 null application/json; charset=utf-8 100.6288ms
2024-07-29 15:19:35.399 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - null null
2024-07-29 15:19:35.399 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:19:35.399 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarHistorial' is valid for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:19:35.399 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:19:35.399 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:19:35.399 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:19:35.399 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:19:35.400 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 15:19:35.400 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:19:35.400 -05:00 [INF] Route matched with {action = "ConsultarHistorial", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarHistorial() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 15:19:35.400 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:19:35.400 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:19:35.400 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:19:35.400 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:19:35.400 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:19:35.400 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:19:35.401 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:19:35.459 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:19:35.460 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:19:35.460 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.7305ms.
2024-07-29 15:19:35.460 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:19:35.460 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:19:35.460 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:19:35.460 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:19:35.460 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:19:35.460 -05:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType3`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:19:35.461 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:19:35.461 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:19:35.461 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:19:35.461 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:19:35.461 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:19:35.461 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:19:35.461 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:19:35.461 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:19:35.466 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:19:35.476 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:19:35.477 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 10ms reading results.
2024-07-29 15:19:35.479 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:19:35.480 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:19:35.480 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) in 79.769ms
2024-07-29 15:19:35.480 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:19:35.480 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:19:35.480 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:19:35.480 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:19:35.481 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - 200 null application/json; charset=utf-8 81.8259ms
2024-07-29 15:19:45.089 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - null null
2024-07-29 15:19:45.089 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:19:45.089 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarHistorial' is valid for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:19:45.090 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:19:45.090 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:19:45.090 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:19:45.090 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:19:45.090 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 15:19:45.090 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:19:45.090 -05:00 [INF] Route matched with {action = "ConsultarHistorial", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarHistorial() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 15:19:45.090 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:19:45.090 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:19:45.091 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:19:45.092 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:19:45.092 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:19:45.100 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:19:45.100 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:19:45.139 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:19:45.140 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:19:45.140 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.8816ms.
2024-07-29 15:19:45.141 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:19:45.141 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:19:45.141 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:19:45.141 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:19:45.141 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:19:45.141 -05:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType3`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:19:45.141 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:19:45.141 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:19:45.141 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:19:45.141 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:19:45.141 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:19:45.141 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:19:45.142 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:19:45.142 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:19:45.144 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:19:45.144 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:19:45.145 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 15:19:45.145 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:19:45.145 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:19:45.145 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) in 45.5123ms
2024-07-29 15:19:45.145 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:19:45.145 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:19:45.146 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:19:45.146 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:19:45.146 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - 200 null application/json; charset=utf-8 57.2202ms
2024-07-29 15:20:05.344 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - null null
2024-07-29 15:20:05.344 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:20:05.344 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarHistorial' is valid for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:20:05.344 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:20:05.344 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:20:05.344 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:20:05.344 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:20:05.344 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 15:20:05.345 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:20:05.345 -05:00 [INF] Route matched with {action = "ConsultarHistorial", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarHistorial() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 15:20:05.345 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:20:05.345 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:20:05.345 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:20:05.345 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:20:05.345 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:20:05.345 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:20:05.346 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:20:05.399 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:20:05.400 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:20:05.400 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.0606ms.
2024-07-29 15:20:05.401 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:20:05.401 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:20:05.401 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:20:05.401 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:20:05.401 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:20:05.401 -05:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType3`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:20:05.401 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:20:05.402 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:20:05.402 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:20:05.402 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:20:05.402 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:20:05.402 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:20:05.402 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:20:05.402 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:20:05.423 -05:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:20:05.426 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:20:05.427 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-07-29 15:20:05.427 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:20:05.427 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:20:05.428 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) in 82.6743ms
2024-07-29 15:20:05.428 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:20:05.428 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:20:05.429 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:20:05.433 -05:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-07-29 15:20:05.435 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - 200 null application/json; charset=utf-8 91.8545ms
2024-07-29 15:20:29.496 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - null null
2024-07-29 15:20:29.496 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:20:29.497 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarHistorial' is valid for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:20:29.497 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:20:29.497 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:20:29.497 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:20:29.497 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:20:29.497 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 15:20:29.498 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:20:29.498 -05:00 [INF] Route matched with {action = "ConsultarHistorial", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarHistorial() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 15:20:29.498 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:20:29.498 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:20:29.498 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:20:29.498 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:20:29.498 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:20:29.498 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:20:29.499 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:20:29.542 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:20:29.543 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:20:29.544 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.3209ms.
2024-07-29 15:20:29.544 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:20:29.544 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:20:29.544 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:20:29.544 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:20:29.544 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:20:29.544 -05:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType3`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:20:29.545 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:20:29.545 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:20:29.545 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:20:29.545 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:20:29.545 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:20:29.546 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:20:29.546 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:20:29.546 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:20:29.570 -05:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:20:29.572 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:20:29.572 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-07-29 15:20:29.572 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:20:29.573 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:20:29.573 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) in 74.4157ms
2024-07-29 15:20:29.573 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:20:29.574 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:20:29.575 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:20:29.575 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:20:29.575 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - 200 null application/json; charset=utf-8 79.1536ms
2024-07-29 15:20:40.070 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - null null
2024-07-29 15:20:40.070 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:20:40.070 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarHistorial' is valid for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:20:40.071 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:20:40.071 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:20:40.071 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:20:40.071 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:20:40.071 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 15:20:40.071 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:20:40.071 -05:00 [INF] Route matched with {action = "ConsultarHistorial", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarHistorial() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 15:20:40.071 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:20:40.071 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:20:40.071 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:20:40.071 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:20:40.072 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:20:40.072 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:20:40.072 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:20:40.198 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:20:40.200 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:20:40.201 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.2619ms.
2024-07-29 15:20:40.201 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:20:40.201 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:20:40.201 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:20:40.201 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:20:40.201 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:20:40.202 -05:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType3`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:20:40.202 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:20:40.202 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:20:40.202 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:20:40.203 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:20:40.203 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:20:40.203 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:20:40.203 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:20:40.203 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:20:40.218 -05:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:20:40.220 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:20:40.221 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-29 15:20:40.221 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:20:40.221 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:20:40.221 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) in 149.2843ms
2024-07-29 15:20:40.221 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:20:40.221 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:20:40.221 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:20:40.221 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:20:40.221 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - 200 null application/json; charset=utf-8 151.6489ms
2024-07-29 15:20:43.770 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - null null
2024-07-29 15:20:43.770 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:20:43.770 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarHistorial' is valid for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:20:43.770 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:20:43.770 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:20:43.770 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:20:43.770 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:20:43.771 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 15:20:43.771 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:20:43.771 -05:00 [INF] Route matched with {action = "ConsultarHistorial", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarHistorial() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 15:20:43.771 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:20:43.771 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:20:43.771 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:20:43.771 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:20:43.771 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:20:43.771 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:20:43.773 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:20:43.819 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:20:43.820 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:20:43.820 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.8238ms.
2024-07-29 15:20:43.820 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:20:43.820 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:20:43.820 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:20:43.820 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:20:43.820 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:20:43.820 -05:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType3`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:20:43.821 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:20:43.821 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:20:43.821 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:20:43.821 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:20:43.821 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:20:43.821 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:20:43.821 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:20:43.821 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:20:43.823 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:20:43.824 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:20:43.824 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 15:20:43.824 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:20:43.824 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:20:43.825 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) in 53.3828ms
2024-07-29 15:20:43.825 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:20:43.825 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:20:43.825 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:20:43.825 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:20:43.825 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - 200 null application/json; charset=utf-8 55.5299ms
2024-07-29 15:21:12.713 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - null null
2024-07-29 15:21:12.713 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:21:12.714 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarHistorial' is valid for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:21:12.714 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:21:12.714 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:21:12.714 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:21:12.714 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:21:12.714 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 15:21:12.714 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:21:12.714 -05:00 [INF] Route matched with {action = "ConsultarHistorial", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarHistorial() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 15:21:12.714 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:21:12.714 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:21:12.714 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:21:12.715 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:21:12.715 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:21:12.715 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:21:12.715 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:21:12.762 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:21:12.763 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:21:12.763 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.1041ms.
2024-07-29 15:21:12.763 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:21:12.763 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:21:12.764 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:21:12.764 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:21:12.764 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:21:12.764 -05:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType3`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:21:12.764 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:21:12.764 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:21:12.764 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:21:12.764 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:21:12.764 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:21:12.765 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:21:12.765 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:21:12.765 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:21:12.774 -05:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:21:12.775 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:21:12.775 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 15:21:12.775 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:21:12.775 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:21:12.775 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) in 60.4293ms
2024-07-29 15:21:12.775 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:21:12.776 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:21:12.776 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:21:12.776 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:21:12.776 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - 200 null application/json; charset=utf-8 66.2896ms
2024-07-29 15:21:21.359 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - null null
2024-07-29 15:21:21.359 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:21:21.359 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarHistorial' is valid for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:21:21.359 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:21:21.361 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:21:21.361 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:21:21.361 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:21:21.362 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 15:21:21.362 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:21:21.362 -05:00 [INF] Route matched with {action = "ConsultarHistorial", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarHistorial() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 15:21:21.362 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:21:21.362 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:21:21.362 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:21:21.363 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:21:21.363 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:21:21.363 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:21:21.363 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:21:21.432 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:21:21.433 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:21:21.433 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.1671ms.
2024-07-29 15:21:21.433 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:21:21.433 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:21:21.433 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:21:21.433 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:21:21.433 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:21:21.433 -05:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType3`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:21:21.434 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:21:21.434 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:21:21.435 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:21:21.435 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:21:21.435 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:21:21.435 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:21:21.435 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:21:21.435 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:21:21.451 -05:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:21:21.452 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:21:21.452 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 15:21:21.452 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:21:21.452 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:21:21.453 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) in 89.8403ms
2024-07-29 15:21:21.453 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:21:21.453 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:21:21.453 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:21:21.453 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:21:21.454 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - 200 null application/json; charset=utf-8 94.4996ms
2024-07-29 15:21:30.573 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - null null
2024-07-29 15:21:30.574 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:21:30.574 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarHistorial' is valid for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:21:30.574 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:21:30.574 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:21:30.574 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:21:30.574 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:21:30.574 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 15:21:30.574 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:21:30.574 -05:00 [INF] Route matched with {action = "ConsultarHistorial", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarHistorial() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 15:21:30.575 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:21:30.575 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:21:30.575 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:21:30.575 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:21:30.575 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:21:30.575 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:21:30.576 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:21:30.667 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:21:30.669 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:21:30.669 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.6051ms.
2024-07-29 15:21:30.669 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:21:30.670 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:21:30.670 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:21:30.670 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:21:30.670 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:21:30.670 -05:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType3`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:21:30.670 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:21:30.670 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:21:30.670 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:21:30.671 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:21:30.671 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:21:30.671 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:21:30.671 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:21:30.671 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:21:30.692 -05:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:21:30.695 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:21:30.696 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-07-29 15:21:30.696 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:21:30.696 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:21:30.696 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) in 120.6542ms
2024-07-29 15:21:30.696 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:21:30.703 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:21:30.703 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:21:30.703 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:21:30.703 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - 200 null application/json; charset=utf-8 130.0451ms
2024-07-29 15:23:12.080 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - null null
2024-07-29 15:23:12.080 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:23:12.080 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarHistorial' is valid for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:23:12.080 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:23:12.080 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:23:12.080 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:23:12.080 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:23:12.080 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 15:23:12.080 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:23:12.081 -05:00 [INF] Route matched with {action = "ConsultarHistorial", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarHistorial() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 15:23:12.081 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:23:12.081 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:23:12.081 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:23:12.081 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:23:12.081 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:23:12.081 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:23:12.081 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:23:12.146 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:23:12.147 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:23:12.147 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.8095ms.
2024-07-29 15:23:12.147 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:23:12.147 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:23:12.147 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:23:12.147 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:23:12.147 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:23:12.147 -05:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType3`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:23:12.148 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:23:12.148 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:23:12.148 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:12.148 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:12.148 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:23:12.148 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:12.148 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:12.148 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:23:12.158 -05:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:23:12.158 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:12.159 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 15:23:12.159 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:12.159 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:23:12.159 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) in 78.3155ms
2024-07-29 15:23:12.159 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:23:12.159 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:23:12.160 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:12.160 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:23:12.161 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - 200 null application/json; charset=utf-8 81.047ms
2024-07-29 15:23:14.556 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-29 15:23:14.556 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-29 15:23:14.556 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 15:23:14.556 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:23:14.557 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:23:14.557 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:23:14.557 -05:00 [DBG] The request is a preflight request.
2024-07-29 15:23:14.557 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - 204 null null 1.6665ms
2024-07-29 15:23:14.561 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-29 15:23:14.561 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-29 15:23:14.561 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-29 15:23:14.561 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 15:23:14.562 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:23:14.562 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:23:14.562 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:23:14.563 -05:00 [DBG] Successfully validated the token.
2024-07-29 15:23:14.564 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 15:23:14.570 -05:00 [DBG] Authorization was successful.
2024-07-29 15:23:14.571 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 15:23:14.572 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-29 15:23:14.572 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:23:14.573 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:23:14.573 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:23:14.573 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:23:14.573 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:23:14.573 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-29 15:23:14.573 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-29 15:23:14.574 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-29 15:23:14.575 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-29 15:23:14.575 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 15:23:14.575 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 15:23:14.575 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-29 15:23:14.576 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 15:23:14.609 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:23:14.611 -05:00 [DBG] Consultando libros...
2024-07-29 15:23:14.612 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:23:14.613 -05:00 [DBG] Compiling query expression: 
'DbSet<Libro>()
    .Join(
        inner: DbSet<Genero>(), 
        outerKeySelector: L => L.IdGenero, 
        innerKeySelector: G => G.Id, 
        resultSelector: (L, G) => new { 
            L = L, 
            G = G
         })
    .Where(<>h__TransparentIdentifier0 => True && <>h__TransparentIdentifier0.L.Activo == True || False)
    .Select(<>h__TransparentIdentifier0 => new { 
        id = <>h__TransparentIdentifier0.L.Id, 
        titulo = <>h__TransparentIdentifier0.L.Titulo, 
        autor = <>h__TransparentIdentifier0.L.Autor, 
        anio = <>h__TransparentIdentifier0.L.Anio, 
        idGenero = <>h__TransparentIdentifier0.L.IdGenero, 
        genero = <>h__TransparentIdentifier0.G.Nombre, 
        activo = <>h__TransparentIdentifier0.L.Activo
     })'
2024-07-29 15:23:14.619 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType5<int, string, string, int, int, string, bool>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            id -> 0
            titulo -> 1
            autor -> 2
            anio -> 3
            idGenero -> 4
            genero -> 5
            activo -> 6
        SELECT l.Id AS id, l.Titulo AS titulo, l.Autor AS autor, l.Anio AS anio, l.IdGenero AS idGenero, g.Nombre AS genero, l.Activo AS activo
        FROM Libro AS l
        INNER JOIN Genero AS g ON l.IdGenero == g.Id
        WHERE (CAST(1 AS bit) && (l.Activo == CAST(1 AS bit))) || CAST(0 AS bit)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType5<int, string, string, int, int, string, bool>>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-29 15:23:14.621 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:23:14.621 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:23:14.621 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:14.621 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:14.621 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:23:14.621 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:14.622 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:14.623 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-29 15:23:14.627 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-29 15:23:14.627 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:14.627 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 15:23:14.627 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:14.627 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:23:14.630 -05:00 [INF] Consulta de libros exitosa
2024-07-29 15:23:14.630 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 20.5917ms.
2024-07-29 15:23:14.630 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:23:14.630 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:23:14.630 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:23:14.630 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:23:14.630 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:23:14.630 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:23:14.631 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 57.5381ms
2024-07-29 15:23:14.631 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 15:23:14.631 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:23:14.631 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:14.631 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:23:14.631 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 70.0048ms
2024-07-29 15:23:20.631 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ - null null
2024-07-29 15:23:20.631 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-29 15:23:20.631 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 15:23:20.631 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:23:20.631 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:23:20.631 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:23:20.631 -05:00 [DBG] The request is a preflight request.
2024-07-29 15:23:20.631 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ - 204 null null 0.8941ms
2024-07-29 15:23:20.633 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Prestmaos/ - application/json 278
2024-07-29 15:23:20.634 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-29 15:23:20.634 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-07-29 15:23:20.634 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)'
2024-07-29 15:23:20.634 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:23:20.634 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:23:20.634 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:23:20.634 -05:00 [DBG] Successfully validated the token.
2024-07-29 15:23:20.634 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 15:23:20.635 -05:00 [DBG] Authorization was successful.
2024-07-29 15:23:20.635 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)'
2024-07-29 15:23:20.639 -05:00 [INF] Route matched with {action = "Post", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(biblioteca_backend.Models.DTOs.PrestamoModel) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-29 15:23:20.639 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:23:20.639 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:23:20.640 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:23:20.640 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:23:20.640 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:23:20.640 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-29 15:23:20.640 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-29 15:23:20.641 -05:00 [DBG] Attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel' ...
2024-07-29 15:23:20.641 -05:00 [DBG] Attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel' using the name '' in request data ...
2024-07-29 15:23:20.643 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-29 15:23:20.651 -05:00 [DBG] Connection id "0HN5G1BAAVPG3", Request id "0HN5G1BAAVPG3:0000002F": started reading request body.
2024-07-29 15:23:20.651 -05:00 [DBG] Connection id "0HN5G1BAAVPG3", Request id "0HN5G1BAAVPG3:0000002F": done reading request body.
2024-07-29 15:23:20.662 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.PrestamoModel'
2024-07-29 15:23:20.663 -05:00 [DBG] Done attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel'.
2024-07-29 15:23:20.663 -05:00 [DBG] Done attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel'.
2024-07-29 15:23:20.663 -05:00 [DBG] Attempting to validate the bound parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel' ...
2024-07-29 15:23:20.682 -05:00 [DBG] Done attempting to validate the bound parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel'.
2024-07-29 15:23:20.714 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:23:20.719 -05:00 [DBG] Guardando préstamo...
2024-07-29 15:23:20.726 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-29 15:23:20.727 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:23:20.733 -05:00 [INF] Libros encontrados exitosamente
2024-07-29 15:23:20.740 -05:00 [DBG] Compiling query expression: 
'DbSet<Perfil>()
    .Join(
        inner: DbSet<Prestamo>(), 
        outerKeySelector: P => P.Id, 
        innerKeySelector: PR => PR.IdPerfil, 
        resultSelector: (P, PR) => new { 
            P = P, 
            PR = PR
         })
    .Join(
        inner: DbSet<DetallePrestamoLibro>(), 
        outerKeySelector: <>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.PR.Id, 
        innerKeySelector: DP => DP.IdPrestamo, 
        resultSelector: (<>h__TransparentIdentifier0, DP) => new { 
            <>h__TransparentIdentifier0 = <>h__TransparentIdentifier0, 
            DP = DP
         })
    .Join(
        inner: DbSet<Libro>(), 
        outerKeySelector: <>h__TransparentIdentifier1 => <>h__TransparentIdentifier1.DP.IdLibro, 
        innerKeySelector: L => L.Id, 
        resultSelector: (<>h__TransparentIdentifier1, L) => new { 
            <>h__TransparentIdentifier1 = <>h__TransparentIdentifier1, 
            L = L
         })
    .Where(<>h__TransparentIdentifier2 => <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.P.Id == __idPerfil_0)
    .Select(<>h__TransparentIdentifier2 => new Libro{ 
        Id = <>h__TransparentIdentifier2.L.Id, 
        Titulo = <>h__TransparentIdentifier2.L.Titulo, 
        Autor = <>h__TransparentIdentifier2.L.Autor, 
        IdGenero = <>h__TransparentIdentifier2.L.IdGenero, 
        Anio = <>h__TransparentIdentifier2.L.Anio, 
        Activo = <>h__TransparentIdentifier2.L.Activo 
    }
    )'
2024-07-29 15:23:20.752 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Libro>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            Id -> 0
            Titulo -> 1
            Autor -> 2
            IdGenero -> 3
            Anio -> 4
            Activo -> 5
        SELECT l.Id, l.Titulo, l.Autor, l.IdGenero, l.Anio, l.Activo
        FROM Perfil AS p
        INNER JOIN Prestamo AS p0 ON p.Id == p0.IdPerfil
        INNER JOIN DetallePrestamoLibro AS d ON p0.Id == d.IdPrestamo
        INNER JOIN Libro AS l ON d.IdLibro == l.Id
        WHERE p.Id == @__idPerfil_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Libro>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-29 15:23:20.757 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:23:20.757 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:23:20.757 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:20.757 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:20.758 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:23:20.758 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:20.763 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-07-29 15:23:20.770 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-29 15:23:20.810 -05:00 [INF] Executed DbCommand (47ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-29 15:23:20.810 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:20.811 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 15:23:20.811 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:20.811 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:23:20.820 -05:00 [WRN] Aún hay préstamos activos del perfil con id 31
2024-07-29 15:23:20.926 -05:00 [ERR] Error al hacer el préstamo: Aún tiene préstamos activos
2024-07-29 15:23:21.070 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 355.7524ms.
2024-07-29 15:23:21.070 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:23:21.070 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:23:21.070 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:23:21.070 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:23:21.070 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-07-29 15:23:21.070 -05:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-07-29 15:23:21.071 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend) in 430.8638ms
2024-07-29 15:23:21.071 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)'
2024-07-29 15:23:21.071 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:23:21.071 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:21.071 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:23:21.071 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Prestmaos/ - 400 null text/plain; charset=utf-8 437.7125ms
2024-07-29 15:23:25.845 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=31 - null null
2024-07-29 15:23:25.845 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-29 15:23:25.845 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 15:23:25.845 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:23:25.845 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:23:25.846 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:23:25.846 -05:00 [DBG] The request is a preflight request.
2024-07-29 15:23:25.846 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=31 - 204 null null 1.5691ms
2024-07-29 15:23:25.857 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=31 - null null
2024-07-29 15:23:25.857 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-29 15:23:25.857 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-07-29 15:23:25.857 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-29 15:23:25.858 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:23:25.858 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:23:25.858 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:23:25.858 -05:00 [DBG] Successfully validated the token.
2024-07-29 15:23:25.858 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 15:23:25.858 -05:00 [DBG] Authorization was successful.
2024-07-29 15:23:25.858 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-29 15:23:25.860 -05:00 [INF] Route matched with {action = "Get", controller = "Prestmaos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-29 15:23:25.860 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:23:25.860 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:23:25.860 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:23:25.860 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:23:25.860 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:23:25.860 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-29 15:23:25.861 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-29 15:23:25.861 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 15:23:25.861 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-29 15:23:25.861 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 15:23:25.861 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 15:23:25.861 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 15:23:25.861 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 15:23:25.895 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:23:25.897 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-29 15:23:25.898 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:23:25.901 -05:00 [INF] Libros encontrados exitosamente
2024-07-29 15:23:25.903 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:23:25.903 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:23:25.903 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:25.903 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:25.903 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:23:25.903 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:25.904 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:25.904 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-29 15:23:25.917 -05:00 [INF] Executed DbCommand (13ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-29 15:23:25.917 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:25.917 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 15:23:25.917 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:25.917 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:23:25.917 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 22.3113ms.
2024-07-29 15:23:25.917 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:23:25.917 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:23:25.917 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:23:25.918 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:23:25.918 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:23:25.918 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Collections.Generic.List`1[[biblioteca_backend.Models.Libro, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-29 15:23:25.920 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) in 59.5526ms
2024-07-29 15:23:25.920 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-29 15:23:25.920 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:23:25.920 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:25.920 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:23:25.921 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=31 - 200 null application/json; charset=utf-8 63.6498ms
2024-07-29 15:23:26.864 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=31 - null null
2024-07-29 15:23:26.865 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-29 15:23:26.865 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 15:23:26.865 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:23:26.865 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:23:26.865 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:23:26.865 -05:00 [DBG] The request is a preflight request.
2024-07-29 15:23:26.865 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=31 - 204 null null 1.1365ms
2024-07-29 15:23:26.868 -05:00 [INF] Request starting HTTP/2 DELETE https://localhost:7299/api/Prestmaos/?idPerfil=31 - null null
2024-07-29 15:23:26.868 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-29 15:23:26.868 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-07-29 15:23:26.869 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend)'
2024-07-29 15:23:26.869 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:23:26.869 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:23:26.869 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:23:26.869 -05:00 [DBG] Successfully validated the token.
2024-07-29 15:23:26.869 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 15:23:26.869 -05:00 [DBG] Authorization was successful.
2024-07-29 15:23:26.869 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend)'
2024-07-29 15:23:26.875 -05:00 [INF] Route matched with {action = "EliminarPrestamo", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EliminarPrestamo(Int32) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-29 15:23:26.875 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:23:26.875 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:23:26.875 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:23:26.875 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:23:26.875 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:23:26.875 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-29 15:23:26.875 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-29 15:23:26.876 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 15:23:26.876 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-29 15:23:26.876 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 15:23:26.876 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 15:23:26.876 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 15:23:26.876 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 15:23:26.911 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:23:26.917 -05:00 [DBG] Eliminando préstamo del perfil con id 31
2024-07-29 15:23:26.920 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-29 15:23:26.921 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:23:26.925 -05:00 [INF] Libros encontrados exitosamente
2024-07-29 15:23:26.925 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:23:26.925 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:23:26.925 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:26.925 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:26.925 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:23:26.926 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:26.926 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:26.926 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-29 15:23:26.926 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-29 15:23:26.927 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:26.927 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 15:23:26.927 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:26.927 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:23:26.929 -05:00 [DBG] Compiling query expression: 
'DbSet<Prestamo>()
    .FirstOrDefault(p => p.IdPerfil == __idPerfil_0)'
2024-07-29 15:23:26.936 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Prestamo>(
    asyncEnumerable: new SingleQueryingEnumerable<Prestamo>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Prestamo.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Prestamo.FechaPrestamo (DateTime) Required, 1], [Property: Prestamo.IdPerfil (int) Required FK Index, 2] }
            SELECT TOP(1) p.Id, p.FechaPrestamo, p.IdPerfil
            FROM Prestamo AS p
            WHERE p.IdPerfil == @__idPerfil_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Prestamo>, 
        biblioteca_backend.DBBibliotecaContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-07-29 15:23:26.940 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:26.940 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:26.941 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:23:26.941 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:26.941 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:26.941 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
WHERE [p].[IdPerfil] = @__idPerfil_0
2024-07-29 15:23:26.945 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
WHERE [p].[IdPerfil] = @__idPerfil_0
2024-07-29 15:23:26.953 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:26.961 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:26.961 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 15ms reading results.
2024-07-29 15:23:26.961 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:26.961 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:23:26.963 -05:00 [DBG] Compiling query expression: 
'DbSet<DetallePrestamoLibro>()
    .Where(d => d.IdPrestamo == __prestamo_Id_0)'
2024-07-29 15:23:26.968 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<DetallePrestamoLibro>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: DetallePrestamoLibro.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: DetallePrestamoLibro.IdLibro (int) Required FK Index, 1], [Property: DetallePrestamoLibro.IdPrestamo (int) Required FK Index, 2] }
        SELECT d.Id, d.IdLibro, d.IdPrestamo
        FROM DetallePrestamoLibro AS d
        WHERE d.IdPrestamo == @__prestamo_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, DetallePrestamoLibro>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-29 15:23:26.968 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:26.968 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:26.969 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:23:26.969 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:26.969 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:26.969 -05:00 [DBG] Executing DbCommand [Parameters=[@__prestamo_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[IdLibro], [d].[IdPrestamo]
FROM [DetallePrestamoLibro] AS [d]
WHERE [d].[IdPrestamo] = @__prestamo_Id_0
2024-07-29 15:23:26.977 -05:00 [INF] Executed DbCommand (8ms) [Parameters=[@__prestamo_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[IdLibro], [d].[IdPrestamo]
FROM [DetallePrestamoLibro] AS [d]
WHERE [d].[IdPrestamo] = @__prestamo_Id_0
2024-07-29 15:23:27.028 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'DetallePrestamoLibro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:27.030 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'DetallePrestamoLibro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:27.030 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'DetallePrestamoLibro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:27.030 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'DetallePrestamoLibro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:27.030 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:27.030 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 52ms reading results.
2024-07-29 15:23:27.030 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:27.030 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:23:27.046 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:27.049 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:27.049 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:27.049 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:27.052 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 15:23:27.059 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 15:23:27.082 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 15:23:27.203 -05:00 [DBG] Executing 4 update commands as a batch.
2024-07-29 15:23:27.211 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:27.211 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:27.213 -05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-07-29 15:23:27.225 -05:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-07-29 15:23:27.230 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:23:27.230 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:27.231 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-07-29 15:23:27.231 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p1;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p2;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p3;
2024-07-29 15:23:27.247 -05:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p1;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p2;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p3;
2024-07-29 15:23:27.256 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:27.256 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 8ms reading results.
2024-07-29 15:23:27.260 -05:00 [DBG] Committing transaction.
2024-07-29 15:23:27.264 -05:00 [DBG] Committed transaction.
2024-07-29 15:23:27.267 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:27.267 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:23:27.269 -05:00 [DBG] Disposing transaction.
2024-07-29 15:23:27.277 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:27.277 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:27.277 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:27.278 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:27.280 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 4 entities written to the database.
2024-07-29 15:23:27.281 -05:00 [DBG] An entity of type 'Prestamo' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:27.282 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 15:23:27.283 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 15:23:27.283 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 15:23:27.286 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:27.286 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:27.286 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:23:27.287 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:27.287 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:27.287 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Prestamo]
OUTPUT 1
WHERE [Id] = @p0;
2024-07-29 15:23:27.292 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Prestamo]
OUTPUT 1
WHERE [Id] = @p0;
2024-07-29 15:23:27.293 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:27.293 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 15:23:27.293 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:27.293 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:23:27.295 -05:00 [DBG] An entity of type 'Prestamo' tracked by 'DBBibliotecaContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:27.295 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 15:23:27.326 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:27.328 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 15:23:27.328 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 15:23:27.329 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 15:23:27.350 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:27.350 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:27.351 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:23:27.351 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:27.352 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:27.352 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-29 15:23:27.358 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-29 15:23:27.360 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:27.360 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-07-29 15:23:27.360 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:27.361 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:23:27.363 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:27.363 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 15:23:27.364 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:27.364 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 15:23:27.364 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 15:23:27.367 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 15:23:27.368 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:27.368 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:27.368 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:23:27.368 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:27.368 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:27.368 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-29 15:23:27.369 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-29 15:23:27.370 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:27.370 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 15:23:27.370 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:27.370 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:23:27.370 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:27.370 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 15:23:27.371 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:27.371 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 15:23:27.371 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 15:23:27.371 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 15:23:27.372 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:27.372 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:27.372 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:23:27.372 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:27.373 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:27.373 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-29 15:23:27.378 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-29 15:23:27.379 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:27.379 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 15:23:27.379 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:27.379 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:23:27.379 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:27.379 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 15:23:27.380 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:27.380 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 15:23:27.380 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 15:23:27.380 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 15:23:27.381 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:27.381 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:27.381 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:23:27.381 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:27.381 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:27.381 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-29 15:23:27.382 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-29 15:23:27.382 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:27.382 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 15:23:27.382 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:27.382 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:23:27.383 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:27.383 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 15:23:27.385 -05:00 [INF] Se eliminó el préstamo del perfil con id 31
2024-07-29 15:23:27.385 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 474.2136ms.
2024-07-29 15:23:27.386 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:23:27.386 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:23:27.386 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:23:27.386 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:23:27.386 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:23:27.386 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType10`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-29 15:23:27.388 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend) in 512.6669ms
2024-07-29 15:23:27.389 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend)'
2024-07-29 15:23:27.389 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:23:27.389 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:27.390 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:23:27.390 -05:00 [INF] Request finished HTTP/2 DELETE https://localhost:7299/api/Prestmaos/?idPerfil=31 - 200 null application/json; charset=utf-8 522.2163ms
2024-07-29 15:23:27.403 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=31 - null null
2024-07-29 15:23:27.406 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-29 15:23:27.412 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-07-29 15:23:27.413 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-29 15:23:27.413 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:23:27.414 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:23:27.414 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:23:27.414 -05:00 [DBG] Successfully validated the token.
2024-07-29 15:23:27.415 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 15:23:27.416 -05:00 [DBG] Authorization was successful.
2024-07-29 15:23:27.416 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-29 15:23:27.417 -05:00 [INF] Route matched with {action = "Get", controller = "Prestmaos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-29 15:23:27.441 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:23:27.443 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:23:27.446 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:23:27.446 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:23:27.446 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:23:27.446 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-29 15:23:27.446 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-29 15:23:27.446 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 15:23:27.446 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-29 15:23:27.446 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 15:23:27.447 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 15:23:27.447 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 15:23:27.447 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 15:23:27.477 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:23:27.480 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-29 15:23:27.480 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:23:27.483 -05:00 [INF] Libros encontrados exitosamente
2024-07-29 15:23:27.483 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:23:27.483 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:23:27.483 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:27.484 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:27.484 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:23:27.484 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:27.484 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:27.484 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-29 15:23:27.485 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-29 15:23:27.485 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:27.485 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 15:23:27.485 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:27.485 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:23:27.485 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 8.0168ms.
2024-07-29 15:23:27.485 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:23:27.485 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:23:27.485 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:23:27.485 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:23:27.486 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:23:27.486 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Collections.Generic.List`1[[biblioteca_backend.Models.Libro, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-29 15:23:27.486 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) in 39.7182ms
2024-07-29 15:23:27.486 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-29 15:23:27.486 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:23:27.486 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:27.486 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:23:27.486 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=31 - 200 null application/json; charset=utf-8 83.6356ms
2024-07-29 15:23:29.544 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-29 15:23:29.544 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-29 15:23:29.545 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 15:23:29.545 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:23:29.545 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:23:29.545 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:23:29.545 -05:00 [DBG] The request is a preflight request.
2024-07-29 15:23:29.545 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - 204 null null 0.7025ms
2024-07-29 15:23:29.551 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-29 15:23:29.551 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-29 15:23:29.551 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-29 15:23:29.551 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 15:23:29.551 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:23:29.551 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:23:29.551 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:23:29.552 -05:00 [DBG] Successfully validated the token.
2024-07-29 15:23:29.552 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 15:23:29.552 -05:00 [DBG] Authorization was successful.
2024-07-29 15:23:29.552 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 15:23:29.552 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-29 15:23:29.552 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:23:29.552 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:23:29.552 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:23:29.553 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:23:29.553 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:23:29.553 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-29 15:23:29.553 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-29 15:23:29.553 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-29 15:23:29.553 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-29 15:23:29.554 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 15:23:29.554 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 15:23:29.557 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-29 15:23:29.559 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 15:23:29.594 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:23:29.597 -05:00 [DBG] Consultando libros...
2024-07-29 15:23:29.598 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:23:29.599 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:23:29.599 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:23:29.599 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:29.599 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:29.599 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:23:29.599 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:29.600 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:29.600 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-29 15:23:29.612 -05:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-29 15:23:29.612 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:29.612 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 15:23:29.612 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:29.612 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:23:29.615 -05:00 [INF] Consulta de libros exitosa
2024-07-29 15:23:29.615 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 20.5329ms.
2024-07-29 15:23:29.615 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:23:29.615 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:23:29.615 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:23:29.616 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:23:29.616 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:23:29.616 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:23:29.616 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 63.2129ms
2024-07-29 15:23:29.616 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 15:23:29.616 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:23:29.616 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:29.616 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:23:29.616 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 65.7075ms
2024-07-29 15:23:39.198 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ - null null
2024-07-29 15:23:39.198 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-29 15:23:39.198 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 15:23:39.198 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:23:39.199 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:23:39.199 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:23:39.199 -05:00 [DBG] The request is a preflight request.
2024-07-29 15:23:39.199 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ - 204 null null 0.9922ms
2024-07-29 15:23:39.200 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Prestmaos/ - application/json 380
2024-07-29 15:23:39.201 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-29 15:23:39.201 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-07-29 15:23:39.201 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)'
2024-07-29 15:23:39.201 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:23:39.201 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:23:39.202 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:23:39.202 -05:00 [DBG] Successfully validated the token.
2024-07-29 15:23:39.202 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 15:23:39.202 -05:00 [DBG] Authorization was successful.
2024-07-29 15:23:39.202 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)'
2024-07-29 15:23:39.202 -05:00 [INF] Route matched with {action = "Post", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(biblioteca_backend.Models.DTOs.PrestamoModel) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-29 15:23:39.202 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:23:39.202 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:23:39.202 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:23:39.202 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:23:39.202 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:23:39.202 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-29 15:23:39.202 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-29 15:23:39.203 -05:00 [DBG] Attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel' ...
2024-07-29 15:23:39.203 -05:00 [DBG] Attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel' using the name '' in request data ...
2024-07-29 15:23:39.203 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-29 15:23:39.203 -05:00 [DBG] Connection id "0HN5G1BAAVPG3", Request id "0HN5G1BAAVPG3:00000041": started reading request body.
2024-07-29 15:23:39.203 -05:00 [DBG] Connection id "0HN5G1BAAVPG3", Request id "0HN5G1BAAVPG3:00000041": done reading request body.
2024-07-29 15:23:39.203 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.PrestamoModel'
2024-07-29 15:23:39.203 -05:00 [DBG] Done attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel'.
2024-07-29 15:23:39.203 -05:00 [DBG] Done attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel'.
2024-07-29 15:23:39.203 -05:00 [DBG] Attempting to validate the bound parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel' ...
2024-07-29 15:23:39.205 -05:00 [DBG] Done attempting to validate the bound parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel'.
2024-07-29 15:23:39.256 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:23:39.258 -05:00 [DBG] Guardando préstamo...
2024-07-29 15:23:39.261 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-29 15:23:39.261 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:23:39.263 -05:00 [INF] Libros encontrados exitosamente
2024-07-29 15:23:39.264 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:23:39.264 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:23:39.264 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:39.264 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:39.264 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:23:39.264 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:39.264 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:39.264 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-29 15:23:39.265 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-29 15:23:39.265 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:39.265 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 15:23:39.265 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:39.265 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:23:39.286 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'Prestamo.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:39.291 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:39.291 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 15:23:39.291 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 15:23:39.292 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 15:23:39.297 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:39.297 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:39.297 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:23:39.297 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:39.297 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:39.297 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Prestamo] ([FechaPrestamo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-07-29 15:23:39.302 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Prestamo] ([FechaPrestamo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-07-29 15:23:39.312 -05:00 [DBG] The foreign key property 'Prestamo.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-29 15:23:39.316 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:39.316 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 14ms reading results.
2024-07-29 15:23:39.316 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:39.316 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:23:39.319 -05:00 [DBG] An entity of type 'Prestamo' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:39.319 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 15:23:39.320 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'DetallePrestamoLibro.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:39.324 -05:00 [DBG] The navigation 'DetallePrestamoLibro.Prestamo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:39.326 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'DetallePrestamoLibro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:39.326 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 15:23:39.326 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 15:23:39.326 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 15:23:39.327 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:39.327 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:39.327 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:23:39.327 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:39.327 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:39.327 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePrestamoLibro] ([IdLibro], [IdPrestamo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-07-29 15:23:39.330 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePrestamoLibro] ([IdLibro], [IdPrestamo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-07-29 15:23:39.331 -05:00 [DBG] The foreign key property 'DetallePrestamoLibro.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-29 15:23:39.332 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:39.332 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-07-29 15:23:39.333 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:39.333 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:23:39.333 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:39.334 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 15:23:39.336 -05:00 [DBG] The navigation 'DetallePrestamoLibro.Libro' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:39.338 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:39.339 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 15:23:39.339 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 15:23:39.339 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 15:23:39.339 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:39.340 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:39.340 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:23:39.340 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:39.340 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:39.340 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-29 15:23:39.341 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-29 15:23:39.342 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:39.342 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 15:23:39.342 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:39.342 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:23:39.342 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:39.342 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 15:23:39.343 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'DetallePrestamoLibro.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:39.344 -05:00 [DBG] The navigation 'DetallePrestamoLibro.Prestamo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:39.344 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'DetallePrestamoLibro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:39.344 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 15:23:39.344 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 15:23:39.344 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 15:23:39.345 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:39.345 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:39.345 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:23:39.345 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:39.345 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:39.345 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePrestamoLibro] ([IdLibro], [IdPrestamo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-07-29 15:23:39.347 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePrestamoLibro] ([IdLibro], [IdPrestamo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-07-29 15:23:39.347 -05:00 [DBG] The foreign key property 'DetallePrestamoLibro.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-29 15:23:39.348 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:39.348 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 15:23:39.348 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:39.348 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:23:39.348 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:39.348 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 15:23:39.349 -05:00 [DBG] The navigation 'DetallePrestamoLibro.Libro' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:39.349 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:39.349 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 15:23:39.349 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 15:23:39.349 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 15:23:39.350 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:39.350 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:39.350 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:23:39.350 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:39.350 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:39.350 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-29 15:23:39.351 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-29 15:23:39.352 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:39.352 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 15:23:39.352 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:39.352 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:23:39.352 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:39.352 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 15:23:39.352 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'DetallePrestamoLibro.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:39.352 -05:00 [DBG] The navigation 'DetallePrestamoLibro.Prestamo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:39.352 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'DetallePrestamoLibro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:39.352 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 15:23:39.352 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 15:23:39.352 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 15:23:39.353 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:39.353 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:39.353 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:23:39.353 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:39.353 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:39.353 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePrestamoLibro] ([IdLibro], [IdPrestamo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-07-29 15:23:39.355 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePrestamoLibro] ([IdLibro], [IdPrestamo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-07-29 15:23:39.355 -05:00 [DBG] The foreign key property 'DetallePrestamoLibro.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-29 15:23:39.355 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:39.355 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 15:23:39.355 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:39.355 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:23:39.355 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:39.355 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 15:23:39.355 -05:00 [DBG] The navigation 'DetallePrestamoLibro.Libro' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:39.356 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:39.356 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 15:23:39.356 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 15:23:39.356 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 15:23:39.356 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:39.356 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:39.356 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:23:39.356 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:39.356 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:39.356 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-29 15:23:39.358 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-29 15:23:39.358 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:39.358 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 15:23:39.358 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:39.358 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:23:39.358 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:39.358 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 15:23:39.361 -05:00 [INF] Préstamo realizado exitosamente
2024-07-29 15:23:39.362 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 105.8159ms.
2024-07-29 15:23:39.362 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:23:39.362 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:23:39.362 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:23:39.362 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:23:39.362 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:23:39.362 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-29 15:23:39.363 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend) in 160.5828ms
2024-07-29 15:23:39.363 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)'
2024-07-29 15:23:39.363 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:23:39.363 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:39.363 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:23:39.363 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Prestmaos/ - 200 null application/json; charset=utf-8 163.0741ms
2024-07-29 15:23:39.368 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-29 15:23:39.368 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-29 15:23:39.368 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 15:23:39.368 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:23:39.368 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:23:39.368 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:23:39.368 -05:00 [DBG] The request is a preflight request.
2024-07-29 15:23:39.369 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - 204 null null 0.7974ms
2024-07-29 15:23:39.371 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-29 15:23:39.372 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-29 15:23:39.372 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-29 15:23:39.372 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 15:23:39.372 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:23:39.372 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:23:39.372 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:23:39.372 -05:00 [DBG] Successfully validated the token.
2024-07-29 15:23:39.372 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 15:23:39.372 -05:00 [DBG] Authorization was successful.
2024-07-29 15:23:39.372 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 15:23:39.373 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-29 15:23:39.373 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:23:39.373 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:23:39.373 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:23:39.373 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:23:39.373 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:23:39.373 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-29 15:23:39.374 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-29 15:23:39.374 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-29 15:23:39.374 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-29 15:23:39.374 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 15:23:39.374 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 15:23:39.374 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-29 15:23:39.374 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 15:23:39.405 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:23:39.407 -05:00 [DBG] Consultando libros...
2024-07-29 15:23:39.408 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:23:39.408 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:23:39.408 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:23:39.408 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:39.408 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:39.408 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:23:39.408 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:39.408 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:39.408 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-29 15:23:39.409 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-29 15:23:39.409 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:39.409 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 15:23:39.409 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:39.409 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:23:39.412 -05:00 [INF] Consulta de libros exitosa
2024-07-29 15:23:39.412 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 6.9697ms.
2024-07-29 15:23:39.412 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:23:39.412 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:23:39.412 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:23:39.412 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:23:39.412 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:23:39.412 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:23:39.412 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 39.2306ms
2024-07-29 15:23:39.412 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 15:23:39.413 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:23:39.413 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:39.413 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:23:39.413 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 41.7865ms
2024-07-29 15:23:42.366 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=31 - null null
2024-07-29 15:23:42.367 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-29 15:23:42.367 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 15:23:42.367 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:23:42.367 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:23:42.367 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:23:42.367 -05:00 [DBG] The request is a preflight request.
2024-07-29 15:23:42.367 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=31 - 204 null null 0.8297ms
2024-07-29 15:23:42.374 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=31 - null null
2024-07-29 15:23:42.374 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-29 15:23:42.374 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-07-29 15:23:42.374 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-29 15:23:42.374 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:23:42.375 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:23:42.375 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:23:42.375 -05:00 [DBG] Successfully validated the token.
2024-07-29 15:23:42.375 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 15:23:42.375 -05:00 [DBG] Authorization was successful.
2024-07-29 15:23:42.375 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-29 15:23:42.375 -05:00 [INF] Route matched with {action = "Get", controller = "Prestmaos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-29 15:23:42.375 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:23:42.375 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:23:42.375 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:23:42.376 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:23:42.376 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:23:42.376 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-29 15:23:42.376 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-29 15:23:42.376 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 15:23:42.376 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-29 15:23:42.376 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 15:23:42.376 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 15:23:42.377 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 15:23:42.377 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 15:23:42.413 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:23:42.416 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-29 15:23:42.416 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:23:42.419 -05:00 [INF] Libros encontrados exitosamente
2024-07-29 15:23:42.422 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:23:42.422 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:23:42.422 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:42.422 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:42.422 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:23:42.423 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:42.423 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:42.423 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-29 15:23:42.436 -05:00 [INF] Executed DbCommand (13ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-29 15:23:42.436 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:42.436 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 15:23:42.436 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:42.436 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:23:42.436 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 22.6349ms.
2024-07-29 15:23:42.436 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:23:42.438 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:23:42.439 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:23:42.439 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:23:42.439 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:23:42.439 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Collections.Generic.List`1[[biblioteca_backend.Models.Libro, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-29 15:23:42.439 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) in 63.4985ms
2024-07-29 15:23:42.439 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-29 15:23:42.439 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:23:42.439 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:42.440 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:23:42.440 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=31 - 200 null application/json; charset=utf-8 65.6253ms
2024-07-29 15:23:44.394 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-29 15:23:44.394 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-29 15:23:44.394 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 15:23:44.395 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:23:44.395 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:23:44.395 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:23:44.395 -05:00 [DBG] The request is a preflight request.
2024-07-29 15:23:44.395 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - 204 null null 2.0504ms
2024-07-29 15:23:44.400 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-29 15:23:44.400 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-29 15:23:44.400 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-29 15:23:44.400 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-29 15:23:44.401 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:23:44.401 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:23:44.401 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:23:44.402 -05:00 [DBG] Successfully validated the token.
2024-07-29 15:23:44.402 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 15:23:44.402 -05:00 [DBG] Authorization was successful.
2024-07-29 15:23:44.402 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-29 15:23:44.412 -05:00 [INF] Route matched with {action = "Get", controller = "Perfiles"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-29 15:23:44.413 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:23:44.414 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:23:44.415 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:23:44.415 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:23:44.415 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:23:44.415 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-29 15:23:44.416 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-29 15:23:44.417 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-07-29 15:23:44.417 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-07-29 15:23:44.417 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-29 15:23:44.417 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-29 15:23:44.417 -05:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-07-29 15:23:44.417 -05:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-07-29 15:23:44.452 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:23:44.461 -05:00 [DBG] Consultando perfil con id 31
2024-07-29 15:23:44.462 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:23:44.463 -05:00 [DBG] Compiling query expression: 
'DbSet<Perfil>()
    .FirstOrDefault(p => p.Id == __id_0)'
2024-07-29 15:23:44.467 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Perfil>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Perfil.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Perfil.Apellido (string) Required, 1], [Property: Perfil.Contrasena (string) Required, 2], [Property: Perfil.Correo (string) Required, 3], [Property: Perfil.Direccion (string) Required, 4], [Property: Perfil.IdRol (int) Required FK Index, 5], [Property: Perfil.Nombre (string) Required, 6], [Property: Perfil.Telefono (string) Required, 7] }
        SELECT TOP(1) p.Id, p.Apellido, p.Contrasena, p.Correo, p.Direccion, p.IdRol, p.Nombre, p.Telefono
        FROM Perfil AS p
        WHERE p.Id == @__id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Perfil>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-29 15:23:44.468 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:23:44.468 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:23:44.468 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:44.468 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:44.468 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:23:44.468 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:44.468 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:44.468 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-29 15:23:44.471 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-29 15:23:44.475 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:23:44.488 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:44.488 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 17ms reading results.
2024-07-29 15:23:44.489 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:44.489 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:23:44.493 -05:00 [INF] Perfil encontrado con id: 31
2024-07-29 15:23:44.494 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 41.7459ms.
2024-07-29 15:23:44.494 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:23:44.494 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:23:44.494 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:23:44.494 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:23:44.494 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:23:44.494 -05:00 [INF] Executing OkObjectResult, writing value of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-29 15:23:44.496 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) in 80.278ms
2024-07-29 15:23:44.496 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-29 15:23:44.496 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:23:44.496 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:44.496 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:23:44.496 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - 200 null application/json; charset=utf-8 96.0424ms
2024-07-29 15:23:46.739 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - null null
2024-07-29 15:23:46.740 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:23:46.740 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarHistorial' is valid for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:23:46.740 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:23:46.740 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:23:46.740 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:23:46.740 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:23:46.741 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 15:23:46.741 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:23:46.741 -05:00 [INF] Route matched with {action = "ConsultarHistorial", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarHistorial() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 15:23:46.741 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:23:46.742 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:23:46.742 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:23:46.742 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:23:46.742 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:23:46.742 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:23:46.743 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:23:46.780 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:23:46.781 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:23:46.781 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.6819ms.
2024-07-29 15:23:46.781 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:23:46.781 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:23:46.781 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:23:46.781 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:23:46.781 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:23:46.781 -05:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType3`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:23:46.782 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:23:46.782 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:23:46.782 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:46.782 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:46.782 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:23:46.782 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:46.782 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:23:46.782 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:23:46.792 -05:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:23:46.793 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:46.793 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 15:23:46.793 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:46.793 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:23:46.794 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) in 51.2022ms
2024-07-29 15:23:46.794 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:23:46.794 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:23:46.794 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:23:46.794 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:23:46.794 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - 200 null application/json; charset=utf-8 55.0536ms
2024-07-29 15:29:05.737 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - null null
2024-07-29 15:29:05.737 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:29:05.737 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarHistorial' is valid for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:29:05.737 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:29:05.738 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:29:05.738 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:29:05.741 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:29:05.741 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 15:29:05.741 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:29:05.741 -05:00 [INF] Route matched with {action = "ConsultarHistorial", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarHistorial() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 15:29:05.742 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:29:05.742 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:29:05.742 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:29:05.742 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:29:05.742 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:29:05.742 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:29:05.742 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:29:05.795 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:29:05.796 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:29:05.796 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.1913ms.
2024-07-29 15:29:05.796 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:29:05.797 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:29:05.797 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:29:05.797 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:29:05.797 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:29:05.797 -05:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType3`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:29:05.797 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:29:05.797 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:29:05.798 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:29:05.850 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:29:05.850 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:29:05.850 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:29:05.850 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:29:05.854 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:29:05.870 -05:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:29:05.871 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:29:05.871 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 15:29:05.871 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:29:05.872 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:29:05.873 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) in 131.1809ms
2024-07-29 15:29:05.873 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:29:05.874 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:29:05.874 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:29:05.874 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:29:05.874 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - 200 null application/json; charset=utf-8 137.7695ms
2024-07-29 15:30:53.073 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - null null
2024-07-29 15:30:53.073 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-29 15:30:53.073 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 15:30:53.073 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:30:53.073 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:30:53.073 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:30:53.073 -05:00 [DBG] The request is a preflight request.
2024-07-29 15:30:53.073 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - 204 null null 2.6347ms
2024-07-29 15:30:53.082 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Perfiles/ - application/json 54
2024-07-29 15:30:53.082 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-29 15:30:53.082 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-29 15:30:53.082 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-29 15:30:53.082 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:30:53.094 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:30:53.094 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:30:53.095 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 15:30:53.098 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-29 15:30:53.100 -05:00 [INF] Route matched with {action = "Post", controller = "Perfiles"}. Executing controller action with signature System.Object Post(biblioteca_backend.Models.DTOs.LogInModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-29 15:30:53.100 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:30:53.100 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:30:53.100 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:30:53.100 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:30:53.100 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:30:53.101 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-29 15:30:53.102 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-29 15:30:53.102 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-29 15:30:53.102 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' using the name '' in request data ...
2024-07-29 15:30:53.102 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-29 15:30:53.103 -05:00 [DBG] Connection id "0HN5G1BAAVPG3", Request id "0HN5G1BAAVPG3:00000055": started reading request body.
2024-07-29 15:30:53.103 -05:00 [DBG] Connection id "0HN5G1BAAVPG3", Request id "0HN5G1BAAVPG3:00000055": done reading request body.
2024-07-29 15:30:53.104 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.LogInModel'
2024-07-29 15:30:53.104 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-29 15:30:53.104 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-29 15:30:53.104 -05:00 [DBG] Attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-29 15:30:53.105 -05:00 [DBG] Done attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-29 15:30:53.157 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:30:53.160 -05:00 [DBG] Iniciando sesión...
2024-07-29 15:30:53.162 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:30:53.162 -05:00 [DBG] Compiling query expression: 
'DbSet<Perfil>()
    .FirstOrDefault(p => p.Correo == __8__locals1_logInModel_Correo_0 && p.Contrasena == __claveCifrada_1)'
2024-07-29 15:30:53.165 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Perfil>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Perfil.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Perfil.Apellido (string) Required, 1], [Property: Perfil.Contrasena (string) Required, 2], [Property: Perfil.Correo (string) Required, 3], [Property: Perfil.Direccion (string) Required, 4], [Property: Perfil.IdRol (int) Required FK Index, 5], [Property: Perfil.Nombre (string) Required, 6], [Property: Perfil.Telefono (string) Required, 7] }
        SELECT TOP(1) p.Id, p.Apellido, p.Contrasena, p.Correo, p.Direccion, p.IdRol, p.Nombre, p.Telefono
        FROM Perfil AS p
        WHERE (p.Correo == @__8__locals1_logInModel_Correo_0) && (p.Contrasena == @__claveCifrada_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Perfil>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-29 15:30:53.166 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:30:53.166 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:30:53.166 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:30:53.166 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:30:53.166 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:30:53.166 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:30:53.166 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:30:53.166 -05:00 [DBG] Executing DbCommand [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-29 15:30:53.170 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-29 15:30:53.170 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:30:53.171 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:30:53.171 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 15:30:53.171 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:30:53.171 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:30:53.172 -05:00 [DBG] Compiling query expression: 
'DbSet<Rol>()
    .FirstOrDefault(r => r.Id == ___perfil_IdRol_0)'
2024-07-29 15:30:53.175 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Rol>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Rol.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Rol.Nombre (string) Required, 1] }
        SELECT TOP(1) r.Id, r.Nombre
        FROM Rol AS r
        WHERE r.Id == @___perfil_IdRol_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Rol>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-29 15:30:53.175 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:30:53.175 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:30:53.175 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:30:53.175 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:30:53.175 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:30:53.175 -05:00 [DBG] Executing DbCommand [Parameters=[@___perfil_IdRol_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Nombre]
FROM [Rol] AS [r]
WHERE [r].[Id] = @___perfil_IdRol_0
2024-07-29 15:30:53.178 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@___perfil_IdRol_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Nombre]
FROM [Rol] AS [r]
WHERE [r].[Id] = @___perfil_IdRol_0
2024-07-29 15:30:53.182 -05:00 [DBG] The navigation 'Perfil.Rol' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:30:53.186 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Rol' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:30:53.189 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:30:53.189 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 10ms reading results.
2024-07-29 15:30:53.189 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:30:53.189 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:30:53.207 -05:00 [INF] Inicio de sesión exitoso
2024-07-29 15:30:53.209 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 52.1304ms.
2024-07-29 15:30:53.209 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:30:53.209 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:30:53.209 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:30:53.209 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:30:53.209 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:30:53.209 -05:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-29 15:30:53.210 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) in 108.7375ms
2024-07-29 15:30:53.210 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-29 15:30:53.210 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:30:53.210 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:30:53.210 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:30:53.210 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Perfiles/ - 200 null application/json; charset=utf-8 128.609ms
2024-07-29 15:30:53.255 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-07-29 15:30:53.256 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-29 15:30:53.256 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 15:30:53.261 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:30:53.263 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:30:53.263 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:30:53.263 -05:00 [DBG] The request is a preflight request.
2024-07-29 15:30:53.263 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 10.2673ms
2024-07-29 15:30:53.263 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-29 15:30:53.264 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-29 15:30:53.264 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 15:30:53.264 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:30:53.264 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:30:53.264 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:30:53.264 -05:00 [DBG] The request is a preflight request.
2024-07-29 15:30:53.265 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 0.7662ms
2024-07-29 15:30:53.272 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-29 15:30:53.272 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-07-29 15:30:53.272 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-29 15:30:53.272 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-29 15:30:53.272 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-29 15:30:53.273 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-07-29 15:30:53.273 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 15:30:53.273 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-29 15:30:53.273 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:30:53.273 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:30:53.273 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:30:53.273 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:30:53.273 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:30:53.273 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:30:53.273 -05:00 [DBG] Successfully validated the token.
2024-07-29 15:30:53.273 -05:00 [DBG] Successfully validated the token.
2024-07-29 15:30:53.273 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 15:30:53.273 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 15:30:53.273 -05:00 [DBG] Authorization was successful.
2024-07-29 15:30:53.273 -05:00 [DBG] Authorization was successful.
2024-07-29 15:30:53.273 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-29 15:30:53.273 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 15:30:53.273 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-07-29 15:30:53.273 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-29 15:30:53.274 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:30:53.274 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:30:53.274 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:30:53.274 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:30:53.274 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:30:53.274 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:30:53.274 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:30:53.274 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:30:53.274 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:30:53.274 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:30:53.274 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-29 15:30:53.274 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-29 15:30:53.274 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-29 15:30:53.274 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-29 15:30:53.274 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-29 15:30:53.275 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-29 15:30:53.278 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 15:30:53.278 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 15:30:53.278 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-29 15:30:53.278 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 15:30:53.350 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:30:53.419 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:30:53.423 -05:00 [DBG] Consultando libros...
2024-07-29 15:30:53.423 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:30:53.424 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:30:53.424 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:30:53.424 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:30:53.424 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:30:53.424 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:30:53.424 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:30:53.424 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:30:53.424 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:30:53.424 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-29 15:30:53.436 -05:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-29 15:30:53.436 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:30:53.436 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:30:53.436 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:30:53.436 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:30:53.436 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:30:53.436 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:30:53.436 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:30:53.436 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:30:53.437 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:30:53.437 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:30:53.437 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:30:53.437 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:30:53.437 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:30:53.438 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:30:53.438 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:30:53.438 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:30:53.438 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:30:53.438 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-29 15:30:53.438 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:30:53.438 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:30:53.438 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 88.5714ms.
2024-07-29 15:30:53.438 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:30:53.438 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:30:53.438 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:30:53.439 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:30:53.439 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:30:53.439 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:30:53.439 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 164.8422ms
2024-07-29 15:30:53.439 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-29 15:30:53.445 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:30:53.445 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:30:53.445 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:30:53.445 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 173.0998ms
2024-07-29 15:30:53.471 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:30:53.471 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:30:53.471 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:30:53.471 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:30:53.472 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-29 15:30:53.479 -05:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-29 15:30:53.479 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:30:53.479 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 15:30:53.480 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:30:53.480 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:30:53.482 -05:00 [INF] Consulta de libros exitosa
2024-07-29 15:30:53.482 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 62.7304ms.
2024-07-29 15:30:53.482 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:30:53.482 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:30:53.482 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:30:53.482 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:30:53.483 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:30:53.483 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:30:53.483 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 208.8619ms
2024-07-29 15:30:53.483 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 15:30:53.483 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:30:53.483 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:30:53.483 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:30:53.483 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 211.3234ms
2024-07-29 15:30:55.688 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - null null
2024-07-29 15:30:55.688 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:30:55.689 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarHistorial' is valid for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:30:55.689 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:30:55.689 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:30:55.689 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:30:55.689 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:30:55.689 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 15:30:55.689 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:30:55.689 -05:00 [INF] Route matched with {action = "ConsultarHistorial", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarHistorial() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 15:30:55.689 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:30:55.690 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:30:55.690 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:30:55.690 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:30:55.690 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:30:55.690 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:30:55.690 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:30:55.747 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:30:55.748 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:30:55.748 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.6919ms.
2024-07-29 15:30:55.748 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:30:55.748 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:30:55.748 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:30:55.748 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:30:55.748 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:30:55.748 -05:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType3`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:30:55.748 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:30:55.748 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:30:55.748 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:30:55.749 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:30:55.749 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:30:55.749 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:30:55.749 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:30:55.749 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:30:55.759 -05:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:30:55.760 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:30:55.760 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 15:30:55.760 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:30:55.760 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:30:55.760 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) in 70.5439ms
2024-07-29 15:30:55.761 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:30:55.761 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:30:55.761 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:30:55.761 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:30:55.761 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - 200 null application/json; charset=utf-8 73.1787ms
2024-07-29 15:33:49.629 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - null null
2024-07-29 15:33:49.629 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:33:49.629 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarHistorial' is valid for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:33:49.630 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:33:49.630 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:33:49.630 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:33:49.630 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:33:49.632 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 15:33:49.632 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:33:49.633 -05:00 [INF] Route matched with {action = "ConsultarHistorial", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarHistorial() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 15:33:49.633 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:33:49.633 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:33:49.633 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:33:49.633 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:33:49.633 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:33:49.633 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:33:49.634 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:33:49.685 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:33:49.690 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:33:49.691 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5.2498ms.
2024-07-29 15:33:49.691 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:33:49.691 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:33:49.691 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:33:49.691 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:33:49.691 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:33:49.691 -05:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType3`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:33:49.692 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:33:49.692 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:33:49.692 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:33:49.692 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:33:49.692 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:33:49.692 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:33:49.692 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:33:49.693 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:33:49.711 -05:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:33:49.713 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:33:49.713 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-07-29 15:33:49.714 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:33:49.714 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:33:49.714 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) in 80.9109ms
2024-07-29 15:33:49.714 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:33:49.714 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:33:49.714 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:33:49.715 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:33:49.715 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - 200 null application/json; charset=utf-8 85.7217ms
2024-07-29 15:33:54.269 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - null null
2024-07-29 15:33:54.269 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:33:54.269 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarHistorial' is valid for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:33:54.270 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:33:54.274 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:33:54.275 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:33:54.275 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:33:54.275 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 15:33:54.275 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:33:54.282 -05:00 [INF] Route matched with {action = "ConsultarHistorial", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarHistorial() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 15:33:54.283 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:33:54.283 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:33:54.283 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:33:54.283 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:33:54.283 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:33:54.283 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:33:54.284 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:33:54.331 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:33:54.332 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:33:54.333 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.0924ms.
2024-07-29 15:33:54.333 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:33:54.333 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:33:54.333 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:33:54.333 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:33:54.333 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:33:54.333 -05:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType3`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:33:54.333 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:33:54.333 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:33:54.333 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:33:54.333 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:33:54.334 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:33:54.334 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:33:54.334 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:33:54.334 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:33:54.336 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:33:54.336 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:33:54.337 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 15:33:54.337 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:33:54.337 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:33:54.337 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) in 53.6958ms
2024-07-29 15:33:54.337 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:33:54.337 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:33:54.338 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:33:54.339 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:33:54.339 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - 200 null application/json; charset=utf-8 70.4649ms
2024-07-29 15:35:07.368 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - null null
2024-07-29 15:35:07.368 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:35:07.369 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarHistorial' is valid for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:35:07.369 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:35:07.369 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:35:07.369 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:35:07.369 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:35:07.370 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 15:35:07.370 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:35:07.370 -05:00 [INF] Route matched with {action = "ConsultarHistorial", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarHistorial() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 15:35:07.371 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:35:07.371 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:35:07.371 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:35:07.371 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:35:07.372 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:35:07.372 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:35:07.380 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:35:07.425 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:35:07.426 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:35:07.426 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.9409ms.
2024-07-29 15:35:07.427 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:35:07.427 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:35:07.427 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:35:07.427 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:35:07.427 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:35:07.427 -05:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType3`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:35:07.427 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:35:07.427 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:35:07.427 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:35:07.427 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:35:07.427 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:35:07.427 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:35:07.427 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:35:07.427 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:35:07.435 -05:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:35:07.443 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:35:07.451 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 16ms reading results.
2024-07-29 15:35:07.452 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:35:07.453 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:35:07.455 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) in 81.0439ms
2024-07-29 15:35:07.456 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:35:07.456 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:35:07.456 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:35:07.457 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:35:07.457 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - 200 null application/json; charset=utf-8 89.2779ms
2024-07-29 15:35:12.754 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-29 15:35:12.754 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-07-29 15:35:12.754 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-29 15:35:12.754 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-29 15:35:12.754 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 15:35:12.754 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 15:35:12.754 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:35:12.754 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:35:12.754 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:35:12.754 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:35:12.755 -05:00 [DBG] The request is a preflight request.
2024-07-29 15:35:12.755 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:35:12.755 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:35:12.755 -05:00 [DBG] The request is a preflight request.
2024-07-29 15:35:12.755 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 0.9352ms
2024-07-29 15:35:12.757 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 2.7522ms
2024-07-29 15:35:12.759 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-29 15:35:12.760 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-29 15:35:12.760 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-29 15:35:12.760 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 15:35:12.760 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:35:12.760 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:35:12.760 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-07-29 15:35:12.760 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:35:12.760 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-29 15:35:12.760 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-07-29 15:35:12.760 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-29 15:35:12.760 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:35:12.760 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:35:12.760 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:35:12.760 -05:00 [DBG] Successfully validated the token.
2024-07-29 15:35:12.760 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 15:35:12.760 -05:00 [DBG] Successfully validated the token.
2024-07-29 15:35:12.760 -05:00 [DBG] Authorization was successful.
2024-07-29 15:35:12.760 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 15:35:12.761 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 15:35:12.761 -05:00 [DBG] Authorization was successful.
2024-07-29 15:35:12.761 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-29 15:35:12.761 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-29 15:35:12.761 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:35:12.761 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-07-29 15:35:12.761 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:35:12.761 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:35:12.761 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:35:12.761 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:35:12.761 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:35:12.761 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:35:12.761 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:35:12.761 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:35:12.761 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-29 15:35:12.761 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:35:12.761 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-29 15:35:12.761 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-29 15:35:12.761 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-29 15:35:12.762 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-29 15:35:12.762 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-29 15:35:12.762 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 15:35:12.762 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 15:35:12.816 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-29 15:35:12.816 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:35:12.816 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 15:35:12.818 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:35:12.844 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:35:12.844 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:35:12.844 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:35:12.845 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:35:12.847 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:35:12.847 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:35:12.847 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:35:12.847 -05:00 [DBG] Consultando libros...
2024-07-29 15:35:12.847 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:35:12.847 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-29 15:35:12.865 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:35:12.865 -05:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-29 15:35:12.865 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:35:12.865 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:35:12.865 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:35:12.865 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:35:12.865 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:35:12.865 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:35:12.870 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:35:12.870 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:35:12.870 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:35:12.870 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:35:12.870 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:35:12.871 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:35:12.871 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:35:12.871 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:35:12.871 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-29 15:35:12.871 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:35:12.871 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:35:12.871 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:35:12.872 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:35:12.872 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:35:12.872 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:35:12.872 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:35:12.872 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 7ms reading results.
2024-07-29 15:35:12.872 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:35:12.872 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:35:12.872 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 56.0002ms.
2024-07-29 15:35:12.873 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:35:12.873 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:35:12.873 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:35:12.873 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:35:12.873 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:35:12.873 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:35:12.873 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 112.2088ms
2024-07-29 15:35:12.874 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-29 15:35:12.874 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:35:12.874 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:35:12.874 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:35:12.874 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 114.9288ms
2024-07-29 15:35:12.888 -05:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-29 15:35:12.889 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:35:12.889 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 15:35:12.889 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:35:12.889 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:35:12.901 -05:00 [INF] Consulta de libros exitosa
2024-07-29 15:35:12.902 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 57.2675ms.
2024-07-29 15:35:12.902 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:35:12.902 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:35:12.902 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:35:12.902 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:35:12.902 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:35:12.902 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:35:12.902 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 141.3441ms
2024-07-29 15:35:12.902 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 15:35:12.903 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:35:12.903 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:35:12.903 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:35:12.903 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 143.4936ms
2024-07-29 15:35:18.491 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - null null
2024-07-29 15:35:18.491 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:35:18.491 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarHistorial' is valid for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:35:18.491 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:35:18.492 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:35:18.492 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:35:18.492 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:35:18.492 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 15:35:18.492 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:35:18.492 -05:00 [INF] Route matched with {action = "ConsultarHistorial", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarHistorial() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 15:35:18.492 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:35:18.492 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:35:18.492 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:35:18.492 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:35:18.492 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:35:18.493 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:35:18.493 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:35:18.520 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:35:18.521 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:35:18.521 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.83ms.
2024-07-29 15:35:18.521 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:35:18.522 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:35:18.522 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:35:18.522 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:35:18.522 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:35:18.522 -05:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType3`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:35:18.523 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:35:18.523 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:35:18.523 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:35:18.523 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:35:18.523 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:35:18.523 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:35:18.523 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:35:18.523 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:35:18.526 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:35:18.526 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:35:18.527 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 15:35:18.527 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:35:18.527 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:35:18.527 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) in 34.4788ms
2024-07-29 15:35:18.527 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:35:18.527 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:35:18.527 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:35:18.527 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:35:18.528 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - 200 null application/json; charset=utf-8 37.7421ms
2024-07-29 15:35:56.938 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - null null
2024-07-29 15:35:56.940 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:35:56.940 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarHistorial' is valid for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:35:56.940 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:35:56.941 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:35:56.941 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:35:56.941 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:35:56.941 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 15:35:56.941 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:35:56.941 -05:00 [INF] Route matched with {action = "ConsultarHistorial", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarHistorial() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 15:35:56.941 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:35:56.942 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:35:56.942 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:35:56.943 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:35:56.943 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:35:56.943 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:35:56.943 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:35:57.124 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:35:57.126 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:35:57.127 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.8248ms.
2024-07-29 15:35:57.128 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:35:57.128 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:35:57.128 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:35:57.128 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:35:57.128 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:35:57.128 -05:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType3`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:35:57.128 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:35:57.128 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:35:57.128 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:35:57.129 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:35:57.129 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:35:57.129 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:35:57.129 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:35:57.129 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:35:57.171 -05:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:35:57.172 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:35:57.172 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-29 15:35:57.172 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:35:57.172 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:35:57.172 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) in 229.1165ms
2024-07-29 15:35:57.172 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:35:57.175 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:35:57.175 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:35:57.176 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:35:57.176 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - 200 null application/json; charset=utf-8 239.4715ms
2024-07-29 15:36:18.571 -05:00 [DBG] Connection id "0HN5G1BAAVPG3" received FIN.
2024-07-29 15:36:18.571 -05:00 [DBG] Connection id "0HN5G1BAAVPG2" received FIN.
2024-07-29 15:36:18.573 -05:00 [DBG] Connection id "0HN5G1BAAVPG3" is closed. The last processed stream ID was 113.
2024-07-29 15:36:18.574 -05:00 [DBG] Connection id "0HN5G1BAAVPG3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-29 15:36:18.574 -05:00 [DBG] Connection id "0HN5G1BAAVPG2" is closed. The last processed stream ID was 7.
2024-07-29 15:36:18.575 -05:00 [DBG] Connection id "0HN5G1BAAVPG2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-29 15:36:18.612 -05:00 [DBG] The connection queue processing loop for 0HN5G1BAAVPG3 completed.
2024-07-29 15:36:18.612 -05:00 [DBG] The connection queue processing loop for 0HN5G1BAAVPG2 completed.
2024-07-29 15:36:18.614 -05:00 [DBG] Connection id "0HN5G1BAAVPG2" stopped.
2024-07-29 15:36:18.615 -05:00 [DBG] Connection id "0HN5G1BAAVPG3" stopped.
2024-07-29 15:36:21.579 -05:00 [DBG] Connection id "0HN5G1BAAVPG4" accepted.
2024-07-29 15:36:21.580 -05:00 [DBG] Connection id "0HN5G1BAAVPG4" started.
2024-07-29 15:36:21.585 -05:00 [DBG] Connection 0HN5G1BAAVPG4 established using the following protocol: "Tls12"
2024-07-29 15:36:21.608 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - null null
2024-07-29 15:36:21.609 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:36:21.609 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarHistorial' is valid for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:36:21.609 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:36:21.621 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:36:21.622 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:36:21.622 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:36:21.625 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 15:36:21.625 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:36:21.626 -05:00 [INF] Route matched with {action = "ConsultarHistorial", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarHistorial() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 15:36:21.626 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:36:21.626 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:36:21.626 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:36:21.626 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:36:21.626 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:36:21.626 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:36:21.626 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:36:21.664 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:36:21.665 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:36:21.665 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.8081ms.
2024-07-29 15:36:21.665 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:36:21.665 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:36:21.665 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:36:21.665 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:36:21.665 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:36:21.666 -05:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType3`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:36:21.666 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:36:21.666 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:36:21.666 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:36:21.666 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:36:21.666 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:36:21.666 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:36:21.666 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:36:21.666 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:36:21.669 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:36:21.670 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:36:21.671 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-29 15:36:21.671 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:36:21.671 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:36:21.671 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) in 44.953ms
2024-07-29 15:36:21.671 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:36:21.671 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:36:21.672 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:36:21.672 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:36:21.672 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - 200 null application/json; charset=utf-8 64.4567ms
2024-07-29 15:37:16.424 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - null null
2024-07-29 15:37:16.425 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:37:16.426 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarHistorial' is valid for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:37:16.426 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:37:16.427 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:37:16.427 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:37:16.427 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:37:16.428 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 15:37:16.428 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:37:16.428 -05:00 [INF] Route matched with {action = "ConsultarHistorial", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarHistorial() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 15:37:16.428 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:37:16.428 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:37:16.428 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:37:16.428 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:37:16.428 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:37:16.429 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:37:16.429 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:37:16.460 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:37:16.461 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:37:16.461 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.9742ms.
2024-07-29 15:37:16.461 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:37:16.461 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:37:16.461 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:37:16.461 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:37:16.461 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:37:16.462 -05:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType3`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:37:16.462 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:37:16.462 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:37:16.462 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:37:16.462 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:37:16.462 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:37:16.462 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:37:16.462 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:37:16.462 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:37:16.481 -05:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:37:16.482 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:37:16.482 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-29 15:37:16.482 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:37:16.483 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:37:16.483 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) in 54.2414ms
2024-07-29 15:37:16.483 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:37:16.484 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:37:16.484 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:37:16.484 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:37:16.485 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - 200 null application/json; charset=utf-8 60.0667ms
2024-07-29 15:38:04.197 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - null null
2024-07-29 15:38:04.197 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:38:04.203 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarHistorial' is valid for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:38:04.203 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:38:04.203 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:38:04.203 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:38:04.203 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:38:04.204 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 15:38:04.204 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:38:04.205 -05:00 [INF] Route matched with {action = "ConsultarHistorial", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarHistorial() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 15:38:04.206 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:38:04.206 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:38:04.206 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:38:04.206 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:38:04.206 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:38:04.207 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:38:04.221 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:38:04.258 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:38:04.258 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:38:04.259 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.802ms.
2024-07-29 15:38:04.259 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:38:04.259 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:38:04.259 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:38:04.259 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:38:04.259 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:38:04.259 -05:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType3`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:38:04.259 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:38:04.259 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:38:04.259 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:38:04.259 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:38:04.259 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:38:04.259 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:38:04.259 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:38:04.260 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:38:04.272 -05:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:38:04.286 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:38:04.286 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 14ms reading results.
2024-07-29 15:38:04.287 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:38:04.287 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:38:04.287 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) in 80.0808ms
2024-07-29 15:38:04.287 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:38:04.287 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:38:04.287 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:38:04.288 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:38:04.289 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - 200 null application/json; charset=utf-8 91.9543ms
2024-07-29 15:38:19.515 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - null null
2024-07-29 15:38:19.516 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:38:19.516 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarHistorial' is valid for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:38:19.517 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:38:19.517 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:38:19.517 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:38:19.517 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:38:19.517 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 15:38:19.517 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:38:19.517 -05:00 [INF] Route matched with {action = "ConsultarHistorial", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarHistorial() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 15:38:19.517 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:38:19.517 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:38:19.517 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:38:19.517 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:38:19.518 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:38:19.518 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:38:19.518 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:38:19.541 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:38:19.542 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:38:19.542 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.9049ms.
2024-07-29 15:38:19.543 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:38:19.543 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:38:19.543 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:38:19.543 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:38:19.543 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:38:19.543 -05:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType3`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:38:19.543 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:38:19.543 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:38:19.543 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:38:19.544 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:38:19.544 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:38:19.544 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:38:19.544 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:38:19.544 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:38:19.546 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:38:19.547 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:38:19.547 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 15:38:19.547 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:38:19.547 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:38:19.547 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) in 29.8057ms
2024-07-29 15:38:19.548 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:38:19.549 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:38:19.550 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:38:19.550 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:38:19.551 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - 200 null application/json; charset=utf-8 34.8121ms
2024-07-29 15:38:28.037 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - null null
2024-07-29 15:38:28.037 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:38:28.037 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarHistorial' is valid for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:38:28.037 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:38:28.037 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:38:28.037 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:38:28.037 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:38:28.037 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 15:38:28.037 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:38:28.038 -05:00 [INF] Route matched with {action = "ConsultarHistorial", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarHistorial() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 15:38:28.038 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:38:28.038 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:38:28.038 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:38:28.038 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:38:28.038 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:38:28.038 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:38:28.038 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:38:28.105 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:38:28.105 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:38:28.105 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.7079ms.
2024-07-29 15:38:28.105 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:38:28.105 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:38:28.105 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:38:28.106 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:38:28.106 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:38:28.106 -05:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType3`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:38:28.106 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:38:28.106 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:38:28.106 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:38:28.107 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:38:28.107 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:38:28.107 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:38:28.107 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:38:28.107 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:38:28.109 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:38:28.110 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:38:28.110 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 15:38:28.110 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:38:28.110 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:38:28.110 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) in 72.4979ms
2024-07-29 15:38:28.111 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:38:28.111 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:38:28.111 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:38:28.111 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:38:28.111 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - 200 null application/json; charset=utf-8 74.4259ms
2024-07-29 15:39:10.300 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - null null
2024-07-29 15:39:10.300 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:39:10.301 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarHistorial' is valid for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:39:10.301 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:39:10.302 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:39:10.302 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:39:10.302 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:39:10.302 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 15:39:10.302 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:39:10.302 -05:00 [INF] Route matched with {action = "ConsultarHistorial", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarHistorial() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 15:39:10.302 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:39:10.302 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:39:10.303 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:39:10.303 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:39:10.303 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:39:10.303 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:39:10.303 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:39:10.349 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:39:10.350 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:39:10.350 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.0566ms.
2024-07-29 15:39:10.350 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:39:10.350 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:39:10.350 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:39:10.351 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:39:10.351 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:39:10.351 -05:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType3`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:39:10.351 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:39:10.351 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:39:10.351 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:39:10.351 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:39:10.351 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:39:10.351 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:39:10.351 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:39:10.352 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:39:10.390 -05:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:39:10.391 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:39:10.391 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-29 15:39:10.391 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:39:10.391 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:39:10.392 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) in 88.6494ms
2024-07-29 15:39:10.392 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:39:10.392 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:39:10.392 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:39:10.392 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:39:10.392 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - 200 null application/json; charset=utf-8 92.604ms
2024-07-29 15:40:15.296 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - null null
2024-07-29 15:40:15.296 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:40:15.296 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarHistorial' is valid for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:40:15.296 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:40:15.296 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:40:15.297 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:40:15.297 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:40:15.297 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 15:40:15.297 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:40:15.297 -05:00 [INF] Route matched with {action = "ConsultarHistorial", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarHistorial() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 15:40:15.297 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:40:15.297 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:40:15.297 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:40:15.297 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:40:15.298 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:40:15.298 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:40:15.298 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:40:15.340 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:40:15.341 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:40:15.342 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.6448ms.
2024-07-29 15:40:15.342 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:40:15.342 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:40:15.342 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:40:15.343 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:40:15.343 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:40:15.343 -05:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType3`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:40:15.344 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:40:15.344 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:40:15.344 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:40:15.344 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:40:15.344 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:40:15.344 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:40:15.345 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:40:15.358 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:40:15.414 -05:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:40:15.417 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:40:15.417 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-07-29 15:40:15.417 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:40:15.417 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:40:15.418 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) in 120.0557ms
2024-07-29 15:40:15.418 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:40:15.418 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:40:15.418 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:40:15.419 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:40:15.419 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - 200 null application/json; charset=utf-8 122.7021ms
2024-07-29 15:40:21.333 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - null null
2024-07-29 15:40:21.333 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:40:21.333 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarHistorial' is valid for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:40:21.333 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:40:21.335 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:40:21.335 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:40:21.335 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:40:21.336 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 15:40:21.336 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:40:21.336 -05:00 [INF] Route matched with {action = "ConsultarHistorial", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarHistorial() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 15:40:21.336 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:40:21.336 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:40:21.336 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:40:21.337 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:40:21.337 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:40:21.338 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:40:21.338 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:40:21.403 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:40:21.403 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:40:21.404 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.057ms.
2024-07-29 15:40:21.404 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:40:21.404 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:40:21.404 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:40:21.404 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:40:21.404 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:40:21.404 -05:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType3`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:40:21.405 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:40:21.405 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:40:21.405 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:40:21.405 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:40:21.405 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:40:21.405 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:40:21.405 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:40:21.405 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:40:21.420 -05:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:40:21.448 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:40:21.448 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 27ms reading results.
2024-07-29 15:40:21.448 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:40:21.448 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:40:21.448 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) in 110.5245ms
2024-07-29 15:40:21.448 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:40:21.448 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:40:21.448 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:40:21.448 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:40:21.449 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - 200 null application/json; charset=utf-8 115.8103ms
2024-07-29 15:40:28.840 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - null null
2024-07-29 15:40:28.844 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:40:28.844 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarHistorial' is valid for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:40:28.844 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:40:28.844 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:40:28.844 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:40:28.844 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:40:28.844 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 15:40:28.845 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:40:28.845 -05:00 [INF] Route matched with {action = "ConsultarHistorial", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarHistorial() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 15:40:28.845 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:40:28.845 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:40:28.845 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:40:28.845 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:40:28.845 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:40:28.845 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:40:28.845 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:40:28.883 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:40:28.884 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:40:28.884 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.0391ms.
2024-07-29 15:40:28.884 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:40:28.884 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:40:28.884 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:40:28.884 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:40:28.885 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:40:28.885 -05:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType3`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:40:28.885 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:40:28.885 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:40:28.885 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:40:28.885 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:40:28.885 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:40:28.886 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:40:28.886 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:40:28.886 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:40:28.917 -05:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:40:28.919 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:40:28.919 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-29 15:40:28.919 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:40:28.919 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:40:28.919 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) in 73.9094ms
2024-07-29 15:40:28.919 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:40:28.919 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:40:28.920 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:40:28.920 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:40:28.920 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - 200 null application/json; charset=utf-8 79.3988ms
2024-07-29 15:40:57.168 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - null null
2024-07-29 15:40:57.168 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:40:57.168 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarHistorial' is valid for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:40:57.168 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:40:57.168 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:40:57.168 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:40:57.168 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:40:57.168 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 15:40:57.168 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:40:57.169 -05:00 [INF] Route matched with {action = "ConsultarHistorial", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarHistorial() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 15:40:57.169 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:40:57.169 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:40:57.169 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:40:57.169 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:40:57.169 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:40:57.169 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:40:57.171 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:40:57.204 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:40:57.205 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:40:57.206 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.2044ms.
2024-07-29 15:40:57.206 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:40:57.206 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:40:57.206 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:40:57.206 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:40:57.206 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:40:57.206 -05:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType3`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:40:57.208 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:40:57.209 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:40:57.209 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:40:57.209 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:40:57.209 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:40:57.209 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:40:57.209 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:40:57.209 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:40:57.241 -05:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:40:57.241 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:40:57.242 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 15:40:57.242 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:40:57.242 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:40:57.242 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) in 72.9654ms
2024-07-29 15:40:57.242 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:40:57.242 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:40:57.245 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:40:57.245 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:40:57.245 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - 200 null application/json; charset=utf-8 77.3091ms
2024-07-29 15:41:13.846 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - null null
2024-07-29 15:41:13.846 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:41:13.846 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarHistorial' is valid for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:41:13.846 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:41:13.846 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:41:13.846 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:41:13.846 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:41:13.846 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 15:41:13.846 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:41:13.847 -05:00 [INF] Route matched with {action = "ConsultarHistorial", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarHistorial() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 15:41:13.847 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:41:13.847 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:41:13.847 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:41:13.847 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:41:13.847 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:41:13.847 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:41:13.847 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:41:13.880 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:41:13.881 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:41:13.881 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.6ms.
2024-07-29 15:41:13.881 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:41:13.881 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:41:13.881 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:41:13.881 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:41:13.881 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:41:13.881 -05:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType3`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:41:13.882 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:41:13.882 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:41:13.882 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:41:13.882 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:41:13.882 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:41:13.882 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:41:13.882 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:41:13.882 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:41:13.893 -05:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:41:13.894 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:41:13.895 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 15:41:13.895 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:41:13.895 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:41:13.895 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) in 47.9446ms
2024-07-29 15:41:13.895 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:41:13.895 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:41:13.895 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:41:13.895 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:41:13.895 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - 200 null application/json; charset=utf-8 49.8197ms
2024-07-29 15:43:18.521 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - null null
2024-07-29 15:43:18.521 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:43:18.522 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarHistorial' is valid for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:43:18.522 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:43:18.522 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:43:18.522 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:43:18.522 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:43:18.522 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 15:43:18.522 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:43:18.522 -05:00 [INF] Route matched with {action = "ConsultarHistorial", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarHistorial() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 15:43:18.522 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:43:18.522 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:43:18.523 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:43:18.523 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:43:18.523 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:43:18.523 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:43:18.532 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:43:18.561 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:43:18.561 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:43:18.562 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.7459ms.
2024-07-29 15:43:18.562 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:43:18.562 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:43:18.562 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:43:18.562 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:43:18.562 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:43:18.562 -05:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType3`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:43:18.562 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:43:18.562 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:43:18.562 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:43:18.562 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:43:18.562 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:43:18.562 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:43:18.562 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:43:18.562 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:43:18.572 -05:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:43:18.573 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:43:18.573 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 15:43:18.573 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:43:18.573 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:43:18.573 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) in 50.195ms
2024-07-29 15:43:18.574 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:43:18.574 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:43:18.574 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:43:18.574 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:43:18.574 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - 200 null application/json; charset=utf-8 52.83ms
2024-07-29 15:43:31.952 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - null null
2024-07-29 15:43:31.956 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:43:31.956 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarHistorial' is valid for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:43:31.956 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:43:31.956 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:43:31.956 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:43:31.956 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:43:31.956 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 15:43:31.956 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:43:31.956 -05:00 [INF] Route matched with {action = "ConsultarHistorial", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarHistorial() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 15:43:31.956 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:43:31.957 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:43:31.957 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:43:31.957 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:43:31.957 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:43:31.957 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:43:31.957 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:43:31.981 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:43:31.981 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:43:31.981 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.5887ms.
2024-07-29 15:43:31.982 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:43:31.982 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:43:31.982 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:43:31.982 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:43:31.982 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:43:31.982 -05:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType3`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:43:31.982 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:43:31.982 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:43:31.982 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:43:31.982 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:43:31.982 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:43:31.982 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:43:31.982 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:43:31.982 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:43:31.985 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:43:31.986 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:43:31.986 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 15:43:31.986 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:43:31.986 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:43:31.986 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) in 29.6394ms
2024-07-29 15:43:31.986 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:43:31.987 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:43:31.987 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:43:31.987 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:43:31.987 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - 200 null application/json; charset=utf-8 37.6356ms
2024-07-29 15:44:05.176 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - null null
2024-07-29 15:44:05.177 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:44:05.178 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarHistorial' is valid for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:44:05.178 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:44:05.178 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:44:05.178 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:44:05.178 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:44:05.178 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 15:44:05.178 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:44:05.178 -05:00 [INF] Route matched with {action = "ConsultarHistorial", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarHistorial() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 15:44:05.178 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:44:05.178 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:44:05.178 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:44:05.178 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:44:05.178 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:44:05.179 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:44:05.180 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:44:05.223 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:44:05.224 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:44:05.224 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.6469ms.
2024-07-29 15:44:05.224 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:44:05.224 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:44:05.224 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:44:05.224 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:44:05.224 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:44:05.224 -05:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType3`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:44:05.224 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:44:05.224 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:44:05.225 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:44:05.225 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:44:05.225 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:44:05.225 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:44:05.225 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:44:05.225 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:44:05.235 -05:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:44:05.256 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:44:05.256 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 21ms reading results.
2024-07-29 15:44:05.257 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:44:05.257 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:44:05.257 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) in 77.8311ms
2024-07-29 15:44:05.257 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:44:05.258 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:44:05.258 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:44:05.259 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:44:05.271 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - 200 null application/json; charset=utf-8 94.7906ms
2024-07-29 15:53:52.801 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 15:53:52.803 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 15:53:52.803 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 15:53:52.813 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 15:53:52.813 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:53:52.813 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:53:52.813 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:53:52.813 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 15:53:52.813 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 15:53:52.833 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 15:53:52.833 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:53:52.833 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:53:52.833 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:53:52.833 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:53:52.833 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:53:52.833 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:53:52.833 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:53:52.858 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:53:52.860 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:53:52.861 -05:00 [DBG] Compiling query expression: 
'DbSet<Archivo>()
    .Where(A => A.FechaEliminacion == null)
    .OrderByDescending(A => A.FechaCarga)'
2024-07-29 15:53:52.865 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Archivo>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Archivo.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Archivo.FechaCarga (DateTime) Required, 1], [Property: Archivo.FechaEliminacion (DateTime?), 2], [Property: Archivo.Nombre (string) Required, 3], [Property: Archivo.NumeroDescargas (int) Required, 4], [Property: Archivo.RutaDocumento (string) Required, 5] }
        SELECT a.Id, a.FechaCarga, a.FechaEliminacion, a.Nombre, a.NumeroDescargas, a.RutaDocumento
        FROM Archivo AS a
        WHERE a.FechaEliminacion == NULL
        ORDER BY a.FechaCarga DESC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Archivo>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-29 15:53:52.868 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:53:52.868 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:53:52.868 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:53:52.878 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:53:52.878 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:53:52.878 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:53:52.878 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:53:52.878 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 15:53:52.881 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 15:53:52.885 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:53:52.900 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:53:52.900 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:53:52.900 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 15:53:52.900 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:53:52.900 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 18ms reading results.
2024-07-29 15:53:52.900 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:53:52.900 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:53:52.900 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 41.9618ms.
2024-07-29 15:53:52.900 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:53:52.900 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:53:52.901 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:53:52.901 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:53:52.901 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:53:52.901 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:53:52.912 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 78.8372ms
2024-07-29 15:53:52.912 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 15:53:52.912 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:53:52.912 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:53:52.912 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:53:52.912 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 111.6051ms
2024-07-29 15:53:57.089 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - null null
2024-07-29 15:53:57.089 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:53:57.089 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarHistorial' is valid for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 15:53:57.089 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:53:57.089 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 15:53:57.089 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 15:53:57.089 -05:00 [INF] CORS policy execution successful.
2024-07-29 15:53:57.089 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 15:53:57.089 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:53:57.089 -05:00 [INF] Route matched with {action = "ConsultarHistorial", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarHistorial() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 15:53:57.089 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 15:53:57.089 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 15:53:57.089 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 15:53:57.090 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 15:53:57.090 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 15:53:57.090 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:53:57.090 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 15:53:57.129 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) - Validation state: "Valid"
2024-07-29 15:53:57.129 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 15:53:57.129 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.5304ms.
2024-07-29 15:53:57.129 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 15:53:57.129 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 15:53:57.129 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 15:53:57.129 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 15:53:57.129 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 15:53:57.129 -05:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType3`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 15:53:57.130 -05:00 [DBG] Creating DbConnection.
2024-07-29 15:53:57.130 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 15:53:57.130 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:53:57.130 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:53:57.130 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 15:53:57.130 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:53:57.130 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 15:53:57.130 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:53:57.138 -05:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 15:53:57.141 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:53:57.141 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-07-29 15:53:57.142 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:53:57.142 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 15:53:57.142 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) in 52.5265ms
2024-07-29 15:53:57.142 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 15:53:57.143 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 15:53:57.143 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 15:53:57.143 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 15:53:57.144 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - 200 null application/json; charset=utf-8 56.1408ms
2024-07-29 16:33:58.635 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-29 16:33:58.636 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-29 16:33:58.636 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 16:33:58.636 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 16:33:58.637 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 16:33:58.637 -05:00 [INF] CORS policy execution successful.
2024-07-29 16:33:58.637 -05:00 [DBG] The request is a preflight request.
2024-07-29 16:33:58.638 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 2.4908ms
2024-07-29 16:33:58.638 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-07-29 16:33:58.638 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-29 16:33:58.638 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-29 16:33:58.638 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 16:33:58.638 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 16:33:58.638 -05:00 [INF] CORS policy execution successful.
2024-07-29 16:33:58.638 -05:00 [DBG] The request is a preflight request.
2024-07-29 16:33:58.639 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 0.4811ms
2024-07-29 16:33:58.704 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-29 16:33:58.704 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-07-29 16:33:58.704 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-29 16:33:58.704 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-29 16:33:58.704 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-29 16:33:58.704 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-07-29 16:33:58.705 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 16:33:58.705 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-29 16:33:58.705 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 16:33:58.705 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 16:33:58.705 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 16:33:58.705 -05:00 [INF] CORS policy execution successful.
2024-07-29 16:33:58.705 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 16:33:58.705 -05:00 [INF] CORS policy execution successful.
2024-07-29 16:33:58.719 -05:00 [DBG] Successfully validated the token.
2024-07-29 16:33:58.719 -05:00 [DBG] Successfully validated the token.
2024-07-29 16:33:58.723 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 16:33:58.723 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-29 16:33:58.724 -05:00 [DBG] Authorization was successful.
2024-07-29 16:33:58.724 -05:00 [DBG] Authorization was successful.
2024-07-29 16:33:58.724 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-29 16:33:58.724 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 16:33:58.724 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-07-29 16:33:58.724 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-29 16:33:58.724 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 16:33:58.724 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 16:33:58.724 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 16:33:58.724 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 16:33:58.724 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 16:33:58.724 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 16:33:58.724 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 16:33:58.724 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 16:33:58.724 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-29 16:33:58.724 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 16:33:58.725 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 16:33:58.725 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-29 16:33:58.725 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-29 16:33:58.725 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-29 16:33:58.725 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-29 16:33:58.727 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-29 16:33:58.766 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 16:33:58.766 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-29 16:33:58.767 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 16:33:58.767 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-29 16:33:58.767 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-29 16:33:58.805 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 16:33:58.805 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-29 16:33:58.808 -05:00 [DBG] Creating DbConnection.
2024-07-29 16:33:58.808 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 16:33:58.808 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:33:58.813 -05:00 [DBG] Consultando libros...
2024-07-29 16:33:58.817 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 16:33:58.818 -05:00 [DBG] Creating DbConnection.
2024-07-29 16:33:58.818 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 16:33:58.818 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:33:58.924 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:33:58.924 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 16:33:58.924 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 16:33:58.924 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 16:33:58.924 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-29 16:33:58.938 -05:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-29 16:33:58.938 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:33:58.938 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 16:33:58.938 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:33:58.938 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 16:33:58.949 -05:00 [INF] Consulta de libros exitosa
2024-07-29 16:33:58.950 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 144.2042ms.
2024-07-29 16:33:58.950 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:33:58.950 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 16:33:58.950 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 16:33:58.950 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 16:33:58.950 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 16:33:58.950 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 16:33:58.950 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 16:33:58.950 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 16:33:58.950 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 16:33:58.950 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-29 16:33:58.950 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType5`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 16:33:58.950 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 226.1ms
2024-07-29 16:33:58.951 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-29 16:33:58.951 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 16:33:58.951 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:33:58.951 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 16:33:58.951 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 247.1492ms
2024-07-29 16:33:58.954 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-29 16:33:58.955 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:33:58.955 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:33:58.955 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:33:58.955 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:33:58.955 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:33:58.955 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:33:58.955 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:33:58.955 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:33:58.955 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:33:58.955 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:33:58.955 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:33:58.955 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:33:58.956 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:33:58.956 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:33:58.956 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-29 16:33:58.956 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:33:58.956 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 16:33:58.956 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 189.6993ms.
2024-07-29 16:33:58.956 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 16:33:58.956 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 16:33:58.957 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 16:33:58.957 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 16:33:58.957 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 16:33:58.957 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 16:33:58.957 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 232.2958ms
2024-07-29 16:33:58.957 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-29 16:33:58.957 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 16:33:58.957 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:33:58.957 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 16:33:58.957 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 253.2136ms
2024-07-29 16:34:06.638 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - null null
2024-07-29 16:34:06.638 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 16:34:06.638 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarHistorial' is valid for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 16:34:06.638 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 16:34:06.638 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 16:34:06.638 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 16:34:06.638 -05:00 [INF] CORS policy execution successful.
2024-07-29 16:34:06.638 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 16:34:06.638 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 16:34:06.638 -05:00 [INF] Route matched with {action = "ConsultarHistorial", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarHistorial() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 16:34:06.643 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 16:34:06.643 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 16:34:06.643 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 16:34:06.643 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 16:34:06.643 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 16:34:06.644 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 16:34:06.645 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 16:34:06.676 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) - Validation state: "Valid"
2024-07-29 16:34:06.677 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 16:34:06.677 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.6359ms.
2024-07-29 16:34:06.677 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 16:34:06.677 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 16:34:06.677 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 16:34:06.677 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 16:34:06.677 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 16:34:06.677 -05:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType3`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 16:34:06.678 -05:00 [DBG] Creating DbConnection.
2024-07-29 16:34:06.678 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 16:34:06.678 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:34:06.678 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:34:06.678 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 16:34:06.678 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 16:34:06.678 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 16:34:06.678 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 16:34:06.688 -05:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 16:34:06.704 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:34:06.704 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 16ms reading results.
2024-07-29 16:34:06.704 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:34:06.704 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 16:34:06.704 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) in 60.7902ms
2024-07-29 16:34:06.704 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 16:34:06.705 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 16:34:06.705 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:34:06.705 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 16:34:06.705 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - 200 null application/json; charset=utf-8 67.4712ms
2024-07-29 16:40:27.385 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 16:40:27.386 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 16:40:27.386 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 16:40:27.386 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 16:40:27.386 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 16:40:27.386 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 16:40:27.386 -05:00 [INF] CORS policy execution successful.
2024-07-29 16:40:27.386 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 16:40:27.386 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 16:40:27.386 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 16:40:27.386 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 16:40:27.386 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 16:40:27.386 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 16:40:27.387 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 16:40:27.387 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 16:40:27.387 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 16:40:27.387 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 16:40:27.428 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 16:40:27.429 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 16:40:27.429 -05:00 [DBG] Creating DbConnection.
2024-07-29 16:40:27.429 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 16:40:27.430 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:40:27.437 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:40:27.438 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 16:40:27.438 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 16:40:27.438 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 16:40:27.438 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 16:40:27.442 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 16:40:27.442 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:40:27.442 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:40:27.442 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:40:27.442 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:40:27.442 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:40:27.442 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 16:40:27.442 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:40:27.442 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 16:40:27.442 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 14.2543ms.
2024-07-29 16:40:27.442 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 16:40:27.442 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 16:40:27.442 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 16:40:27.442 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 16:40:27.442 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 16:40:27.443 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 16:40:27.443 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 56.0829ms
2024-07-29 16:40:27.443 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 16:40:27.443 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 16:40:27.443 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:40:27.443 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 16:40:27.443 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 57.7754ms
2024-07-29 16:40:39.786 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Archivos?idPerfil=31 - multipart/form-data; boundary=----WebKitFormBoundarys1BIccXSHtBf7ye5 43156
2024-07-29 16:40:39.788 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos'
2024-07-29 16:40:39.788 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend)' with route pattern 'api/Archivos' is valid for the request path '/api/Archivos'
2024-07-29 16:40:39.788 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend)'
2024-07-29 16:40:39.788 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 16:40:39.788 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 16:40:39.788 -05:00 [INF] CORS policy execution successful.
2024-07-29 16:40:39.788 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 16:40:39.788 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend)'
2024-07-29 16:40:39.792 -05:00 [INF] Route matched with {action = "CargarDocumento", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CargarDocumento(Microsoft.AspNetCore.Http.IFormFile, Int32) on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 16:40:39.792 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 16:40:39.792 -05:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-07-29 16:40:39.792 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 16:40:39.792 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 16:40:39.792 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 16:40:39.794 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 16:40:39.794 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 16:40:39.805 -05:00 [DBG] Connection id "0HN5G1BAAVPG4", Request id "0HN5G1BAAVPG4:0000002D": started reading request body.
2024-07-29 16:40:39.805 -05:00 [DBG] Connection id "0HN5G1BAAVPG4", Request id "0HN5G1BAAVPG4:0000002D": done reading request body.
2024-07-29 16:40:39.823 -05:00 [DBG] Attempting to bind parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile' ...
2024-07-29 16:40:39.826 -05:00 [DBG] Attempting to bind parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile' using the name 'archivo' in request data ...
2024-07-29 16:40:39.829 -05:00 [DBG] Done attempting to bind parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-07-29 16:40:39.829 -05:00 [DBG] Done attempting to bind parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-07-29 16:40:39.829 -05:00 [DBG] Attempting to validate the bound parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile' ...
2024-07-29 16:40:39.830 -05:00 [DBG] Done attempting to validate the bound parameter 'archivo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-07-29 16:40:39.830 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 16:40:39.830 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-29 16:40:39.830 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 16:40:39.830 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 16:40:39.830 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 16:40:39.831 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 16:40:39.855 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend) - Validation state: "Valid"
2024-07-29 16:40:39.857 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 16:40:39.857 -05:00 [DBG] Compiling query expression: 
'DbSet<Archivo>()
    .FirstOrDefault(A => A.RutaDocumento == __ruta_0)'
2024-07-29 16:40:39.860 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Archivo>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Archivo.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Archivo.FechaCarga (DateTime) Required, 1], [Property: Archivo.FechaEliminacion (DateTime?), 2], [Property: Archivo.Nombre (string) Required, 3], [Property: Archivo.NumeroDescargas (int) Required, 4], [Property: Archivo.RutaDocumento (string) Required, 5] }
        SELECT TOP(1) a.Id, a.FechaCarga, a.FechaEliminacion, a.Nombre, a.NumeroDescargas, a.RutaDocumento
        FROM Archivo AS a
        WHERE a.RutaDocumento == @__ruta_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Archivo>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-29 16:40:39.861 -05:00 [DBG] Creating DbConnection.
2024-07-29 16:40:39.861 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 16:40:39.861 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:40:39.861 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:40:39.861 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 16:40:39.861 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 16:40:39.861 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 16:40:39.861 -05:00 [DBG] Executing DbCommand [Parameters=[@__ruta_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[RutaDocumento] = @__ruta_0
2024-07-29 16:40:39.863 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ruta_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[RutaDocumento] = @__ruta_0
2024-07-29 16:40:39.863 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:40:39.863 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 16:40:39.863 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:40:39.863 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 16:40:39.868 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'Archivo.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:40:39.870 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:40:39.870 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 16:40:39.870 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 16:40:39.875 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 16:40:39.876 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:40:39.876 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:40:39.876 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 16:40:39.876 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 16:40:39.876 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 16:40:39.876 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Archivo] ([FechaCarga], [FechaEliminacion], [Nombre], [NumeroDescargas], [RutaDocumento])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-07-29 16:40:39.878 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Archivo] ([FechaCarga], [FechaEliminacion], [Nombre], [NumeroDescargas], [RutaDocumento])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-07-29 16:40:39.880 -05:00 [DBG] The foreign key property 'Archivo.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-29 16:40:39.881 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:40:39.881 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-07-29 16:40:39.881 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:40:39.881 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 16:40:39.881 -05:00 [DBG] An entity of type 'Archivo' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:40:39.881 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 16:40:39.884 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'RegistroArchivoPerfil.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:40:39.891 -05:00 [DBG] The navigation 'RegistroArchivoPerfil.Archivo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:40:39.893 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'RegistroArchivoPerfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:40:39.893 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 16:40:39.894 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 16:40:39.895 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 16:40:39.896 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:40:39.896 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:40:39.896 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 16:40:39.896 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 16:40:39.896 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 16:40:39.896 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 16:40:39.900 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 16:40:39.901 -05:00 [DBG] The foreign key property 'RegistroArchivoPerfil.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-29 16:40:39.902 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:40:39.902 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-07-29 16:40:39.902 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:40:39.903 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 16:40:39.903 -05:00 [DBG] An entity of type 'RegistroArchivoPerfil' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:40:39.903 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 16:40:39.903 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 47.5964ms.
2024-07-29 16:40:39.903 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 16:40:39.903 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 16:40:39.903 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 16:40:39.903 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 16:40:39.903 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 16:40:39.903 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType10`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-29 16:40:39.904 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend) in 111.5234ms
2024-07-29 16:40:39.904 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.CargarDocumento (biblioteca-backend)'
2024-07-29 16:40:39.905 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 16:40:39.905 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:40:39.905 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 16:40:39.905 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Archivos?idPerfil=31 - 200 null application/json; charset=utf-8 119.5947ms
2024-07-29 16:40:39.940 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 16:40:39.940 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 16:40:39.940 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 16:40:39.940 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 16:40:39.940 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 16:40:39.940 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 16:40:39.940 -05:00 [INF] CORS policy execution successful.
2024-07-29 16:40:39.941 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 16:40:39.941 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 16:40:39.942 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 16:40:39.954 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 16:40:39.955 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 16:40:39.955 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 16:40:39.955 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 16:40:39.959 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 16:40:39.959 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 16:40:39.959 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 16:40:39.985 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 16:40:39.986 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 16:40:39.986 -05:00 [DBG] Creating DbConnection.
2024-07-29 16:40:39.986 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 16:40:39.986 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:40:39.987 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:40:39.987 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 16:40:39.987 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 16:40:39.987 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 16:40:39.987 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 16:40:39.987 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 16:40:39.987 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:40:39.987 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:40:39.988 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:40:39.988 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:40:39.988 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:40:39.988 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:40:39.988 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 16:40:39.988 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:40:39.988 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 16:40:39.988 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.2631ms.
2024-07-29 16:40:39.988 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 16:40:39.988 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 16:40:39.988 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 16:40:39.988 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 16:40:39.988 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 16:40:39.988 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 16:40:39.988 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 29.5178ms
2024-07-29 16:40:39.988 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 16:40:39.988 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 16:40:39.988 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:40:39.989 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 16:40:39.989 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 49.0966ms
2024-07-29 16:41:32.633 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos?idArchivo=15&idPerfil=31 - null null
2024-07-29 16:41:32.633 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos'
2024-07-29 16:41:32.633 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)' with route pattern 'api/Archivos' is valid for the request path '/api/Archivos'
2024-07-29 16:41:32.633 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 16:41:32.633 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 16:41:32.633 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 16:41:32.633 -05:00 [INF] CORS policy execution successful.
2024-07-29 16:41:32.633 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 16:41:32.633 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 16:41:32.635 -05:00 [INF] Route matched with {action = "DescargarDocumento", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult DescargarDocumento(Int32, Int32) on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 16:41:32.635 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 16:41:32.635 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 16:41:32.635 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 16:41:32.635 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 16:41:32.635 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 16:41:32.635 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 16:41:32.635 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 16:41:32.636 -05:00 [DBG] Attempting to bind parameter 'idArchivo' of type 'System.Int32' ...
2024-07-29 16:41:32.636 -05:00 [DBG] Attempting to bind parameter 'idArchivo' of type 'System.Int32' using the name 'idArchivo' in request data ...
2024-07-29 16:41:32.636 -05:00 [DBG] Done attempting to bind parameter 'idArchivo' of type 'System.Int32'.
2024-07-29 16:41:32.636 -05:00 [DBG] Done attempting to bind parameter 'idArchivo' of type 'System.Int32'.
2024-07-29 16:41:32.636 -05:00 [DBG] Attempting to validate the bound parameter 'idArchivo' of type 'System.Int32' ...
2024-07-29 16:41:32.636 -05:00 [DBG] Done attempting to validate the bound parameter 'idArchivo' of type 'System.Int32'.
2024-07-29 16:41:32.636 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 16:41:32.636 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-29 16:41:32.636 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 16:41:32.636 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 16:41:32.636 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 16:41:32.636 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 16:41:32.676 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend) - Validation state: "Valid"
2024-07-29 16:41:32.692 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 16:41:32.692 -05:00 [DBG] Compiling query expression: 
'DbSet<Archivo>()
    .FirstOrDefault(A => A.Id == __idArchivo_0)'
2024-07-29 16:41:32.696 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Archivo>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Archivo.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Archivo.FechaCarga (DateTime) Required, 1], [Property: Archivo.FechaEliminacion (DateTime?), 2], [Property: Archivo.Nombre (string) Required, 3], [Property: Archivo.NumeroDescargas (int) Required, 4], [Property: Archivo.RutaDocumento (string) Required, 5] }
        SELECT TOP(1) a.Id, a.FechaCarga, a.FechaEliminacion, a.Nombre, a.NumeroDescargas, a.RutaDocumento
        FROM Archivo AS a
        WHERE a.Id == @__idArchivo_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Archivo>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-29 16:41:32.696 -05:00 [DBG] Creating DbConnection.
2024-07-29 16:41:32.696 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 16:41:32.696 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:41:32.696 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:41:32.696 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 16:41:32.696 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 16:41:32.696 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 16:41:32.696 -05:00 [DBG] Executing DbCommand [Parameters=[@__idArchivo_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[Id] = @__idArchivo_0
2024-07-29 16:41:32.698 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__idArchivo_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[Id] = @__idArchivo_0
2024-07-29 16:41:32.699 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:41:32.699 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:41:32.699 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 16:41:32.699 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:41:32.699 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 16:41:32.699 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'RegistroArchivoPerfil.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:41:32.700 -05:00 [DBG] The navigation 'RegistroArchivoPerfil.Archivo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:41:32.700 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'RegistroArchivoPerfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:41:32.700 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 16:41:32.700 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 16:41:32.700 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 16:41:32.701 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:41:32.701 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:41:32.701 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 16:41:32.701 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 16:41:32.701 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 16:41:32.701 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 16:41:32.705 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 16:41:32.705 -05:00 [DBG] The foreign key property 'RegistroArchivoPerfil.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-29 16:41:32.705 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:41:32.705 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 16:41:32.705 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:41:32.705 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 16:41:32.705 -05:00 [DBG] An entity of type 'RegistroArchivoPerfil' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:41:32.705 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 16:41:32.706 -05:00 [DBG] An entity of type 'Archivo' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:41:32.706 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 16:41:32.706 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 16:41:32.706 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 16:41:32.706 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:41:32.706 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:41:32.706 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 16:41:32.706 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 16:41:32.707 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 16:41:32.707 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Archivo] SET [FechaCarga] = @p0, [FechaEliminacion] = @p1, [Nombre] = @p2, [NumeroDescargas] = @p3, [RutaDocumento] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-29 16:41:32.710 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Archivo] SET [FechaCarga] = @p0, [FechaEliminacion] = @p1, [Nombre] = @p2, [NumeroDescargas] = @p3, [RutaDocumento] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-29 16:41:32.710 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:41:32.710 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 16:41:32.710 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:41:32.710 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 16:41:32.711 -05:00 [DBG] An entity of type 'Archivo' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:41:32.711 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 16:41:32.711 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 35.0503ms.
2024-07-29 16:41:32.712 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 16:41:32.715 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 16:41:32.721 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend) in 85.6316ms
2024-07-29 16:41:32.721 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 16:41:32.721 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 16:41:32.721 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:41:32.721 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 16:41:32.721 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos?idArchivo=15&idPerfil=31 - 200 42854 application/octet-stream 88.3464ms
2024-07-29 16:41:32.756 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 16:41:32.759 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 16:41:32.759 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 16:41:32.759 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 16:41:32.759 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 16:41:32.759 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 16:41:32.759 -05:00 [INF] CORS policy execution successful.
2024-07-29 16:41:32.759 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 16:41:32.759 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 16:41:32.759 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 16:41:32.759 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 16:41:32.760 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 16:41:32.760 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 16:41:32.760 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 16:41:32.760 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 16:41:32.760 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 16:41:32.760 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 16:41:32.817 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 16:41:32.818 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 16:41:32.818 -05:00 [DBG] Creating DbConnection.
2024-07-29 16:41:32.818 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 16:41:32.818 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:41:32.818 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:41:32.818 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 16:41:32.819 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 16:41:32.819 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 16:41:32.819 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 16:41:32.842 -05:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 16:41:32.842 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:41:32.842 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:41:32.842 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:41:32.842 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:41:32.842 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:41:32.842 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:41:32.843 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-29 16:41:32.843 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:41:32.843 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 16:41:32.843 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 26.0486ms.
2024-07-29 16:41:32.844 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 16:41:32.844 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 16:41:32.844 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 16:41:32.844 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 16:41:32.845 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 16:41:32.847 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 16:41:32.848 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 87.651ms
2024-07-29 16:41:32.848 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 16:41:32.848 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 16:41:32.848 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:41:32.848 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 16:41:32.848 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 92.3203ms
2024-07-29 16:41:35.915 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos?idArchivo=15&idPerfil=31 - null null
2024-07-29 16:41:35.915 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos'
2024-07-29 16:41:35.915 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)' with route pattern 'api/Archivos' is valid for the request path '/api/Archivos'
2024-07-29 16:41:35.915 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 16:41:35.915 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 16:41:35.915 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 16:41:35.916 -05:00 [INF] CORS policy execution successful.
2024-07-29 16:41:35.916 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 16:41:35.916 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 16:41:35.916 -05:00 [INF] Route matched with {action = "DescargarDocumento", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult DescargarDocumento(Int32, Int32) on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 16:41:35.916 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 16:41:35.916 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 16:41:35.916 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 16:41:35.916 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 16:41:35.916 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 16:41:35.916 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 16:41:35.916 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 16:41:35.917 -05:00 [DBG] Attempting to bind parameter 'idArchivo' of type 'System.Int32' ...
2024-07-29 16:41:35.917 -05:00 [DBG] Attempting to bind parameter 'idArchivo' of type 'System.Int32' using the name 'idArchivo' in request data ...
2024-07-29 16:41:35.917 -05:00 [DBG] Done attempting to bind parameter 'idArchivo' of type 'System.Int32'.
2024-07-29 16:41:35.917 -05:00 [DBG] Done attempting to bind parameter 'idArchivo' of type 'System.Int32'.
2024-07-29 16:41:35.917 -05:00 [DBG] Attempting to validate the bound parameter 'idArchivo' of type 'System.Int32' ...
2024-07-29 16:41:35.917 -05:00 [DBG] Done attempting to validate the bound parameter 'idArchivo' of type 'System.Int32'.
2024-07-29 16:41:35.917 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 16:41:35.917 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-29 16:41:35.917 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 16:41:35.917 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 16:41:35.917 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-29 16:41:35.917 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-29 16:41:35.949 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend) - Validation state: "Valid"
2024-07-29 16:41:35.949 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 16:41:35.949 -05:00 [DBG] Creating DbConnection.
2024-07-29 16:41:35.949 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 16:41:35.949 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:41:35.950 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:41:35.950 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 16:41:35.950 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 16:41:35.950 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 16:41:35.950 -05:00 [DBG] Executing DbCommand [Parameters=[@__idArchivo_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[Id] = @__idArchivo_0
2024-07-29 16:41:35.950 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__idArchivo_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[Id] = @__idArchivo_0
2024-07-29 16:41:35.950 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:41:35.950 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:41:35.951 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 16:41:35.951 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:41:35.951 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 16:41:35.951 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'RegistroArchivoPerfil.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:41:35.951 -05:00 [DBG] The navigation 'RegistroArchivoPerfil.Archivo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:41:35.951 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'RegistroArchivoPerfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:41:35.951 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 16:41:35.951 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 16:41:35.951 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 16:41:35.951 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:41:35.951 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:41:35.952 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 16:41:35.952 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 16:41:35.952 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 16:41:35.952 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 16:41:35.952 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RegistroArchivoPerfil] ([Fecha], [IdAccion], [IdArchivo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-07-29 16:41:35.953 -05:00 [DBG] The foreign key property 'RegistroArchivoPerfil.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-29 16:41:35.953 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:41:35.953 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 16:41:35.953 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:41:35.953 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 16:41:35.953 -05:00 [DBG] An entity of type 'RegistroArchivoPerfil' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:41:35.953 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 16:41:35.953 -05:00 [DBG] An entity of type 'Archivo' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:41:35.953 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-29 16:41:35.953 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-29 16:41:35.953 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-29 16:41:35.953 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:41:35.954 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:41:35.954 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 16:41:35.954 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 16:41:35.954 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 16:41:35.954 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Archivo] SET [FechaCarga] = @p0, [FechaEliminacion] = @p1, [Nombre] = @p2, [NumeroDescargas] = @p3, [RutaDocumento] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-29 16:41:35.954 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Archivo] SET [FechaCarga] = @p0, [FechaEliminacion] = @p1, [Nombre] = @p2, [NumeroDescargas] = @p3, [RutaDocumento] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-29 16:41:35.954 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:41:35.955 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 16:41:35.955 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:41:35.955 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 16:41:35.955 -05:00 [DBG] An entity of type 'Archivo' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:41:35.955 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-29 16:41:35.955 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.FileContentResult in 6.2104ms.
2024-07-29 16:41:35.955 -05:00 [INF] Executing FileContentResult, sending file with download name '' ...
2024-07-29 16:41:35.955 -05:00 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2024-07-29 16:41:35.983 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend) in 66.7738ms
2024-07-29 16:41:35.983 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.DescargarDocumento (biblioteca-backend)'
2024-07-29 16:41:35.983 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 16:41:35.983 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:41:35.984 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 16:41:35.984 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos?idArchivo=15&idPerfil=31 - 200 42854 application/octet-stream 68.9883ms
2024-07-29 16:41:36.034 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - null null
2024-07-29 16:41:36.034 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 16:41:36.034 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarDocumentos' is valid for the request path '/api/Archivos/ConsultarDocumentos'
2024-07-29 16:41:36.034 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 16:41:36.034 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 16:41:36.034 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 16:41:36.034 -05:00 [INF] CORS policy execution successful.
2024-07-29 16:41:36.035 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 16:41:36.035 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 16:41:36.035 -05:00 [INF] Route matched with {action = "ConsultarTodos", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarTodos() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 16:41:36.037 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 16:41:36.037 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 16:41:36.037 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 16:41:36.038 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 16:41:36.038 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 16:41:36.038 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 16:41:36.038 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 16:41:36.162 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) - Validation state: "Valid"
2024-07-29 16:41:36.163 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 16:41:36.163 -05:00 [DBG] Creating DbConnection.
2024-07-29 16:41:36.163 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 16:41:36.163 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:41:36.164 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:41:36.164 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 16:41:36.164 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 16:41:36.164 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 16:41:36.164 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 16:41:36.198 -05:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[FechaCarga], [a].[FechaEliminacion], [a].[Nombre], [a].[NumeroDescargas], [a].[RutaDocumento]
FROM [Archivo] AS [a]
WHERE [a].[FechaEliminacion] IS NULL
ORDER BY [a].[FechaCarga] DESC
2024-07-29 16:41:36.198 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:41:36.198 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:41:36.198 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:41:36.198 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:41:36.198 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Archivo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-29 16:41:36.198 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:41:36.198 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-29 16:41:36.198 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:41:36.199 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 16:41:36.199 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 36.4151ms.
2024-07-29 16:41:36.199 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 16:41:36.199 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 16:41:36.199 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 16:41:36.199 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 16:41:36.199 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 16:41:36.199 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Archivo, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 16:41:36.199 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend) in 161.511ms
2024-07-29 16:41:36.199 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarTodos (biblioteca-backend)'
2024-07-29 16:41:36.199 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 16:41:36.199 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:41:36.200 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 16:41:36.200 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarDocumentos - 200 null application/json; charset=utf-8 166.0061ms
2024-07-29 16:42:30.605 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - null null
2024-07-29 16:42:30.606 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 16:42:30.606 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)' with route pattern 'api/Archivos/ConsultarHistorial' is valid for the request path '/api/Archivos/ConsultarHistorial'
2024-07-29 16:42:30.606 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 16:42:30.606 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-29 16:42:30.606 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-29 16:42:30.606 -05:00 [INF] CORS policy execution successful.
2024-07-29 16:42:30.606 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-29 16:42:30.606 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 16:42:30.606 -05:00 [INF] Route matched with {action = "ConsultarHistorial", controller = "Archivos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarHistorial() on controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend).
2024-07-29 16:42:30.606 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-29 16:42:30.606 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-29 16:42:30.606 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-29 16:42:30.606 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-29 16:42:30.606 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-29 16:42:30.606 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 16:42:30.607 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.ArchivosController (biblioteca-backend)
2024-07-29 16:42:30.642 -05:00 [INF] Executing action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) - Validation state: "Valid"
2024-07-29 16:42:30.645 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-29 16:42:30.646 -05:00 [INF] Executed action method biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3.0859ms.
2024-07-29 16:42:30.646 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-29 16:42:30.646 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-29 16:42:30.646 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-29 16:42:30.646 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-29 16:42:30.646 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-29 16:42:30.646 -05:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[[<>f__AnonymousType3`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-29 16:42:30.647 -05:00 [DBG] Creating DbConnection.
2024-07-29 16:42:30.647 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-29 16:42:30.647 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:42:30.647 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:42:30.647 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-29 16:42:30.647 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-29 16:42:30.647 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-29 16:42:30.648 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 16:42:30.657 -05:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Nombre] AS [nombreArchivo], [a0].[Nombre] AS [accion], [p].[Nombre] + CAST(N' ' AS nvarchar(max)) + [p].[Apellido] AS [nombreUsuario], [r].[Fecha] AS [fechaAccion]
FROM [Archivo] AS [a]
INNER JOIN [RegistroArchivoPerfil] AS [r] ON [a].[Id] = [r].[IdArchivo]
INNER JOIN [Perfil] AS [p] ON [r].[IdPerfil] = [p].[Id]
INNER JOIN [Accion] AS [a0] ON [r].[IdAccion] = [a0].[Id]
ORDER BY [r].[Fecha] DESC
2024-07-29 16:42:30.659 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:42:30.659 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-29 16:42:30.659 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:42:30.660 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-29 16:42:30.660 -05:00 [INF] Executed action biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend) in 53.244ms
2024-07-29 16:42:30.660 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.ArchivosController.ConsultarHistorial (biblioteca-backend)'
2024-07-29 16:42:30.660 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-29 16:42:30.660 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-29 16:42:30.660 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-29 16:42:30.660 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Archivos/ConsultarHistorial - 200 null application/json; charset=utf-8 54.9215ms
