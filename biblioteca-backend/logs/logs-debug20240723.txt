2024-07-23 08:30:10.966 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-23 08:30:11.276 -05:00 [DBG] Hosting starting
2024-07-23 08:30:11.507 -05:00 [INF] User profile is available. Using 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-23 08:30:11.522 -05:00 [DBG] Reading data from file 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys\key-12ed5171-7863-4d3e-a216-6f5439158e60.xml'.
2024-07-23 08:30:11.550 -05:00 [DBG] Found key {12ed5171-7863-4d3e-a216-6f5439158e60}.
2024-07-23 08:30:11.567 -05:00 [DBG] Considering key {12ed5171-7863-4d3e-a216-6f5439158e60} with expiration date 2024-09-28 19:27:42Z as default key.
2024-07-23 08:30:11.575 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-23 08:30:11.579 -05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-23 08:30:11.581 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-23 08:30:11.587 -05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-23 08:30:11.589 -05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-23 08:30:11.591 -05:00 [DBG] Using key {12ed5171-7863-4d3e-a216-6f5439158e60} as the default key.
2024-07-23 08:30:11.593 -05:00 [DBG] Key ring with default key {12ed5171-7863-4d3e-a216-6f5439158e60} was loaded during application startup.
2024-07-23 08:30:12.511 -05:00 [DBG] Connection id "0HN5B3EA9C9TA" accepted.
2024-07-23 08:30:12.541 -05:00 [DBG] Connection id "0HN5B3EA9C9TA" started.
2024-07-23 08:30:12.558 -05:00 [DBG] Connection id "0HN5B3EA9C9TA" received FIN.
2024-07-23 08:30:12.588 -05:00 [INF] Now listening on: https://localhost:7299
2024-07-23 08:30:12.589 -05:00 [INF] Now listening on: http://localhost:5219
2024-07-23 08:30:12.589 -05:00 [DBG] Loaded hosting startup assembly biblioteca-backend
2024-07-23 08:30:12.589 -05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-23 08:30:12.589 -05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-23 08:30:12.591 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-23 08:30:12.591 -05:00 [INF] Hosting environment: Development
2024-07-23 08:30:12.591 -05:00 [INF] Content root path: C:\Users\spatino\Documents\Proyeco - Biblioteca\biblioteca-backend
2024-07-23 08:30:12.591 -05:00 [DBG] Hosting started
2024-07-23 08:30:12.656 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-23 08:30:12.716 -05:00 [DBG] Connection id "0HN5B3EA9C9TA" stopped.
2024-07-23 08:30:12.719 -05:00 [DBG] Connection id "0HN5B3EA9C9TA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-23 08:30:13.079 -05:00 [DBG] Connection id "0HN5B3EA9C9TB" accepted.
2024-07-23 08:30:13.080 -05:00 [DBG] Connection id "0HN5B3EA9C9TB" started.
2024-07-23 08:30:13.266 -05:00 [DBG] Connection 0HN5B3EA9C9TB established using the following protocol: "Tls12"
2024-07-23 08:30:13.410 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/index.html - null null
2024-07-23 08:30:13.814 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-23 08:30:13.836 -05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-23 08:30:13.837 -05:00 [DBG] Request did not match any endpoints
2024-07-23 08:30:13.966 -05:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-07-23 08:30:13.968 -05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-23 08:30:13.994 -05:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-07-23 08:30:13.995 -05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-23 08:30:13.999 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/index.html - 200 null text/html;charset=utf-8 596.6232ms
2024-07-23 08:30:14.026 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
2024-07-23 08:30:14.035 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 9.2923ms
2024-07-23 08:30:14.059 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
2024-07-23 08:30:14.151 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 92.4903ms
2024-07-23 08:30:14.305 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
2024-07-23 08:30:14.305 -05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-23 08:30:14.305 -05:00 [DBG] Request did not match any endpoints
2024-07-23 08:30:14.611 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 307.149ms
2024-07-23 08:31:55.331 -05:00 [DBG] Connection id "0HN5B3EA9C9TC" accepted.
2024-07-23 08:31:55.332 -05:00 [DBG] Connection id "0HN5B3EA9C9TC" started.
2024-07-23 08:31:55.353 -05:00 [DBG] Connection 0HN5B3EA9C9TC established using the following protocol: "Tls12"
2024-07-23 08:31:55.365 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - null null
2024-07-23 08:31:55.393 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 08:31:55.394 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 08:31:55.396 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 08:31:55.397 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 08:31:55.397 -05:00 [INF] CORS policy execution successful.
2024-07-23 08:31:55.398 -05:00 [DBG] The request is a preflight request.
2024-07-23 08:31:55.399 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - 204 null null 42.4922ms
2024-07-23 08:31:55.403 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Perfiles/ - application/json 60
2024-07-23 08:31:55.408 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 08:31:55.417 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 08:31:55.418 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 08:31:55.419 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 08:31:55.420 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 08:31:55.420 -05:00 [INF] CORS policy execution successful.
2024-07-23 08:31:55.551 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-23 08:31:55.553 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 08:31:55.577 -05:00 [INF] Route matched with {action = "Post", controller = "Perfiles"}. Executing controller action with signature System.Object Post(biblioteca_backend.Models.LogInModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 08:31:55.579 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 08:31:55.579 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 08:31:55.579 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 08:31:55.579 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 08:31:55.579 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 08:31:55.581 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 08:31:55.788 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-23 08:31:55.813 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 08:31:55.833 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.LogInModel' ...
2024-07-23 08:31:55.835 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.LogInModel' using the name '' in request data ...
2024-07-23 08:31:55.837 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-23 08:31:55.844 -05:00 [DBG] Connection id "0HN5B3EA9C9TC", Request id "0HN5B3EA9C9TC:00000003": started reading request body.
2024-07-23 08:31:55.844 -05:00 [DBG] Connection id "0HN5B3EA9C9TC", Request id "0HN5B3EA9C9TC:00000003": done reading request body.
2024-07-23 08:31:55.848 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.LogInModel'
2024-07-23 08:31:55.849 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.LogInModel'.
2024-07-23 08:31:55.849 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.LogInModel'.
2024-07-23 08:31:55.849 -05:00 [DBG] Attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.LogInModel' ...
2024-07-23 08:31:55.863 -05:00 [DBG] Done attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.LogInModel'.
2024-07-23 08:31:55.984 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) - Validation state: "Valid"
2024-07-23 08:31:56.016 -05:00 [DBG] Iniciando sesión...
2024-07-23 08:31:56.898 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 08:31:57.000 -05:00 [DBG] Compiling query expression: 
'DbSet<Perfil>()
    .FirstOrDefault(p => p.Correo == __8__locals1_logInModel_Correo_0 && p.Contrasena == __claveCifrada_1)'
2024-07-23 08:31:57.256 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Perfil>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Perfil.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Perfil.Apellido (string) Required, 1], [Property: Perfil.Contrasena (string) Required, 2], [Property: Perfil.Correo (string) Required, 3], [Property: Perfil.Direccion (string) Required, 4], [Property: Perfil.IdRol (int) Required FK Index, 5], [Property: Perfil.Nombre (string) Required, 6], [Property: Perfil.Telefono (string) Required, 7] }
        SELECT TOP(1) p.Id, p.Apellido, p.Contrasena, p.Correo, p.Direccion, p.IdRol, p.Nombre, p.Telefono
        FROM Perfil AS p
        WHERE (p.Correo == @__8__locals1_logInModel_Correo_0) && (p.Contrasena == @__claveCifrada_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Perfil>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-23 08:31:57.290 -05:00 [DBG] Creating DbConnection.
2024-07-23 08:31:57.317 -05:00 [DBG] Created DbConnection. (24ms).
2024-07-23 08:31:57.319 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:31:57.815 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:31:57.820 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 08:31:57.831 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-07-23 08:31:57.847 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (27ms).
2024-07-23 08:31:57.876 -05:00 [DBG] Executing DbCommand [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-23 08:31:57.943 -05:00 [INF] Executed DbCommand (86ms) [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-23 08:31:57.986 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:31:58.019 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:31:58.028 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 79ms reading results.
2024-07-23 08:31:58.030 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:31:58.035 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (5ms).
2024-07-23 08:31:58.036 -05:00 [DBG] Compiling query expression: 
'DbSet<Rol>()
    .FirstOrDefault(r => r.Id == ___perfil_IdRol_0)'
2024-07-23 08:31:58.040 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Rol>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Rol.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Rol.Nombre (string) Required, 1] }
        SELECT TOP(1) r.Id, r.Nombre
        FROM Rol AS r
        WHERE r.Id == @___perfil_IdRol_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Rol>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-23 08:31:58.041 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:31:58.042 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:31:58.042 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 08:31:58.042 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:31:58.042 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:31:58.044 -05:00 [DBG] Executing DbCommand [Parameters=[@___perfil_IdRol_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Nombre]
FROM [Rol] AS [r]
WHERE [r].[Id] = @___perfil_IdRol_0
2024-07-23 08:31:58.050 -05:00 [INF] Executed DbCommand (8ms) [Parameters=[@___perfil_IdRol_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Nombre]
FROM [Rol] AS [r]
WHERE [r].[Id] = @___perfil_IdRol_0
2024-07-23 08:31:58.066 -05:00 [DBG] The navigation 'Perfil.Rol' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:31:58.086 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Rol' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:31:58.090 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:31:58.090 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 39ms reading results.
2024-07-23 08:31:58.091 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:31:58.091 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 08:31:58.128 -05:00 [INF] Inicio de sesión exitoso
2024-07-23 08:31:58.133 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2145.5144ms.
2024-07-23 08:31:58.139 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 08:31:58.140 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 08:31:58.141 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 08:31:58.141 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 08:31:58.142 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 08:31:58.142 -05:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-23 08:31:58.153 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) in 2568.2183ms
2024-07-23 08:31:58.154 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 08:31:58.156 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 08:31:58.161 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:31:58.163 -05:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-07-23 08:31:58.164 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Perfiles/ - 200 null application/json; charset=utf-8 2761.1045ms
2024-07-23 08:31:58.200 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-23 08:31:58.200 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 08:31:58.201 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 08:31:58.201 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 08:31:58.201 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 08:31:58.201 -05:00 [INF] CORS policy execution successful.
2024-07-23 08:31:58.202 -05:00 [DBG] The request is a preflight request.
2024-07-23 08:31:58.202 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - 204 null null 1.5813ms
2024-07-23 08:31:58.208 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-23 08:31:58.208 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 08:31:58.209 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 08:31:58.210 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 08:31:58.210 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 08:31:58.212 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 08:31:58.212 -05:00 [INF] CORS policy execution successful.
2024-07-23 08:31:58.308 -05:00 [DBG] Successfully validated the token.
2024-07-23 08:31:58.313 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 08:31:58.324 -05:00 [DBG] Authorization was successful.
2024-07-23 08:31:58.326 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 08:31:58.334 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 08:31:58.334 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 08:31:58.335 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 08:31:58.335 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 08:31:58.335 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 08:31:58.335 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 08:31:58.336 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 08:31:58.337 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 08:31:58.347 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 08:31:58.348 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-23 08:31:58.350 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 08:31:58.351 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 08:31:58.351 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 08:31:58.351 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 08:31:58.404 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 08:31:58.413 -05:00 [DBG] Consultando libros...
2024-07-23 08:31:58.430 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 08:31:58.440 -05:00 [DBG] Compiling query expression: 
'DbSet<Libro>()
    .Join(
        inner: DbSet<Genero>(), 
        outerKeySelector: L => L.IdGenero, 
        innerKeySelector: G => G.Id, 
        resultSelector: (L, G) => new { 
            L = L, 
            G = G
         })
    .Where(<>h__TransparentIdentifier0 => True && <>h__TransparentIdentifier0.L.Activo == True || False)
    .Select(<>h__TransparentIdentifier0 => new { 
        id = <>h__TransparentIdentifier0.L.Id, 
        titulo = <>h__TransparentIdentifier0.L.Titulo, 
        autor = <>h__TransparentIdentifier0.L.Autor, 
        anio = <>h__TransparentIdentifier0.L.Anio, 
        idGenero = <>h__TransparentIdentifier0.L.IdGenero, 
        genero = <>h__TransparentIdentifier0.G.Nombre, 
        activo = <>h__TransparentIdentifier0.L.Activo
     })'
2024-07-23 08:31:58.491 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType1<int, string, string, int, int, string, bool>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            id -> 0
            titulo -> 1
            autor -> 2
            anio -> 3
            idGenero -> 4
            genero -> 5
            activo -> 6
        SELECT l.Id AS id, l.Titulo AS titulo, l.Autor AS autor, l.Anio AS anio, l.IdGenero AS idGenero, g.Nombre AS genero, l.Activo AS activo
        FROM Libro AS l
        INNER JOIN Genero AS g ON l.IdGenero == g.Id
        WHERE (CAST(1 AS bit) && (l.Activo == CAST(1 AS bit))) || CAST(0 AS bit)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType1<int, string, string, int, int, string, bool>>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-23 08:31:58.492 -05:00 [DBG] Creating DbConnection.
2024-07-23 08:31:58.493 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 08:31:58.493 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:31:58.493 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:31:58.493 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 08:31:58.493 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:31:58.493 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:31:58.495 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 08:31:58.501 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 08:31:58.504 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:31:58.504 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-07-23 08:31:58.505 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:31:58.505 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 08:31:58.508 -05:00 [INF] Consulta de libros exitosa
2024-07-23 08:31:58.508 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 103.7464ms.
2024-07-23 08:31:58.509 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 08:31:58.509 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 08:31:58.509 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 08:31:58.510 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 08:31:58.510 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 08:31:58.510 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 08:31:58.519 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 183.2501ms
2024-07-23 08:31:58.519 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 08:31:58.520 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 08:31:58.520 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:31:58.520 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 08:31:58.521 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 316.2555ms
2024-07-23 08:32:11.300 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=34 - null null
2024-07-23 08:32:11.303 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 08:32:11.304 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 08:32:11.304 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 08:32:11.305 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 08:32:11.306 -05:00 [INF] CORS policy execution successful.
2024-07-23 08:32:11.310 -05:00 [DBG] The request is a preflight request.
2024-07-23 08:32:11.313 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=34 - 204 null null 13.3813ms
2024-07-23 08:32:11.336 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Perfiles/?id=34 - null null
2024-07-23 08:32:11.336 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 08:32:11.337 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 08:32:11.337 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 08:32:11.337 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 08:32:11.337 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 08:32:11.337 -05:00 [INF] CORS policy execution successful.
2024-07-23 08:32:11.344 -05:00 [DBG] Successfully validated the token.
2024-07-23 08:32:11.345 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 08:32:11.349 -05:00 [DBG] Authorization was successful.
2024-07-23 08:32:11.352 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 08:32:11.358 -05:00 [INF] Route matched with {action = "Get", controller = "Perfiles"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 08:32:11.359 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 08:32:11.359 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 08:32:11.359 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 08:32:11.359 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 08:32:11.360 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 08:32:11.361 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 08:32:11.364 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 08:32:11.364 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-07-23 08:32:11.364 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-07-23 08:32:11.365 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 08:32:11.366 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 08:32:11.366 -05:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-07-23 08:32:11.366 -05:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-07-23 08:32:11.406 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 08:32:11.411 -05:00 [DBG] Consultando perfil con id 34
2024-07-23 08:32:11.496 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 08:32:11.497 -05:00 [DBG] Compiling query expression: 
'DbSet<Perfil>()
    .FirstOrDefault(p => p.Id == __id_0)'
2024-07-23 08:32:11.503 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Perfil>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Perfil.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Perfil.Apellido (string) Required, 1], [Property: Perfil.Contrasena (string) Required, 2], [Property: Perfil.Correo (string) Required, 3], [Property: Perfil.Direccion (string) Required, 4], [Property: Perfil.IdRol (int) Required FK Index, 5], [Property: Perfil.Nombre (string) Required, 6], [Property: Perfil.Telefono (string) Required, 7] }
        SELECT TOP(1) p.Id, p.Apellido, p.Contrasena, p.Correo, p.Direccion, p.IdRol, p.Nombre, p.Telefono
        FROM Perfil AS p
        WHERE p.Id == @__id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Perfil>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-23 08:32:11.503 -05:00 [DBG] Creating DbConnection.
2024-07-23 08:32:11.503 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 08:32:11.503 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:32:11.504 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:32:11.504 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 08:32:11.504 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:32:11.504 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:32:11.504 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 08:32:11.506 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 08:32:11.506 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:32:11.507 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:32:11.507 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 08:32:11.507 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:32:11.507 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 08:32:11.510 -05:00 [INF] Perfil encontrado con id: 34
2024-07-23 08:32:11.511 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 104.5989ms.
2024-07-23 08:32:11.511 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 08:32:11.511 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 08:32:11.511 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 08:32:11.512 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 08:32:11.512 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 08:32:11.512 -05:00 [INF] Executing OkObjectResult, writing value of type 'biblioteca_backend.Models.UpdateProfileModel'.
2024-07-23 08:32:11.513 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) in 152.6643ms
2024-07-23 08:32:11.514 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 08:32:11.514 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 08:32:11.514 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:32:11.514 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 08:32:11.514 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Perfiles/?id=34 - 200 null application/json; charset=utf-8 178.3015ms
2024-07-23 08:32:52.402 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-23 08:32:52.402 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 08:32:52.403 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 08:32:52.403 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 08:32:52.430 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 08:32:52.430 -05:00 [INF] CORS policy execution successful.
2024-07-23 08:32:52.430 -05:00 [DBG] The request is a preflight request.
2024-07-23 08:32:52.430 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - 204 null null 28.6218ms
2024-07-23 08:32:52.446 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-23 08:32:52.446 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 08:32:52.446 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 08:32:52.446 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 08:32:52.446 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 08:32:52.446 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 08:32:52.446 -05:00 [INF] CORS policy execution successful.
2024-07-23 08:32:52.447 -05:00 [DBG] Successfully validated the token.
2024-07-23 08:32:52.447 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 08:32:52.448 -05:00 [DBG] Authorization was successful.
2024-07-23 08:32:52.448 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 08:32:52.448 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 08:32:52.448 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 08:32:52.448 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 08:32:52.448 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 08:32:52.448 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 08:32:52.448 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 08:32:52.448 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 08:32:52.449 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 08:32:52.449 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 08:32:52.449 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-23 08:32:52.449 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 08:32:52.449 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 08:32:52.449 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 08:32:52.449 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 08:32:52.477 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 08:32:52.479 -05:00 [DBG] Consultando libros...
2024-07-23 08:32:52.480 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 08:32:52.483 -05:00 [DBG] Creating DbConnection.
2024-07-23 08:32:52.483 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 08:32:52.483 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:32:52.483 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:32:52.483 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 08:32:52.484 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:32:52.484 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:32:52.484 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 08:32:52.484 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 08:32:52.485 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:32:52.485 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 08:32:52.485 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:32:52.485 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 08:32:52.487 -05:00 [INF] Consulta de libros exitosa
2024-07-23 08:32:52.487 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 10.5452ms.
2024-07-23 08:32:52.487 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 08:32:52.487 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 08:32:52.488 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 08:32:52.488 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 08:32:52.488 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 08:32:52.488 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 08:32:52.488 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 39.5999ms
2024-07-23 08:32:52.488 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 08:32:52.488 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 08:32:52.488 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:32:52.488 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 08:32:52.489 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 43.2716ms
2024-07-23 08:32:59.960 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ - null null
2024-07-23 08:32:59.960 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 08:32:59.960 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 08:32:59.960 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 08:32:59.960 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 08:32:59.960 -05:00 [INF] CORS policy execution successful.
2024-07-23 08:32:59.961 -05:00 [DBG] The request is a preflight request.
2024-07-23 08:32:59.961 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ - 204 null null 0.9649ms
2024-07-23 08:32:59.964 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Prestmaos/ - application/json 262
2024-07-23 08:32:59.965 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 08:32:59.965 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-07-23 08:32:59.965 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)'
2024-07-23 08:32:59.965 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 08:32:59.965 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 08:32:59.965 -05:00 [INF] CORS policy execution successful.
2024-07-23 08:32:59.965 -05:00 [DBG] Successfully validated the token.
2024-07-23 08:32:59.965 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 08:32:59.966 -05:00 [DBG] Authorization was successful.
2024-07-23 08:32:59.966 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)'
2024-07-23 08:32:59.974 -05:00 [INF] Route matched with {action = "Post", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(biblioteca_backend.Models.PrestamoModel) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 08:32:59.974 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 08:32:59.974 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 08:32:59.974 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 08:32:59.974 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 08:32:59.974 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 08:32:59.974 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 08:32:59.976 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 08:32:59.976 -05:00 [DBG] Attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.PrestamoModel' ...
2024-07-23 08:32:59.977 -05:00 [DBG] Attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.PrestamoModel' using the name '' in request data ...
2024-07-23 08:32:59.977 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-23 08:32:59.984 -05:00 [DBG] Connection id "0HN5B3EA9C9TC", Request id "0HN5B3EA9C9TC:00000013": started reading request body.
2024-07-23 08:32:59.985 -05:00 [DBG] Connection id "0HN5B3EA9C9TC", Request id "0HN5B3EA9C9TC:00000013": done reading request body.
2024-07-23 08:32:59.997 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.PrestamoModel'
2024-07-23 08:32:59.997 -05:00 [DBG] Done attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.PrestamoModel'.
2024-07-23 08:32:59.998 -05:00 [DBG] Done attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.PrestamoModel'.
2024-07-23 08:32:59.998 -05:00 [DBG] Attempting to validate the bound parameter 'prestamoModel' of type 'biblioteca_backend.Models.PrestamoModel' ...
2024-07-23 08:33:00.006 -05:00 [DBG] Done attempting to validate the bound parameter 'prestamoModel' of type 'biblioteca_backend.Models.PrestamoModel'.
2024-07-23 08:33:00.050 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend) - Validation state: "Valid"
2024-07-23 08:33:00.056 -05:00 [DBG] Guardando préstamo...
2024-07-23 08:33:00.063 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-23 08:33:00.065 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 08:33:00.068 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 08:33:00.072 -05:00 [DBG] Compiling query expression: 
'DbSet<Perfil>()
    .Join(
        inner: DbSet<Prestamo>(), 
        outerKeySelector: P => P.Id, 
        innerKeySelector: PR => PR.IdPerfil, 
        resultSelector: (P, PR) => new { 
            P = P, 
            PR = PR
         })
    .Join(
        inner: DbSet<DetallePrestamoLibro>(), 
        outerKeySelector: <>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.PR.Id, 
        innerKeySelector: DP => DP.IdPrestamo, 
        resultSelector: (<>h__TransparentIdentifier0, DP) => new { 
            <>h__TransparentIdentifier0 = <>h__TransparentIdentifier0, 
            DP = DP
         })
    .Join(
        inner: DbSet<Libro>(), 
        outerKeySelector: <>h__TransparentIdentifier1 => <>h__TransparentIdentifier1.DP.IdLibro, 
        innerKeySelector: L => L.Id, 
        resultSelector: (<>h__TransparentIdentifier1, L) => new { 
            <>h__TransparentIdentifier1 = <>h__TransparentIdentifier1, 
            L = L
         })
    .Where(<>h__TransparentIdentifier2 => <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.P.Id == __idPerfil_0)
    .Select(<>h__TransparentIdentifier2 => new Libro{ 
        Id = <>h__TransparentIdentifier2.L.Id, 
        Titulo = <>h__TransparentIdentifier2.L.Titulo, 
        Autor = <>h__TransparentIdentifier2.L.Autor, 
        IdGenero = <>h__TransparentIdentifier2.L.IdGenero, 
        Anio = <>h__TransparentIdentifier2.L.Anio, 
        Activo = <>h__TransparentIdentifier2.L.Activo 
    }
    )'
2024-07-23 08:33:00.083 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Libro>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            Id -> 0
            Titulo -> 1
            Autor -> 2
            IdGenero -> 3
            Anio -> 4
            Activo -> 5
        SELECT l.Id, l.Titulo, l.Autor, l.IdGenero, l.Anio, l.Activo
        FROM Perfil AS p
        INNER JOIN Prestamo AS p0 ON p.Id == p0.IdPerfil
        INNER JOIN DetallePrestamoLibro AS d ON p0.Id == d.IdPrestamo
        INNER JOIN Libro AS l ON d.IdLibro == l.Id
        WHERE p.Id == @__idPerfil_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Libro>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-23 08:33:00.083 -05:00 [DBG] Creating DbConnection.
2024-07-23 08:33:00.083 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 08:33:00.084 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:00.084 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:00.084 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 08:33:00.084 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:00.084 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:00.084 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 08:33:00.091 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 08:33:00.091 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:00.091 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 08:33:00.091 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:00.091 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 08:33:00.100 -05:00 [WRN] Aún hay préstamos activos del perfil con id 34
2024-07-23 08:33:00.227 -05:00 [ERR] Error al hacer el préstamo: Aún tiene préstamos activos
2024-07-23 08:33:00.368 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 317.5476ms.
2024-07-23 08:33:00.368 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 08:33:00.368 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 08:33:00.368 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 08:33:00.369 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 08:33:00.369 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-07-23 08:33:00.369 -05:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-07-23 08:33:00.369 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend) in 394.3815ms
2024-07-23 08:33:00.369 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)'
2024-07-23 08:33:00.369 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 08:33:00.369 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:00.369 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 08:33:00.369 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Prestmaos/ - 400 null text/plain; charset=utf-8 405.0566ms
2024-07-23 08:33:03.598 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=34 - null null
2024-07-23 08:33:03.598 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 08:33:03.598 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 08:33:03.598 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 08:33:03.598 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 08:33:03.599 -05:00 [INF] CORS policy execution successful.
2024-07-23 08:33:03.599 -05:00 [DBG] The request is a preflight request.
2024-07-23 08:33:03.599 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=34 - 204 null null 0.8891ms
2024-07-23 08:33:03.606 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=34 - null null
2024-07-23 08:33:03.607 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 08:33:03.607 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-07-23 08:33:03.607 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 08:33:03.608 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 08:33:03.608 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 08:33:03.608 -05:00 [INF] CORS policy execution successful.
2024-07-23 08:33:03.609 -05:00 [DBG] Successfully validated the token.
2024-07-23 08:33:03.609 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 08:33:03.610 -05:00 [DBG] Authorization was successful.
2024-07-23 08:33:03.610 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 08:33:03.612 -05:00 [INF] Route matched with {action = "Get", controller = "Prestmaos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 08:33:03.612 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 08:33:03.612 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 08:33:03.612 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 08:33:03.612 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 08:33:03.612 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 08:33:03.612 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 08:33:03.613 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 08:33:03.613 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-23 08:33:03.613 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-23 08:33:03.613 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 08:33:03.613 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 08:33:03.613 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-23 08:33:03.613 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 08:33:03.642 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 08:33:03.646 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-23 08:33:03.647 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 08:33:03.649 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 08:33:03.650 -05:00 [DBG] Creating DbConnection.
2024-07-23 08:33:03.650 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 08:33:03.650 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:03.650 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:03.650 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 08:33:03.651 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:03.651 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:03.651 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 08:33:03.651 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 08:33:03.651 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:03.652 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 08:33:03.652 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:03.652 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 08:33:03.652 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 9.0836ms.
2024-07-23 08:33:03.652 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 08:33:03.652 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 08:33:03.652 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 08:33:03.652 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 08:33:03.652 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 08:33:03.652 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.Collections.Generic.List`1[[biblioteca_backend.Models.Libro, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-23 08:33:03.654 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) in 42.0558ms
2024-07-23 08:33:03.654 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 08:33:03.655 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 08:33:03.655 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:03.655 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 08:33:03.655 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=34 - 200 null application/json; charset=utf-8 49.1999ms
2024-07-23 08:33:05.979 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=34 - null null
2024-07-23 08:33:05.979 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 08:33:05.979 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 08:33:05.979 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 08:33:05.979 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 08:33:05.979 -05:00 [INF] CORS policy execution successful.
2024-07-23 08:33:05.979 -05:00 [DBG] The request is a preflight request.
2024-07-23 08:33:05.980 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=34 - 204 null null 1.1148ms
2024-07-23 08:33:05.982 -05:00 [INF] Request starting HTTP/2 DELETE https://localhost:7299/api/Prestmaos/?idPerfil=34 - null null
2024-07-23 08:33:05.983 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 08:33:05.983 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-07-23 08:33:05.983 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend)'
2024-07-23 08:33:05.983 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 08:33:05.983 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 08:33:05.983 -05:00 [INF] CORS policy execution successful.
2024-07-23 08:33:05.983 -05:00 [DBG] Successfully validated the token.
2024-07-23 08:33:05.983 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 08:33:05.983 -05:00 [DBG] Authorization was successful.
2024-07-23 08:33:05.984 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend)'
2024-07-23 08:33:05.988 -05:00 [INF] Route matched with {action = "EliminarPrestamo", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EliminarPrestamo(Int32) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 08:33:05.988 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 08:33:05.988 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 08:33:05.988 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 08:33:05.988 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 08:33:05.988 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 08:33:05.988 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 08:33:05.988 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 08:33:05.989 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-23 08:33:05.989 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-23 08:33:05.989 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 08:33:05.989 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 08:33:05.989 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-23 08:33:05.989 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 08:33:06.027 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend) - Validation state: "Valid"
2024-07-23 08:33:06.032 -05:00 [DBG] Eliminando préstamo del perfil con id 34
2024-07-23 08:33:06.035 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-23 08:33:06.036 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 08:33:06.039 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 08:33:06.039 -05:00 [DBG] Creating DbConnection.
2024-07-23 08:33:06.039 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 08:33:06.039 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:06.040 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:06.040 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 08:33:06.040 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:06.040 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:06.040 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 08:33:06.040 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 08:33:06.041 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:06.041 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 08:33:06.042 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:06.042 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 08:33:06.045 -05:00 [DBG] Compiling query expression: 
'DbSet<Prestamo>()
    .FirstOrDefault(p => p.IdPerfil == __idPerfil_0)'
2024-07-23 08:33:06.051 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Prestamo>(
    asyncEnumerable: new SingleQueryingEnumerable<Prestamo>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Prestamo.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Prestamo.FechaPrestamo (DateTime) Required, 1], [Property: Prestamo.IdPerfil (int) Required FK Index, 2] }
            SELECT TOP(1) p.Id, p.FechaPrestamo, p.IdPerfil
            FROM Prestamo AS p
            WHERE p.IdPerfil == @__idPerfil_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Prestamo>, 
        biblioteca_backend.DBBibliotecaContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-07-23 08:33:06.064 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:06.066 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:06.066 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 08:33:06.066 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:06.066 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:06.066 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
WHERE [p].[IdPerfil] = @__idPerfil_0
2024-07-23 08:33:06.100 -05:00 [INF] Executed DbCommand (33ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
WHERE [p].[IdPerfil] = @__idPerfil_0
2024-07-23 08:33:06.112 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:06.127 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:06.127 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 26ms reading results.
2024-07-23 08:33:06.128 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:06.129 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 08:33:06.132 -05:00 [DBG] Compiling query expression: 
'DbSet<DetallePrestamoLibro>()
    .Where(d => d.IdPrestamo == __prestamo_Id_0)'
2024-07-23 08:33:06.135 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<DetallePrestamoLibro>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: DetallePrestamoLibro.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: DetallePrestamoLibro.IdLibro (int) Required FK Index, 1], [Property: DetallePrestamoLibro.IdPrestamo (int) Required FK Index, 2] }
        SELECT d.Id, d.IdLibro, d.IdPrestamo
        FROM DetallePrestamoLibro AS d
        WHERE d.IdPrestamo == @__prestamo_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, DetallePrestamoLibro>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-23 08:33:06.135 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:06.136 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:06.136 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 08:33:06.136 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:06.136 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:06.136 -05:00 [DBG] Executing DbCommand [Parameters=[@__prestamo_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[IdLibro], [d].[IdPrestamo]
FROM [DetallePrestamoLibro] AS [d]
WHERE [d].[IdPrestamo] = @__prestamo_Id_0
2024-07-23 08:33:06.151 -05:00 [INF] Executed DbCommand (15ms) [Parameters=[@__prestamo_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[IdLibro], [d].[IdPrestamo]
FROM [DetallePrestamoLibro] AS [d]
WHERE [d].[IdPrestamo] = @__prestamo_Id_0
2024-07-23 08:33:06.159 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'DetallePrestamoLibro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:06.160 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'DetallePrestamoLibro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:06.160 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:06.161 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 9ms reading results.
2024-07-23 08:33:06.161 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:06.161 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 08:33:06.170 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:06.172 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:06.174 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-23 08:33:06.177 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-23 08:33:06.193 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-23 08:33:06.286 -05:00 [DBG] Executing 2 update commands as a batch.
2024-07-23 08:33:06.289 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:06.289 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:06.291 -05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-07-23 08:33:06.300 -05:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-07-23 08:33:06.303 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 08:33:06.303 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:06.304 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-07-23 08:33:06.305 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p1;
2024-07-23 08:33:06.310 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p1;
2024-07-23 08:33:06.318 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:06.319 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 7ms reading results.
2024-07-23 08:33:06.322 -05:00 [DBG] Committing transaction.
2024-07-23 08:33:06.326 -05:00 [DBG] Committed transaction.
2024-07-23 08:33:06.328 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:06.328 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 08:33:06.330 -05:00 [DBG] Disposing transaction.
2024-07-23 08:33:06.336 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:06.336 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:06.338 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 2 entities written to the database.
2024-07-23 08:33:06.339 -05:00 [DBG] An entity of type 'Prestamo' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:06.340 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-23 08:33:06.340 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-23 08:33:06.340 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-23 08:33:06.343 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:06.343 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:06.343 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 08:33:06.343 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:06.343 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:06.343 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Prestamo]
OUTPUT 1
WHERE [Id] = @p0;
2024-07-23 08:33:06.347 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Prestamo]
OUTPUT 1
WHERE [Id] = @p0;
2024-07-23 08:33:06.347 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:06.347 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 08:33:06.347 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:06.347 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 08:33:06.348 -05:00 [DBG] An entity of type 'Prestamo' tracked by 'DBBibliotecaContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:06.348 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-23 08:33:06.371 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:06.372 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-23 08:33:06.372 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-23 08:33:06.373 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-23 08:33:06.387 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:06.387 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:06.388 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 08:33:06.388 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:06.389 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:06.389 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-23 08:33:06.393 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-23 08:33:06.396 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:06.396 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-07-23 08:33:06.396 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:06.396 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 08:33:06.397 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:06.397 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-23 08:33:06.398 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:06.398 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-23 08:33:06.398 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-23 08:33:06.399 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-23 08:33:06.400 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:06.400 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:06.400 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 08:33:06.400 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:06.400 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:06.400 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-23 08:33:06.402 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-23 08:33:06.402 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:06.402 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 08:33:06.402 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:06.402 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 08:33:06.403 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:06.403 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-23 08:33:06.406 -05:00 [INF] Se eliminó el préstamo del perfil con id 34
2024-07-23 08:33:06.409 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 381.4984ms.
2024-07-23 08:33:06.410 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 08:33:06.410 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 08:33:06.410 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 08:33:06.410 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 08:33:06.410 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 08:33:06.410 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-23 08:33:06.412 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend) in 424.3055ms
2024-07-23 08:33:06.413 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend)'
2024-07-23 08:33:06.414 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 08:33:06.415 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:06.415 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 08:33:06.415 -05:00 [INF] Request finished HTTP/2 DELETE https://localhost:7299/api/Prestmaos/?idPerfil=34 - 200 null application/json; charset=utf-8 433.0365ms
2024-07-23 08:33:06.419 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=34 - null null
2024-07-23 08:33:06.419 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 08:33:06.419 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-07-23 08:33:06.419 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 08:33:06.420 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 08:33:06.420 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 08:33:06.420 -05:00 [INF] CORS policy execution successful.
2024-07-23 08:33:06.420 -05:00 [DBG] Successfully validated the token.
2024-07-23 08:33:06.420 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 08:33:06.420 -05:00 [DBG] Authorization was successful.
2024-07-23 08:33:06.420 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 08:33:06.420 -05:00 [INF] Route matched with {action = "Get", controller = "Prestmaos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 08:33:06.420 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 08:33:06.420 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 08:33:06.420 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 08:33:06.420 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 08:33:06.420 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 08:33:06.420 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 08:33:06.421 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 08:33:06.421 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-23 08:33:06.421 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-23 08:33:06.421 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 08:33:06.421 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 08:33:06.421 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-23 08:33:06.421 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 08:33:06.455 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 08:33:06.458 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-23 08:33:06.459 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 08:33:06.463 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 08:33:06.464 -05:00 [DBG] Creating DbConnection.
2024-07-23 08:33:06.464 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 08:33:06.464 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:06.465 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:06.465 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 08:33:06.465 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:06.465 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:06.465 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 08:33:06.466 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 08:33:06.467 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:06.467 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 08:33:06.467 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:06.467 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 08:33:06.467 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 12.4256ms.
2024-07-23 08:33:06.467 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 08:33:06.467 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 08:33:06.467 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 08:33:06.467 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 08:33:06.467 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 08:33:06.467 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.Collections.Generic.List`1[[biblioteca_backend.Models.Libro, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-23 08:33:06.468 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) in 47.319ms
2024-07-23 08:33:06.468 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 08:33:06.468 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 08:33:06.468 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:06.468 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 08:33:06.468 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=34 - 200 null application/json; charset=utf-8 49.4412ms
2024-07-23 08:33:08.717 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-23 08:33:08.718 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 08:33:08.718 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 08:33:08.718 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 08:33:08.718 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 08:33:08.718 -05:00 [INF] CORS policy execution successful.
2024-07-23 08:33:08.718 -05:00 [DBG] The request is a preflight request.
2024-07-23 08:33:08.718 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - 204 null null 1.2273ms
2024-07-23 08:33:08.729 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-23 08:33:08.729 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 08:33:08.729 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 08:33:08.729 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 08:33:08.729 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 08:33:08.729 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 08:33:08.729 -05:00 [INF] CORS policy execution successful.
2024-07-23 08:33:08.730 -05:00 [DBG] Successfully validated the token.
2024-07-23 08:33:08.730 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 08:33:08.730 -05:00 [DBG] Authorization was successful.
2024-07-23 08:33:08.730 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 08:33:08.730 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 08:33:08.730 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 08:33:08.730 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 08:33:08.731 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 08:33:08.731 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 08:33:08.731 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 08:33:08.731 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 08:33:08.731 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 08:33:08.732 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 08:33:08.732 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-23 08:33:08.732 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 08:33:08.732 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 08:33:08.732 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 08:33:08.732 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 08:33:08.765 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 08:33:08.767 -05:00 [DBG] Consultando libros...
2024-07-23 08:33:08.770 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 08:33:08.770 -05:00 [DBG] Creating DbConnection.
2024-07-23 08:33:08.770 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 08:33:08.770 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:08.770 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:08.770 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 08:33:08.770 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:08.770 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:08.771 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 08:33:08.771 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 08:33:08.771 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:08.772 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 08:33:08.772 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:08.772 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 08:33:08.777 -05:00 [INF] Consulta de libros exitosa
2024-07-23 08:33:08.777 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 11.8107ms.
2024-07-23 08:33:08.777 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 08:33:08.777 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 08:33:08.777 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 08:33:08.777 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 08:33:08.777 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 08:33:08.777 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 08:33:08.778 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 46.7152ms
2024-07-23 08:33:08.778 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 08:33:08.778 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 08:33:08.778 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:08.778 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 08:33:08.778 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 49.0013ms
2024-07-23 08:33:11.460 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ - null null
2024-07-23 08:33:11.460 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 08:33:11.460 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 08:33:11.460 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 08:33:11.461 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 08:33:11.461 -05:00 [INF] CORS policy execution successful.
2024-07-23 08:33:11.461 -05:00 [DBG] The request is a preflight request.
2024-07-23 08:33:11.461 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ - 204 null null 1.0501ms
2024-07-23 08:33:11.463 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Prestmaos/ - application/json 286
2024-07-23 08:33:11.463 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 08:33:11.463 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-07-23 08:33:11.463 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)'
2024-07-23 08:33:11.463 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 08:33:11.463 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 08:33:11.463 -05:00 [INF] CORS policy execution successful.
2024-07-23 08:33:11.464 -05:00 [DBG] Successfully validated the token.
2024-07-23 08:33:11.464 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 08:33:11.464 -05:00 [DBG] Authorization was successful.
2024-07-23 08:33:11.464 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)'
2024-07-23 08:33:11.464 -05:00 [INF] Route matched with {action = "Post", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(biblioteca_backend.Models.PrestamoModel) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 08:33:11.464 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 08:33:11.464 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 08:33:11.464 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 08:33:11.464 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 08:33:11.464 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 08:33:11.464 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 08:33:11.464 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 08:33:11.464 -05:00 [DBG] Attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.PrestamoModel' ...
2024-07-23 08:33:11.465 -05:00 [DBG] Attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.PrestamoModel' using the name '' in request data ...
2024-07-23 08:33:11.465 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-23 08:33:11.465 -05:00 [DBG] Connection id "0HN5B3EA9C9TC", Request id "0HN5B3EA9C9TC:00000025": started reading request body.
2024-07-23 08:33:11.465 -05:00 [DBG] Connection id "0HN5B3EA9C9TC", Request id "0HN5B3EA9C9TC:00000025": done reading request body.
2024-07-23 08:33:11.465 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.PrestamoModel'
2024-07-23 08:33:11.465 -05:00 [DBG] Done attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.PrestamoModel'.
2024-07-23 08:33:11.465 -05:00 [DBG] Done attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.PrestamoModel'.
2024-07-23 08:33:11.465 -05:00 [DBG] Attempting to validate the bound parameter 'prestamoModel' of type 'biblioteca_backend.Models.PrestamoModel' ...
2024-07-23 08:33:11.465 -05:00 [DBG] Done attempting to validate the bound parameter 'prestamoModel' of type 'biblioteca_backend.Models.PrestamoModel'.
2024-07-23 08:33:11.489 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend) - Validation state: "Valid"
2024-07-23 08:33:11.493 -05:00 [DBG] Guardando préstamo...
2024-07-23 08:33:11.496 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-23 08:33:11.497 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 08:33:11.500 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 08:33:11.500 -05:00 [DBG] Creating DbConnection.
2024-07-23 08:33:11.501 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 08:33:11.501 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:11.501 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:11.501 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 08:33:11.501 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:11.501 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:11.501 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 08:33:11.502 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 08:33:11.502 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:11.502 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 08:33:11.502 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:11.502 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 08:33:11.522 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'Prestamo.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:11.526 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:11.527 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-23 08:33:11.527 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-23 08:33:11.527 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-23 08:33:11.532 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:11.532 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:11.532 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 08:33:11.532 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:11.533 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:11.533 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Prestamo] ([FechaPrestamo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-07-23 08:33:11.539 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Prestamo] ([FechaPrestamo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-07-23 08:33:11.548 -05:00 [DBG] The foreign key property 'Prestamo.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-23 08:33:11.551 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:11.552 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 12ms reading results.
2024-07-23 08:33:11.552 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:11.552 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 08:33:11.554 -05:00 [DBG] An entity of type 'Prestamo' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:11.554 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-23 08:33:11.555 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'DetallePrestamoLibro.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:11.556 -05:00 [DBG] The navigation 'DetallePrestamoLibro.Prestamo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:11.557 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'DetallePrestamoLibro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:11.558 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-23 08:33:11.558 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-23 08:33:11.558 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-23 08:33:11.559 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:11.559 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:11.559 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 08:33:11.559 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:11.559 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:11.559 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePrestamoLibro] ([IdLibro], [IdPrestamo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-07-23 08:33:11.563 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePrestamoLibro] ([IdLibro], [IdPrestamo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-07-23 08:33:11.563 -05:00 [DBG] The foreign key property 'DetallePrestamoLibro.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-23 08:33:11.564 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:11.564 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-23 08:33:11.565 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:11.565 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 08:33:11.565 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:11.565 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-23 08:33:11.566 -05:00 [DBG] The navigation 'DetallePrestamoLibro.Libro' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:11.567 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:11.568 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-23 08:33:11.568 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-23 08:33:11.568 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-23 08:33:11.568 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:11.568 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:11.568 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 08:33:11.568 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:11.568 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:11.568 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-23 08:33:11.570 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-23 08:33:11.570 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:11.570 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 08:33:11.570 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:11.570 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 08:33:11.570 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:11.570 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-23 08:33:11.571 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'DetallePrestamoLibro.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:11.571 -05:00 [DBG] The navigation 'DetallePrestamoLibro.Prestamo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:11.571 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'DetallePrestamoLibro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:11.571 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-23 08:33:11.571 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-23 08:33:11.571 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-23 08:33:11.572 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:11.572 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:11.572 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 08:33:11.572 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:11.572 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:11.572 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePrestamoLibro] ([IdLibro], [IdPrestamo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-07-23 08:33:11.574 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePrestamoLibro] ([IdLibro], [IdPrestamo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-07-23 08:33:11.574 -05:00 [DBG] The foreign key property 'DetallePrestamoLibro.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-23 08:33:11.576 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:11.576 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-07-23 08:33:11.576 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:11.576 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 08:33:11.576 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:11.576 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-23 08:33:11.577 -05:00 [DBG] The navigation 'DetallePrestamoLibro.Libro' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:11.577 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:11.577 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-23 08:33:11.577 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-23 08:33:11.577 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-23 08:33:11.577 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:11.577 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:11.578 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 08:33:11.578 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:11.578 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:11.578 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-23 08:33:11.579 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-23 08:33:11.579 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:11.579 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 08:33:11.579 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:11.579 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 08:33:11.579 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:11.579 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-23 08:33:11.582 -05:00 [INF] Préstamo realizado exitosamente
2024-07-23 08:33:11.582 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 93.1936ms.
2024-07-23 08:33:11.583 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 08:33:11.583 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 08:33:11.583 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 08:33:11.583 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 08:33:11.583 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 08:33:11.583 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-23 08:33:11.583 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend) in 118.8839ms
2024-07-23 08:33:11.583 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)'
2024-07-23 08:33:11.583 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 08:33:11.583 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:11.584 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 08:33:11.584 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Prestmaos/ - 200 null application/json; charset=utf-8 120.7103ms
2024-07-23 08:33:11.588 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-23 08:33:11.588 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 08:33:11.588 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 08:33:11.588 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 08:33:11.588 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 08:33:11.588 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 08:33:11.589 -05:00 [INF] CORS policy execution successful.
2024-07-23 08:33:11.589 -05:00 [DBG] Successfully validated the token.
2024-07-23 08:33:11.589 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 08:33:11.589 -05:00 [DBG] Authorization was successful.
2024-07-23 08:33:11.589 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 08:33:11.589 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 08:33:11.589 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 08:33:11.589 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 08:33:11.589 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 08:33:11.589 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 08:33:11.589 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 08:33:11.589 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 08:33:11.589 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 08:33:11.590 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 08:33:11.590 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-23 08:33:11.590 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 08:33:11.590 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 08:33:11.590 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 08:33:11.590 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 08:33:11.622 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 08:33:11.629 -05:00 [DBG] Consultando libros...
2024-07-23 08:33:11.630 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 08:33:11.631 -05:00 [DBG] Creating DbConnection.
2024-07-23 08:33:11.631 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 08:33:11.631 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:11.631 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:11.632 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 08:33:11.632 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:11.632 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:11.632 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 08:33:11.633 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 08:33:11.633 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:11.633 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 08:33:11.634 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:11.634 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 08:33:11.638 -05:00 [INF] Consulta de libros exitosa
2024-07-23 08:33:11.638 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.1829ms.
2024-07-23 08:33:11.638 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 08:33:11.638 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 08:33:11.638 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 08:33:11.638 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 08:33:11.639 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 08:33:11.639 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 08:33:11.639 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 49.7806ms
2024-07-23 08:33:11.639 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 08:33:11.639 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 08:33:11.639 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:11.640 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 08:33:11.640 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 51.9623ms
2024-07-23 08:33:19.774 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=34 - null null
2024-07-23 08:33:19.774 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 08:33:19.774 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 08:33:19.774 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 08:33:19.774 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 08:33:19.774 -05:00 [INF] CORS policy execution successful.
2024-07-23 08:33:19.774 -05:00 [DBG] The request is a preflight request.
2024-07-23 08:33:19.775 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=34 - 204 null null 1.5352ms
2024-07-23 08:33:19.779 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=34 - null null
2024-07-23 08:33:19.780 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 08:33:19.780 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-07-23 08:33:19.781 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 08:33:19.781 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 08:33:19.781 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 08:33:19.781 -05:00 [INF] CORS policy execution successful.
2024-07-23 08:33:19.782 -05:00 [DBG] Successfully validated the token.
2024-07-23 08:33:19.782 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 08:33:19.782 -05:00 [DBG] Authorization was successful.
2024-07-23 08:33:19.782 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 08:33:19.782 -05:00 [INF] Route matched with {action = "Get", controller = "Prestmaos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 08:33:19.782 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 08:33:19.782 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 08:33:19.782 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 08:33:19.782 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 08:33:19.782 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 08:33:19.782 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 08:33:19.782 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 08:33:19.783 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-23 08:33:19.783 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-23 08:33:19.783 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 08:33:19.783 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 08:33:19.783 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-23 08:33:19.783 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 08:33:19.818 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 08:33:19.820 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-23 08:33:19.821 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 08:33:19.826 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 08:33:19.826 -05:00 [DBG] Creating DbConnection.
2024-07-23 08:33:19.826 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 08:33:19.826 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:19.827 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:19.827 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 08:33:19.827 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:19.827 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:19.827 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 08:33:19.827 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 08:33:19.828 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:19.828 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 08:33:19.828 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:19.828 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 08:33:19.828 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 10.1424ms.
2024-07-23 08:33:19.828 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 08:33:19.828 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 08:33:19.828 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 08:33:19.828 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 08:33:19.828 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 08:33:19.828 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.Collections.Generic.List`1[[biblioteca_backend.Models.Libro, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-23 08:33:19.828 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) in 46.0442ms
2024-07-23 08:33:19.828 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 08:33:19.828 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 08:33:19.829 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:19.829 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 08:33:19.829 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=34 - 200 null application/json; charset=utf-8 49.9406ms
2024-07-23 08:33:36.588 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=34 - null null
2024-07-23 08:33:36.588 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 08:33:36.588 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 08:33:36.588 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 08:33:36.588 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 08:33:36.588 -05:00 [INF] CORS policy execution successful.
2024-07-23 08:33:36.588 -05:00 [DBG] The request is a preflight request.
2024-07-23 08:33:36.589 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=34 - 204 null null 1.9505ms
2024-07-23 08:33:36.593 -05:00 [INF] Request starting HTTP/2 DELETE https://localhost:7299/api/Prestmaos/?idPerfil=34 - null null
2024-07-23 08:33:36.593 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 08:33:36.593 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-07-23 08:33:36.593 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend)'
2024-07-23 08:33:36.593 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 08:33:36.593 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 08:33:36.594 -05:00 [INF] CORS policy execution successful.
2024-07-23 08:33:36.594 -05:00 [DBG] Successfully validated the token.
2024-07-23 08:33:36.594 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 08:33:36.594 -05:00 [DBG] Authorization was successful.
2024-07-23 08:33:36.594 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend)'
2024-07-23 08:33:36.595 -05:00 [INF] Route matched with {action = "EliminarPrestamo", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EliminarPrestamo(Int32) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 08:33:36.595 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 08:33:36.596 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 08:33:36.596 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 08:33:36.596 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 08:33:36.596 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 08:33:36.596 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 08:33:36.597 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 08:33:36.597 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-23 08:33:36.597 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-23 08:33:36.597 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 08:33:36.597 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 08:33:36.597 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-23 08:33:36.597 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 08:33:36.627 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend) - Validation state: "Valid"
2024-07-23 08:33:36.629 -05:00 [DBG] Eliminando préstamo del perfil con id 34
2024-07-23 08:33:36.632 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-23 08:33:36.633 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 08:33:36.636 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 08:33:36.636 -05:00 [DBG] Creating DbConnection.
2024-07-23 08:33:36.637 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 08:33:36.637 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:36.637 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:36.637 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 08:33:36.637 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:36.637 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:36.637 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 08:33:36.638 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 08:33:36.639 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:36.639 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 08:33:36.639 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:36.639 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 08:33:36.641 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:36.641 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:36.642 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 08:33:36.642 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:36.642 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:36.642 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
WHERE [p].[IdPerfil] = @__idPerfil_0
2024-07-23 08:33:36.644 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
WHERE [p].[IdPerfil] = @__idPerfil_0
2024-07-23 08:33:36.645 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:36.645 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:36.645 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-23 08:33:36.646 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:36.646 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 08:33:36.646 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:36.646 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:36.646 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 08:33:36.646 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:36.646 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:36.646 -05:00 [DBG] Executing DbCommand [Parameters=[@__prestamo_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[IdLibro], [d].[IdPrestamo]
FROM [DetallePrestamoLibro] AS [d]
WHERE [d].[IdPrestamo] = @__prestamo_Id_0
2024-07-23 08:33:36.647 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__prestamo_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[IdLibro], [d].[IdPrestamo]
FROM [DetallePrestamoLibro] AS [d]
WHERE [d].[IdPrestamo] = @__prestamo_Id_0
2024-07-23 08:33:36.648 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'DetallePrestamoLibro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:36.648 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'DetallePrestamoLibro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:36.648 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:36.648 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 08:33:36.648 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:36.648 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 08:33:36.648 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:36.648 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:36.648 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-23 08:33:36.649 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-23 08:33:36.649 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-23 08:33:36.649 -05:00 [DBG] Executing 2 update commands as a batch.
2024-07-23 08:33:36.649 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:36.649 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:36.649 -05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-07-23 08:33:36.650 -05:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-07-23 08:33:36.650 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 08:33:36.650 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:36.650 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:36.650 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p1;
2024-07-23 08:33:36.651 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p1;
2024-07-23 08:33:36.651 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:36.651 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 08:33:36.651 -05:00 [DBG] Committing transaction.
2024-07-23 08:33:36.652 -05:00 [DBG] Committed transaction.
2024-07-23 08:33:36.652 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:36.652 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 08:33:36.652 -05:00 [DBG] Disposing transaction.
2024-07-23 08:33:36.652 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:36.652 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:36.653 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 2 entities written to the database.
2024-07-23 08:33:36.653 -05:00 [DBG] An entity of type 'Prestamo' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:36.653 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-23 08:33:36.653 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-23 08:33:36.653 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-23 08:33:36.653 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:36.653 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:36.653 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 08:33:36.653 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:36.653 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:36.654 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Prestamo]
OUTPUT 1
WHERE [Id] = @p0;
2024-07-23 08:33:36.655 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Prestamo]
OUTPUT 1
WHERE [Id] = @p0;
2024-07-23 08:33:36.655 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:36.656 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 08:33:36.656 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:36.656 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 08:33:36.656 -05:00 [DBG] An entity of type 'Prestamo' tracked by 'DBBibliotecaContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:36.656 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-23 08:33:36.657 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:36.657 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-23 08:33:36.657 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-23 08:33:36.657 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-23 08:33:36.657 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:36.658 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:36.658 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 08:33:36.658 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:36.658 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:36.658 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-23 08:33:36.659 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-23 08:33:36.659 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:36.659 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 08:33:36.659 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:36.660 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 08:33:36.660 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:36.660 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-23 08:33:36.660 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:36.660 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-23 08:33:36.660 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-23 08:33:36.660 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-23 08:33:36.660 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:36.660 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:36.660 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 08:33:36.660 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:36.660 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:36.660 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-23 08:33:36.662 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-23 08:33:36.662 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:36.662 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 08:33:36.662 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:36.662 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 08:33:36.662 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:36.662 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-23 08:33:36.665 -05:00 [INF] Se eliminó el préstamo del perfil con id 34
2024-07-23 08:33:36.665 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 38.6179ms.
2024-07-23 08:33:36.665 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 08:33:36.666 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 08:33:36.666 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 08:33:36.666 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 08:33:36.666 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 08:33:36.666 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-23 08:33:36.666 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend) in 69.8031ms
2024-07-23 08:33:36.666 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend)'
2024-07-23 08:33:36.666 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 08:33:36.666 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:36.666 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 08:33:36.667 -05:00 [INF] Request finished HTTP/2 DELETE https://localhost:7299/api/Prestmaos/?idPerfil=34 - 200 null application/json; charset=utf-8 73.6916ms
2024-07-23 08:33:36.672 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=34 - null null
2024-07-23 08:33:36.673 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 08:33:36.673 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-07-23 08:33:36.673 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 08:33:36.673 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 08:33:36.673 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 08:33:36.673 -05:00 [INF] CORS policy execution successful.
2024-07-23 08:33:36.674 -05:00 [DBG] Successfully validated the token.
2024-07-23 08:33:36.674 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 08:33:36.674 -05:00 [DBG] Authorization was successful.
2024-07-23 08:33:36.674 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 08:33:36.674 -05:00 [INF] Route matched with {action = "Get", controller = "Prestmaos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 08:33:36.674 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 08:33:36.674 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 08:33:36.674 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 08:33:36.674 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 08:33:36.674 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 08:33:36.675 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 08:33:36.675 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 08:33:36.675 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-23 08:33:36.675 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-23 08:33:36.675 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 08:33:36.675 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 08:33:36.675 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-23 08:33:36.675 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 08:33:36.704 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 08:33:36.708 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-23 08:33:36.709 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 08:33:36.712 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 08:33:36.712 -05:00 [DBG] Creating DbConnection.
2024-07-23 08:33:36.712 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 08:33:36.712 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:36.713 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:36.713 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 08:33:36.713 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:36.713 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:36.713 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 08:33:36.713 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 08:33:36.713 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:36.713 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 08:33:36.713 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:36.713 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 08:33:36.714 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 9.8564ms.
2024-07-23 08:33:36.714 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 08:33:36.714 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 08:33:36.714 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 08:33:36.714 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 08:33:36.714 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 08:33:36.714 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.Collections.Generic.List`1[[biblioteca_backend.Models.Libro, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-23 08:33:36.714 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) in 39.4079ms
2024-07-23 08:33:36.714 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 08:33:36.714 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 08:33:36.714 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:36.714 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 08:33:36.714 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=34 - 200 null application/json; charset=utf-8 42.3004ms
2024-07-23 08:33:57.295 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - null null
2024-07-23 08:33:57.305 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 08:33:57.308 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 08:33:57.311 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 08:33:57.311 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 08:33:57.311 -05:00 [INF] CORS policy execution successful.
2024-07-23 08:33:57.311 -05:00 [DBG] The request is a preflight request.
2024-07-23 08:33:57.311 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - 204 null null 15.8462ms
2024-07-23 08:33:57.313 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Perfiles/ - application/json 54
2024-07-23 08:33:57.313 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 08:33:57.313 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 08:33:57.313 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 08:33:57.313 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 08:33:57.314 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 08:33:57.314 -05:00 [INF] CORS policy execution successful.
2024-07-23 08:33:57.314 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-23 08:33:57.314 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 08:33:57.314 -05:00 [INF] Route matched with {action = "Post", controller = "Perfiles"}. Executing controller action with signature System.Object Post(biblioteca_backend.Models.LogInModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 08:33:57.314 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 08:33:57.314 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 08:33:57.314 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 08:33:57.314 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 08:33:57.314 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 08:33:57.314 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 08:33:57.314 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 08:33:57.314 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.LogInModel' ...
2024-07-23 08:33:57.314 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.LogInModel' using the name '' in request data ...
2024-07-23 08:33:57.315 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-23 08:33:57.315 -05:00 [DBG] Connection id "0HN5B3EA9C9TC", Request id "0HN5B3EA9C9TC:00000035": started reading request body.
2024-07-23 08:33:57.315 -05:00 [DBG] Connection id "0HN5B3EA9C9TC", Request id "0HN5B3EA9C9TC:00000035": done reading request body.
2024-07-23 08:33:57.315 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.LogInModel'
2024-07-23 08:33:57.315 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.LogInModel'.
2024-07-23 08:33:57.315 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.LogInModel'.
2024-07-23 08:33:57.315 -05:00 [DBG] Attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.LogInModel' ...
2024-07-23 08:33:57.315 -05:00 [DBG] Done attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.LogInModel'.
2024-07-23 08:33:57.341 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) - Validation state: "Valid"
2024-07-23 08:33:57.344 -05:00 [DBG] Iniciando sesión...
2024-07-23 08:33:57.345 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 08:33:57.346 -05:00 [DBG] Creating DbConnection.
2024-07-23 08:33:57.346 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 08:33:57.346 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:57.346 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:57.346 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 08:33:57.346 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:57.346 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:57.346 -05:00 [DBG] Executing DbCommand [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-23 08:33:57.347 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-23 08:33:57.347 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:57.347 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:57.347 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 08:33:57.347 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:57.347 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 08:33:57.348 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:57.348 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:57.348 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 08:33:57.348 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:57.348 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:57.348 -05:00 [DBG] Executing DbCommand [Parameters=[@___perfil_IdRol_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Nombre]
FROM [Rol] AS [r]
WHERE [r].[Id] = @___perfil_IdRol_0
2024-07-23 08:33:57.349 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@___perfil_IdRol_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Nombre]
FROM [Rol] AS [r]
WHERE [r].[Id] = @___perfil_IdRol_0
2024-07-23 08:33:57.349 -05:00 [DBG] The navigation 'Perfil.Rol' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:57.349 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Rol' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:57.349 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:57.349 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 08:33:57.349 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:57.349 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 08:33:57.352 -05:00 [INF] Inicio de sesión exitoso
2024-07-23 08:33:57.352 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 11.2452ms.
2024-07-23 08:33:57.353 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 08:33:57.353 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 08:33:57.353 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 08:33:57.353 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 08:33:57.353 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 08:33:57.353 -05:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-23 08:33:57.353 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) in 38.803ms
2024-07-23 08:33:57.353 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 08:33:57.353 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 08:33:57.353 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:57.353 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 08:33:57.353 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Perfiles/ - 200 null application/json; charset=utf-8 40.7141ms
2024-07-23 08:33:57.407 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-23 08:33:57.407 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 08:33:57.407 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 08:33:57.407 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 08:33:57.407 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 08:33:57.407 -05:00 [INF] CORS policy execution successful.
2024-07-23 08:33:57.407 -05:00 [DBG] The request is a preflight request.
2024-07-23 08:33:57.407 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 2.6591ms
2024-07-23 08:33:57.409 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-07-23 08:33:57.409 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-23 08:33:57.409 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 08:33:57.413 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 08:33:57.414 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 08:33:57.414 -05:00 [INF] CORS policy execution successful.
2024-07-23 08:33:57.414 -05:00 [DBG] The request is a preflight request.
2024-07-23 08:33:57.416 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 6.949ms
2024-07-23 08:33:57.431 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-23 08:33:57.431 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 08:33:57.431 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 08:33:57.431 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 08:33:57.432 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 08:33:57.432 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 08:33:57.432 -05:00 [INF] CORS policy execution successful.
2024-07-23 08:33:57.432 -05:00 [DBG] Successfully validated the token.
2024-07-23 08:33:57.432 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 08:33:57.433 -05:00 [DBG] Authorization was successful.
2024-07-23 08:33:57.433 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 08:33:57.433 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 08:33:57.433 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 08:33:57.433 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 08:33:57.433 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 08:33:57.434 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 08:33:57.434 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 08:33:57.434 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 08:33:57.434 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-07-23 08:33:57.434 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-23 08:33:57.434 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-07-23 08:33:57.434 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 08:33:57.434 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 08:33:57.434 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-23 08:33:57.435 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-23 08:33:57.435 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 08:33:57.435 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 08:33:57.435 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 08:33:57.435 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 08:33:57.435 -05:00 [INF] CORS policy execution successful.
2024-07-23 08:33:57.435 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 08:33:57.435 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 08:33:57.435 -05:00 [DBG] Successfully validated the token.
2024-07-23 08:33:57.435 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 08:33:57.436 -05:00 [DBG] Authorization was successful.
2024-07-23 08:33:57.437 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-23 08:33:57.481 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 08:33:57.483 -05:00 [DBG] Consultando libros...
2024-07-23 08:33:57.485 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 08:33:57.486 -05:00 [DBG] Compiling query expression: 
'DbSet<Libro>()
    .Join(
        inner: DbSet<Genero>(), 
        outerKeySelector: L => L.IdGenero, 
        innerKeySelector: G => G.Id, 
        resultSelector: (L, G) => new { 
            L = L, 
            G = G
         })
    .Where(<>h__TransparentIdentifier0 => True)
    .Select(<>h__TransparentIdentifier0 => new { 
        id = <>h__TransparentIdentifier0.L.Id, 
        titulo = <>h__TransparentIdentifier0.L.Titulo, 
        autor = <>h__TransparentIdentifier0.L.Autor, 
        anio = <>h__TransparentIdentifier0.L.Anio, 
        idGenero = <>h__TransparentIdentifier0.L.IdGenero, 
        genero = <>h__TransparentIdentifier0.G.Nombre, 
        activo = <>h__TransparentIdentifier0.L.Activo
     })'
2024-07-23 08:33:57.488 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-07-23 08:33:57.488 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 08:33:57.488 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 08:33:57.488 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 08:33:57.488 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 08:33:57.489 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 08:33:57.489 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-23 08:33:57.490 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-23 08:33:57.525 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 08:33:57.527 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType1<int, string, string, int, int, string, bool>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            id -> 0
            titulo -> 1
            autor -> 2
            anio -> 3
            idGenero -> 4
            genero -> 5
            activo -> 6
        SELECT l.Id AS id, l.Titulo AS titulo, l.Autor AS autor, l.Anio AS anio, l.IdGenero AS idGenero, g.Nombre AS genero, l.Activo AS activo
        FROM Libro AS l
        INNER JOIN Genero AS g ON l.IdGenero == g.Id), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType1<int, string, string, int, int, string, bool>>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-23 08:33:57.528 -05:00 [DBG] Creating DbConnection.
2024-07-23 08:33:57.528 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 08:33:57.528 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:57.528 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:57.528 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 08:33:57.528 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:57.528 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:57.528 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-23 08:33:57.528 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 08:33:57.529 -05:00 [DBG] Compiling query expression: 
'DbSet<Genero>()'
2024-07-23 08:33:57.531 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-23 08:33:57.532 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:57.532 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 08:33:57.532 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:57.532 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 08:33:57.535 -05:00 [INF] Consulta de libros exitosa
2024-07-23 08:33:57.535 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 54.207ms.
2024-07-23 08:33:57.535 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 08:33:57.535 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 08:33:57.535 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 08:33:57.535 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 08:33:57.535 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 08:33:57.535 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 08:33:57.535 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Genero>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Genero.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Genero.Nombre (string) Required, 1] }
        SELECT g.Id, g.Nombre
        FROM Genero AS g), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Genero>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-23 08:33:57.536 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 101.6265ms
2024-07-23 08:33:57.536 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 08:33:57.536 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 08:33:57.536 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:57.536 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 08:33:57.536 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 104.9936ms
2024-07-23 08:33:57.537 -05:00 [DBG] Creating DbConnection.
2024-07-23 08:33:57.537 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 08:33:57.537 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:57.537 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:57.537 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 08:33:57.537 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:57.537 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:33:57.537 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-23 08:33:57.543 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-23 08:33:57.547 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:57.552 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:57.552 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:57.553 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:57.553 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:57.553 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:57.553 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:57.553 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:57.554 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:57.554 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:57.554 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:57.554 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:57.554 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:33:57.554 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:57.554 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 11ms reading results.
2024-07-23 08:33:57.555 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:57.555 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 08:33:57.556 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 30.2709ms.
2024-07-23 08:33:57.556 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 08:33:57.556 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 08:33:57.556 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 08:33:57.556 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 08:33:57.556 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 08:33:57.556 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 08:33:57.560 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 71.3486ms
2024-07-23 08:33:57.560 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-23 08:33:57.560 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 08:33:57.560 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:33:57.561 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 08:33:57.561 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 126.7608ms
2024-07-23 08:34:14.456 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/ - null null
2024-07-23 08:34:14.457 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 08:34:14.457 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 08:34:14.457 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 08:34:14.457 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 08:34:14.457 -05:00 [INF] CORS policy execution successful.
2024-07-23 08:34:14.457 -05:00 [DBG] The request is a preflight request.
2024-07-23 08:34:14.457 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/ - 204 null null 1.6871ms
2024-07-23 08:34:14.462 -05:00 [INF] Request starting HTTP/2 PUT https://localhost:7299/api/Libros/ - application/json 107
2024-07-23 08:34:14.462 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 08:34:14.463 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Put (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 08:34:14.463 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Put (biblioteca-backend)'
2024-07-23 08:34:14.463 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 08:34:14.463 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 08:34:14.463 -05:00 [INF] CORS policy execution successful.
2024-07-23 08:34:14.463 -05:00 [DBG] Successfully validated the token.
2024-07-23 08:34:14.463 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 08:34:14.466 -05:00 [DBG] Authorization was successful.
2024-07-23 08:34:14.466 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Put (biblioteca-backend)'
2024-07-23 08:34:14.474 -05:00 [INF] Route matched with {action = "Put", controller = "Libros"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(biblioteca_backend.Models.Libro) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 08:34:14.475 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 08:34:14.475 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 08:34:14.476 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 08:34:14.476 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 08:34:14.476 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 08:34:14.477 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 08:34:14.477 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 08:34:14.477 -05:00 [DBG] Attempting to bind parameter 'libro' of type 'biblioteca_backend.Models.Libro' ...
2024-07-23 08:34:14.477 -05:00 [DBG] Attempting to bind parameter 'libro' of type 'biblioteca_backend.Models.Libro' using the name '' in request data ...
2024-07-23 08:34:14.477 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-23 08:34:14.477 -05:00 [DBG] Connection id "0HN5B3EA9C9TC", Request id "0HN5B3EA9C9TC:00000041": started reading request body.
2024-07-23 08:34:14.477 -05:00 [DBG] Connection id "0HN5B3EA9C9TC", Request id "0HN5B3EA9C9TC:00000041": done reading request body.
2024-07-23 08:34:14.478 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.Libro'
2024-07-23 08:34:14.478 -05:00 [DBG] Done attempting to bind parameter 'libro' of type 'biblioteca_backend.Models.Libro'.
2024-07-23 08:34:14.478 -05:00 [DBG] Done attempting to bind parameter 'libro' of type 'biblioteca_backend.Models.Libro'.
2024-07-23 08:34:14.478 -05:00 [DBG] Attempting to validate the bound parameter 'libro' of type 'biblioteca_backend.Models.Libro' ...
2024-07-23 08:34:14.478 -05:00 [DBG] Done attempting to validate the bound parameter 'libro' of type 'biblioteca_backend.Models.Libro'.
2024-07-23 08:34:14.537 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Put (biblioteca-backend) - Validation state: "Valid"
2024-07-23 08:34:14.543 -05:00 [DBG] Actualizando libro con id 55...
2024-07-23 08:34:14.544 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 08:34:14.545 -05:00 [DBG] Compiling query expression: 
'DbSet<Libro>()
    .FirstOrDefault(e => e.Id == __libro_Id_0)'
2024-07-23 08:34:14.550 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Libro>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Libro.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Libro.Activo (bool) Required, 1], [Property: Libro.Anio (int) Required, 2], [Property: Libro.Autor (string) Required, 3], [Property: Libro.IdGenero (int) Required FK Index, 4], [Property: Libro.Titulo (string) Required, 5] }
        SELECT TOP(1) l.Id, l.Activo, l.Anio, l.Autor, l.IdGenero, l.Titulo
        FROM Libro AS l
        WHERE l.Id == @__libro_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Libro>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-23 08:34:14.550 -05:00 [DBG] Creating DbConnection.
2024-07-23 08:34:14.550 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 08:34:14.550 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:34:14.550 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:34:14.550 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 08:34:14.550 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:34:14.550 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:34:14.551 -05:00 [DBG] Executing DbCommand [Parameters=[@__libro_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Activo], [l].[Anio], [l].[Autor], [l].[IdGenero], [l].[Titulo]
FROM [Libro] AS [l]
WHERE [l].[Id] = @__libro_Id_0
2024-07-23 08:34:14.552 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__libro_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Activo], [l].[Anio], [l].[Autor], [l].[IdGenero], [l].[Titulo]
FROM [Libro] AS [l]
WHERE [l].[Id] = @__libro_Id_0
2024-07-23 08:34:14.552 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:34:14.553 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:34:14.553 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 08:34:14.553 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:34:14.553 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 08:34:14.553 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:34:14.553 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-23 08:34:14.553 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-23 08:34:14.553 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-23 08:34:14.554 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:34:14.555 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:34:14.555 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 08:34:14.555 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:34:14.556 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:34:14.556 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-23 08:34:14.560 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-23 08:34:14.561 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:34:14.561 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 08:34:14.561 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:34:14.561 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 08:34:14.561 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:34:14.561 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-23 08:34:14.565 -05:00 [INF] Libro actualizado con id 55
2024-07-23 08:34:14.565 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Put (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 27.4406ms.
2024-07-23 08:34:14.565 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 08:34:14.565 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 08:34:14.565 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 08:34:14.565 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 08:34:14.566 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 08:34:14.566 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-23 08:34:14.566 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Put (biblioteca-backend) in 89.2963ms
2024-07-23 08:34:14.566 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Put (biblioteca-backend)'
2024-07-23 08:34:14.566 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 08:34:14.566 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:34:14.566 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 08:34:14.566 -05:00 [INF] Request finished HTTP/2 PUT https://localhost:7299/api/Libros/ - 200 null application/json; charset=utf-8 104.9179ms
2024-07-23 08:34:14.584 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-23 08:34:14.584 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 08:34:14.585 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 08:34:14.585 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 08:34:14.585 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 08:34:14.585 -05:00 [INF] CORS policy execution successful.
2024-07-23 08:34:14.585 -05:00 [DBG] The request is a preflight request.
2024-07-23 08:34:14.585 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 0.9542ms
2024-07-23 08:34:14.591 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-23 08:34:14.592 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 08:34:14.592 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 08:34:14.592 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 08:34:14.592 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 08:34:14.592 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 08:34:14.592 -05:00 [INF] CORS policy execution successful.
2024-07-23 08:34:14.592 -05:00 [DBG] Successfully validated the token.
2024-07-23 08:34:14.592 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 08:34:14.592 -05:00 [DBG] Authorization was successful.
2024-07-23 08:34:14.592 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 08:34:14.592 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 08:34:14.593 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 08:34:14.593 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 08:34:14.593 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 08:34:14.593 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 08:34:14.593 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 08:34:14.593 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 08:34:14.593 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 08:34:14.593 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 08:34:14.593 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-23 08:34:14.593 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 08:34:14.593 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 08:34:14.593 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 08:34:14.593 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 08:34:14.627 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 08:34:14.629 -05:00 [DBG] Consultando libros...
2024-07-23 08:34:14.630 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 08:34:14.630 -05:00 [DBG] Creating DbConnection.
2024-07-23 08:34:14.631 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 08:34:14.631 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:34:14.631 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:34:14.631 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 08:34:14.631 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:34:14.631 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:34:14.631 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-23 08:34:14.632 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-23 08:34:14.632 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:34:14.632 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 08:34:14.632 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:34:14.632 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 08:34:14.635 -05:00 [INF] Consulta de libros exitosa
2024-07-23 08:34:14.635 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 8.0274ms.
2024-07-23 08:34:14.635 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 08:34:14.635 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 08:34:14.635 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 08:34:14.635 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 08:34:14.635 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 08:34:14.635 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 08:34:14.635 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 42.6974ms
2024-07-23 08:34:14.635 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 08:34:14.636 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 08:34:14.636 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:34:14.636 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 08:34:14.636 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 48.3776ms
2024-07-23 08:34:26.219 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/ - null null
2024-07-23 08:34:26.219 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 08:34:26.219 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 08:34:26.219 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 08:34:26.219 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 08:34:26.219 -05:00 [INF] CORS policy execution successful.
2024-07-23 08:34:26.219 -05:00 [DBG] The request is a preflight request.
2024-07-23 08:34:26.219 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/ - 204 null null 1.4397ms
2024-07-23 08:34:26.224 -05:00 [INF] Request starting HTTP/2 PUT https://localhost:7299/api/Libros/ - application/json 107
2024-07-23 08:34:26.225 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 08:34:26.225 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Put (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 08:34:26.225 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Put (biblioteca-backend)'
2024-07-23 08:34:26.225 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 08:34:26.225 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 08:34:26.225 -05:00 [INF] CORS policy execution successful.
2024-07-23 08:34:26.225 -05:00 [DBG] Successfully validated the token.
2024-07-23 08:34:26.225 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 08:34:26.226 -05:00 [DBG] Authorization was successful.
2024-07-23 08:34:26.226 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Put (biblioteca-backend)'
2024-07-23 08:34:26.226 -05:00 [INF] Route matched with {action = "Put", controller = "Libros"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(biblioteca_backend.Models.Libro) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 08:34:26.226 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 08:34:26.226 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 08:34:26.226 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 08:34:26.226 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 08:34:26.226 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 08:34:26.226 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 08:34:26.227 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 08:34:26.227 -05:00 [DBG] Attempting to bind parameter 'libro' of type 'biblioteca_backend.Models.Libro' ...
2024-07-23 08:34:26.227 -05:00 [DBG] Attempting to bind parameter 'libro' of type 'biblioteca_backend.Models.Libro' using the name '' in request data ...
2024-07-23 08:34:26.227 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-23 08:34:26.227 -05:00 [DBG] Connection id "0HN5B3EA9C9TC", Request id "0HN5B3EA9C9TC:00000049": started reading request body.
2024-07-23 08:34:26.227 -05:00 [DBG] Connection id "0HN5B3EA9C9TC", Request id "0HN5B3EA9C9TC:00000049": done reading request body.
2024-07-23 08:34:26.227 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.Libro'
2024-07-23 08:34:26.227 -05:00 [DBG] Done attempting to bind parameter 'libro' of type 'biblioteca_backend.Models.Libro'.
2024-07-23 08:34:26.227 -05:00 [DBG] Done attempting to bind parameter 'libro' of type 'biblioteca_backend.Models.Libro'.
2024-07-23 08:34:26.227 -05:00 [DBG] Attempting to validate the bound parameter 'libro' of type 'biblioteca_backend.Models.Libro' ...
2024-07-23 08:34:26.228 -05:00 [DBG] Done attempting to validate the bound parameter 'libro' of type 'biblioteca_backend.Models.Libro'.
2024-07-23 08:34:26.276 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Put (biblioteca-backend) - Validation state: "Valid"
2024-07-23 08:34:26.279 -05:00 [DBG] Actualizando libro con id 55...
2024-07-23 08:34:26.280 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 08:34:26.280 -05:00 [DBG] Creating DbConnection.
2024-07-23 08:34:26.281 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 08:34:26.281 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:34:26.281 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:34:26.281 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 08:34:26.281 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:34:26.281 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:34:26.281 -05:00 [DBG] Executing DbCommand [Parameters=[@__libro_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Activo], [l].[Anio], [l].[Autor], [l].[IdGenero], [l].[Titulo]
FROM [Libro] AS [l]
WHERE [l].[Id] = @__libro_Id_0
2024-07-23 08:34:26.281 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__libro_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Activo], [l].[Anio], [l].[Autor], [l].[IdGenero], [l].[Titulo]
FROM [Libro] AS [l]
WHERE [l].[Id] = @__libro_Id_0
2024-07-23 08:34:26.282 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:34:26.282 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:34:26.282 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 08:34:26.282 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:34:26.282 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 08:34:26.282 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:34:26.282 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-23 08:34:26.282 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-23 08:34:26.282 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-23 08:34:26.282 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:34:26.282 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:34:26.282 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 08:34:26.283 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:34:26.283 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:34:26.283 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-23 08:34:26.286 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-23 08:34:26.286 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:34:26.287 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 08:34:26.287 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:34:26.287 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 08:34:26.289 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 08:34:26.290 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-23 08:34:26.292 -05:00 [INF] Libro actualizado con id 55
2024-07-23 08:34:26.292 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Put (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 15.9884ms.
2024-07-23 08:34:26.293 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 08:34:26.293 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 08:34:26.293 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 08:34:26.293 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 08:34:26.293 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 08:34:26.293 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-23 08:34:26.293 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Put (biblioteca-backend) in 66.8285ms
2024-07-23 08:34:26.293 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Put (biblioteca-backend)'
2024-07-23 08:34:26.293 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 08:34:26.293 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:34:26.293 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 08:34:26.294 -05:00 [INF] Request finished HTTP/2 PUT https://localhost:7299/api/Libros/ - 200 null application/json; charset=utf-8 69.2954ms
2024-07-23 08:34:26.298 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-23 08:34:26.299 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 08:34:26.299 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 08:34:26.299 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 08:34:26.299 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 08:34:26.299 -05:00 [INF] CORS policy execution successful.
2024-07-23 08:34:26.299 -05:00 [DBG] The request is a preflight request.
2024-07-23 08:34:26.299 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 1.1142ms
2024-07-23 08:34:26.302 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-23 08:34:26.302 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 08:34:26.302 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 08:34:26.302 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 08:34:26.302 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 08:34:26.302 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 08:34:26.302 -05:00 [INF] CORS policy execution successful.
2024-07-23 08:34:26.302 -05:00 [DBG] Successfully validated the token.
2024-07-23 08:34:26.302 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 08:34:26.303 -05:00 [DBG] Authorization was successful.
2024-07-23 08:34:26.303 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 08:34:26.303 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 08:34:26.303 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 08:34:26.303 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 08:34:26.303 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 08:34:26.303 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 08:34:26.303 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 08:34:26.303 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 08:34:26.303 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 08:34:26.303 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 08:34:26.303 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-23 08:34:26.305 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 08:34:26.306 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 08:34:26.306 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 08:34:26.306 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 08:34:26.340 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 08:34:26.343 -05:00 [DBG] Consultando libros...
2024-07-23 08:34:26.344 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 08:34:26.345 -05:00 [DBG] Creating DbConnection.
2024-07-23 08:34:26.345 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 08:34:26.345 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:34:26.346 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:34:26.347 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 08:34:26.347 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:34:26.347 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 08:34:26.347 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-23 08:34:26.350 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-23 08:34:26.350 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:34:26.351 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 08:34:26.351 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:34:26.351 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 08:34:26.357 -05:00 [INF] Consulta de libros exitosa
2024-07-23 08:34:26.357 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.4807ms.
2024-07-23 08:34:26.357 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 08:34:26.358 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 08:34:26.358 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 08:34:26.358 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 08:34:26.358 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 08:34:26.358 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 08:34:26.358 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 55.5048ms
2024-07-23 08:34:26.359 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 08:34:26.359 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 08:34:26.359 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 08:34:26.359 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 08:34:26.359 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 57.6592ms
2024-07-23 08:35:39.921 -05:00 [DBG] Connection id "0HN5B3EA9C9TB" received FIN.
2024-07-23 08:35:39.921 -05:00 [DBG] Connection id "0HN5B3EA9C9TC" received FIN.
2024-07-23 08:35:39.927 -05:00 [DBG] Connection id "0HN5B3EA9C9TB" is closed. The last processed stream ID was 7.
2024-07-23 08:35:39.927 -05:00 [DBG] Connection id "0HN5B3EA9C9TB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-23 08:35:39.928 -05:00 [DBG] Connection id "0HN5B3EA9C9TC" is closed. The last processed stream ID was 77.
2024-07-23 08:35:39.928 -05:00 [DBG] Connection id "0HN5B3EA9C9TC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-23 08:35:39.933 -05:00 [DBG] The connection queue processing loop for 0HN5B3EA9C9TB completed.
2024-07-23 08:35:39.935 -05:00 [DBG] Connection id "0HN5B3EA9C9TB" stopped.
2024-07-23 08:35:39.938 -05:00 [DBG] The connection queue processing loop for 0HN5B3EA9C9TC completed.
2024-07-23 08:35:39.938 -05:00 [DBG] Connection id "0HN5B3EA9C9TC" stopped.
2024-07-23 09:38:14.882 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-23 09:38:15.123 -05:00 [DBG] Hosting starting
2024-07-23 09:38:15.175 -05:00 [INF] User profile is available. Using 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-23 09:38:15.183 -05:00 [DBG] Reading data from file 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys\key-12ed5171-7863-4d3e-a216-6f5439158e60.xml'.
2024-07-23 09:38:15.195 -05:00 [DBG] Found key {12ed5171-7863-4d3e-a216-6f5439158e60}.
2024-07-23 09:38:15.204 -05:00 [DBG] Considering key {12ed5171-7863-4d3e-a216-6f5439158e60} with expiration date 2024-09-28 19:27:42Z as default key.
2024-07-23 09:38:15.207 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-23 09:38:15.209 -05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-23 09:38:15.210 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-23 09:38:15.214 -05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-23 09:38:15.215 -05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-23 09:38:15.216 -05:00 [DBG] Using key {12ed5171-7863-4d3e-a216-6f5439158e60} as the default key.
2024-07-23 09:38:15.217 -05:00 [DBG] Key ring with default key {12ed5171-7863-4d3e-a216-6f5439158e60} was loaded during application startup.
2024-07-23 09:38:15.526 -05:00 [INF] Now listening on: https://localhost:7299
2024-07-23 09:38:15.526 -05:00 [INF] Now listening on: http://localhost:5219
2024-07-23 09:38:15.526 -05:00 [DBG] Loaded hosting startup assembly biblioteca-backend
2024-07-23 09:38:15.526 -05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-23 09:38:15.526 -05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-23 09:38:15.526 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-23 09:38:15.526 -05:00 [INF] Hosting environment: Development
2024-07-23 09:38:15.527 -05:00 [INF] Content root path: C:\Users\spatino\Documents\Proyeco - Biblioteca\biblioteca-backend
2024-07-23 09:38:15.527 -05:00 [DBG] Hosting started
2024-07-23 09:38:15.912 -05:00 [DBG] Connection id "0HN5B4KB7NFLO" accepted.
2024-07-23 09:38:15.913 -05:00 [DBG] Connection id "0HN5B4KB7NFLO" started.
2024-07-23 09:38:15.949 -05:00 [DBG] Connection id "0HN5B4KB7NFLO" received FIN.
2024-07-23 09:38:15.949 -05:00 [DBG] Connection id "0HN5B4KB7NFLP" received FIN.
2024-07-23 09:38:15.950 -05:00 [DBG] Connection id "0HN5B4KB7NFLP" accepted.
2024-07-23 09:38:15.951 -05:00 [DBG] Connection id "0HN5B4KB7NFLP" started.
2024-07-23 09:38:15.963 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-23 09:38:15.963 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-23 09:38:16.033 -05:00 [DBG] Connection id "0HN5B4KB7NFLP" stopped.
2024-07-23 09:38:16.034 -05:00 [DBG] Connection id "0HN5B4KB7NFLO" stopped.
2024-07-23 09:38:16.036 -05:00 [DBG] Connection id "0HN5B4KB7NFLO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-23 09:38:16.038 -05:00 [DBG] Connection id "0HN5B4KB7NFLP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-23 09:38:16.162 -05:00 [DBG] Connection id "0HN5B4KB7NFLQ" accepted.
2024-07-23 09:38:16.163 -05:00 [DBG] Connection id "0HN5B4KB7NFLQ" started.
2024-07-23 09:38:16.327 -05:00 [DBG] Connection 0HN5B4KB7NFLQ established using the following protocol: "Tls12"
2024-07-23 09:38:16.503 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/index.html - null null
2024-07-23 09:38:16.905 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-23 09:38:16.950 -05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-23 09:38:16.951 -05:00 [DBG] Request did not match any endpoints
2024-07-23 09:38:17.173 -05:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-07-23 09:38:17.175 -05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-23 09:38:17.269 -05:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-07-23 09:38:17.274 -05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-23 09:38:17.294 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/index.html - 200 null text/html;charset=utf-8 803.5039ms
2024-07-23 09:38:17.317 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
2024-07-23 09:38:17.351 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
2024-07-23 09:38:17.367 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 49.7529ms
2024-07-23 09:38:17.550 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 198.3718ms
2024-07-23 09:38:17.652 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
2024-07-23 09:38:17.652 -05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-23 09:38:17.652 -05:00 [DBG] Request did not match any endpoints
2024-07-23 09:38:17.874 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 222.1211ms
2024-07-23 09:38:36.144 -05:00 [DBG] Connection id "0HN5B4KB7NFLR" accepted.
2024-07-23 09:38:36.161 -05:00 [DBG] Connection id "0HN5B4KB7NFLR" started.
2024-07-23 09:38:36.404 -05:00 [DBG] Connection 0HN5B4KB7NFLR established using the following protocol: "Tls12"
2024-07-23 09:38:36.476 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-23 09:38:36.643 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 09:38:36.647 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 09:38:36.664 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:38:36.666 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 09:38:36.666 -05:00 [INF] CORS policy execution successful.
2024-07-23 09:38:36.667 -05:00 [DBG] The request is a preflight request.
2024-07-23 09:38:36.669 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 192.9265ms
2024-07-23 09:38:36.692 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-07-23 09:38:36.692 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-23 09:38:36.692 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 09:38:36.693 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:38:36.694 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 09:38:36.694 -05:00 [INF] CORS policy execution successful.
2024-07-23 09:38:36.695 -05:00 [DBG] The request is a preflight request.
2024-07-23 09:38:36.697 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 4.6802ms
2024-07-23 09:38:36.830 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-23 09:38:36.831 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 09:38:36.831 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-07-23 09:38:36.832 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-23 09:38:36.837 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-07-23 09:38:36.837 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 09:38:36.837 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 09:38:36.837 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-23 09:38:36.838 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:38:36.838 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:38:36.838 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 09:38:36.838 -05:00 [INF] CORS policy execution successful.
2024-07-23 09:38:36.839 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 09:38:36.839 -05:00 [INF] CORS policy execution successful.
2024-07-23 09:38:37.090 -05:00 [DBG] Successfully validated the token.
2024-07-23 09:38:37.090 -05:00 [DBG] Successfully validated the token.
2024-07-23 09:38:37.092 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 09:38:37.092 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 09:38:37.105 -05:00 [DBG] Authorization was successful.
2024-07-23 09:38:37.105 -05:00 [DBG] Authorization was successful.
2024-07-23 09:38:37.108 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 09:38:37.108 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-23 09:38:37.168 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-07-23 09:38:37.168 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 09:38:37.170 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 09:38:37.171 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 09:38:37.171 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 09:38:37.171 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 09:38:37.171 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 09:38:37.171 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 09:38:37.172 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 09:38:37.172 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 09:38:37.172 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 09:38:37.172 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 09:38:37.174 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-23 09:38:37.174 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 09:38:37.434 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-23 09:38:37.436 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-23 09:38:37.484 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-23 09:38:37.484 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 09:38:37.817 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 09:38:37.822 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 09:38:37.823 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-23 09:38:37.826 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 09:38:37.826 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 09:38:37.826 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 09:38:37.833 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 09:38:37.998 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 09:38:38.165 -05:00 [DBG] Consultando libros...
2024-07-23 09:38:43.649 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 09:38:43.649 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 09:38:43.783 -05:00 [DBG] Compiling query expression: 
'DbSet<Genero>()'
2024-07-23 09:38:43.803 -05:00 [DBG] Compiling query expression: 
'DbSet<Libro>()
    .Join(
        inner: DbSet<Genero>(), 
        outerKeySelector: L => L.IdGenero, 
        innerKeySelector: G => G.Id, 
        resultSelector: (L, G) => new { 
            L = L, 
            G = G
         })
    .Where(<>h__TransparentIdentifier0 => True)
    .Select(<>h__TransparentIdentifier0 => new { 
        id = <>h__TransparentIdentifier0.L.Id, 
        titulo = <>h__TransparentIdentifier0.L.Titulo, 
        autor = <>h__TransparentIdentifier0.L.Autor, 
        anio = <>h__TransparentIdentifier0.L.Anio, 
        idGenero = <>h__TransparentIdentifier0.L.IdGenero, 
        genero = <>h__TransparentIdentifier0.G.Nombre, 
        activo = <>h__TransparentIdentifier0.L.Activo
     })'
2024-07-23 09:38:44.412 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType1<int, string, string, int, int, string, bool>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            id -> 0
            titulo -> 1
            autor -> 2
            anio -> 3
            idGenero -> 4
            genero -> 5
            activo -> 6
        SELECT l.Id AS id, l.Titulo AS titulo, l.Autor AS autor, l.Anio AS anio, l.IdGenero AS idGenero, g.Nombre AS genero, l.Activo AS activo
        FROM Libro AS l
        INNER JOIN Genero AS g ON l.IdGenero == g.Id), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType1<int, string, string, int, int, string, bool>>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-23 09:38:44.439 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Genero>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Genero.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Genero.Nombre (string) Required, 1] }
        SELECT g.Id, g.Nombre
        FROM Genero AS g), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Genero>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-23 09:38:44.527 -05:00 [DBG] Creating DbConnection.
2024-07-23 09:38:44.538 -05:00 [DBG] Creating DbConnection.
2024-07-23 09:38:44.599 -05:00 [DBG] Created DbConnection. (49ms).
2024-07-23 09:38:44.599 -05:00 [DBG] Created DbConnection. (67ms).
2024-07-23 09:38:44.605 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:38:44.605 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:38:45.804 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:38:45.816 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:38:45.817 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:38:45.819 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:38:45.836 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2024-07-23 09:38:45.836 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-07-23 09:38:45.840 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (19ms).
2024-07-23 09:38:45.849 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (34ms).
2024-07-23 09:38:45.859 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-23 09:38:45.859 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-23 09:38:45.984 -05:00 [INF] Executed DbCommand (113ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-23 09:38:45.984 -05:00 [INF] Executed DbCommand (126ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-23 09:38:46.015 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:38:46.032 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 34ms reading results.
2024-07-23 09:38:46.036 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:38:46.051 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (14ms).
2024-07-23 09:38:46.057 -05:00 [INF] Consulta de libros exitosa
2024-07-23 09:38:46.070 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 8060.232ms.
2024-07-23 09:38:46.082 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 09:38:46.088 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 09:38:46.088 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 09:38:46.088 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 09:38:46.090 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:38:46.091 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 09:38:46.092 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 09:38:46.136 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 8950.3645ms
2024-07-23 09:38:46.136 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 09:38:46.141 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 09:38:46.142 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:38:46.146 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:38:46.146 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:38:46.147 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:38:46.147 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:38:46.147 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:38:46.148 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:38:46.148 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:38:46.148 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:38:46.149 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:38:46.149 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:38:46.149 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:38:46.157 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:38:46.157 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 172ms reading results.
2024-07-23 09:38:46.157 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:38:46.161 -05:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-07-23 09:38:46.162 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 9335.1067ms
2024-07-23 09:38:46.164 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:38:46.165 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (1ms).
2024-07-23 09:38:46.170 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 8346.9892ms.
2024-07-23 09:38:46.173 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 09:38:46.174 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 09:38:46.174 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 09:38:46.174 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 09:38:46.174 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 09:38:46.175 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 09:38:46.185 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 9012.9276ms
2024-07-23 09:38:46.186 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-23 09:38:46.189 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 09:38:46.189 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:38:46.189 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 09:38:46.190 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 9358.5954ms
2024-07-23 09:40:14.794 -05:00 [DBG] Connection id "0HN5B4KB7NFLS" accepted.
2024-07-23 09:40:14.795 -05:00 [DBG] Connection id "0HN5B4KB7NFLS" received FIN.
2024-07-23 09:40:14.795 -05:00 [DBG] Connection id "0HN5B4KB7NFLS" started.
2024-07-23 09:40:14.795 -05:00 [DBG] Connection id "0HN5B4KB7NFLT" accepted.
2024-07-23 09:40:14.796 -05:00 [DBG] Connection id "0HN5B4KB7NFLT" started.
2024-07-23 09:40:14.816 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-23 09:40:14.818 -05:00 [DBG] Connection id "0HN5B4KB7NFLS" stopped.
2024-07-23 09:40:14.819 -05:00 [DBG] Connection id "0HN5B4KB7NFLS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-23 09:40:14.830 -05:00 [DBG] Connection 0HN5B4KB7NFLT established using the following protocol: "Tls12"
2024-07-23 09:40:14.840 -05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - application/json 283
2024-07-23 09:40:14.842 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 09:40:14.842 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)' with route pattern 'api/Prestmaos/ConsultarPrestamos' is valid for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 09:40:14.842 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 09:40:14.842 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:40:14.846 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-07-23 09:40:14.847 -05:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-07-23 09:40:14.850 -05:00 [DBG] Policy authentication schemes  did not succeed
2024-07-23 09:40:14.852 -05:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrador)
2024-07-23 09:40:14.862 -05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-07-23 09:40:14.864 -05:00 [DBG] Connection id "0HN5B4KB7NFLT" completed keep alive response.
2024-07-23 09:40:14.864 -05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 401 0 null 24.2661ms
2024-07-23 09:40:14.865 -05:00 [DBG] Connection id "0HN5B4KB7NFLT", Request id "0HN5B4KB7NFLT:00000001": started reading request body.
2024-07-23 09:40:14.866 -05:00 [DBG] Connection id "0HN5B4KB7NFLT", Request id "0HN5B4KB7NFLT:00000001": done reading request body.
2024-07-23 09:40:49.917 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-23 09:40:49.917 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 09:40:49.917 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 09:40:49.917 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:40:49.918 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 09:40:49.918 -05:00 [INF] CORS policy execution successful.
2024-07-23 09:40:49.918 -05:00 [DBG] The request is a preflight request.
2024-07-23 09:40:49.918 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - 204 null null 1.6063ms
2024-07-23 09:40:49.923 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-23 09:40:49.924 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 09:40:49.924 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 09:40:49.924 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 09:40:49.924 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:40:49.924 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 09:40:49.924 -05:00 [INF] CORS policy execution successful.
2024-07-23 09:40:49.925 -05:00 [DBG] Successfully validated the token.
2024-07-23 09:40:49.926 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 09:40:49.926 -05:00 [DBG] Authorization was successful.
2024-07-23 09:40:49.927 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 09:40:49.928 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 09:40:49.928 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 09:40:49.928 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 09:40:49.928 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 09:40:49.928 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 09:40:49.928 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 09:40:49.928 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 09:40:49.931 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 09:40:49.935 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 09:40:49.937 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-23 09:40:49.937 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 09:40:49.937 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 09:40:49.937 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 09:40:49.938 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 09:40:49.969 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 09:40:49.971 -05:00 [DBG] Consultando libros...
2024-07-23 09:40:50.066 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 09:40:50.069 -05:00 [DBG] Compiling query expression: 
'DbSet<Libro>()
    .Join(
        inner: DbSet<Genero>(), 
        outerKeySelector: L => L.IdGenero, 
        innerKeySelector: G => G.Id, 
        resultSelector: (L, G) => new { 
            L = L, 
            G = G
         })
    .Where(<>h__TransparentIdentifier0 => True && <>h__TransparentIdentifier0.L.Activo == True || False)
    .Select(<>h__TransparentIdentifier0 => new { 
        id = <>h__TransparentIdentifier0.L.Id, 
        titulo = <>h__TransparentIdentifier0.L.Titulo, 
        autor = <>h__TransparentIdentifier0.L.Autor, 
        anio = <>h__TransparentIdentifier0.L.Anio, 
        idGenero = <>h__TransparentIdentifier0.L.IdGenero, 
        genero = <>h__TransparentIdentifier0.G.Nombre, 
        activo = <>h__TransparentIdentifier0.L.Activo
     })'
2024-07-23 09:40:50.084 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType1<int, string, string, int, int, string, bool>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            id -> 0
            titulo -> 1
            autor -> 2
            anio -> 3
            idGenero -> 4
            genero -> 5
            activo -> 6
        SELECT l.Id AS id, l.Titulo AS titulo, l.Autor AS autor, l.Anio AS anio, l.IdGenero AS idGenero, g.Nombre AS genero, l.Activo AS activo
        FROM Libro AS l
        INNER JOIN Genero AS g ON l.IdGenero == g.Id
        WHERE (CAST(1 AS bit) && (l.Activo == CAST(1 AS bit))) || CAST(0 AS bit)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType1<int, string, string, int, int, string, bool>>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-23 09:40:50.087 -05:00 [DBG] Creating DbConnection.
2024-07-23 09:40:50.088 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 09:40:50.088 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:50.091 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:50.091 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:40:50.091 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:40:50.091 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:40:50.091 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 09:40:50.098 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 09:40:50.099 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:50.099 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:40:50.099 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:50.099 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:40:50.101 -05:00 [INF] Consulta de libros exitosa
2024-07-23 09:40:50.102 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 132.8913ms.
2024-07-23 09:40:50.102 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 09:40:50.102 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 09:40:50.102 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 09:40:50.102 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 09:40:50.102 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 09:40:50.102 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 09:40:50.103 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 174.5096ms
2024-07-23 09:40:50.103 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 09:40:50.103 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 09:40:50.103 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:50.103 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 09:40:50.103 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 179.9467ms
2024-07-23 09:40:55.268 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ - null null
2024-07-23 09:40:55.268 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 09:40:55.268 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 09:40:55.268 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:40:55.268 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 09:40:55.268 -05:00 [INF] CORS policy execution successful.
2024-07-23 09:40:55.268 -05:00 [DBG] The request is a preflight request.
2024-07-23 09:40:55.268 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ - 204 null null 1.1812ms
2024-07-23 09:40:55.270 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Prestmaos/ - application/json 528
2024-07-23 09:40:55.270 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 09:40:55.271 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-07-23 09:40:55.271 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)'
2024-07-23 09:40:55.273 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:40:55.273 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 09:40:55.273 -05:00 [INF] CORS policy execution successful.
2024-07-23 09:40:55.273 -05:00 [DBG] Successfully validated the token.
2024-07-23 09:40:55.273 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 09:40:55.274 -05:00 [DBG] Authorization was successful.
2024-07-23 09:40:55.274 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)'
2024-07-23 09:40:55.277 -05:00 [INF] Route matched with {action = "Post", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(biblioteca_backend.Models.DTOs.PrestamoModel) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 09:40:55.277 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 09:40:55.277 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 09:40:55.278 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 09:40:55.278 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 09:40:55.278 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 09:40:55.278 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 09:40:55.278 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 09:40:55.279 -05:00 [DBG] Attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel' ...
2024-07-23 09:40:55.279 -05:00 [DBG] Attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel' using the name '' in request data ...
2024-07-23 09:40:55.281 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-23 09:40:55.289 -05:00 [DBG] Connection id "0HN5B4KB7NFLR", Request id "0HN5B4KB7NFLR:0000000F": started reading request body.
2024-07-23 09:40:55.289 -05:00 [DBG] Connection id "0HN5B4KB7NFLR", Request id "0HN5B4KB7NFLR:0000000F": done reading request body.
2024-07-23 09:40:55.300 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.PrestamoModel'
2024-07-23 09:40:55.301 -05:00 [DBG] Done attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel'.
2024-07-23 09:40:55.301 -05:00 [DBG] Done attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel'.
2024-07-23 09:40:55.301 -05:00 [DBG] Attempting to validate the bound parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel' ...
2024-07-23 09:40:55.320 -05:00 [DBG] Done attempting to validate the bound parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel'.
2024-07-23 09:40:55.347 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend) - Validation state: "Valid"
2024-07-23 09:40:55.352 -05:00 [DBG] Guardando préstamo...
2024-07-23 09:40:55.357 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-23 09:40:55.358 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 09:40:55.364 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 09:40:55.368 -05:00 [DBG] Compiling query expression: 
'DbSet<Perfil>()
    .Join(
        inner: DbSet<Prestamo>(), 
        outerKeySelector: P => P.Id, 
        innerKeySelector: PR => PR.IdPerfil, 
        resultSelector: (P, PR) => new { 
            P = P, 
            PR = PR
         })
    .Join(
        inner: DbSet<DetallePrestamoLibro>(), 
        outerKeySelector: <>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.PR.Id, 
        innerKeySelector: DP => DP.IdPrestamo, 
        resultSelector: (<>h__TransparentIdentifier0, DP) => new { 
            <>h__TransparentIdentifier0 = <>h__TransparentIdentifier0, 
            DP = DP
         })
    .Join(
        inner: DbSet<Libro>(), 
        outerKeySelector: <>h__TransparentIdentifier1 => <>h__TransparentIdentifier1.DP.IdLibro, 
        innerKeySelector: L => L.Id, 
        resultSelector: (<>h__TransparentIdentifier1, L) => new { 
            <>h__TransparentIdentifier1 = <>h__TransparentIdentifier1, 
            L = L
         })
    .Where(<>h__TransparentIdentifier2 => <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.P.Id == __idPerfil_0)
    .Select(<>h__TransparentIdentifier2 => new Libro{ 
        Id = <>h__TransparentIdentifier2.L.Id, 
        Titulo = <>h__TransparentIdentifier2.L.Titulo, 
        Autor = <>h__TransparentIdentifier2.L.Autor, 
        IdGenero = <>h__TransparentIdentifier2.L.IdGenero, 
        Anio = <>h__TransparentIdentifier2.L.Anio, 
        Activo = <>h__TransparentIdentifier2.L.Activo 
    }
    )'
2024-07-23 09:40:55.387 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Libro>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            Id -> 0
            Titulo -> 1
            Autor -> 2
            IdGenero -> 3
            Anio -> 4
            Activo -> 5
        SELECT l.Id, l.Titulo, l.Autor, l.IdGenero, l.Anio, l.Activo
        FROM Perfil AS p
        INNER JOIN Prestamo AS p0 ON p.Id == p0.IdPerfil
        INNER JOIN DetallePrestamoLibro AS d ON p0.Id == d.IdPrestamo
        INNER JOIN Libro AS l ON d.IdLibro == l.Id
        WHERE p.Id == @__idPerfil_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Libro>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-23 09:40:55.393 -05:00 [DBG] Creating DbConnection.
2024-07-23 09:40:55.393 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 09:40:55.393 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:55.393 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:55.394 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:40:55.394 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:40:55.398 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-07-23 09:40:55.401 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 09:40:55.431 -05:00 [INF] Executed DbCommand (32ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 09:40:55.431 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:55.432 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:40:55.432 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:55.432 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:40:55.461 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'Prestamo.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:40:55.483 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:40:55.486 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-23 09:40:55.491 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-23 09:40:55.499 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-23 09:40:55.589 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:55.589 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:55.604 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:40:55.604 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:40:55.610 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-07-23 09:40:55.610 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Prestamo] ([FechaPrestamo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-07-23 09:40:55.618 -05:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Prestamo] ([FechaPrestamo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-07-23 09:40:55.639 -05:00 [DBG] The foreign key property 'Prestamo.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-23 09:40:55.647 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:55.647 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 28ms reading results.
2024-07-23 09:40:55.648 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:55.648 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:40:55.661 -05:00 [DBG] An entity of type 'Prestamo' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:40:55.662 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-23 09:40:55.665 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'DetallePrestamoLibro.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:40:55.675 -05:00 [DBG] The navigation 'DetallePrestamoLibro.Prestamo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:40:55.685 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'DetallePrestamoLibro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:40:55.685 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-23 09:40:55.685 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-23 09:40:55.687 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-23 09:40:55.690 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:55.691 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:55.691 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:40:55.691 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:40:55.691 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:40:55.691 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePrestamoLibro] ([IdLibro], [IdPrestamo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-07-23 09:40:55.695 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePrestamoLibro] ([IdLibro], [IdPrestamo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-07-23 09:40:55.696 -05:00 [DBG] The foreign key property 'DetallePrestamoLibro.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-23 09:40:55.697 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:55.697 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-07-23 09:40:55.697 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:55.697 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:40:55.698 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:40:55.698 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-23 09:40:55.714 -05:00 [DBG] The navigation 'DetallePrestamoLibro.Libro' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:40:55.715 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:40:55.716 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-23 09:40:55.716 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-23 09:40:55.717 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-23 09:40:55.730 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:55.730 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:55.731 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:40:55.731 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:40:55.731 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:40:55.732 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-23 09:40:55.735 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-23 09:40:55.737 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:55.737 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-23 09:40:55.737 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:55.737 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:40:55.738 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:40:55.738 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-23 09:40:55.739 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'DetallePrestamoLibro.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:40:55.740 -05:00 [DBG] The navigation 'DetallePrestamoLibro.Prestamo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:40:55.740 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'DetallePrestamoLibro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:40:55.740 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-23 09:40:55.740 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-23 09:40:55.742 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-23 09:40:55.742 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:55.742 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:55.742 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:40:55.742 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:40:55.742 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:40:55.742 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePrestamoLibro] ([IdLibro], [IdPrestamo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-07-23 09:40:55.744 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePrestamoLibro] ([IdLibro], [IdPrestamo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-07-23 09:40:55.744 -05:00 [DBG] The foreign key property 'DetallePrestamoLibro.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-23 09:40:55.744 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:55.744 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:40:55.744 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:55.744 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:40:55.745 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:40:55.745 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-23 09:40:55.745 -05:00 [DBG] The navigation 'DetallePrestamoLibro.Libro' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:40:55.745 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:40:55.745 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-23 09:40:55.745 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-23 09:40:55.745 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-23 09:40:55.745 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:55.746 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:55.746 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:40:55.746 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:40:55.746 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:40:55.746 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-23 09:40:55.747 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-23 09:40:55.747 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:55.747 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:40:55.747 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:55.747 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:40:55.747 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:40:55.747 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-23 09:40:55.748 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'DetallePrestamoLibro.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:40:55.748 -05:00 [DBG] The navigation 'DetallePrestamoLibro.Prestamo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:40:55.748 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'DetallePrestamoLibro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:40:55.748 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-23 09:40:55.748 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-23 09:40:55.748 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-23 09:40:55.748 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:55.748 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:55.748 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:40:55.749 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:40:55.749 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:40:55.749 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePrestamoLibro] ([IdLibro], [IdPrestamo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-07-23 09:40:55.750 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePrestamoLibro] ([IdLibro], [IdPrestamo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-07-23 09:40:55.750 -05:00 [DBG] The foreign key property 'DetallePrestamoLibro.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-23 09:40:55.750 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:55.751 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:40:55.751 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:55.751 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:40:55.751 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:40:55.751 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-23 09:40:55.752 -05:00 [DBG] The navigation 'DetallePrestamoLibro.Libro' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:40:55.752 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:40:55.752 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-23 09:40:55.753 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-23 09:40:55.753 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-23 09:40:55.754 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:55.754 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:55.754 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:40:55.754 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:40:55.754 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:40:55.754 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-23 09:40:55.756 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-23 09:40:55.756 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:55.756 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:40:55.756 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:55.756 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:40:55.756 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:40:55.756 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-23 09:40:55.756 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'DetallePrestamoLibro.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:40:55.756 -05:00 [DBG] The navigation 'DetallePrestamoLibro.Prestamo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:40:55.757 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'DetallePrestamoLibro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:40:55.757 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-23 09:40:55.757 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-23 09:40:55.757 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-23 09:40:55.757 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:55.758 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:55.758 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:40:55.758 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:40:55.758 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:40:55.758 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePrestamoLibro] ([IdLibro], [IdPrestamo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-07-23 09:40:55.759 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePrestamoLibro] ([IdLibro], [IdPrestamo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-07-23 09:40:55.759 -05:00 [DBG] The foreign key property 'DetallePrestamoLibro.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-23 09:40:55.760 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:55.760 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:40:55.760 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:55.760 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:40:55.760 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:40:55.760 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-23 09:40:55.760 -05:00 [DBG] The navigation 'DetallePrestamoLibro.Libro' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:40:55.760 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:40:55.760 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-23 09:40:55.760 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-23 09:40:55.760 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-23 09:40:55.761 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:55.761 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:55.761 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:40:55.761 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:40:55.761 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:40:55.761 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-23 09:40:55.762 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-23 09:40:55.762 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:55.762 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:40:55.762 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:55.762 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:40:55.762 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:40:55.763 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-23 09:40:55.765 -05:00 [INF] Préstamo realizado exitosamente
2024-07-23 09:40:55.765 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 417.9674ms.
2024-07-23 09:40:55.765 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 09:40:55.765 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 09:40:55.765 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 09:40:55.766 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 09:40:55.766 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 09:40:55.766 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-23 09:40:55.768 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend) in 490.1033ms
2024-07-23 09:40:55.768 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)'
2024-07-23 09:40:55.768 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 09:40:55.768 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:55.768 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 09:40:55.768 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Prestmaos/ - 200 null application/json; charset=utf-8 498.3799ms
2024-07-23 09:40:55.779 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-23 09:40:55.780 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 09:40:55.780 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 09:40:55.780 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:40:55.780 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 09:40:55.780 -05:00 [INF] CORS policy execution successful.
2024-07-23 09:40:55.780 -05:00 [DBG] The request is a preflight request.
2024-07-23 09:40:55.780 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - 204 null null 1.2814ms
2024-07-23 09:40:55.783 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-23 09:40:55.783 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 09:40:55.783 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 09:40:55.783 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 09:40:55.784 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:40:55.784 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 09:40:55.784 -05:00 [INF] CORS policy execution successful.
2024-07-23 09:40:55.784 -05:00 [DBG] Successfully validated the token.
2024-07-23 09:40:55.784 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 09:40:55.784 -05:00 [DBG] Authorization was successful.
2024-07-23 09:40:55.784 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 09:40:55.785 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 09:40:55.785 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 09:40:55.785 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 09:40:55.785 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 09:40:55.785 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 09:40:55.785 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 09:40:55.785 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 09:40:55.787 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 09:40:55.787 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 09:40:55.788 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-23 09:40:55.789 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 09:40:55.789 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 09:40:55.789 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 09:40:55.789 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 09:40:55.838 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 09:40:55.843 -05:00 [DBG] Consultando libros...
2024-07-23 09:40:55.844 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 09:40:55.848 -05:00 [DBG] Creating DbConnection.
2024-07-23 09:40:55.848 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 09:40:55.848 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:55.848 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:55.848 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:40:55.848 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:40:55.848 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:40:55.848 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 09:40:55.849 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 09:40:55.849 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:55.849 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:40:55.849 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:55.850 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:40:55.852 -05:00 [INF] Consulta de libros exitosa
2024-07-23 09:40:55.852 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 13.8727ms.
2024-07-23 09:40:55.852 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 09:40:55.852 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 09:40:55.852 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 09:40:55.852 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 09:40:55.852 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 09:40:55.853 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 09:40:55.853 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 67.4686ms
2024-07-23 09:40:55.853 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 09:40:55.853 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 09:40:55.853 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:40:55.853 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 09:40:55.853 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 71.0676ms
2024-07-23 09:41:03.667 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - null null
2024-07-23 09:41:03.668 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 09:41:03.668 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 09:41:03.668 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:41:03.668 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 09:41:03.668 -05:00 [INF] CORS policy execution successful.
2024-07-23 09:41:03.668 -05:00 [DBG] The request is a preflight request.
2024-07-23 09:41:03.668 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - 204 null null 1.4458ms
2024-07-23 09:41:03.672 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Perfiles/ - application/json 60
2024-07-23 09:41:03.672 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 09:41:03.672 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 09:41:03.672 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 09:41:03.672 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:41:03.672 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 09:41:03.672 -05:00 [INF] CORS policy execution successful.
2024-07-23 09:41:03.672 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-23 09:41:03.673 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 09:41:03.675 -05:00 [INF] Route matched with {action = "Post", controller = "Perfiles"}. Executing controller action with signature System.Object Post(biblioteca_backend.Models.DTOs.LogInModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 09:41:03.675 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 09:41:03.675 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 09:41:03.675 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 09:41:03.675 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 09:41:03.675 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 09:41:03.675 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 09:41:03.677 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 09:41:03.677 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-23 09:41:03.677 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' using the name '' in request data ...
2024-07-23 09:41:03.677 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-23 09:41:03.678 -05:00 [DBG] Connection id "0HN5B4KB7NFLR", Request id "0HN5B4KB7NFLR:00000017": started reading request body.
2024-07-23 09:41:03.678 -05:00 [DBG] Connection id "0HN5B4KB7NFLR", Request id "0HN5B4KB7NFLR:00000017": done reading request body.
2024-07-23 09:41:03.679 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.LogInModel'
2024-07-23 09:41:03.679 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 09:41:03.679 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 09:41:03.679 -05:00 [DBG] Attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-23 09:41:03.680 -05:00 [DBG] Done attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 09:41:03.704 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) - Validation state: "Valid"
2024-07-23 09:41:03.708 -05:00 [DBG] Iniciando sesión...
2024-07-23 09:41:03.710 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 09:41:03.712 -05:00 [DBG] Compiling query expression: 
'DbSet<Perfil>()
    .FirstOrDefault(p => p.Correo == __8__locals1_logInModel_Correo_0 && p.Contrasena == __claveCifrada_1)'
2024-07-23 09:41:03.719 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Perfil>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Perfil.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Perfil.Apellido (string) Required, 1], [Property: Perfil.Contrasena (string) Required, 2], [Property: Perfil.Correo (string) Required, 3], [Property: Perfil.Direccion (string) Required, 4], [Property: Perfil.IdRol (int) Required FK Index, 5], [Property: Perfil.Nombre (string) Required, 6], [Property: Perfil.Telefono (string) Required, 7] }
        SELECT TOP(1) p.Id, p.Apellido, p.Contrasena, p.Correo, p.Direccion, p.IdRol, p.Nombre, p.Telefono
        FROM Perfil AS p
        WHERE (p.Correo == @__8__locals1_logInModel_Correo_0) && (p.Contrasena == @__claveCifrada_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Perfil>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-23 09:41:03.721 -05:00 [DBG] Creating DbConnection.
2024-07-23 09:41:03.721 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 09:41:03.721 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:03.721 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:03.721 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:41:03.721 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:41:03.721 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:41:03.722 -05:00 [DBG] Executing DbCommand [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-23 09:41:03.724 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-23 09:41:03.726 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:41:03.746 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:03.746 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 22ms reading results.
2024-07-23 09:41:03.746 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:03.747 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:41:03.748 -05:00 [DBG] Compiling query expression: 
'DbSet<Rol>()
    .FirstOrDefault(r => r.Id == ___perfil_IdRol_0)'
2024-07-23 09:41:03.755 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Rol>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Rol.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Rol.Nombre (string) Required, 1] }
        SELECT TOP(1) r.Id, r.Nombre
        FROM Rol AS r
        WHERE r.Id == @___perfil_IdRol_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Rol>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-23 09:41:03.756 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:03.756 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:03.756 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:41:03.756 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:41:03.756 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:41:03.756 -05:00 [DBG] Executing DbCommand [Parameters=[@___perfil_IdRol_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Nombre]
FROM [Rol] AS [r]
WHERE [r].[Id] = @___perfil_IdRol_0
2024-07-23 09:41:03.759 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@___perfil_IdRol_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Nombre]
FROM [Rol] AS [r]
WHERE [r].[Id] = @___perfil_IdRol_0
2024-07-23 09:41:03.764 -05:00 [DBG] The navigation 'Perfil.Rol' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:41:03.766 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Rol' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:41:03.769 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:03.769 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 10ms reading results.
2024-07-23 09:41:03.769 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:03.769 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:41:03.782 -05:00 [INF] Inicio de sesión exitoso
2024-07-23 09:41:03.784 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 79.5532ms.
2024-07-23 09:41:03.784 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 09:41:03.784 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 09:41:03.784 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 09:41:03.784 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 09:41:03.784 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 09:41:03.784 -05:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-23 09:41:03.784 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) in 108.9177ms
2024-07-23 09:41:03.784 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 09:41:03.785 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 09:41:03.785 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:03.785 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 09:41:03.785 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Perfiles/ - 200 null application/json; charset=utf-8 113.483ms
2024-07-23 09:41:03.802 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-23 09:41:03.803 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 09:41:03.803 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 09:41:03.803 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:41:03.803 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 09:41:03.803 -05:00 [INF] CORS policy execution successful.
2024-07-23 09:41:03.803 -05:00 [DBG] The request is a preflight request.
2024-07-23 09:41:03.803 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - 204 null null 0.9195ms
2024-07-23 09:41:03.807 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-23 09:41:03.807 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 09:41:03.808 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 09:41:03.808 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 09:41:03.808 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:41:03.808 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 09:41:03.808 -05:00 [INF] CORS policy execution successful.
2024-07-23 09:41:03.808 -05:00 [DBG] Successfully validated the token.
2024-07-23 09:41:03.809 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 09:41:03.809 -05:00 [DBG] Authorization was successful.
2024-07-23 09:41:03.809 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 09:41:03.809 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 09:41:03.809 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 09:41:03.809 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 09:41:03.809 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 09:41:03.809 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 09:41:03.809 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 09:41:03.809 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 09:41:03.810 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 09:41:03.811 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 09:41:03.811 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-23 09:41:03.811 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 09:41:03.811 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 09:41:03.811 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 09:41:03.812 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 09:41:03.850 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 09:41:03.852 -05:00 [DBG] Consultando libros...
2024-07-23 09:41:03.853 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 09:41:03.854 -05:00 [DBG] Creating DbConnection.
2024-07-23 09:41:03.854 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 09:41:03.854 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:03.854 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:03.854 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:41:03.855 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:41:03.855 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:41:03.855 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 09:41:03.856 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 09:41:03.856 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:03.857 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:41:03.857 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:03.857 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:41:03.859 -05:00 [INF] Consulta de libros exitosa
2024-07-23 09:41:03.859 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 9.0535ms.
2024-07-23 09:41:03.859 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 09:41:03.859 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 09:41:03.859 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 09:41:03.859 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 09:41:03.859 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 09:41:03.859 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 09:41:03.860 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 50.1959ms
2024-07-23 09:41:03.860 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 09:41:03.860 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 09:41:03.860 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:03.860 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 09:41:03.860 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 53.3451ms
2024-07-23 09:41:08.493 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ - null null
2024-07-23 09:41:08.493 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 09:41:08.493 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 09:41:08.493 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:41:08.493 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 09:41:08.493 -05:00 [INF] CORS policy execution successful.
2024-07-23 09:41:08.493 -05:00 [DBG] The request is a preflight request.
2024-07-23 09:41:08.493 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ - 204 null null 0.6395ms
2024-07-23 09:41:08.497 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Prestmaos/ - application/json 417
2024-07-23 09:41:08.497 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 09:41:08.497 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-07-23 09:41:08.497 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)'
2024-07-23 09:41:08.497 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:41:08.497 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 09:41:08.497 -05:00 [INF] CORS policy execution successful.
2024-07-23 09:41:08.497 -05:00 [DBG] Successfully validated the token.
2024-07-23 09:41:08.497 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 09:41:08.497 -05:00 [DBG] Authorization was successful.
2024-07-23 09:41:08.498 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)'
2024-07-23 09:41:08.498 -05:00 [INF] Route matched with {action = "Post", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(biblioteca_backend.Models.DTOs.PrestamoModel) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 09:41:08.498 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 09:41:08.498 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 09:41:08.498 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 09:41:08.498 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 09:41:08.498 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 09:41:08.498 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 09:41:08.498 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 09:41:08.498 -05:00 [DBG] Attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel' ...
2024-07-23 09:41:08.498 -05:00 [DBG] Attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel' using the name '' in request data ...
2024-07-23 09:41:08.498 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-23 09:41:08.498 -05:00 [DBG] Connection id "0HN5B4KB7NFLR", Request id "0HN5B4KB7NFLR:0000001F": started reading request body.
2024-07-23 09:41:08.499 -05:00 [DBG] Connection id "0HN5B4KB7NFLR", Request id "0HN5B4KB7NFLR:0000001F": done reading request body.
2024-07-23 09:41:08.499 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.PrestamoModel'
2024-07-23 09:41:08.499 -05:00 [DBG] Done attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel'.
2024-07-23 09:41:08.499 -05:00 [DBG] Done attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel'.
2024-07-23 09:41:08.499 -05:00 [DBG] Attempting to validate the bound parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel' ...
2024-07-23 09:41:08.499 -05:00 [DBG] Done attempting to validate the bound parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel'.
2024-07-23 09:41:08.527 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend) - Validation state: "Valid"
2024-07-23 09:41:08.529 -05:00 [DBG] Guardando préstamo...
2024-07-23 09:41:08.532 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-23 09:41:08.532 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 09:41:08.535 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 09:41:08.536 -05:00 [DBG] Creating DbConnection.
2024-07-23 09:41:08.536 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 09:41:08.536 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:08.536 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:08.537 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:41:08.537 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:41:08.537 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:41:08.537 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 09:41:08.544 -05:00 [INF] Executed DbCommand (8ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 09:41:08.545 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:08.545 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:41:08.545 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:08.545 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:41:08.545 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'Prestamo.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:41:08.545 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:41:08.545 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-23 09:41:08.545 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-23 09:41:08.545 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-23 09:41:08.546 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:08.546 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:08.546 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:41:08.546 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:41:08.546 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:41:08.546 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Prestamo] ([FechaPrestamo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-07-23 09:41:08.549 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Prestamo] ([FechaPrestamo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-07-23 09:41:08.550 -05:00 [DBG] The foreign key property 'Prestamo.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-23 09:41:08.550 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:08.550 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-23 09:41:08.550 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:08.551 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:41:08.551 -05:00 [DBG] An entity of type 'Prestamo' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:41:08.551 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-23 09:41:08.551 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'DetallePrestamoLibro.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:41:08.551 -05:00 [DBG] The navigation 'DetallePrestamoLibro.Prestamo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:41:08.551 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'DetallePrestamoLibro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:41:08.551 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-23 09:41:08.551 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-23 09:41:08.551 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-23 09:41:08.551 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:08.552 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:08.552 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:41:08.552 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:41:08.552 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:41:08.552 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePrestamoLibro] ([IdLibro], [IdPrestamo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-07-23 09:41:08.553 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePrestamoLibro] ([IdLibro], [IdPrestamo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-07-23 09:41:08.553 -05:00 [DBG] The foreign key property 'DetallePrestamoLibro.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-23 09:41:08.553 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:08.554 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:41:08.554 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:08.555 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:41:08.555 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:41:08.556 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-23 09:41:08.556 -05:00 [DBG] The navigation 'DetallePrestamoLibro.Libro' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:41:08.556 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:41:08.556 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-23 09:41:08.556 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-23 09:41:08.556 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-23 09:41:08.557 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:08.557 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:08.557 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:41:08.557 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:41:08.557 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:41:08.557 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-23 09:41:08.559 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-23 09:41:08.559 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:08.559 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:41:08.559 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:08.559 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:41:08.559 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:41:08.559 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-23 09:41:08.560 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'DetallePrestamoLibro.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:41:08.560 -05:00 [DBG] The navigation 'DetallePrestamoLibro.Prestamo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:41:08.560 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'DetallePrestamoLibro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:41:08.560 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-23 09:41:08.560 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-23 09:41:08.560 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-23 09:41:08.560 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:08.560 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:08.560 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:41:08.560 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:41:08.560 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:41:08.560 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePrestamoLibro] ([IdLibro], [IdPrestamo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-07-23 09:41:08.562 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePrestamoLibro] ([IdLibro], [IdPrestamo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-07-23 09:41:08.562 -05:00 [DBG] The foreign key property 'DetallePrestamoLibro.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-23 09:41:08.562 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:08.562 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:41:08.562 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:08.562 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:41:08.563 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:41:08.563 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-23 09:41:08.563 -05:00 [DBG] The navigation 'DetallePrestamoLibro.Libro' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:41:08.563 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:41:08.563 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-23 09:41:08.563 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-23 09:41:08.563 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-23 09:41:08.563 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:08.563 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:08.563 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:41:08.563 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:41:08.564 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:41:08.564 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-23 09:41:08.565 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-23 09:41:08.565 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:08.565 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:41:08.565 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:08.565 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:41:08.565 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:41:08.565 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-23 09:41:08.565 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'DetallePrestamoLibro.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:41:08.565 -05:00 [DBG] The navigation 'DetallePrestamoLibro.Prestamo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:41:08.565 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'DetallePrestamoLibro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:41:08.565 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-23 09:41:08.565 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-23 09:41:08.565 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-23 09:41:08.566 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:08.566 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:08.566 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:41:08.566 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:41:08.566 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:41:08.566 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePrestamoLibro] ([IdLibro], [IdPrestamo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-07-23 09:41:08.568 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePrestamoLibro] ([IdLibro], [IdPrestamo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-07-23 09:41:08.568 -05:00 [DBG] The foreign key property 'DetallePrestamoLibro.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-23 09:41:08.568 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:08.568 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:41:08.568 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:08.568 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:41:08.568 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:41:08.568 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-23 09:41:08.568 -05:00 [DBG] The navigation 'DetallePrestamoLibro.Libro' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:41:08.568 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:41:08.568 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-23 09:41:08.568 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-23 09:41:08.569 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-23 09:41:08.569 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:08.569 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:08.569 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:41:08.569 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:41:08.569 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:41:08.569 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-23 09:41:08.570 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-23 09:41:08.570 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:08.570 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:41:08.572 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:08.572 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:41:08.572 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:41:08.573 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-23 09:41:08.575 -05:00 [INF] Préstamo realizado exitosamente
2024-07-23 09:41:08.575 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 48.3496ms.
2024-07-23 09:41:08.575 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 09:41:08.575 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 09:41:08.575 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 09:41:08.575 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 09:41:08.575 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 09:41:08.576 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-23 09:41:08.576 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend) in 77.7573ms
2024-07-23 09:41:08.576 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)'
2024-07-23 09:41:08.576 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 09:41:08.576 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:08.576 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 09:41:08.576 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Prestmaos/ - 200 null application/json; charset=utf-8 80.0173ms
2024-07-23 09:41:08.581 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-23 09:41:08.582 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 09:41:08.582 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 09:41:08.582 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 09:41:08.582 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:41:08.582 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 09:41:08.582 -05:00 [INF] CORS policy execution successful.
2024-07-23 09:41:08.582 -05:00 [DBG] Successfully validated the token.
2024-07-23 09:41:08.582 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 09:41:08.583 -05:00 [DBG] Authorization was successful.
2024-07-23 09:41:08.583 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 09:41:08.583 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 09:41:08.583 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 09:41:08.583 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 09:41:08.583 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 09:41:08.583 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 09:41:08.583 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 09:41:08.583 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 09:41:08.583 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 09:41:08.584 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 09:41:08.584 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-23 09:41:08.584 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 09:41:08.584 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 09:41:08.584 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 09:41:08.584 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 09:41:08.617 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 09:41:08.620 -05:00 [DBG] Consultando libros...
2024-07-23 09:41:08.623 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 09:41:08.623 -05:00 [DBG] Creating DbConnection.
2024-07-23 09:41:08.623 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 09:41:08.623 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:08.623 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:08.624 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:41:08.624 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:41:08.624 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:41:08.624 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 09:41:08.624 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 09:41:08.625 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:08.625 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:41:08.625 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:08.625 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:41:08.627 -05:00 [INF] Consulta de libros exitosa
2024-07-23 09:41:08.627 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 10.2881ms.
2024-07-23 09:41:08.628 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 09:41:08.628 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 09:41:08.628 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 09:41:08.628 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 09:41:08.628 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 09:41:08.628 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 09:41:08.628 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 44.8866ms
2024-07-23 09:41:08.628 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 09:41:08.628 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 09:41:08.628 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:41:08.628 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 09:41:08.629 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 47.7408ms
2024-07-23 09:42:30.985 -05:00 [DBG] Connection id "0HN5B4KB7NFLR" received FIN.
2024-07-23 09:42:30.985 -05:00 [DBG] Connection id "0HN5B4KB7NFLQ" received FIN.
2024-07-23 09:42:30.988 -05:00 [DBG] Connection id "0HN5B4KB7NFLR" is closed. The last processed stream ID was 33.
2024-07-23 09:42:30.989 -05:00 [DBG] Connection id "0HN5B4KB7NFLR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-23 09:42:30.989 -05:00 [DBG] Connection id "0HN5B4KB7NFLQ" is closed. The last processed stream ID was 7.
2024-07-23 09:42:30.989 -05:00 [DBG] Connection id "0HN5B4KB7NFLQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-23 09:42:30.993 -05:00 [DBG] The connection queue processing loop for 0HN5B4KB7NFLR completed.
2024-07-23 09:42:30.993 -05:00 [DBG] The connection queue processing loop for 0HN5B4KB7NFLQ completed.
2024-07-23 09:42:30.995 -05:00 [DBG] Connection id "0HN5B4KB7NFLR" stopped.
2024-07-23 09:42:30.995 -05:00 [DBG] Connection id "0HN5B4KB7NFLQ" stopped.
2024-07-23 09:42:40.948 -05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7299/api/Perfiles - application/json 70
2024-07-23 09:42:40.948 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles'
2024-07-23 09:42:40.948 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles'
2024-07-23 09:42:40.948 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 09:42:40.948 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:42:40.949 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-23 09:42:40.949 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 09:42:40.949 -05:00 [INF] Route matched with {action = "Post", controller = "Perfiles"}. Executing controller action with signature System.Object Post(biblioteca_backend.Models.DTOs.LogInModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 09:42:40.949 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 09:42:40.949 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 09:42:40.949 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 09:42:40.949 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 09:42:40.949 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 09:42:40.949 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 09:42:40.950 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 09:42:40.950 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-23 09:42:40.950 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' using the name '' in request data ...
2024-07-23 09:42:40.950 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-23 09:42:40.952 -05:00 [DBG] Connection id "0HN5B4KB7NFLT", Request id "0HN5B4KB7NFLT:00000002": started reading request body.
2024-07-23 09:42:40.952 -05:00 [DBG] Connection id "0HN5B4KB7NFLT", Request id "0HN5B4KB7NFLT:00000002": done reading request body.
2024-07-23 09:42:40.952 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.LogInModel'
2024-07-23 09:42:40.952 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 09:42:40.952 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 09:42:40.952 -05:00 [DBG] Attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-23 09:42:40.953 -05:00 [DBG] Done attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 09:42:41.097 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) - Validation state: "Valid"
2024-07-23 09:42:41.099 -05:00 [DBG] Iniciando sesión...
2024-07-23 09:42:41.101 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 09:42:41.101 -05:00 [DBG] Creating DbConnection.
2024-07-23 09:42:41.101 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 09:42:41.101 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:42:41.102 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:42:41.102 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:42:41.102 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:42:41.102 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:42:41.102 -05:00 [DBG] Executing DbCommand [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-23 09:42:41.106 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-23 09:42:41.106 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:42:41.106 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:42:41.106 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:42:41.106 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:42:41.106 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:42:41.107 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:42:41.107 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:42:41.107 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:42:41.107 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:42:41.107 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:42:41.107 -05:00 [DBG] Executing DbCommand [Parameters=[@___perfil_IdRol_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Nombre]
FROM [Rol] AS [r]
WHERE [r].[Id] = @___perfil_IdRol_0
2024-07-23 09:42:41.110 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@___perfil_IdRol_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Nombre]
FROM [Rol] AS [r]
WHERE [r].[Id] = @___perfil_IdRol_0
2024-07-23 09:42:41.111 -05:00 [DBG] The navigation 'Perfil.Rol' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:42:41.111 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Rol' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:42:41.111 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:42:41.111 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:42:41.111 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:42:41.111 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:42:41.113 -05:00 [INF] Inicio de sesión exitoso
2024-07-23 09:42:41.113 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 16.3446ms.
2024-07-23 09:42:41.113 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 09:42:41.113 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 09:42:41.113 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 09:42:41.113 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 09:42:41.113 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 09:42:41.113 -05:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-23 09:42:41.114 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) in 164.894ms
2024-07-23 09:42:41.114 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 09:42:41.114 -05:00 [DBG] Connection id "0HN5B4KB7NFLT" completed keep alive response.
2024-07-23 09:42:41.114 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 09:42:41.115 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:42:41.115 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 09:42:41.115 -05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7299/api/Perfiles - 200 null application/json; charset=utf-8 166.7309ms
2024-07-23 09:43:12.579 -05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - application/json 283
2024-07-23 09:43:12.586 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 09:43:12.587 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)' with route pattern 'api/Prestmaos/ConsultarPrestamos' is valid for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 09:43:12.587 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 09:43:12.587 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:43:12.588 -05:00 [DBG] Successfully validated the token.
2024-07-23 09:43:12.588 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 09:43:12.588 -05:00 [DBG] Authorization was successful.
2024-07-23 09:43:12.589 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 09:43:12.597 -05:00 [INF] Route matched with {action = "ConsultarPrestamos", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsultarPrestamos() on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 09:43:12.597 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 09:43:12.597 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 09:43:12.597 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 09:43:12.597 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 09:43:12.597 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 09:43:12.598 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 09:43:12.598 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 09:43:12.682 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) - Validation state: "Valid"
2024-07-23 09:43:12.686 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 09:43:12.688 -05:00 [DBG] Compiling query expression: 
'DbSet<Prestamo>()'
2024-07-23 09:43:12.692 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Prestamo>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Prestamo.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Prestamo.FechaPrestamo (DateTime) Required, 1], [Property: Prestamo.IdPerfil (int) Required FK Index, 2] }
        SELECT p.Id, p.FechaPrestamo, p.IdPerfil
        FROM Prestamo AS p), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Prestamo>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-23 09:43:12.693 -05:00 [DBG] Creating DbConnection.
2024-07-23 09:43:12.693 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 09:43:12.693 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:43:12.693 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:43:12.693 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:43:12.693 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:43:12.693 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:43:12.693 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 09:43:12.698 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 09:43:12.713 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:43:12.713 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:43:12.713 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:43:12.713 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 14ms reading results.
2024-07-23 09:43:12.713 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:43:12.713 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:43:12.717 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 09:43:12.717 -05:00 [DBG] Compiling query expression: 
'DbSet<Perfil>()
    .FirstOrDefault(p => p.Id == __id_0)'
2024-07-23 09:43:12.721 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Perfil>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Perfil.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Perfil.Apellido (string) Required, 1], [Property: Perfil.Contrasena (string) Required, 2], [Property: Perfil.Correo (string) Required, 3], [Property: Perfil.Direccion (string) Required, 4], [Property: Perfil.IdRol (int) Required FK Index, 5], [Property: Perfil.Nombre (string) Required, 6], [Property: Perfil.Telefono (string) Required, 7] }
        SELECT TOP(1) p.Id, p.Apellido, p.Contrasena, p.Correo, p.Direccion, p.IdRol, p.Nombre, p.Telefono
        FROM Perfil AS p
        WHERE p.Id == @__id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Perfil>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-23 09:43:12.722 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:43:12.722 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:43:12.722 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:43:12.722 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:43:12.722 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:43:12.722 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 09:43:12.724 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 09:43:12.725 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:43:12.725 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:43:12.726 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:43:12.726 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-23 09:43:12.726 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:43:12.726 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:43:12.728 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 09:43:12.731 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-23 09:43:12.734 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 09:43:12.735 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:43:12.735 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:43:12.735 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:43:12.735 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:43:12.735 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:43:12.735 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 09:43:12.740 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 09:43:12.740 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:43:12.740 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:43:12.741 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:43:12.741 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:43:12.743 -05:00 [DBG] Consultando perfil con id 34
2024-07-23 09:43:12.743 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:43:12.743 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:43:12.744 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:43:12.744 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:43:12.744 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:43:12.744 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 09:43:12.744 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 09:43:12.745 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:43:12.745 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:43:12.745 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:43:12.745 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:43:12.745 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:43:12.745 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:43:12.747 -05:00 [INF] Perfil encontrado con id: 34
2024-07-23 09:43:12.750 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-23 09:43:12.753 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 09:43:12.753 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:43:12.753 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:43:12.754 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:43:12.754 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:43:12.754 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:43:12.754 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 09:43:12.754 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 09:43:12.754 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:43:12.755 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:43:12.755 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:43:12.755 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:43:12.755 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 72.2447ms.
2024-07-23 09:43:12.755 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 09:43:12.755 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 09:43:12.755 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 09:43:12.755 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 09:43:12.755 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 09:43:12.755 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.DTOs.ConsultaPrestamoModel, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 09:43:12.759 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) in 161.453ms
2024-07-23 09:43:12.759 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 09:43:12.759 -05:00 [DBG] Connection id "0HN5B4KB7NFLT" completed keep alive response.
2024-07-23 09:43:12.759 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 09:43:12.760 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:43:12.760 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 09:43:12.760 -05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 200 null application/json; charset=utf-8 180.6001ms
2024-07-23 09:43:12.760 -05:00 [DBG] Connection id "0HN5B4KB7NFLT", Request id "0HN5B4KB7NFLT:00000003": started reading request body.
2024-07-23 09:43:12.760 -05:00 [DBG] Connection id "0HN5B4KB7NFLT", Request id "0HN5B4KB7NFLT:00000003": done reading request body.
2024-07-23 09:44:45.251 -05:00 [DBG] Connection id "0HN5B4KB7NFLU" accepted.
2024-07-23 09:44:45.252 -05:00 [DBG] Connection id "0HN5B4KB7NFLU" started.
2024-07-23 09:44:45.259 -05:00 [DBG] Connection 0HN5B4KB7NFLU established using the following protocol: "Tls12"
2024-07-23 09:44:45.275 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=34 - null null
2024-07-23 09:44:45.275 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 09:44:45.275 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 09:44:45.275 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:44:45.276 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 09:44:45.276 -05:00 [INF] CORS policy execution successful.
2024-07-23 09:44:45.276 -05:00 [DBG] The request is a preflight request.
2024-07-23 09:44:45.276 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=34 - 204 null null 1.0533ms
2024-07-23 09:44:45.281 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Perfiles/?id=34 - null null
2024-07-23 09:44:45.291 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 09:44:45.293 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 09:44:45.293 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 09:44:45.293 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:44:45.296 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 09:44:45.297 -05:00 [INF] CORS policy execution successful.
2024-07-23 09:44:45.297 -05:00 [DBG] Successfully validated the token.
2024-07-23 09:44:45.297 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 09:44:45.297 -05:00 [DBG] Authorization was successful.
2024-07-23 09:44:45.297 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 09:44:45.299 -05:00 [INF] Route matched with {action = "Get", controller = "Perfiles"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 09:44:45.300 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 09:44:45.300 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 09:44:45.300 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 09:44:45.300 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 09:44:45.300 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 09:44:45.300 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 09:44:45.300 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 09:44:45.300 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-07-23 09:44:45.301 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-07-23 09:44:45.301 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 09:44:45.301 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 09:44:45.301 -05:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-07-23 09:44:45.301 -05:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-07-23 09:44:45.328 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 09:44:45.331 -05:00 [DBG] Consultando perfil con id 34
2024-07-23 09:44:45.332 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 09:44:45.332 -05:00 [DBG] Creating DbConnection.
2024-07-23 09:44:45.333 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 09:44:45.333 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:44:45.333 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:44:45.333 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:44:45.333 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:44:45.333 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:44:45.333 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 09:44:45.336 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 09:44:45.336 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:44:45.336 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:44:45.336 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:44:45.337 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:44:45.337 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:44:45.339 -05:00 [INF] Perfil encontrado con id: 34
2024-07-23 09:44:45.339 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 10.9407ms.
2024-07-23 09:44:45.339 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 09:44:45.339 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 09:44:45.339 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 09:44:45.339 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 09:44:45.339 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 09:44:45.339 -05:00 [INF] Executing OkObjectResult, writing value of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 09:44:45.340 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) in 39.7117ms
2024-07-23 09:44:45.340 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 09:44:45.340 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 09:44:45.340 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:44:45.340 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 09:44:45.340 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Perfiles/?id=34 - 200 null application/json; charset=utf-8 59.0753ms
2024-07-23 09:49:14.835 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-23 09:49:15.053 -05:00 [DBG] Hosting starting
2024-07-23 09:49:15.121 -05:00 [INF] User profile is available. Using 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-23 09:49:15.130 -05:00 [DBG] Reading data from file 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys\key-12ed5171-7863-4d3e-a216-6f5439158e60.xml'.
2024-07-23 09:49:15.146 -05:00 [DBG] Found key {12ed5171-7863-4d3e-a216-6f5439158e60}.
2024-07-23 09:49:15.163 -05:00 [DBG] Considering key {12ed5171-7863-4d3e-a216-6f5439158e60} with expiration date 2024-09-28 19:27:42Z as default key.
2024-07-23 09:49:15.170 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-23 09:49:15.172 -05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-23 09:49:15.174 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-23 09:49:15.177 -05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-23 09:49:15.179 -05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-23 09:49:15.180 -05:00 [DBG] Using key {12ed5171-7863-4d3e-a216-6f5439158e60} as the default key.
2024-07-23 09:49:15.181 -05:00 [DBG] Key ring with default key {12ed5171-7863-4d3e-a216-6f5439158e60} was loaded during application startup.
2024-07-23 09:49:15.630 -05:00 [INF] Now listening on: https://localhost:7299
2024-07-23 09:49:15.631 -05:00 [INF] Now listening on: http://localhost:5219
2024-07-23 09:49:15.631 -05:00 [DBG] Loaded hosting startup assembly biblioteca-backend
2024-07-23 09:49:15.631 -05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-23 09:49:15.631 -05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-23 09:49:15.631 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-23 09:49:15.631 -05:00 [INF] Hosting environment: Development
2024-07-23 09:49:15.631 -05:00 [INF] Content root path: C:\Users\spatino\Documents\Proyeco - Biblioteca\biblioteca-backend
2024-07-23 09:49:15.633 -05:00 [DBG] Hosting started
2024-07-23 09:49:15.789 -05:00 [DBG] Connection id "0HN5B4QFSPTLV" accepted.
2024-07-23 09:49:15.797 -05:00 [DBG] Connection id "0HN5B4QFSPTM0" received FIN.
2024-07-23 09:49:15.797 -05:00 [DBG] Connection id "0HN5B4QFSPTLV" started.
2024-07-23 09:49:15.802 -05:00 [DBG] Connection id "0HN5B4QFSPTM0" accepted.
2024-07-23 09:49:15.806 -05:00 [DBG] Connection id "0HN5B4QFSPTM0" started.
2024-07-23 09:49:15.836 -05:00 [DBG] Connection id "0HN5B4QFSPTLV" received FIN.
2024-07-23 09:49:15.896 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-23 09:49:15.896 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-23 09:49:15.968 -05:00 [DBG] Connection id "0HN5B4QFSPTLV" stopped.
2024-07-23 09:49:15.968 -05:00 [DBG] Connection id "0HN5B4QFSPTM0" stopped.
2024-07-23 09:49:15.971 -05:00 [DBG] Connection id "0HN5B4QFSPTLV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-23 09:49:15.971 -05:00 [DBG] Connection id "0HN5B4QFSPTM0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-23 09:49:16.152 -05:00 [DBG] Connection id "0HN5B4QFSPTM1" accepted.
2024-07-23 09:49:16.288 -05:00 [DBG] Connection id "0HN5B4QFSPTM1" started.
2024-07-23 09:49:16.422 -05:00 [DBG] Connection 0HN5B4QFSPTM1 established using the following protocol: "Tls12"
2024-07-23 09:49:16.617 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/index.html - null null
2024-07-23 09:49:17.483 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-23 09:49:17.579 -05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-23 09:49:17.580 -05:00 [DBG] Request did not match any endpoints
2024-07-23 09:49:18.024 -05:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-07-23 09:49:18.030 -05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-23 09:49:18.877 -05:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-07-23 09:49:18.893 -05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-23 09:49:19.098 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/index.html - 200 null text/html;charset=utf-8 2473.9388ms
2024-07-23 09:49:19.936 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
2024-07-23 09:49:20.188 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
2024-07-23 09:49:20.212 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 277.1036ms
2024-07-23 09:49:21.020 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 832.961ms
2024-07-23 09:49:21.325 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
2024-07-23 09:49:21.326 -05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-23 09:49:21.326 -05:00 [DBG] Request did not match any endpoints
2024-07-23 09:49:22.395 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1069.5688ms
2024-07-23 09:49:50.252 -05:00 [DBG] Connection id "0HN5B4QFSPTM2" accepted.
2024-07-23 09:49:50.253 -05:00 [DBG] Connection id "0HN5B4QFSPTM2" received FIN.
2024-07-23 09:49:50.254 -05:00 [DBG] Connection id "0HN5B4QFSPTM3" accepted.
2024-07-23 09:49:50.255 -05:00 [DBG] Connection id "0HN5B4QFSPTM2" started.
2024-07-23 09:49:50.255 -05:00 [DBG] Connection id "0HN5B4QFSPTM3" started.
2024-07-23 09:49:50.268 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-23 09:49:50.299 -05:00 [DBG] Connection id "0HN5B4QFSPTM2" stopped.
2024-07-23 09:49:50.302 -05:00 [DBG] Connection id "0HN5B4QFSPTM2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-23 09:49:50.302 -05:00 [DBG] Connection 0HN5B4QFSPTM3 established using the following protocol: "Tls12"
2024-07-23 09:49:50.323 -05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - application/json 283
2024-07-23 09:49:50.336 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 09:49:50.344 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)' with route pattern 'api/Prestmaos/ConsultarPrestamos' is valid for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 09:49:50.345 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 09:49:50.353 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:49:51.428 -05:00 [DBG] Successfully validated the token.
2024-07-23 09:49:51.435 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 09:49:51.455 -05:00 [DBG] Authorization was successful.
2024-07-23 09:49:51.458 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 09:49:51.500 -05:00 [INF] Route matched with {action = "ConsultarPrestamos", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsultarPrestamos() on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 09:49:51.502 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 09:49:51.502 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 09:49:51.503 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 09:49:51.503 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 09:49:51.504 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 09:49:51.512 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 09:49:52.072 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-23 09:49:52.119 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 09:49:52.268 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) - Validation state: "Valid"
2024-07-23 09:49:54.495 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 09:49:54.560 -05:00 [DBG] Compiling query expression: 
'DbSet<Prestamo>()'
2024-07-23 09:49:54.845 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Prestamo>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Prestamo.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Prestamo.FechaPrestamo (DateTime) Required, 1], [Property: Prestamo.IdPerfil (int) Required FK Index, 2] }
        SELECT p.Id, p.FechaPrestamo, p.IdPerfil
        FROM Prestamo AS p), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Prestamo>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-23 09:49:54.894 -05:00 [DBG] Creating DbConnection.
2024-07-23 09:49:54.952 -05:00 [DBG] Created DbConnection. (53ms).
2024-07-23 09:49:54.956 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:49:55.383 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:49:55.391 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:49:55.403 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-07-23 09:49:55.406 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (18ms).
2024-07-23 09:49:55.418 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 09:49:55.868 -05:00 [INF] Executed DbCommand (446ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 09:49:55.944 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:49:55.975 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:49:55.990 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:49:56.011 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 125ms reading results.
2024-07-23 09:49:56.023 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:49:56.032 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (10ms).
2024-07-23 09:49:56.043 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 09:49:56.057 -05:00 [DBG] Compiling query expression: 
'DbSet<Perfil>()
    .FirstOrDefault(p => p.Id == __id_0)'
2024-07-23 09:49:56.137 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Perfil>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Perfil.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Perfil.Apellido (string) Required, 1], [Property: Perfil.Contrasena (string) Required, 2], [Property: Perfil.Correo (string) Required, 3], [Property: Perfil.Direccion (string) Required, 4], [Property: Perfil.IdRol (int) Required FK Index, 5], [Property: Perfil.Nombre (string) Required, 6], [Property: Perfil.Telefono (string) Required, 7] }
        SELECT TOP(1) p.Id, p.Apellido, p.Contrasena, p.Correo, p.Direccion, p.IdRol, p.Nombre, p.Telefono
        FROM Perfil AS p
        WHERE p.Id == @__id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Perfil>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-23 09:49:56.148 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:49:56.151 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:49:56.151 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:49:56.151 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:49:56.155 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-07-23 09:49:56.158 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 09:49:56.238 -05:00 [INF] Executed DbCommand (82ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 09:49:56.263 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:49:56.286 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:49:56.309 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:49:56.311 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 72ms reading results.
2024-07-23 09:49:56.312 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:49:56.312 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:49:56.318 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 09:49:56.325 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-23 09:49:56.337 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 09:49:56.344 -05:00 [DBG] Compiling query expression: 
'DbSet<Perfil>()
    .Join(
        inner: DbSet<Prestamo>(), 
        outerKeySelector: P => P.Id, 
        innerKeySelector: PR => PR.IdPerfil, 
        resultSelector: (P, PR) => new { 
            P = P, 
            PR = PR
         })
    .Join(
        inner: DbSet<DetallePrestamoLibro>(), 
        outerKeySelector: <>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.PR.Id, 
        innerKeySelector: DP => DP.IdPrestamo, 
        resultSelector: (<>h__TransparentIdentifier0, DP) => new { 
            <>h__TransparentIdentifier0 = <>h__TransparentIdentifier0, 
            DP = DP
         })
    .Join(
        inner: DbSet<Libro>(), 
        outerKeySelector: <>h__TransparentIdentifier1 => <>h__TransparentIdentifier1.DP.IdLibro, 
        innerKeySelector: L => L.Id, 
        resultSelector: (<>h__TransparentIdentifier1, L) => new { 
            <>h__TransparentIdentifier1 = <>h__TransparentIdentifier1, 
            L = L
         })
    .Where(<>h__TransparentIdentifier2 => <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.P.Id == __idPerfil_0)
    .Select(<>h__TransparentIdentifier2 => new Libro{ 
        Id = <>h__TransparentIdentifier2.L.Id, 
        Titulo = <>h__TransparentIdentifier2.L.Titulo, 
        Autor = <>h__TransparentIdentifier2.L.Autor, 
        IdGenero = <>h__TransparentIdentifier2.L.IdGenero, 
        Anio = <>h__TransparentIdentifier2.L.Anio, 
        Activo = <>h__TransparentIdentifier2.L.Activo 
    }
    )'
2024-07-23 09:49:56.450 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Libro>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            Id -> 0
            Titulo -> 1
            Autor -> 2
            IdGenero -> 3
            Anio -> 4
            Activo -> 5
        SELECT l.Id, l.Titulo, l.Autor, l.IdGenero, l.Anio, l.Activo
        FROM Perfil AS p
        INNER JOIN Prestamo AS p0 ON p.Id == p0.IdPerfil
        INNER JOIN DetallePrestamoLibro AS d ON p0.Id == d.IdPrestamo
        INNER JOIN Libro AS l ON d.IdLibro == l.Id
        WHERE p.Id == @__idPerfil_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Libro>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-23 09:49:56.452 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:49:56.452 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:49:56.452 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:49:56.452 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:49:56.452 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:49:56.453 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 09:49:56.536 -05:00 [INF] Executed DbCommand (84ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 09:49:56.538 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:49:56.539 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-23 09:49:56.539 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:49:56.539 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:49:56.542 -05:00 [DBG] Consultando perfil con id 34
2024-07-23 09:49:56.546 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:49:56.546 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:49:56.546 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:49:56.547 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:49:56.547 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:49:56.547 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 09:49:56.549 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 09:49:56.550 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:49:56.550 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:49:56.550 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:49:56.550 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:49:56.550 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:49:56.551 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:49:56.553 -05:00 [INF] Perfil encontrado con id: 34
2024-07-23 09:49:56.555 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-23 09:49:56.558 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 09:49:56.560 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:49:56.560 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:49:56.561 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:49:56.561 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:49:56.561 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:49:56.561 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 09:49:56.562 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 09:49:56.562 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:49:56.562 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:49:56.562 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:49:56.562 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:49:56.569 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4295.6196ms.
2024-07-23 09:49:56.574 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 09:49:56.577 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 09:49:56.577 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 09:49:56.577 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 09:49:56.579 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 09:49:56.580 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.DTOs.ConsultaPrestamoModel, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 09:49:56.609 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) in 5100.6844ms
2024-07-23 09:49:56.610 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 09:49:56.612 -05:00 [DBG] Connection id "0HN5B4QFSPTM3" completed keep alive response.
2024-07-23 09:49:56.619 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 09:49:56.628 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:49:56.630 -05:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-07-23 09:49:56.631 -05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 200 null application/json; charset=utf-8 6308.6526ms
2024-07-23 09:49:56.634 -05:00 [DBG] Connection id "0HN5B4QFSPTM3", Request id "0HN5B4QFSPTM3:00000001": started reading request body.
2024-07-23 09:49:56.634 -05:00 [DBG] Connection id "0HN5B4QFSPTM3", Request id "0HN5B4QFSPTM3:00000001": done reading request body.
2024-07-23 09:51:09.975 -05:00 [DBG] Connection id "0HN5B4QFSPTM1" received FIN.
2024-07-23 09:51:10.015 -05:00 [DBG] Connection id "0HN5B4QFSPTM1" is closed. The last processed stream ID was 7.
2024-07-23 09:51:10.016 -05:00 [DBG] Connection id "0HN5B4QFSPTM1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-23 09:51:10.017 -05:00 [DBG] The connection queue processing loop for 0HN5B4QFSPTM1 completed.
2024-07-23 09:51:10.018 -05:00 [DBG] Connection id "0HN5B4QFSPTM1" stopped.
2024-07-23 09:51:43.266 -05:00 [DBG] Connection id "0HN5B4QFSPTM4" accepted.
2024-07-23 09:51:43.267 -05:00 [DBG] Connection id "0HN5B4QFSPTM4" started.
2024-07-23 09:51:43.351 -05:00 [DBG] Connection 0HN5B4QFSPTM4 established using the following protocol: "Tls12"
2024-07-23 09:51:43.357 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=34 - null null
2024-07-23 09:51:43.366 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 09:51:43.367 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 09:51:43.367 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:51:43.438 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 09:51:43.439 -05:00 [INF] CORS policy execution successful.
2024-07-23 09:51:43.474 -05:00 [DBG] The request is a preflight request.
2024-07-23 09:51:43.476 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=34 - 204 null null 119.6469ms
2024-07-23 09:51:43.482 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Perfiles/?id=34 - null null
2024-07-23 09:51:43.482 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 09:51:43.483 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 09:51:43.483 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 09:51:43.483 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:51:43.486 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 09:51:43.486 -05:00 [INF] CORS policy execution successful.
2024-07-23 09:51:43.492 -05:00 [DBG] Successfully validated the token.
2024-07-23 09:51:43.493 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 09:51:43.504 -05:00 [DBG] Authorization was successful.
2024-07-23 09:51:43.505 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 09:51:43.540 -05:00 [INF] Route matched with {action = "Get", controller = "Perfiles"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 09:51:43.540 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 09:51:43.540 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 09:51:43.541 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 09:51:43.541 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 09:51:43.541 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 09:51:43.542 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 09:51:43.547 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 09:51:43.563 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-07-23 09:51:43.568 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-07-23 09:51:43.571 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 09:51:43.571 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 09:51:43.571 -05:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-07-23 09:51:43.580 -05:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-07-23 09:51:43.660 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 09:51:43.667 -05:00 [DBG] Consultando perfil con id 34
2024-07-23 09:51:43.700 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 09:51:43.702 -05:00 [DBG] Creating DbConnection.
2024-07-23 09:51:43.703 -05:00 [DBG] Created DbConnection. (1ms).
2024-07-23 09:51:43.703 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:51:43.704 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:51:43.704 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:51:43.704 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:51:43.704 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:51:43.705 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 09:51:43.710 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 09:51:43.710 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:51:43.711 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:51:43.711 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:51:43.711 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:51:43.711 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:51:43.716 -05:00 [INF] Perfil encontrado con id: 34
2024-07-23 09:51:43.716 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 55.183ms.
2024-07-23 09:51:43.717 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 09:51:43.718 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 09:51:43.718 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 09:51:43.718 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 09:51:43.719 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 09:51:43.719 -05:00 [INF] Executing OkObjectResult, writing value of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 09:51:43.721 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) in 178.7643ms
2024-07-23 09:51:43.721 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 09:51:43.721 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 09:51:43.721 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:51:43.722 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 09:51:43.722 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Perfiles/?id=34 - 200 null application/json; charset=utf-8 241.0196ms
2024-07-23 09:51:50.560 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=34 - null null
2024-07-23 09:51:50.560 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 09:51:50.561 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 09:51:50.561 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:51:50.561 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 09:51:50.561 -05:00 [INF] CORS policy execution successful.
2024-07-23 09:51:50.561 -05:00 [DBG] The request is a preflight request.
2024-07-23 09:51:50.561 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=34 - 204 null null 3.7167ms
2024-07-23 09:51:50.567 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Perfiles/?id=34 - null null
2024-07-23 09:51:50.567 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 09:51:50.568 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 09:51:50.568 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 09:51:50.568 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:51:50.568 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 09:51:50.568 -05:00 [INF] CORS policy execution successful.
2024-07-23 09:51:50.572 -05:00 [DBG] Successfully validated the token.
2024-07-23 09:51:50.572 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 09:51:50.573 -05:00 [DBG] Authorization was successful.
2024-07-23 09:51:50.573 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 09:51:50.574 -05:00 [INF] Route matched with {action = "Get", controller = "Perfiles"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 09:51:50.574 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 09:51:50.574 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 09:51:50.574 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 09:51:50.574 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 09:51:50.574 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 09:51:50.574 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 09:51:50.578 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 09:51:50.579 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-07-23 09:51:50.580 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-07-23 09:51:50.580 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 09:51:50.580 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 09:51:50.580 -05:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-07-23 09:51:50.580 -05:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-07-23 09:51:50.613 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 09:51:50.615 -05:00 [DBG] Consultando perfil con id 34
2024-07-23 09:51:50.702 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 09:51:50.703 -05:00 [DBG] Creating DbConnection.
2024-07-23 09:51:50.703 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 09:51:50.703 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:51:50.703 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:51:50.703 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:51:50.703 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:51:50.703 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:51:50.703 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 09:51:50.704 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 09:51:50.704 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:51:50.704 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:51:50.704 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:51:50.705 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:51:50.705 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:51:50.707 -05:00 [INF] Perfil encontrado con id: 34
2024-07-23 09:51:50.707 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 94.098ms.
2024-07-23 09:51:50.708 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 09:51:50.708 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 09:51:50.709 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 09:51:50.709 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 09:51:50.709 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 09:51:50.709 -05:00 [INF] Executing OkObjectResult, writing value of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 09:51:50.710 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) in 135.8965ms
2024-07-23 09:51:50.710 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 09:51:50.710 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 09:51:50.710 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:51:50.710 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 09:51:50.710 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Perfiles/?id=34 - 200 null application/json; charset=utf-8 143.6084ms
2024-07-23 09:51:56.570 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-23 09:51:56.570 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 09:51:56.570 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 09:51:56.570 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:51:56.570 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 09:51:56.570 -05:00 [INF] CORS policy execution successful.
2024-07-23 09:51:56.570 -05:00 [DBG] The request is a preflight request.
2024-07-23 09:51:56.571 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - 204 null null 0.856ms
2024-07-23 09:51:56.576 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-23 09:51:56.577 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 09:51:56.577 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 09:51:56.577 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 09:51:56.577 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:51:56.577 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 09:51:56.577 -05:00 [INF] CORS policy execution successful.
2024-07-23 09:51:56.578 -05:00 [DBG] Successfully validated the token.
2024-07-23 09:51:56.578 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 09:51:56.578 -05:00 [DBG] Authorization was successful.
2024-07-23 09:51:56.578 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 09:51:56.581 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 09:51:56.581 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 09:51:56.581 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 09:51:56.581 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 09:51:56.581 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 09:51:56.581 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 09:51:56.581 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 09:51:56.582 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 09:51:56.582 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 09:51:56.584 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-23 09:51:56.584 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 09:51:56.584 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 09:51:56.585 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 09:51:56.585 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 09:51:56.614 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 09:51:56.620 -05:00 [DBG] Consultando libros...
2024-07-23 09:51:56.621 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 09:51:56.632 -05:00 [DBG] Compiling query expression: 
'DbSet<Libro>()
    .Join(
        inner: DbSet<Genero>(), 
        outerKeySelector: L => L.IdGenero, 
        innerKeySelector: G => G.Id, 
        resultSelector: (L, G) => new { 
            L = L, 
            G = G
         })
    .Where(<>h__TransparentIdentifier0 => True && <>h__TransparentIdentifier0.L.Activo == True || False)
    .Select(<>h__TransparentIdentifier0 => new { 
        id = <>h__TransparentIdentifier0.L.Id, 
        titulo = <>h__TransparentIdentifier0.L.Titulo, 
        autor = <>h__TransparentIdentifier0.L.Autor, 
        anio = <>h__TransparentIdentifier0.L.Anio, 
        idGenero = <>h__TransparentIdentifier0.L.IdGenero, 
        genero = <>h__TransparentIdentifier0.G.Nombre, 
        activo = <>h__TransparentIdentifier0.L.Activo
     })'
2024-07-23 09:51:56.644 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType1<int, string, string, int, int, string, bool>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            id -> 0
            titulo -> 1
            autor -> 2
            anio -> 3
            idGenero -> 4
            genero -> 5
            activo -> 6
        SELECT l.Id AS id, l.Titulo AS titulo, l.Autor AS autor, l.Anio AS anio, l.IdGenero AS idGenero, g.Nombre AS genero, l.Activo AS activo
        FROM Libro AS l
        INNER JOIN Genero AS g ON l.IdGenero == g.Id
        WHERE (CAST(1 AS bit) && (l.Activo == CAST(1 AS bit))) || CAST(0 AS bit)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType1<int, string, string, int, int, string, bool>>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-23 09:51:56.647 -05:00 [DBG] Creating DbConnection.
2024-07-23 09:51:56.647 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 09:51:56.647 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:51:56.647 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:51:56.647 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:51:56.647 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:51:56.647 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:51:56.647 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 09:51:56.652 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 09:51:56.652 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:51:56.652 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:51:56.652 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:51:56.652 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:51:56.655 -05:00 [INF] Consulta de libros exitosa
2024-07-23 09:51:56.655 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 40.9492ms.
2024-07-23 09:51:56.655 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 09:51:56.655 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 09:51:56.655 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 09:51:56.655 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 09:51:56.655 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 09:51:56.656 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 09:51:56.665 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 83.8797ms
2024-07-23 09:51:56.665 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 09:51:56.666 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 09:51:56.666 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:51:56.666 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 09:51:56.666 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 89.9491ms
2024-07-23 09:51:58.321 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=34 - null null
2024-07-23 09:51:58.321 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 09:51:58.321 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 09:51:58.321 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:51:58.321 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 09:51:58.321 -05:00 [INF] CORS policy execution successful.
2024-07-23 09:51:58.321 -05:00 [DBG] The request is a preflight request.
2024-07-23 09:51:58.321 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=34 - 204 null null 0.7959ms
2024-07-23 09:51:58.327 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=34 - null null
2024-07-23 09:51:58.327 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 09:51:58.328 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-07-23 09:51:58.328 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 09:51:58.328 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:51:58.328 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 09:51:58.328 -05:00 [INF] CORS policy execution successful.
2024-07-23 09:51:58.328 -05:00 [DBG] Successfully validated the token.
2024-07-23 09:51:58.328 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 09:51:58.329 -05:00 [DBG] Authorization was successful.
2024-07-23 09:51:58.329 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 09:51:58.332 -05:00 [INF] Route matched with {action = "Get", controller = "Prestmaos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 09:51:58.332 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 09:51:58.332 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 09:51:58.332 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 09:51:58.333 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 09:51:58.333 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 09:51:58.333 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 09:51:58.333 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 09:51:58.333 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-23 09:51:58.333 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-23 09:51:58.334 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 09:51:58.334 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 09:51:58.334 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-23 09:51:58.334 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 09:51:58.364 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 09:51:58.367 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-23 09:51:58.368 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 09:51:58.371 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 09:51:58.372 -05:00 [DBG] Creating DbConnection.
2024-07-23 09:51:58.372 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 09:51:58.372 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:51:58.372 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:51:58.372 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:51:58.372 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:51:58.372 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:51:58.372 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 09:51:58.383 -05:00 [INF] Executed DbCommand (11ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 09:51:58.384 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:51:58.384 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:51:58.384 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:51:58.384 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:51:58.384 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 19.8017ms.
2024-07-23 09:51:58.384 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 09:51:58.384 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 09:51:58.384 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 09:51:58.385 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 09:51:58.385 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 09:51:58.385 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.Collections.Generic.List`1[[biblioteca_backend.Models.Libro, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-23 09:51:58.386 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) in 53.3138ms
2024-07-23 09:51:58.386 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 09:51:58.386 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 09:51:58.386 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:51:58.387 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 09:51:58.387 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=34 - 200 null application/json; charset=utf-8 59.359ms
2024-07-23 09:52:27.377 -05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7299/api/Perfiles - application/json 75
2024-07-23 09:52:27.377 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles'
2024-07-23 09:52:27.377 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles'
2024-07-23 09:52:27.377 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 09:52:27.378 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:52:27.378 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-23 09:52:27.378 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 09:52:27.380 -05:00 [INF] Route matched with {action = "Post", controller = "Perfiles"}. Executing controller action with signature System.Object Post(biblioteca_backend.Models.DTOs.LogInModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 09:52:27.380 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 09:52:27.380 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 09:52:27.380 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 09:52:27.380 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 09:52:27.380 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 09:52:27.380 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 09:52:27.381 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 09:52:27.381 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-23 09:52:27.382 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' using the name '' in request data ...
2024-07-23 09:52:27.383 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-23 09:52:27.387 -05:00 [DBG] Connection id "0HN5B4QFSPTM3", Request id "0HN5B4QFSPTM3:00000002": started reading request body.
2024-07-23 09:52:27.388 -05:00 [DBG] Connection id "0HN5B4QFSPTM3", Request id "0HN5B4QFSPTM3:00000002": done reading request body.
2024-07-23 09:52:27.394 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.LogInModel'
2024-07-23 09:52:27.394 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 09:52:27.395 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 09:52:27.395 -05:00 [DBG] Attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-23 09:52:27.402 -05:00 [DBG] Done attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 09:52:27.453 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) - Validation state: "Valid"
2024-07-23 09:52:27.458 -05:00 [DBG] Iniciando sesión...
2024-07-23 09:52:27.461 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 09:52:27.461 -05:00 [DBG] Compiling query expression: 
'DbSet<Perfil>()
    .FirstOrDefault(p => p.Correo == __8__locals1_logInModel_Correo_0 && p.Contrasena == __claveCifrada_1)'
2024-07-23 09:52:27.465 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Perfil>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Perfil.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Perfil.Apellido (string) Required, 1], [Property: Perfil.Contrasena (string) Required, 2], [Property: Perfil.Correo (string) Required, 3], [Property: Perfil.Direccion (string) Required, 4], [Property: Perfil.IdRol (int) Required FK Index, 5], [Property: Perfil.Nombre (string) Required, 6], [Property: Perfil.Telefono (string) Required, 7] }
        SELECT TOP(1) p.Id, p.Apellido, p.Contrasena, p.Correo, p.Direccion, p.IdRol, p.Nombre, p.Telefono
        FROM Perfil AS p
        WHERE (p.Correo == @__8__locals1_logInModel_Correo_0) && (p.Contrasena == @__claveCifrada_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Perfil>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-23 09:52:27.466 -05:00 [DBG] Creating DbConnection.
2024-07-23 09:52:27.466 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 09:52:27.466 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:52:27.467 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:52:27.467 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:52:27.467 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:52:27.467 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:52:27.467 -05:00 [DBG] Executing DbCommand [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-23 09:52:27.470 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-23 09:52:27.470 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:52:27.470 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:52:27.470 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:52:27.470 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:52:27.479 -05:00 [WRN] Correo o contraseña no encontrados
2024-07-23 09:52:27.485 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 31.746ms.
2024-07-23 09:52:27.485 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 09:52:27.485 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 09:52:27.485 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 09:52:27.485 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 09:52:27.485 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-07-23 09:52:27.485 -05:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-07-23 09:52:27.485 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) in 104.9707ms
2024-07-23 09:52:27.485 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 09:52:27.486 -05:00 [DBG] Connection id "0HN5B4QFSPTM3" completed keep alive response.
2024-07-23 09:52:27.486 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 09:52:27.486 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:52:27.486 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 09:52:27.486 -05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7299/api/Perfiles - 200 0 text/plain; charset=utf-8 109.4018ms
2024-07-23 09:52:47.232 -05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7299/api/Perfiles - application/json 75
2024-07-23 09:52:47.232 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles'
2024-07-23 09:52:47.232 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles'
2024-07-23 09:52:47.232 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 09:52:47.232 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:52:47.232 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-23 09:52:47.232 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 09:52:47.232 -05:00 [INF] Route matched with {action = "Post", controller = "Perfiles"}. Executing controller action with signature System.Object Post(biblioteca_backend.Models.DTOs.LogInModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 09:52:47.232 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 09:52:47.233 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 09:52:47.233 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 09:52:47.233 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 09:52:47.233 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 09:52:47.233 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 09:52:47.233 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 09:52:47.233 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-23 09:52:47.233 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' using the name '' in request data ...
2024-07-23 09:52:47.233 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-23 09:52:47.234 -05:00 [DBG] Connection id "0HN5B4QFSPTM3", Request id "0HN5B4QFSPTM3:00000003": started reading request body.
2024-07-23 09:52:47.234 -05:00 [DBG] Connection id "0HN5B4QFSPTM3", Request id "0HN5B4QFSPTM3:00000003": done reading request body.
2024-07-23 09:52:47.234 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.LogInModel'
2024-07-23 09:52:47.234 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 09:52:47.234 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 09:52:47.234 -05:00 [DBG] Attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-23 09:52:47.234 -05:00 [DBG] Done attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 09:52:47.265 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) - Validation state: "Valid"
2024-07-23 09:52:47.268 -05:00 [DBG] Iniciando sesión...
2024-07-23 09:52:47.269 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 09:52:47.269 -05:00 [DBG] Creating DbConnection.
2024-07-23 09:52:47.269 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 09:52:47.270 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:52:47.270 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:52:47.270 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:52:47.270 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:52:47.270 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:52:47.270 -05:00 [DBG] Executing DbCommand [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-23 09:52:47.275 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-23 09:52:47.275 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:52:47.275 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:52:47.275 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:52:47.275 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:52:47.278 -05:00 [WRN] Correo o contraseña no encontrados
2024-07-23 09:52:47.279 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 13.1952ms.
2024-07-23 09:52:47.279 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 09:52:47.279 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 09:52:47.279 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 09:52:47.279 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 09:52:47.279 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-07-23 09:52:47.279 -05:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-07-23 09:52:47.279 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) in 46.47ms
2024-07-23 09:52:47.279 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 09:52:47.279 -05:00 [DBG] Connection id "0HN5B4QFSPTM3" completed keep alive response.
2024-07-23 09:52:47.280 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 09:52:47.280 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:52:47.280 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 09:52:47.280 -05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7299/api/Perfiles - 200 0 text/plain; charset=utf-8 48.3461ms
2024-07-23 09:52:55.016 -05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7299/api/Perfiles - application/json 77
2024-07-23 09:52:55.016 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles'
2024-07-23 09:52:55.017 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles'
2024-07-23 09:52:55.017 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 09:52:55.017 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:52:55.017 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-23 09:52:55.017 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 09:52:55.017 -05:00 [INF] Route matched with {action = "Post", controller = "Perfiles"}. Executing controller action with signature System.Object Post(biblioteca_backend.Models.DTOs.LogInModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 09:52:55.017 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 09:52:55.017 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 09:52:55.017 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 09:52:55.017 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 09:52:55.017 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 09:52:55.017 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 09:52:55.017 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 09:52:55.017 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-23 09:52:55.018 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' using the name '' in request data ...
2024-07-23 09:52:55.018 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-23 09:52:55.018 -05:00 [DBG] Connection id "0HN5B4QFSPTM3", Request id "0HN5B4QFSPTM3:00000004": started reading request body.
2024-07-23 09:52:55.018 -05:00 [DBG] Connection id "0HN5B4QFSPTM3", Request id "0HN5B4QFSPTM3:00000004": done reading request body.
2024-07-23 09:52:55.018 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.LogInModel'
2024-07-23 09:52:55.018 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 09:52:55.018 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 09:52:55.018 -05:00 [DBG] Attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-23 09:52:55.018 -05:00 [DBG] Done attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 09:52:55.052 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) - Validation state: "Valid"
2024-07-23 09:52:55.054 -05:00 [DBG] Iniciando sesión...
2024-07-23 09:52:55.055 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 09:52:55.056 -05:00 [DBG] Creating DbConnection.
2024-07-23 09:52:55.056 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 09:52:55.056 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:52:55.057 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:52:55.057 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:52:55.057 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:52:55.057 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:52:55.057 -05:00 [DBG] Executing DbCommand [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-23 09:52:55.058 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-23 09:52:55.058 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:52:55.058 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:52:55.058 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:52:55.058 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:52:55.061 -05:00 [WRN] Correo o contraseña no encontrados
2024-07-23 09:52:55.062 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 9.6595ms.
2024-07-23 09:52:55.062 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 09:52:55.062 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 09:52:55.062 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 09:52:55.062 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 09:52:55.062 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-07-23 09:52:55.062 -05:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-07-23 09:52:55.062 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) in 45.0067ms
2024-07-23 09:52:55.062 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 09:52:55.062 -05:00 [DBG] Connection id "0HN5B4QFSPTM3" completed keep alive response.
2024-07-23 09:52:55.062 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 09:52:55.062 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:52:55.063 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 09:52:55.063 -05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7299/api/Perfiles - 200 0 text/plain; charset=utf-8 46.4614ms
2024-07-23 09:53:14.738 -05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7299/api/Perfiles - application/json 76
2024-07-23 09:53:14.738 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles'
2024-07-23 09:53:14.738 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles'
2024-07-23 09:53:14.738 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 09:53:14.738 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:53:14.739 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-23 09:53:14.739 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 09:53:14.739 -05:00 [INF] Route matched with {action = "Post", controller = "Perfiles"}. Executing controller action with signature System.Object Post(biblioteca_backend.Models.DTOs.LogInModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 09:53:14.739 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 09:53:14.739 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 09:53:14.739 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 09:53:14.740 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 09:53:14.740 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 09:53:14.740 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 09:53:14.740 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 09:53:14.740 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-23 09:53:14.740 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' using the name '' in request data ...
2024-07-23 09:53:14.740 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-23 09:53:14.741 -05:00 [DBG] Connection id "0HN5B4QFSPTM3", Request id "0HN5B4QFSPTM3:00000005": started reading request body.
2024-07-23 09:53:14.741 -05:00 [DBG] Connection id "0HN5B4QFSPTM3", Request id "0HN5B4QFSPTM3:00000005": done reading request body.
2024-07-23 09:53:14.741 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.LogInModel'
2024-07-23 09:53:14.741 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 09:53:14.741 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 09:53:14.741 -05:00 [DBG] Attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-23 09:53:14.741 -05:00 [DBG] Done attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 09:53:14.773 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) - Validation state: "Valid"
2024-07-23 09:53:14.776 -05:00 [DBG] Iniciando sesión...
2024-07-23 09:53:14.778 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 09:53:14.778 -05:00 [DBG] Creating DbConnection.
2024-07-23 09:53:14.778 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 09:53:14.778 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:53:14.778 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:53:14.778 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:53:14.778 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:53:14.778 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:53:14.779 -05:00 [DBG] Executing DbCommand [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-23 09:53:14.779 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-23 09:53:14.779 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:53:14.779 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:53:14.779 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:53:14.780 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:53:14.780 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:53:14.781 -05:00 [DBG] Compiling query expression: 
'DbSet<Rol>()
    .FirstOrDefault(r => r.Id == ___perfil_IdRol_0)'
2024-07-23 09:53:14.784 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Rol>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Rol.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Rol.Nombre (string) Required, 1] }
        SELECT TOP(1) r.Id, r.Nombre
        FROM Rol AS r
        WHERE r.Id == @___perfil_IdRol_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Rol>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-23 09:53:14.785 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:53:14.785 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:53:14.785 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:53:14.785 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:53:14.785 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:53:14.785 -05:00 [DBG] Executing DbCommand [Parameters=[@___perfil_IdRol_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Nombre]
FROM [Rol] AS [r]
WHERE [r].[Id] = @___perfil_IdRol_0
2024-07-23 09:53:14.788 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@___perfil_IdRol_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Nombre]
FROM [Rol] AS [r]
WHERE [r].[Id] = @___perfil_IdRol_0
2024-07-23 09:53:14.793 -05:00 [DBG] The navigation 'Perfil.Rol' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:53:14.795 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Rol' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:53:14.799 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:53:14.799 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 10ms reading results.
2024-07-23 09:53:14.799 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:53:14.800 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:53:14.825 -05:00 [INF] Inicio de sesión exitoso
2024-07-23 09:53:14.827 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 53.8038ms.
2024-07-23 09:53:14.828 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 09:53:14.828 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 09:53:14.828 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 09:53:14.828 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 09:53:14.829 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 09:53:14.829 -05:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-23 09:53:14.831 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) in 91.2897ms
2024-07-23 09:53:14.831 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 09:53:14.831 -05:00 [DBG] Connection id "0HN5B4QFSPTM3" completed keep alive response.
2024-07-23 09:53:14.831 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 09:53:14.832 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:53:14.832 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 09:53:14.832 -05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7299/api/Perfiles - 200 null application/json; charset=utf-8 94.1186ms
2024-07-23 09:53:29.146 -05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - application/json 283
2024-07-23 09:53:29.146 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 09:53:29.146 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)' with route pattern 'api/Prestmaos/ConsultarPrestamos' is valid for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 09:53:29.146 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 09:53:29.146 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:53:29.147 -05:00 [DBG] Successfully validated the token.
2024-07-23 09:53:29.147 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 09:53:29.148 -05:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrador)
2024-07-23 09:53:29.153 -05:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-07-23 09:53:29.153 -05:00 [DBG] Connection id "0HN5B4QFSPTM3" completed keep alive response.
2024-07-23 09:53:29.154 -05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 403 0 null 7.6868ms
2024-07-23 09:53:29.154 -05:00 [DBG] Connection id "0HN5B4QFSPTM3", Request id "0HN5B4QFSPTM3:00000006": started reading request body.
2024-07-23 09:53:29.154 -05:00 [DBG] Connection id "0HN5B4QFSPTM3", Request id "0HN5B4QFSPTM3:00000006": done reading request body.
2024-07-23 09:53:33.982 -05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - application/json 283
2024-07-23 09:53:33.982 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 09:53:33.982 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)' with route pattern 'api/Prestmaos/ConsultarPrestamos' is valid for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 09:53:33.982 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 09:53:33.982 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:53:33.983 -05:00 [DBG] Successfully validated the token.
2024-07-23 09:53:33.983 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 09:53:33.983 -05:00 [DBG] Authorization was successful.
2024-07-23 09:53:33.983 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 09:53:33.983 -05:00 [INF] Route matched with {action = "ConsultarPrestamos", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsultarPrestamos() on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 09:53:33.983 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 09:53:33.983 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 09:53:33.984 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 09:53:33.984 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 09:53:33.984 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 09:53:33.984 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 09:53:33.984 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 09:53:34.026 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) - Validation state: "Valid"
2024-07-23 09:53:34.028 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 09:53:34.029 -05:00 [DBG] Creating DbConnection.
2024-07-23 09:53:34.029 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 09:53:34.029 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:53:34.029 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:53:34.029 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:53:34.029 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:53:34.029 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:53:34.029 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 09:53:34.034 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 09:53:34.035 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:53:34.035 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:53:34.035 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:53:34.035 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:53:34.036 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:53:34.036 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:53:34.044 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 09:53:34.045 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:53:34.045 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:53:34.045 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:53:34.045 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:53:34.046 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:53:34.046 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 09:53:34.047 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 09:53:34.047 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:53:34.047 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:53:34.048 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:53:34.048 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:53:34.048 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:53:34.048 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:53:34.050 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 09:53:34.055 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-23 09:53:34.059 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 09:53:34.059 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:53:34.060 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:53:34.060 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:53:34.060 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:53:34.060 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:53:34.060 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 09:53:34.067 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 09:53:34.068 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:53:34.068 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:53:34.068 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:53:34.068 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:53:34.071 -05:00 [DBG] Consultando perfil con id 34
2024-07-23 09:53:34.072 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:53:34.072 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:53:34.072 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:53:34.072 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:53:34.072 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:53:34.072 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 09:53:34.073 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 09:53:34.073 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:53:34.073 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:53:34.073 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:53:34.073 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:53:34.073 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:53:34.073 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:53:34.076 -05:00 [INF] Perfil encontrado con id: 34
2024-07-23 09:53:34.079 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-23 09:53:34.082 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 09:53:34.083 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:53:34.083 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:53:34.083 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:53:34.083 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:53:34.083 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:53:34.083 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 09:53:34.084 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 09:53:34.084 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:53:34.084 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:53:34.084 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:53:34.084 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:53:34.084 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 58.2875ms.
2024-07-23 09:53:34.084 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 09:53:34.084 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 09:53:34.084 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 09:53:34.084 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 09:53:34.085 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 09:53:34.085 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.DTOs.ConsultaPrestamoModel, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 09:53:34.085 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) in 101.0654ms
2024-07-23 09:53:34.085 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 09:53:34.085 -05:00 [DBG] Connection id "0HN5B4QFSPTM3" completed keep alive response.
2024-07-23 09:53:34.085 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 09:53:34.085 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:53:34.085 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 09:53:34.085 -05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 200 null application/json; charset=utf-8 103.3664ms
2024-07-23 09:53:34.085 -05:00 [DBG] Connection id "0HN5B4QFSPTM3", Request id "0HN5B4QFSPTM3:00000007": started reading request body.
2024-07-23 09:53:34.085 -05:00 [DBG] Connection id "0HN5B4QFSPTM3", Request id "0HN5B4QFSPTM3:00000007": done reading request body.
2024-07-23 09:55:42.104 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=34 - null null
2024-07-23 09:55:42.108 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 09:55:42.108 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 09:55:42.108 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:55:42.110 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 09:55:42.111 -05:00 [INF] CORS policy execution successful.
2024-07-23 09:55:42.111 -05:00 [DBG] The request is a preflight request.
2024-07-23 09:55:42.129 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=34 - 204 null null 22.9992ms
2024-07-23 09:55:42.140 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=34 - null null
2024-07-23 09:55:42.143 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 09:55:42.144 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-07-23 09:55:42.144 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 09:55:42.163 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:55:42.167 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 09:55:42.168 -05:00 [INF] CORS policy execution successful.
2024-07-23 09:55:42.168 -05:00 [DBG] Successfully validated the token.
2024-07-23 09:55:42.175 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 09:55:42.175 -05:00 [DBG] Authorization was successful.
2024-07-23 09:55:42.175 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 09:55:42.176 -05:00 [INF] Route matched with {action = "Get", controller = "Prestmaos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 09:55:42.176 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 09:55:42.176 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 09:55:42.176 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 09:55:42.176 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 09:55:42.176 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 09:55:42.176 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 09:55:42.177 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 09:55:42.177 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-23 09:55:42.177 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-23 09:55:42.177 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 09:55:42.177 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 09:55:42.177 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-23 09:55:42.177 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 09:55:42.244 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 09:55:42.249 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-23 09:55:42.251 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 09:55:42.256 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 09:55:42.257 -05:00 [DBG] Creating DbConnection.
2024-07-23 09:55:42.257 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 09:55:42.257 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:55:42.257 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:55:42.258 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:55:42.258 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:55:42.258 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:55:42.258 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 09:55:42.270 -05:00 [INF] Executed DbCommand (12ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 09:55:42.270 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:55:42.270 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:55:42.270 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:55:42.271 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:55:42.271 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 26.172ms.
2024-07-23 09:55:42.271 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 09:55:42.271 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 09:55:42.271 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 09:55:42.271 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 09:55:42.271 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 09:55:42.271 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.Collections.Generic.List`1[[biblioteca_backend.Models.Libro, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-23 09:55:42.271 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) in 95.1298ms
2024-07-23 09:55:42.272 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 09:55:42.272 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 09:55:42.272 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:55:42.272 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 09:55:42.272 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=34 - 200 null application/json; charset=utf-8 132.3012ms
2024-07-23 09:57:16.908 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=34 - null null
2024-07-23 09:57:16.920 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 09:57:16.921 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 09:57:16.921 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:57:16.921 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 09:57:16.921 -05:00 [INF] CORS policy execution successful.
2024-07-23 09:57:16.921 -05:00 [DBG] The request is a preflight request.
2024-07-23 09:57:16.925 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=34 - 204 null null 13.8176ms
2024-07-23 09:57:16.928 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=34 - null null
2024-07-23 09:57:16.928 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 09:57:16.928 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-07-23 09:57:16.928 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 09:57:16.928 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:57:16.928 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 09:57:16.928 -05:00 [INF] CORS policy execution successful.
2024-07-23 09:57:16.929 -05:00 [DBG] Successfully validated the token.
2024-07-23 09:57:16.929 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 09:57:16.929 -05:00 [DBG] Authorization was successful.
2024-07-23 09:57:16.929 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 09:57:16.929 -05:00 [INF] Route matched with {action = "Get", controller = "Prestmaos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 09:57:16.929 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 09:57:16.929 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 09:57:16.929 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 09:57:16.929 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 09:57:16.929 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 09:57:16.929 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 09:57:16.930 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 09:57:16.930 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-23 09:57:16.930 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-23 09:57:16.930 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 09:57:16.930 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 09:57:16.930 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-23 09:57:16.930 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 09:57:16.970 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 09:57:16.973 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-23 09:57:16.975 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 09:57:16.983 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 09:57:16.984 -05:00 [DBG] Creating DbConnection.
2024-07-23 09:57:16.984 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 09:57:16.984 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:57:16.984 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:57:16.984 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:57:16.985 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:57:16.985 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:57:16.985 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 09:57:17.002 -05:00 [INF] Executed DbCommand (17ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 09:57:17.002 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:57:17.002 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:57:17.002 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:57:17.002 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:57:17.002 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 31.5962ms.
2024-07-23 09:57:17.002 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 09:57:17.002 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 09:57:17.002 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 09:57:17.002 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 09:57:17.002 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 09:57:17.002 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.Collections.Generic.List`1[[biblioteca_backend.Models.Libro, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-23 09:57:17.003 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) in 73.0914ms
2024-07-23 09:57:17.003 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 09:57:17.003 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 09:57:17.003 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:57:17.003 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 09:57:17.003 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=34 - 200 null application/json; charset=utf-8 75.3126ms
2024-07-23 09:58:06.620 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=34 - null null
2024-07-23 09:58:06.620 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 09:58:06.620 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 09:58:06.620 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:58:06.620 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 09:58:06.620 -05:00 [INF] CORS policy execution successful.
2024-07-23 09:58:06.620 -05:00 [DBG] The request is a preflight request.
2024-07-23 09:58:06.621 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=34 - 204 null null 1.2822ms
2024-07-23 09:58:06.689 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=34 - null null
2024-07-23 09:58:06.689 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 09:58:06.690 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-07-23 09:58:06.690 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 09:58:06.690 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:58:06.690 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 09:58:06.690 -05:00 [INF] CORS policy execution successful.
2024-07-23 09:58:06.690 -05:00 [DBG] Successfully validated the token.
2024-07-23 09:58:06.690 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 09:58:06.697 -05:00 [DBG] Authorization was successful.
2024-07-23 09:58:06.697 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 09:58:06.701 -05:00 [INF] Route matched with {action = "Get", controller = "Prestmaos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 09:58:06.701 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 09:58:06.701 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 09:58:06.701 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 09:58:06.701 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 09:58:06.701 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 09:58:06.702 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 09:58:06.702 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 09:58:06.702 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-23 09:58:06.702 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-23 09:58:06.703 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 09:58:06.703 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 09:58:06.703 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-23 09:58:06.703 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 09:58:06.803 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 09:58:06.820 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-23 09:58:06.821 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 09:58:06.872 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 09:58:06.872 -05:00 [DBG] Creating DbConnection.
2024-07-23 09:58:06.873 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 09:58:06.873 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:58:06.873 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:58:06.873 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:58:06.873 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:58:06.873 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:58:06.874 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 09:58:06.930 -05:00 [INF] Executed DbCommand (56ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 09:58:06.930 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:58:06.930 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:58:06.931 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:58:06.931 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:58:06.931 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 128.1144ms.
2024-07-23 09:58:06.931 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 09:58:06.931 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 09:58:06.931 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 09:58:06.931 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 09:58:06.931 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 09:58:06.931 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.Collections.Generic.List`1[[biblioteca_backend.Models.Libro, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-23 09:58:06.932 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) in 230.1421ms
2024-07-23 09:58:06.932 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 09:58:06.932 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 09:58:06.932 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:58:06.932 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 09:58:06.932 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=34 - 200 null application/json; charset=utf-8 243.4799ms
2024-07-23 09:59:24.453 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=34 - null null
2024-07-23 09:59:24.453 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 09:59:24.453 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 09:59:24.453 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:59:24.459 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 09:59:24.459 -05:00 [INF] CORS policy execution successful.
2024-07-23 09:59:24.459 -05:00 [DBG] The request is a preflight request.
2024-07-23 09:59:24.459 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=34 - 204 null null 6.6718ms
2024-07-23 09:59:24.478 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=34 - null null
2024-07-23 09:59:24.482 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 09:59:24.482 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-07-23 09:59:24.482 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 09:59:24.483 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:59:24.483 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 09:59:24.483 -05:00 [INF] CORS policy execution successful.
2024-07-23 09:59:24.483 -05:00 [DBG] Successfully validated the token.
2024-07-23 09:59:24.483 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 09:59:24.483 -05:00 [DBG] Authorization was successful.
2024-07-23 09:59:24.483 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 09:59:24.483 -05:00 [INF] Route matched with {action = "Get", controller = "Prestmaos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 09:59:24.484 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 09:59:24.484 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 09:59:24.484 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 09:59:24.484 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 09:59:24.484 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 09:59:24.484 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 09:59:24.484 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 09:59:24.484 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-23 09:59:24.484 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-23 09:59:24.484 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 09:59:24.484 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 09:59:24.485 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-23 09:59:24.485 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 09:59:24.534 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 09:59:24.537 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-23 09:59:24.539 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 09:59:24.543 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 09:59:24.543 -05:00 [DBG] Creating DbConnection.
2024-07-23 09:59:24.543 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 09:59:24.544 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:59:24.544 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:59:24.544 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:59:24.544 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:59:24.544 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:59:24.544 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 09:59:24.565 -05:00 [INF] Executed DbCommand (20ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 09:59:24.565 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:59:24.565 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:59:24.565 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:59:24.565 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:59:24.566 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 31.0291ms.
2024-07-23 09:59:24.566 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 09:59:24.566 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 09:59:24.566 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 09:59:24.566 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 09:59:24.566 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 09:59:24.566 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.Collections.Generic.List`1[[biblioteca_backend.Models.Libro, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-23 09:59:24.566 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) in 82.5759ms
2024-07-23 09:59:24.567 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 09:59:24.567 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 09:59:24.567 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:59:24.567 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 09:59:24.567 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=34 - 200 null application/json; charset=utf-8 88.8239ms
2024-07-23 09:59:36.643 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-23 09:59:36.643 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 09:59:36.643 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 09:59:36.643 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:59:36.643 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 09:59:36.644 -05:00 [INF] CORS policy execution successful.
2024-07-23 09:59:36.644 -05:00 [DBG] The request is a preflight request.
2024-07-23 09:59:36.644 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - 204 null null 1.1676ms
2024-07-23 09:59:36.656 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-23 09:59:36.656 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 09:59:36.656 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 09:59:36.656 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 09:59:36.656 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:59:36.656 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 09:59:36.657 -05:00 [INF] CORS policy execution successful.
2024-07-23 09:59:36.657 -05:00 [DBG] Successfully validated the token.
2024-07-23 09:59:36.657 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 09:59:36.657 -05:00 [DBG] Authorization was successful.
2024-07-23 09:59:36.657 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 09:59:36.657 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 09:59:36.657 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 09:59:36.657 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 09:59:36.658 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 09:59:36.658 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 09:59:36.658 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 09:59:36.658 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 09:59:36.658 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 09:59:36.658 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 09:59:36.658 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-23 09:59:36.658 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 09:59:36.658 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 09:59:36.658 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 09:59:36.659 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 09:59:36.709 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 09:59:36.717 -05:00 [DBG] Consultando libros...
2024-07-23 09:59:36.718 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 09:59:36.721 -05:00 [DBG] Creating DbConnection.
2024-07-23 09:59:36.722 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 09:59:36.722 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:59:36.722 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:59:36.722 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:59:36.722 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:59:36.723 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:59:36.723 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 09:59:36.730 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 09:59:36.730 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:59:36.730 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:59:36.730 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:59:36.731 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:59:36.734 -05:00 [INF] Consulta de libros exitosa
2024-07-23 09:59:36.734 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 25.0882ms.
2024-07-23 09:59:36.734 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 09:59:36.734 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 09:59:36.734 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 09:59:36.734 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 09:59:36.734 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 09:59:36.735 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 09:59:36.735 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 77.3098ms
2024-07-23 09:59:36.735 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 09:59:36.735 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 09:59:36.735 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:59:36.735 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 09:59:36.736 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 79.7352ms
2024-07-23 09:59:49.757 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - null null
2024-07-23 09:59:49.757 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 09:59:49.757 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 09:59:49.757 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:59:49.757 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 09:59:49.757 -05:00 [INF] CORS policy execution successful.
2024-07-23 09:59:49.757 -05:00 [DBG] The request is a preflight request.
2024-07-23 09:59:49.757 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - 204 null null 0.9975ms
2024-07-23 09:59:49.773 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Perfiles/ - application/json 54
2024-07-23 09:59:49.773 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 09:59:49.785 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 09:59:49.786 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 09:59:49.786 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:59:49.786 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 09:59:49.786 -05:00 [INF] CORS policy execution successful.
2024-07-23 09:59:49.786 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-23 09:59:49.786 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 09:59:49.786 -05:00 [INF] Route matched with {action = "Post", controller = "Perfiles"}. Executing controller action with signature System.Object Post(biblioteca_backend.Models.DTOs.LogInModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 09:59:49.786 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 09:59:49.786 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 09:59:49.786 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 09:59:49.786 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 09:59:49.786 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 09:59:49.786 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 09:59:49.787 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 09:59:49.787 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-23 09:59:49.787 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' using the name '' in request data ...
2024-07-23 09:59:49.787 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-23 09:59:49.788 -05:00 [DBG] Connection id "0HN5B4QFSPTM4", Request id "0HN5B4QFSPTM4:00000027": started reading request body.
2024-07-23 09:59:49.788 -05:00 [DBG] Connection id "0HN5B4QFSPTM4", Request id "0HN5B4QFSPTM4:00000027": done reading request body.
2024-07-23 09:59:49.788 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.LogInModel'
2024-07-23 09:59:49.788 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 09:59:49.788 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 09:59:49.788 -05:00 [DBG] Attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-23 09:59:49.788 -05:00 [DBG] Done attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 09:59:49.814 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) - Validation state: "Valid"
2024-07-23 09:59:49.816 -05:00 [DBG] Iniciando sesión...
2024-07-23 09:59:49.817 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 09:59:49.817 -05:00 [DBG] Creating DbConnection.
2024-07-23 09:59:49.817 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 09:59:49.817 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:59:49.817 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:59:49.817 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:59:49.817 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:59:49.817 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:59:49.817 -05:00 [DBG] Executing DbCommand [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-23 09:59:49.821 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-23 09:59:49.821 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:59:49.821 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:59:49.821 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:59:49.821 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:59:49.821 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:59:49.822 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:59:49.822 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:59:49.822 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:59:49.822 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:59:49.822 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:59:49.822 -05:00 [DBG] Executing DbCommand [Parameters=[@___perfil_IdRol_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Nombre]
FROM [Rol] AS [r]
WHERE [r].[Id] = @___perfil_IdRol_0
2024-07-23 09:59:49.823 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@___perfil_IdRol_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Nombre]
FROM [Rol] AS [r]
WHERE [r].[Id] = @___perfil_IdRol_0
2024-07-23 09:59:49.824 -05:00 [DBG] The navigation 'Perfil.Rol' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:59:49.824 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Rol' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:59:49.824 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:59:49.824 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:59:49.824 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:59:49.824 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:59:49.827 -05:00 [INF] Inicio de sesión exitoso
2024-07-23 09:59:49.827 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 13.1468ms.
2024-07-23 09:59:49.827 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 09:59:49.827 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 09:59:49.827 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 09:59:49.827 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 09:59:49.827 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 09:59:49.827 -05:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-23 09:59:49.828 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) in 41.2209ms
2024-07-23 09:59:49.828 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 09:59:49.828 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 09:59:49.828 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:59:49.828 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 09:59:49.828 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Perfiles/ - 200 null application/json; charset=utf-8 56.1789ms
2024-07-23 09:59:49.859 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-23 09:59:49.859 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 09:59:49.859 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 09:59:49.859 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:59:49.859 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 09:59:49.859 -05:00 [INF] CORS policy execution successful.
2024-07-23 09:59:49.859 -05:00 [DBG] The request is a preflight request.
2024-07-23 09:59:49.860 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 0.9851ms
2024-07-23 09:59:49.860 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-07-23 09:59:49.860 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-23 09:59:49.860 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 09:59:49.860 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:59:49.860 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 09:59:49.860 -05:00 [INF] CORS policy execution successful.
2024-07-23 09:59:49.860 -05:00 [DBG] The request is a preflight request.
2024-07-23 09:59:49.861 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 0.6891ms
2024-07-23 09:59:49.872 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-07-23 09:59:49.872 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-23 09:59:49.872 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-23 09:59:49.872 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 09:59:49.872 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-07-23 09:59:49.872 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 09:59:49.872 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-23 09:59:49.872 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 09:59:49.872 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:59:49.872 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 09:59:49.872 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 09:59:49.872 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 09:59:49.873 -05:00 [INF] CORS policy execution successful.
2024-07-23 09:59:49.873 -05:00 [INF] CORS policy execution successful.
2024-07-23 09:59:49.873 -05:00 [DBG] Successfully validated the token.
2024-07-23 09:59:49.873 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 09:59:49.873 -05:00 [DBG] Successfully validated the token.
2024-07-23 09:59:49.873 -05:00 [DBG] Authorization was successful.
2024-07-23 09:59:49.873 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 09:59:49.873 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 09:59:49.873 -05:00 [DBG] Authorization was successful.
2024-07-23 09:59:49.873 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 09:59:49.873 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-23 09:59:49.873 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 09:59:49.873 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 09:59:49.873 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 09:59:49.873 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 09:59:49.874 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 09:59:49.874 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 09:59:49.874 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 09:59:49.874 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 09:59:49.874 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-23 09:59:49.874 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 09:59:49.874 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 09:59:49.874 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 09:59:49.874 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 09:59:49.908 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 09:59:49.911 -05:00 [DBG] Consultando libros...
2024-07-23 09:59:49.911 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 09:59:49.912 -05:00 [DBG] Compiling query expression: 
'DbSet<Libro>()
    .Join(
        inner: DbSet<Genero>(), 
        outerKeySelector: L => L.IdGenero, 
        innerKeySelector: G => G.Id, 
        resultSelector: (L, G) => new { 
            L = L, 
            G = G
         })
    .Where(<>h__TransparentIdentifier0 => True)
    .Select(<>h__TransparentIdentifier0 => new { 
        id = <>h__TransparentIdentifier0.L.Id, 
        titulo = <>h__TransparentIdentifier0.L.Titulo, 
        autor = <>h__TransparentIdentifier0.L.Autor, 
        anio = <>h__TransparentIdentifier0.L.Anio, 
        idGenero = <>h__TransparentIdentifier0.L.IdGenero, 
        genero = <>h__TransparentIdentifier0.G.Nombre, 
        activo = <>h__TransparentIdentifier0.L.Activo
     })'
2024-07-23 09:59:49.913 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-07-23 09:59:49.913 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 09:59:49.913 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 09:59:49.913 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 09:59:49.913 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 09:59:49.913 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 09:59:49.913 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-23 09:59:49.914 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-23 09:59:49.941 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 09:59:49.942 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType1<int, string, string, int, int, string, bool>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            id -> 0
            titulo -> 1
            autor -> 2
            anio -> 3
            idGenero -> 4
            genero -> 5
            activo -> 6
        SELECT l.Id AS id, l.Titulo AS titulo, l.Autor AS autor, l.Anio AS anio, l.IdGenero AS idGenero, g.Nombre AS genero, l.Activo AS activo
        FROM Libro AS l
        INNER JOIN Genero AS g ON l.IdGenero == g.Id), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType1<int, string, string, int, int, string, bool>>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-23 09:59:49.942 -05:00 [DBG] Creating DbConnection.
2024-07-23 09:59:49.943 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 09:59:49.943 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:59:49.943 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:59:49.943 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:59:49.943 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:59:49.943 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:59:49.943 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-23 09:59:49.943 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 09:59:49.943 -05:00 [DBG] Compiling query expression: 
'DbSet<Genero>()'
2024-07-23 09:59:49.946 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-23 09:59:49.946 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:59:49.946 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 09:59:49.946 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:59:49.947 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Genero>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Genero.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Genero.Nombre (string) Required, 1] }
        SELECT g.Id, g.Nombre
        FROM Genero AS g), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Genero>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-23 09:59:49.947 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:59:49.949 -05:00 [INF] Consulta de libros exitosa
2024-07-23 09:59:49.949 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 40.8843ms.
2024-07-23 09:59:49.949 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 09:59:49.950 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 09:59:49.950 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 09:59:49.950 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 09:59:49.950 -05:00 [DBG] Creating DbConnection.
2024-07-23 09:59:49.950 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 09:59:49.950 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 09:59:49.950 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 09:59:49.950 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:59:49.950 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 76.4766ms
2024-07-23 09:59:49.950 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:59:49.950 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 09:59:49.950 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 09:59:49.950 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 09:59:49.950 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:59:49.950 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 09:59:49.950 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:59:49.950 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 78.5498ms
2024-07-23 09:59:49.951 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 09:59:49.951 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-23 09:59:49.957 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-23 09:59:49.984 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:59:49.990 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:59:49.990 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:59:49.990 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:59:49.990 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:59:49.990 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:59:49.991 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:59:49.991 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:59:49.991 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:59:49.991 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:59:49.991 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:59:49.991 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:59:49.991 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 09:59:49.991 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:59:49.991 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 34ms reading results.
2024-07-23 09:59:49.992 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:59:49.992 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 09:59:49.992 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 51.1315ms.
2024-07-23 09:59:49.992 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 09:59:49.992 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 09:59:49.992 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 09:59:49.992 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 09:59:49.992 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 09:59:49.993 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 09:59:49.997 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 84.0046ms
2024-07-23 09:59:49.997 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-23 09:59:49.997 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 09:59:49.998 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 09:59:49.998 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 09:59:49.998 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 125.9355ms
2024-07-23 10:20:56.922 -05:00 [DBG] Connection id "0HN5B4QFSPTM4" received FIN.
2024-07-23 10:20:56.923 -05:00 [DBG] Connection id "0HN5B4QFSPTM4" is closed. The last processed stream ID was 47.
2024-07-23 10:20:56.923 -05:00 [DBG] Connection id "0HN5B4QFSPTM4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-23 10:20:56.923 -05:00 [DBG] The connection queue processing loop for 0HN5B4QFSPTM4 completed.
2024-07-23 10:20:56.924 -05:00 [DBG] Connection id "0HN5B4QFSPTM4" stopped.
2024-07-23 10:41:33.243 -05:00 [DBG] Connection id "0HN5B4QFSPTM5" accepted.
2024-07-23 10:41:33.244 -05:00 [DBG] Connection id "0HN5B4QFSPTM5" started.
2024-07-23 10:41:33.264 -05:00 [DBG] Connection 0HN5B4QFSPTM5 established using the following protocol: "Tls12"
2024-07-23 10:41:33.265 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=31 - null null
2024-07-23 10:41:33.278 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 10:41:33.281 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 10:41:33.281 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 10:41:33.281 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 10:41:33.281 -05:00 [INF] CORS policy execution successful.
2024-07-23 10:41:33.281 -05:00 [DBG] The request is a preflight request.
2024-07-23 10:41:33.281 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=31 - 204 null null 16.4028ms
2024-07-23 10:41:33.284 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=31 - null null
2024-07-23 10:41:33.284 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 10:41:33.284 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-07-23 10:41:33.284 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 10:41:33.284 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 10:41:33.285 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 10:41:33.285 -05:00 [INF] CORS policy execution successful.
2024-07-23 10:41:33.285 -05:00 [DBG] Successfully validated the token.
2024-07-23 10:41:33.285 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 10:41:33.285 -05:00 [DBG] Authorization was successful.
2024-07-23 10:41:33.285 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 10:41:33.286 -05:00 [INF] Route matched with {action = "Get", controller = "Prestmaos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 10:41:33.286 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 10:41:33.286 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 10:41:33.287 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 10:41:33.287 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 10:41:33.287 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 10:41:33.287 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 10:41:33.288 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 10:41:33.288 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-23 10:41:33.288 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-23 10:41:33.288 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 10:41:33.288 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 10:41:33.288 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-23 10:41:33.288 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 10:41:33.347 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 10:41:33.350 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-23 10:41:33.351 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 10:41:33.354 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 10:41:33.355 -05:00 [DBG] Creating DbConnection.
2024-07-23 10:41:33.355 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 10:41:33.355 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 10:41:33.426 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 10:41:33.426 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 10:41:33.426 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 10:41:33.426 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 10:41:33.426 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 10:41:33.449 -05:00 [INF] Executed DbCommand (22ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 10:41:33.449 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 10:41:33.449 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 10:41:33.449 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 10:41:33.449 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 10:41:33.449 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 101.6125ms.
2024-07-23 10:41:33.449 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 10:41:33.449 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 10:41:33.449 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 10:41:33.450 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 10:41:33.450 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 10:41:33.450 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.Collections.Generic.List`1[[biblioteca_backend.Models.Libro, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-23 10:41:33.450 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) in 162.9598ms
2024-07-23 10:41:33.450 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 10:41:33.450 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 10:41:33.450 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 10:41:33.450 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 10:41:33.450 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=31 - 200 null application/json; charset=utf-8 167.1551ms
2024-07-23 10:51:30.929 -05:00 [DBG] Connection id "0HN5B4QFSPTM5" received FIN.
2024-07-23 10:51:30.929 -05:00 [DBG] Connection id "0HN5B4QFSPTM5" is closed. The last processed stream ID was 3.
2024-07-23 10:51:30.929 -05:00 [DBG] Connection id "0HN5B4QFSPTM5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-23 10:51:30.931 -05:00 [DBG] The connection queue processing loop for 0HN5B4QFSPTM5 completed.
2024-07-23 10:51:30.932 -05:00 [DBG] Connection id "0HN5B4QFSPTM5" stopped.
2024-07-23 11:00:16.892 -05:00 [DBG] Connection id "0HN5B4QFSPTM6" accepted.
2024-07-23 11:00:16.896 -05:00 [DBG] Connection id "0HN5B4QFSPTM6" started.
2024-07-23 11:00:16.943 -05:00 [DBG] Connection 0HN5B4QFSPTM6 established using the following protocol: "Tls12"
2024-07-23 11:00:16.960 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 11:00:16.961 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:00:16.961 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)' with route pattern 'api/Prestmaos/ConsultarPrestamos' is valid for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:00:16.961 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:00:16.961 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:00:16.961 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:00:16.962 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:00:16.963 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-23 11:00:16.980 -05:00 [DBG] Policy authentication schemes  did not succeed
2024-07-23 11:00:16.981 -05:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrador)
2024-07-23 11:00:17.002 -05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-07-23 11:00:17.003 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 401 0 null 42.2029ms
2024-07-23 11:00:21.322 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 11:00:21.322 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:00:21.322 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)' with route pattern 'api/Prestmaos/ConsultarPrestamos' is valid for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:00:21.322 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:00:21.322 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:00:21.323 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:00:21.323 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:00:21.323 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-23 11:00:21.323 -05:00 [DBG] Policy authentication schemes  did not succeed
2024-07-23 11:00:21.323 -05:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrador)
2024-07-23 11:00:21.323 -05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-07-23 11:00:21.323 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 401 0 null 1.5822ms
2024-07-23 11:00:25.561 -05:00 [DBG] Connection id "0HN5B4QFSPTM6" received FIN.
2024-07-23 11:00:25.561 -05:00 [DBG] Connection id "0HN5B4QFSPTM6" is closed. The last processed stream ID was 3.
2024-07-23 11:00:25.561 -05:00 [DBG] Connection id "0HN5B4QFSPTM6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-23 11:00:25.562 -05:00 [DBG] The connection queue processing loop for 0HN5B4QFSPTM6 completed.
2024-07-23 11:00:25.562 -05:00 [DBG] Connection id "0HN5B4QFSPTM6" stopped.
2024-07-23 11:00:58.621 -05:00 [DBG] Connection id "0HN5B4QFSPTM7" accepted.
2024-07-23 11:00:58.621 -05:00 [DBG] Connection id "0HN5B4QFSPTM7" started.
2024-07-23 11:00:58.661 -05:00 [DBG] Connection 0HN5B4QFSPTM7 established using the following protocol: "Tls12"
2024-07-23 11:00:58.662 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 11:00:58.662 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:00:58.662 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)' with route pattern 'api/Prestmaos/ConsultarPrestamos' is valid for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:00:58.662 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:00:58.662 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:00:58.663 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:00:58.663 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:00:58.663 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-23 11:00:58.674 -05:00 [DBG] Policy authentication schemes  did not succeed
2024-07-23 11:00:58.674 -05:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrador)
2024-07-23 11:00:58.675 -05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-07-23 11:00:58.675 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 401 0 null 12.9076ms
2024-07-23 11:00:59.478 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 11:00:59.478 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:00:59.478 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:00:59.478 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:00:59.478 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:00:59.478 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:00:59.479 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:00:59.479 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - 204 null null 1.6367ms
2024-07-23 11:00:59.485 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 11:00:59.485 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:00:59.486 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 11:00:59.486 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:00:59.486 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:00:59.486 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:00:59.486 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:00:59.486 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:00:59.486 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:00:59.487 -05:00 [DBG] Authorization was successful.
2024-07-23 11:00:59.487 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:00:59.487 -05:00 [INF] Route matched with {action = "Get", controller = "Perfiles"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 11:00:59.487 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:00:59.487 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:00:59.487 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:00:59.487 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:00:59.487 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:00:59.487 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:00:59.488 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:00:59.488 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-07-23 11:00:59.488 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-07-23 11:00:59.488 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 11:00:59.488 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 11:00:59.488 -05:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-07-23 11:00:59.488 -05:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-07-23 11:00:59.530 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:00:59.533 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 11:00:59.534 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:00:59.534 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:00:59.534 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:00:59.534 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:00:59.601 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:00:59.601 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:00:59.602 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:00:59.602 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:00:59.602 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:00:59.614 -05:00 [INF] Executed DbCommand (12ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:00:59.615 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:00:59.615 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:00:59.615 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:00:59.615 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:00:59.615 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:00:59.620 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 11:00:59.620 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 90.2088ms.
2024-07-23 11:00:59.620 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:00:59.620 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:00:59.620 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:00:59.620 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:00:59.620 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:00:59.620 -05:00 [INF] Executing OkObjectResult, writing value of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:00:59.621 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) in 133.4174ms
2024-07-23 11:00:59.621 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:00:59.621 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:00:59.621 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:00:59.621 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:00:59.621 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - 200 null application/json; charset=utf-8 135.8037ms
2024-07-23 11:01:00.976 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-23 11:01:00.977 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 11:01:00.977 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:01:00.977 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:01:00.977 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:01:00.977 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:01:00.977 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:01:00.977 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - 204 null null 0.9689ms
2024-07-23 11:01:00.980 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-23 11:01:00.980 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 11:01:00.980 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 11:01:00.980 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:01:00.980 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:01:00.980 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:01:00.980 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:01:00.981 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:01:00.981 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:01:00.981 -05:00 [DBG] Authorization was successful.
2024-07-23 11:01:00.981 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:01:00.981 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 11:01:00.981 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:01:00.981 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:01:00.981 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:01:00.981 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:01:00.986 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:01:00.987 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 11:01:00.987 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 11:01:00.987 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 11:01:00.987 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-23 11:01:00.987 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:01:00.987 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:01:00.987 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 11:01:00.987 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:01:01.021 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:01:01.023 -05:00 [DBG] Consultando libros...
2024-07-23 11:01:01.024 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:01:01.025 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:01:01.025 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:01:01.025 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:01:01.025 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:01:01.025 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:01:01.025 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:01:01.025 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:01:01.026 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 11:01:01.035 -05:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 11:01:01.035 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:01:01.035 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:01:01.035 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:01:01.035 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:01:01.037 -05:00 [INF] Consulta de libros exitosa
2024-07-23 11:01:01.037 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.295ms.
2024-07-23 11:01:01.038 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:01:01.038 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:01:01.038 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:01:01.038 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:01:01.038 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:01:01.038 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:01:01.038 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 51.6774ms
2024-07-23 11:01:01.038 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:01:01.038 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:01:01.038 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:01:01.038 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:01:01.039 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 59.0746ms
2024-07-23 11:01:02.091 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-07-23 11:01:02.092 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-23 11:01:02.092 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:01:02.092 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:01:02.092 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:01:02.092 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:01:02.092 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:01:02.093 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 1.3243ms
2024-07-23 11:01:02.096 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-23 11:01:02.096 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 11:01:02.096 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:01:02.096 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:01:02.097 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:01:02.097 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:01:02.097 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:01:02.098 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 1.6798ms
2024-07-23 11:01:02.107 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-07-23 11:01:02.107 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-23 11:01:02.108 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-07-23 11:01:02.108 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-23 11:01:02.108 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-23 11:01:02.108 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:01:02.108 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 11:01:02.108 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:01:02.108 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:01:02.108 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 11:01:02.108 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:01:02.108 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:01:02.108 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:01:02.108 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:01:02.108 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:01:02.108 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:01:02.108 -05:00 [DBG] Authorization was successful.
2024-07-23 11:01:02.108 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-23 11:01:02.108 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:01:02.109 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:01:02.109 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-07-23 11:01:02.109 -05:00 [DBG] Authorization was successful.
2024-07-23 11:01:02.109 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:01:02.109 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:01:02.109 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:01:02.109 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 11:01:02.109 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:01:02.109 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:01:02.109 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:01:02.109 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:01:02.109 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:01:02.109 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:01:02.109 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-23 11:01:02.109 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:01:02.109 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:01:02.109 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 11:01:02.109 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-23 11:01:02.109 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 11:01:02.110 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 11:01:02.110 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-23 11:01:02.111 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:01:02.111 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:01:02.139 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 11:01:02.139 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:01:02.139 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:01:02.168 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:01:02.169 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:01:02.170 -05:00 [DBG] Consultando libros...
2024-07-23 11:01:02.171 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:01:02.171 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:01:02.171 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:01:02.171 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:01:02.171 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:01:02.171 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:01:02.171 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:01:02.171 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:01:02.171 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-23 11:01:02.172 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:01:02.173 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:01:02.173 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:01:02.174 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-23 11:01:02.174 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:01:02.175 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:01:02.175 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:01:02.175 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:01:02.175 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:01:02.175 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:01:02.175 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:01:02.175 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:01:02.175 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:01:02.176 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:01:02.176 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:01:02.176 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:01:02.176 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:01:02.176 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:01:02.176 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-07-23 11:01:02.176 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:01:02.176 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:01:02.176 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 37.2128ms.
2024-07-23 11:01:02.177 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:01:02.177 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:01:02.177 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:01:02.177 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:01:02.177 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:01:02.177 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:01:02.177 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 68.0534ms
2024-07-23 11:01:02.177 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-23 11:01:02.177 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:01:02.177 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:01:02.178 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:01:02.178 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 71.0441ms
2024-07-23 11:01:02.180 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:01:02.180 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:01:02.180 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:01:02.180 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:01:02.180 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-23 11:01:02.187 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-23 11:01:02.187 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:01:02.187 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:01:02.187 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:01:02.187 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:01:02.190 -05:00 [INF] Consulta de libros exitosa
2024-07-23 11:01:02.191 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 22.5642ms.
2024-07-23 11:01:02.191 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:01:02.191 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:01:02.191 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:01:02.191 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:01:02.191 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:01:02.191 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:01:02.191 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 82.1514ms
2024-07-23 11:01:02.191 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:01:02.192 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:01:02.192 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:01:02.192 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:01:02.192 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 84.4874ms
2024-07-23 11:01:05.356 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-23 11:01:05.356 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 11:01:05.357 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 11:01:05.357 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:01:05.358 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:01:05.358 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:01:05.358 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:01:05.358 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:01:05.358 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:01:05.358 -05:00 [DBG] Authorization was successful.
2024-07-23 11:01:05.359 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:01:05.359 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 11:01:05.359 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:01:05.359 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:01:05.359 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:01:05.359 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:01:05.359 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:01:05.359 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 11:01:05.362 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 11:01:05.363 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 11:01:05.363 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-23 11:01:05.363 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:01:05.363 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:01:05.363 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 11:01:05.363 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:01:05.413 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:01:05.417 -05:00 [DBG] Consultando libros...
2024-07-23 11:01:05.418 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:01:05.419 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:01:05.419 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:01:05.419 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:01:05.419 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:01:05.419 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:01:05.419 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:01:05.420 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:01:05.420 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 11:01:05.421 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 11:01:05.421 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:01:05.421 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:01:05.421 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:01:05.422 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:01:05.424 -05:00 [INF] Consulta de libros exitosa
2024-07-23 11:01:05.425 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 11.1887ms.
2024-07-23 11:01:05.425 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:01:05.425 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:01:05.425 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:01:05.425 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:01:05.425 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:01:05.425 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:01:05.425 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 65.9526ms
2024-07-23 11:01:05.425 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:01:05.426 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:01:05.426 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:01:05.426 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:01:05.426 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 69.8978ms
2024-07-23 11:01:05.521 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 11:01:05.521 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:01:05.521 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:01:05.521 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:01:05.521 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:01:05.521 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:01:05.522 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:01:05.522 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - 204 null null 0.9481ms
2024-07-23 11:01:05.525 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 11:01:05.525 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:01:05.525 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 11:01:05.525 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:01:05.525 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:01:05.525 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:01:05.525 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:01:05.525 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:01:05.525 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:01:05.526 -05:00 [DBG] Authorization was successful.
2024-07-23 11:01:05.526 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:01:05.526 -05:00 [INF] Route matched with {action = "Get", controller = "Perfiles"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 11:01:05.526 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:01:05.526 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:01:05.526 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:01:05.526 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:01:05.526 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:01:05.526 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:01:05.527 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:01:05.527 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-07-23 11:01:05.527 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-07-23 11:01:05.527 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 11:01:05.527 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 11:01:05.527 -05:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-07-23 11:01:05.527 -05:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-07-23 11:01:05.563 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:01:05.567 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 11:01:05.568 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:01:05.568 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:01:05.568 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:01:05.568 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:01:05.568 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:01:05.568 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:01:05.568 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:01:05.568 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:01:05.568 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:01:05.569 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:01:05.569 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:01:05.569 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:01:05.569 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:01:05.569 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:01:05.570 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:01:05.571 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 11:01:05.572 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 8.2906ms.
2024-07-23 11:01:05.572 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:01:05.572 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:01:05.572 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:01:05.572 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:01:05.572 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:01:05.572 -05:00 [INF] Executing OkObjectResult, writing value of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:01:05.572 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) in 45.7966ms
2024-07-23 11:01:05.572 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:01:05.572 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:01:05.572 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:01:05.572 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:01:05.572 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - 200 null application/json; charset=utf-8 48.0788ms
2024-07-23 11:01:06.422 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 11:01:06.422 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:01:06.423 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)' with route pattern 'api/Prestmaos/ConsultarPrestamos' is valid for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:01:06.423 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:01:06.423 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:01:06.424 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:01:06.424 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:01:06.424 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-23 11:01:06.424 -05:00 [DBG] Policy authentication schemes  did not succeed
2024-07-23 11:01:06.424 -05:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrador)
2024-07-23 11:01:06.424 -05:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-07-23 11:01:06.425 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 401 0 null 2.7693ms
2024-07-23 11:01:17.376 -05:00 [DBG] Connection id "0HN5B4QFSPTM7" received FIN.
2024-07-23 11:01:17.377 -05:00 [DBG] Connection id "0HN5B4QFSPTM7" is closed. The last processed stream ID was 25.
2024-07-23 11:01:17.377 -05:00 [DBG] Connection id "0HN5B4QFSPTM7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-23 11:01:17.377 -05:00 [DBG] The connection queue processing loop for 0HN5B4QFSPTM7 completed.
2024-07-23 11:01:17.377 -05:00 [DBG] Connection id "0HN5B4QFSPTM7" stopped.
2024-07-23 11:01:24.922 -05:00 [DBG] Connection id "0HN5B4QFSPTM8" accepted.
2024-07-23 11:01:25.073 -05:00 [DBG] Connection id "0HN5B4QFSPTM8" started.
2024-07-23 11:01:25.379 -05:00 [DBG] Connection 0HN5B4QFSPTM8 established using the following protocol: "Tls12"
2024-07-23 11:01:25.413 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 11:01:25.413 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:01:25.413 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:01:25.413 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:01:25.413 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:01:25.413 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:01:25.414 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:01:25.414 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 204 null null 1.5579ms
2024-07-23 11:01:25.442 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 11:01:25.442 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:01:25.442 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)' with route pattern 'api/Prestmaos/ConsultarPrestamos' is valid for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:01:25.442 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:01:25.443 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:01:25.443 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:01:25.443 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:01:25.443 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:01:25.443 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:01:25.443 -05:00 [DBG] Authorization was successful.
2024-07-23 11:01:25.443 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:01:25.443 -05:00 [INF] Route matched with {action = "ConsultarPrestamos", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsultarPrestamos() on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 11:01:25.443 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:01:25.443 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:01:25.443 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:01:25.443 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:01:25.444 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:01:25.444 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:01:25.444 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:01:25.576 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:01:25.577 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:01:25.577 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:01:25.577 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:01:25.577 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:01:25.577 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:01:25.577 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:01:25.577 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:01:25.577 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:01:25.578 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 11:01:25.588 -05:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 11:01:25.588 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:01:25.588 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:01:25.588 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:01:25.588 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:01:25.590 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:01:25.590 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:01:25.593 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 11:01:25.594 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:01:25.594 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:01:25.594 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:01:25.594 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:01:25.594 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:01:25.594 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:01:25.601 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:01:25.601 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:01:25.602 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:01:25.602 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:01:25.602 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:01:25.602 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:01:25.602 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:01:25.607 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 11:01:25.612 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-23 11:01:25.621 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:01:25.622 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:01:25.622 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:01:25.622 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:01:25.622 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:01:25.622 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:01:25.622 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:01:25.644 -05:00 [INF] Executed DbCommand (22ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:01:25.644 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:01:25.645 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:01:25.645 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:01:25.645 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:01:25.659 -05:00 [DBG] Consultando perfil con id 34
2024-07-23 11:01:25.660 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:01:25.660 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:01:25.660 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:01:25.660 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:01:25.660 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:01:25.660 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:01:25.663 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:01:25.663 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:01:25.663 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:01:25.663 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:01:25.664 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:01:25.664 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:01:25.664 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:01:25.672 -05:00 [INF] Perfil encontrado con id: 34
2024-07-23 11:01:25.681 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-23 11:01:25.686 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:01:25.687 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:01:25.687 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:01:25.687 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:01:25.687 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:01:25.687 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:01:25.687 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:01:25.699 -05:00 [INF] Executed DbCommand (12ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:01:25.699 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:01:25.699 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:01:25.700 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:01:25.700 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:01:25.700 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 123.734ms.
2024-07-23 11:01:25.700 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:01:25.700 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:01:25.700 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:01:25.700 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:01:25.700 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:01:25.701 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.DTOs.ConsultaPrestamoModel, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:01:25.701 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) in 257.3755ms
2024-07-23 11:01:25.701 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:01:25.701 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:01:25.702 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:01:25.702 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:01:25.702 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 200 null application/json; charset=utf-8 262.4047ms
2024-07-23 11:02:09.201 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 11:02:09.202 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:02:09.202 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:02:09.202 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:02:09.202 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:02:09.202 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:02:09.202 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:02:09.202 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 204 null null 1.7795ms
2024-07-23 11:02:09.240 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 11:02:09.240 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:02:09.240 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)' with route pattern 'api/Prestmaos/ConsultarPrestamos' is valid for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:02:09.240 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:02:09.240 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:02:09.241 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:02:09.241 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:02:09.242 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:02:09.242 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:02:09.255 -05:00 [DBG] Authorization was successful.
2024-07-23 11:02:09.255 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:02:09.255 -05:00 [INF] Route matched with {action = "ConsultarPrestamos", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsultarPrestamos() on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 11:02:09.255 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:02:09.258 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:02:09.258 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:02:09.258 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:02:09.258 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:02:09.258 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:02:09.259 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:02:09.343 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:02:09.357 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:02:09.357 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:02:09.358 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:02:09.358 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:09.358 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:09.358 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:02:09.358 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:02:09.358 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:02:09.358 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 11:02:09.361 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 11:02:09.361 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:02:09.361 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:02:09.361 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:09.361 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:02:09.361 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:09.361 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:02:09.366 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 11:02:09.366 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:09.366 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:09.366 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:02:09.366 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:02:09.367 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:02:09.367 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:02:09.369 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:02:09.369 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:02:09.369 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:02:09.369 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:09.369 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:02:09.369 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:09.369 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:02:09.371 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 11:02:09.374 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-23 11:02:09.377 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:02:09.378 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:09.378 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:09.378 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:02:09.378 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:02:09.379 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-07-23 11:02:09.380 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:02:09.394 -05:00 [INF] Executed DbCommand (14ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:02:09.394 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:09.394 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:02:09.394 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:09.394 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:02:09.400 -05:00 [DBG] Consultando perfil con id 34
2024-07-23 11:02:09.401 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:09.401 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:09.401 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:02:09.401 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:02:09.401 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:02:09.401 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:02:09.402 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:02:09.402 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:02:09.402 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:02:09.402 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:09.402 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:02:09.402 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:09.402 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:02:09.405 -05:00 [INF] Perfil encontrado con id: 34
2024-07-23 11:02:09.415 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-23 11:02:09.419 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:02:09.420 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:09.420 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:09.420 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:02:09.420 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:02:09.420 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:02:09.420 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:02:09.422 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:02:09.422 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:09.422 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:02:09.422 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:09.422 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:02:09.423 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 79.6422ms.
2024-07-23 11:02:09.423 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:02:09.423 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:02:09.423 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:02:09.423 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:02:09.423 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:02:09.423 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.DTOs.ConsultaPrestamoModel, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:02:09.424 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) in 165.1489ms
2024-07-23 11:02:09.424 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:02:09.424 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:02:09.424 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:09.424 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:02:09.424 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 200 null application/json; charset=utf-8 184.4242ms
2024-07-23 11:02:29.458 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 11:02:29.458 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:02:29.458 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:02:29.458 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:02:29.458 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:02:29.458 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:02:29.458 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:02:29.458 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 204 null null 21.3185ms
2024-07-23 11:02:29.502 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 11:02:29.512 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:02:29.512 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)' with route pattern 'api/Prestmaos/ConsultarPrestamos' is valid for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:02:29.512 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:02:29.513 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:02:29.513 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:02:29.513 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:02:29.513 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:02:29.513 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:02:29.513 -05:00 [DBG] Authorization was successful.
2024-07-23 11:02:29.513 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:02:29.514 -05:00 [INF] Route matched with {action = "ConsultarPrestamos", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsultarPrestamos() on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 11:02:29.514 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:02:29.514 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:02:29.514 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:02:29.514 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:02:29.514 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:02:29.514 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:02:29.514 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:02:29.549 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:02:29.549 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:02:29.550 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:02:29.550 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:02:29.550 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:29.550 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:29.550 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:02:29.550 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:02:29.550 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:02:29.550 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 11:02:29.553 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 11:02:29.553 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:02:29.554 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:02:29.554 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:29.554 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:02:29.554 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:29.554 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:02:29.556 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 11:02:29.557 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:29.557 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:29.557 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:02:29.557 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:02:29.557 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:02:29.557 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:02:29.560 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:02:29.561 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:02:29.561 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:02:29.561 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:29.561 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-23 11:02:29.561 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:29.561 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:02:29.564 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 11:02:29.567 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-23 11:02:29.570 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:02:29.571 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:29.571 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:29.571 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:02:29.571 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:02:29.571 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:02:29.571 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:02:29.582 -05:00 [INF] Executed DbCommand (11ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:02:29.583 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:29.583 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:02:29.583 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:29.583 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:02:29.621 -05:00 [DBG] Consultando perfil con id 34
2024-07-23 11:02:29.622 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:29.622 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:29.622 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:02:29.622 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:02:29.622 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:02:29.622 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:02:29.625 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:02:29.625 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:02:29.625 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:02:29.625 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:29.625 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:02:29.625 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:29.625 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:02:29.629 -05:00 [INF] Perfil encontrado con id: 34
2024-07-23 11:02:29.632 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-23 11:02:29.636 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:02:29.637 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:29.637 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:29.637 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:02:29.637 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:02:29.637 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:02:29.638 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:02:29.639 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:02:29.639 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:29.639 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:02:29.640 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:29.640 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:02:29.640 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 91.1925ms.
2024-07-23 11:02:29.640 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:02:29.640 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:02:29.640 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:02:29.640 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:02:29.640 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:02:29.640 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.DTOs.ConsultaPrestamoModel, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:02:29.641 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) in 126.6324ms
2024-07-23 11:02:29.641 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:02:29.641 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:02:29.641 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:29.641 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:02:29.641 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 200 null application/json; charset=utf-8 139.3052ms
2024-07-23 11:02:40.413 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 11:02:40.414 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:02:40.414 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:02:40.414 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:02:40.414 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:02:40.414 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:02:40.414 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:02:40.414 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 204 null null 1.0427ms
2024-07-23 11:02:40.433 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 11:02:40.434 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:02:40.434 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)' with route pattern 'api/Prestmaos/ConsultarPrestamos' is valid for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:02:40.434 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:02:40.434 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:02:40.434 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:02:40.434 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:02:40.434 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:02:40.434 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:02:40.434 -05:00 [DBG] Authorization was successful.
2024-07-23 11:02:40.435 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:02:40.435 -05:00 [INF] Route matched with {action = "ConsultarPrestamos", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsultarPrestamos() on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 11:02:40.435 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:02:40.435 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:02:40.435 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:02:40.435 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:02:40.435 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:02:40.435 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:02:40.436 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:02:40.473 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:02:40.474 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:02:40.474 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:02:40.474 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:02:40.474 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:40.474 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:40.474 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:02:40.474 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:02:40.474 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:02:40.474 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 11:02:40.477 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 11:02:40.478 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:02:40.479 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:02:40.479 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:40.479 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-23 11:02:40.479 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:40.479 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:02:40.482 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 11:02:40.482 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:40.482 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:40.482 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:02:40.482 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:02:40.483 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:02:40.483 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:02:40.483 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:02:40.483 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:02:40.483 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:02:40.483 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:40.483 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:02:40.483 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:40.484 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:02:40.486 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 11:02:40.489 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-23 11:02:40.492 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:02:40.493 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:40.494 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:40.494 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:02:40.494 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:02:40.494 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:02:40.494 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:02:40.495 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:02:40.495 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:40.495 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:02:40.496 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:40.496 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:02:40.498 -05:00 [DBG] Consultando perfil con id 34
2024-07-23 11:02:40.498 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:40.499 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:40.499 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:02:40.499 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:02:40.499 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:02:40.499 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:02:40.500 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:02:40.500 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:02:40.500 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:02:40.500 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:40.501 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:02:40.501 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:40.501 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:02:40.503 -05:00 [INF] Perfil encontrado con id: 34
2024-07-23 11:02:40.506 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-23 11:02:40.509 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:02:40.509 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:40.509 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:40.509 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:02:40.509 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:02:40.510 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:02:40.510 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:02:40.511 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:02:40.511 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:40.511 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:02:40.511 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:40.511 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:02:40.511 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 37.88ms.
2024-07-23 11:02:40.512 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:02:40.512 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:02:40.512 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:02:40.512 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:02:40.512 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:02:40.512 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.DTOs.ConsultaPrestamoModel, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:02:40.512 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) in 77.055ms
2024-07-23 11:02:40.513 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:02:40.513 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:02:40.513 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:02:40.513 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:02:40.513 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 200 null application/json; charset=utf-8 80.4046ms
2024-07-23 11:02:53.866 -05:00 [DBG] Connection id "0HN5B4QFSPTM8" received FIN.
2024-07-23 11:02:53.866 -05:00 [DBG] Connection id "0HN5B4QFSPTM8" is closed. The last processed stream ID was 15.
2024-07-23 11:02:53.866 -05:00 [DBG] Connection id "0HN5B4QFSPTM8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-23 11:02:53.866 -05:00 [DBG] The connection queue processing loop for 0HN5B4QFSPTM8 completed.
2024-07-23 11:02:53.866 -05:00 [DBG] Connection id "0HN5B4QFSPTM8" stopped.
2024-07-23 11:08:02.353 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-23 11:08:02.718 -05:00 [DBG] Hosting starting
2024-07-23 11:08:02.809 -05:00 [INF] User profile is available. Using 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-23 11:08:02.825 -05:00 [DBG] Reading data from file 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys\key-12ed5171-7863-4d3e-a216-6f5439158e60.xml'.
2024-07-23 11:08:02.839 -05:00 [DBG] Found key {12ed5171-7863-4d3e-a216-6f5439158e60}.
2024-07-23 11:08:02.852 -05:00 [DBG] Considering key {12ed5171-7863-4d3e-a216-6f5439158e60} with expiration date 2024-09-28 19:27:42Z as default key.
2024-07-23 11:08:02.857 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-23 11:08:02.861 -05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-23 11:08:02.863 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-23 11:08:02.869 -05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-23 11:08:02.871 -05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-23 11:08:02.874 -05:00 [DBG] Using key {12ed5171-7863-4d3e-a216-6f5439158e60} as the default key.
2024-07-23 11:08:02.875 -05:00 [DBG] Key ring with default key {12ed5171-7863-4d3e-a216-6f5439158e60} was loaded during application startup.
2024-07-23 11:08:03.255 -05:00 [INF] Now listening on: https://localhost:7299
2024-07-23 11:08:03.255 -05:00 [INF] Now listening on: http://localhost:5219
2024-07-23 11:08:03.255 -05:00 [DBG] Loaded hosting startup assembly biblioteca-backend
2024-07-23 11:08:03.255 -05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-23 11:08:03.255 -05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-23 11:08:03.256 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-23 11:08:03.256 -05:00 [INF] Hosting environment: Development
2024-07-23 11:08:03.256 -05:00 [INF] Content root path: C:\Users\spatino\Documents\Proyeco - Biblioteca\biblioteca-backend
2024-07-23 11:08:03.256 -05:00 [DBG] Hosting started
2024-07-23 11:08:03.493 -05:00 [DBG] Connection id "0HN5B66GRMOTJ" received FIN.
2024-07-23 11:08:03.493 -05:00 [DBG] Connection id "0HN5B66GRMOTK" received FIN.
2024-07-23 11:08:03.498 -05:00 [DBG] Connection id "0HN5B66GRMOTK" accepted.
2024-07-23 11:08:03.498 -05:00 [DBG] Connection id "0HN5B66GRMOTJ" accepted.
2024-07-23 11:08:03.499 -05:00 [DBG] Connection id "0HN5B66GRMOTK" started.
2024-07-23 11:08:03.499 -05:00 [DBG] Connection id "0HN5B66GRMOTJ" started.
2024-07-23 11:08:03.531 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-23 11:08:03.531 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-23 11:08:03.597 -05:00 [DBG] Connection id "0HN5B66GRMOTK" stopped.
2024-07-23 11:08:03.598 -05:00 [DBG] Connection id "0HN5B66GRMOTJ" stopped.
2024-07-23 11:08:03.603 -05:00 [DBG] Connection id "0HN5B66GRMOTJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-23 11:08:03.603 -05:00 [DBG] Connection id "0HN5B66GRMOTK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-23 11:08:03.814 -05:00 [DBG] Connection id "0HN5B66GRMOTL" accepted.
2024-07-23 11:08:03.820 -05:00 [DBG] Connection id "0HN5B66GRMOTL" started.
2024-07-23 11:08:04.164 -05:00 [DBG] Connection 0HN5B66GRMOTL established using the following protocol: "Tls12"
2024-07-23 11:08:04.424 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/index.html - null null
2024-07-23 11:08:05.468 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-23 11:08:05.526 -05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-23 11:08:05.528 -05:00 [DBG] Request did not match any endpoints
2024-07-23 11:08:05.765 -05:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-07-23 11:08:05.767 -05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-23 11:08:05.806 -05:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-07-23 11:08:05.809 -05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-23 11:08:05.813 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/index.html - 200 null text/html;charset=utf-8 1397.8604ms
2024-07-23 11:08:05.900 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
2024-07-23 11:08:05.915 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
2024-07-23 11:08:05.928 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 11.8333ms
2024-07-23 11:08:05.988 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 88.4963ms
2024-07-23 11:08:06.479 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
2024-07-23 11:08:06.480 -05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-23 11:08:06.480 -05:00 [DBG] Request did not match any endpoints
2024-07-23 11:08:06.866 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 386.946ms
2024-07-23 11:08:16.257 -05:00 [DBG] Connection id "0HN5B66GRMOTM" accepted.
2024-07-23 11:08:16.265 -05:00 [DBG] Connection id "0HN5B66GRMOTM" started.
2024-07-23 11:08:16.284 -05:00 [DBG] Connection 0HN5B66GRMOTM established using the following protocol: "Tls12"
2024-07-23 11:08:16.289 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 11:08:16.348 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:08:16.349 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:08:16.352 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:08:16.354 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:08:16.355 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:08:16.357 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:08:16.358 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 204 null null 69.5484ms
2024-07-23 11:08:16.363 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 11:08:16.364 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:08:16.369 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)' with route pattern 'api/Prestmaos/ConsultarPrestamos' is valid for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:08:16.370 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:08:16.371 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:08:16.372 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:08:16.372 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:08:16.554 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:08:16.556 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:08:16.564 -05:00 [DBG] Authorization was successful.
2024-07-23 11:08:16.565 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:08:16.597 -05:00 [INF] Route matched with {action = "ConsultarPrestamos", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsultarPrestamos() on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 11:08:16.598 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:08:16.598 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:08:16.599 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:08:16.599 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:08:16.599 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:08:16.601 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:08:16.752 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-23 11:08:16.775 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:08:16.901 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:08:17.757 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:08:17.802 -05:00 [DBG] Compiling query expression: 
'DbSet<Prestamo>()'
2024-07-23 11:08:18.019 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Prestamo>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Prestamo.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Prestamo.FechaPrestamo (DateTime) Required, 1], [Property: Prestamo.IdPerfil (int) Required FK Index, 2] }
        SELECT p.Id, p.FechaPrestamo, p.IdPerfil
        FROM Prestamo AS p), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Prestamo>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-23 11:08:18.086 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:08:18.154 -05:00 [DBG] Created DbConnection. (76ms).
2024-07-23 11:08:18.168 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:18.768 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 11:08:18.787 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:08:18.787 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)' with route pattern 'api/Prestmaos/ConsultarPrestamos' is valid for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:08:18.788 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:08:18.788 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:08:18.788 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:08:18.788 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:08:18.793 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:08:18.793 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:08:18.804 -05:00 [DBG] Authorization was successful.
2024-07-23 11:08:18.805 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:08:18.805 -05:00 [INF] Route matched with {action = "ConsultarPrestamos", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsultarPrestamos() on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 11:08:18.805 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:08:18.807 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:08:18.807 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:08:18.807 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:08:18.808 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:08:18.808 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:08:18.810 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:08:18.870 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:08:18.871 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:18.876 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:08:18.889 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-07-23 11:08:18.893 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (17ms).
2024-07-23 11:08:18.896 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:08:18.898 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:08:18.898 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:08:18.898 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:18.915 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 11:08:18.925 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:18.925 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:08:18.925 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:08:18.925 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:08:18.926 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 11:08:19.012 -05:00 [INF] Executed DbCommand (108ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 11:08:19.012 -05:00 [INF] Executed DbCommand (75ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 11:08:19.078 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:08:19.078 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:08:19.103 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:08:19.103 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:08:19.116 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:19.116 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:19.127 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 107ms reading results.
2024-07-23 11:08:19.127 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 107ms reading results.
2024-07-23 11:08:19.131 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:19.131 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:19.139 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (8ms).
2024-07-23 11:08:19.139 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (8ms).
2024-07-23 11:08:19.156 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 11:08:19.156 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 11:08:19.176 -05:00 [DBG] Compiling query expression: 
'DbSet<Perfil>()
    .FirstOrDefault(p => p.Id == __id_0)'
2024-07-23 11:08:19.284 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Perfil>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Perfil.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Perfil.Apellido (string) Required, 1], [Property: Perfil.Contrasena (string) Required, 2], [Property: Perfil.Correo (string) Required, 3], [Property: Perfil.Direccion (string) Required, 4], [Property: Perfil.IdRol (int) Required FK Index, 5], [Property: Perfil.Nombre (string) Required, 6], [Property: Perfil.Telefono (string) Required, 7] }
        SELECT TOP(1) p.Id, p.Apellido, p.Contrasena, p.Correo, p.Direccion, p.IdRol, p.Nombre, p.Telefono
        FROM Perfil AS p
        WHERE p.Id == @__id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Perfil>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-23 11:08:19.300 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:19.300 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:19.303 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:19.303 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:19.303 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:08:19.303 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:08:19.303 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:08:19.303 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:08:19.310 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-07-23 11:08:19.310 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-07-23 11:08:19.316 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:08:19.316 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:08:19.357 -05:00 [INF] Executed DbCommand (46ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:08:19.358 -05:00 [INF] Executed DbCommand (47ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:08:19.387 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:08:19.387 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:08:19.418 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:08:19.418 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:08:19.444 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:19.444 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:19.445 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 86ms reading results.
2024-07-23 11:08:19.445 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 87ms reading results.
2024-07-23 11:08:19.446 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:19.446 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:19.447 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:08:19.447 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:08:19.452 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 11:08:19.454 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 11:08:19.463 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-23 11:08:19.467 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-23 11:08:19.478 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:08:19.481 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:08:19.488 -05:00 [DBG] Compiling query expression: 
'DbSet<Perfil>()
    .Join(
        inner: DbSet<Prestamo>(), 
        outerKeySelector: P => P.Id, 
        innerKeySelector: PR => PR.IdPerfil, 
        resultSelector: (P, PR) => new { 
            P = P, 
            PR = PR
         })
    .Join(
        inner: DbSet<DetallePrestamoLibro>(), 
        outerKeySelector: <>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.PR.Id, 
        innerKeySelector: DP => DP.IdPrestamo, 
        resultSelector: (<>h__TransparentIdentifier0, DP) => new { 
            <>h__TransparentIdentifier0 = <>h__TransparentIdentifier0, 
            DP = DP
         })
    .Join(
        inner: DbSet<Libro>(), 
        outerKeySelector: <>h__TransparentIdentifier1 => <>h__TransparentIdentifier1.DP.IdLibro, 
        innerKeySelector: L => L.Id, 
        resultSelector: (<>h__TransparentIdentifier1, L) => new { 
            <>h__TransparentIdentifier1 = <>h__TransparentIdentifier1, 
            L = L
         })
    .Where(<>h__TransparentIdentifier2 => <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.P.Id == __idPerfil_0)
    .Select(<>h__TransparentIdentifier2 => new Libro{ 
        Id = <>h__TransparentIdentifier2.L.Id, 
        Titulo = <>h__TransparentIdentifier2.L.Titulo, 
        Autor = <>h__TransparentIdentifier2.L.Autor, 
        IdGenero = <>h__TransparentIdentifier2.L.IdGenero, 
        Anio = <>h__TransparentIdentifier2.L.Anio, 
        Activo = <>h__TransparentIdentifier2.L.Activo 
    }
    )'
2024-07-23 11:08:19.563 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Libro>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            Id -> 0
            Titulo -> 1
            Autor -> 2
            IdGenero -> 3
            Anio -> 4
            Activo -> 5
        SELECT l.Id, l.Titulo, l.Autor, l.IdGenero, l.Anio, l.Activo
        FROM Perfil AS p
        INNER JOIN Prestamo AS p0 ON p.Id == p0.IdPerfil
        INNER JOIN DetallePrestamoLibro AS d ON p0.Id == d.IdPrestamo
        INNER JOIN Libro AS l ON d.IdLibro == l.Id
        WHERE p.Id == @__idPerfil_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Libro>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-23 11:08:19.565 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:19.565 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:19.565 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:19.565 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:19.565 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:08:19.565 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:08:19.565 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:08:19.565 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:08:19.565 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:08:19.565 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:08:19.565 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:08:19.565 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:08:19.579 -05:00 [INF] Executed DbCommand (13ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:08:19.580 -05:00 [INF] Executed DbCommand (15ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:08:19.581 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:19.581 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:19.581 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:08:19.581 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-23 11:08:19.581 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:19.581 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:19.581 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:08:19.581 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:08:19.585 -05:00 [DBG] Consultando perfil con id 34
2024-07-23 11:08:19.586 -05:00 [DBG] Consultando perfil con id 34
2024-07-23 11:08:19.587 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:19.587 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:19.587 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:19.587 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:08:19.587 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:19.587 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:08:19.587 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:08:19.587 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:08:19.588 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:08:19.588 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:08:19.588 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:08:19.588 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:08:19.591 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:08:19.591 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:08:19.592 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:08:19.592 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:08:19.592 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:08:19.592 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:08:19.592 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:19.592 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:19.592 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-23 11:08:19.592 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-23 11:08:19.592 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:19.593 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:19.593 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:08:19.593 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:08:19.597 -05:00 [INF] Perfil encontrado con id: 34
2024-07-23 11:08:19.600 -05:00 [INF] Perfil encontrado con id: 34
2024-07-23 11:08:19.601 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-23 11:08:19.604 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-23 11:08:19.608 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:08:19.611 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:08:19.612 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:19.612 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:19.612 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:19.612 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:19.612 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:08:19.612 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:08:19.613 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:08:19.613 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:08:19.613 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:08:19.613 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:08:19.613 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:08:19.613 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:08:19.621 -05:00 [INF] Executed DbCommand (8ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:08:19.621 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:19.622 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:08:19.622 -05:00 [INF] Executed DbCommand (9ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:08:19.622 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:19.622 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:19.622 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:08:19.622 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:08:19.622 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:19.622 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:08:19.631 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 754.4531ms.
2024-07-23 11:08:19.631 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2722.7261ms.
2024-07-23 11:08:19.639 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:08:19.639 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:08:19.644 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:08:19.644 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:08:19.644 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:08:19.644 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:08:19.644 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:08:19.644 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:08:19.646 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:08:19.646 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:08:19.646 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.DTOs.ConsultaPrestamoModel, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:08:19.646 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.DTOs.ConsultaPrestamoModel, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:08:19.672 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) in 858.0691ms
2024-07-23 11:08:19.672 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) in 3068.2303ms
2024-07-23 11:08:19.673 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:08:19.673 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:08:19.679 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:08:19.679 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:08:19.686 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:19.686 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:19.688 -05:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-07-23 11:08:19.688 -05:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-07-23 11:08:19.690 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 499 null application/json; charset=utf-8 3327.2065ms
2024-07-23 11:08:19.690 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 200 null application/json; charset=utf-8 924.8983ms
2024-07-23 11:08:43.664 -05:00 [DBG] Connection id "0HN5B66GRMOTN" accepted.
2024-07-23 11:08:43.665 -05:00 [DBG] Connection id "0HN5B66GRMOTN" started.
2024-07-23 11:08:43.665 -05:00 [DBG] Connection id "0HN5B66GRMOTN" received FIN.
2024-07-23 11:08:43.665 -05:00 [DBG] Connection id "0HN5B66GRMOTO" accepted.
2024-07-23 11:08:43.670 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-23 11:08:43.671 -05:00 [DBG] Connection id "0HN5B66GRMOTN" stopped.
2024-07-23 11:08:43.686 -05:00 [DBG] Connection id "0HN5B66GRMOTN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-23 11:08:43.693 -05:00 [DBG] Connection id "0HN5B66GRMOTO" started.
2024-07-23 11:08:43.713 -05:00 [DBG] Connection 0HN5B66GRMOTO established using the following protocol: "Tls12"
2024-07-23 11:08:43.722 -05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - application/json 283
2024-07-23 11:08:43.723 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:08:43.723 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)' with route pattern 'api/Prestmaos/ConsultarPrestamos' is valid for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:08:43.723 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:08:43.723 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:08:43.729 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:08:43.730 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:08:43.731 -05:00 [DBG] Authorization was successful.
2024-07-23 11:08:43.732 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:08:43.732 -05:00 [INF] Route matched with {action = "ConsultarPrestamos", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsultarPrestamos() on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 11:08:43.732 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:08:43.733 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:08:43.733 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:08:43.733 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:08:43.733 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:08:43.733 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:08:43.735 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:08:43.840 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:08:43.911 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:08:43.912 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:08:43.912 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:08:43.913 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:43.913 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:43.913 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:08:43.913 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:08:43.913 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:08:43.913 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 11:08:43.916 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 11:08:43.917 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:08:43.917 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:08:43.917 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:43.917 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:08:43.917 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:43.918 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:08:43.920 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 11:08:43.921 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:43.921 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:43.921 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:08:43.921 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:08:43.922 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:08:43.922 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:08:43.927 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:08:43.928 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:08:43.928 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:08:43.929 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:43.929 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-23 11:08:43.929 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:43.930 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:08:43.933 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 11:08:43.937 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-23 11:08:43.945 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:08:43.946 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:43.946 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:43.946 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:08:43.946 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:08:43.946 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:08:43.947 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:08:43.953 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:08:43.954 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:43.954 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:08:43.954 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:43.954 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:08:43.958 -05:00 [DBG] Consultando perfil con id 34
2024-07-23 11:08:43.958 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:43.958 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:43.959 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:08:43.959 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:08:43.959 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:08:43.959 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:08:43.960 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:08:43.960 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:08:43.960 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:08:43.960 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:43.960 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:08:43.960 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:43.960 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:08:43.962 -05:00 [INF] Perfil encontrado con id: 34
2024-07-23 11:08:43.964 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-23 11:08:43.968 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:08:43.969 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:43.969 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:43.969 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:08:43.969 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:08:43.969 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:08:43.969 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:08:43.970 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:08:43.970 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:43.970 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:08:43.970 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:43.970 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:08:43.970 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 130.0468ms.
2024-07-23 11:08:43.970 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:08:43.971 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:08:43.971 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:08:43.971 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:08:43.971 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:08:43.971 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.DTOs.ConsultaPrestamoModel, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:08:43.983 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) in 249.8394ms
2024-07-23 11:08:43.983 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:08:43.983 -05:00 [DBG] Connection id "0HN5B66GRMOTO" completed keep alive response.
2024-07-23 11:08:43.984 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:08:43.984 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:08:43.984 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:08:43.984 -05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 200 null application/json; charset=utf-8 263.157ms
2024-07-23 11:08:43.985 -05:00 [DBG] Connection id "0HN5B66GRMOTO", Request id "0HN5B66GRMOTO:00000001": started reading request body.
2024-07-23 11:08:43.986 -05:00 [DBG] Connection id "0HN5B66GRMOTO", Request id "0HN5B66GRMOTO:00000001": done reading request body.
2024-07-23 11:09:02.876 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 11:09:02.876 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:09:02.877 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:09:02.877 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:09:02.877 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:09:02.877 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:09:02.877 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:09:02.878 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 204 null null 1.5547ms
2024-07-23 11:09:02.882 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 11:09:02.882 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:09:02.882 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)' with route pattern 'api/Prestmaos/ConsultarPrestamos' is valid for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:09:02.882 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:09:02.882 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:09:02.882 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:09:02.882 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:09:02.883 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:09:02.883 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:09:02.883 -05:00 [DBG] Authorization was successful.
2024-07-23 11:09:02.883 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:09:02.883 -05:00 [INF] Route matched with {action = "ConsultarPrestamos", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsultarPrestamos() on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 11:09:02.884 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:09:02.884 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:09:02.884 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:09:02.884 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:09:02.884 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:09:02.884 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:09:02.885 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:09:02.923 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:09:02.925 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:09:02.925 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:09:02.925 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:09:02.926 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:09:02.926 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:09:02.926 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:09:02.926 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:09:02.927 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:09:02.927 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 11:09:02.933 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 11:09:02.933 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:09:02.934 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:09:02.934 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:09:02.935 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-23 11:09:02.936 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:09:02.936 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:09:02.944 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 11:09:02.945 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:09:02.945 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:09:02.946 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:09:02.946 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:09:02.946 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:09:02.946 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:09:02.952 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:09:02.952 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:09:02.953 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:09:02.953 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:09:02.953 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:09:02.953 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:09:02.955 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (1ms).
2024-07-23 11:09:02.959 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 11:09:02.963 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-23 11:09:02.966 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:09:02.967 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:09:02.968 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:09:02.968 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:09:02.968 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:09:02.968 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:09:02.968 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:09:02.979 -05:00 [INF] Executed DbCommand (11ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:09:02.980 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:09:02.980 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:09:02.980 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:09:02.980 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:09:02.985 -05:00 [DBG] Consultando perfil con id 34
2024-07-23 11:09:02.985 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:09:02.985 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:09:02.986 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:09:02.986 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:09:02.986 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:09:02.986 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:09:02.988 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:09:02.989 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:09:02.989 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:09:02.989 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:09:02.989 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:09:02.989 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:09:02.989 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:09:02.993 -05:00 [INF] Perfil encontrado con id: 34
2024-07-23 11:09:02.996 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-23 11:09:02.999 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:09:03.000 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:09:03.000 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:09:03.000 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:09:03.000 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:09:03.000 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:09:03.001 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:09:03.001 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:09:03.001 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:09:03.002 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:09:03.002 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:09:03.002 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:09:03.002 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 78.2417ms.
2024-07-23 11:09:03.002 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:09:03.002 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:09:03.002 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:09:03.002 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:09:03.002 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:09:03.002 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.DTOs.ConsultaPrestamoModel, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:09:03.003 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) in 118.4562ms
2024-07-23 11:09:03.003 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:09:03.003 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:09:03.003 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:09:03.003 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:09:03.003 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 200 null application/json; charset=utf-8 122.4868ms
2024-07-23 11:10:16.427 -05:00 [DBG] Connection id "0HN5B66GRMOTM" received FIN.
2024-07-23 11:10:16.428 -05:00 [DBG] Connection id "0HN5B66GRMOTL" received FIN.
2024-07-23 11:10:16.438 -05:00 [DBG] Connection id "0HN5B66GRMOTL" is closed. The last processed stream ID was 7.
2024-07-23 11:10:16.438 -05:00 [DBG] Connection id "0HN5B66GRMOTM" is closed. The last processed stream ID was 9.
2024-07-23 11:10:16.439 -05:00 [DBG] Connection id "0HN5B66GRMOTM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-23 11:10:16.439 -05:00 [DBG] Connection id "0HN5B66GRMOTL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-23 11:10:16.444 -05:00 [DBG] The connection queue processing loop for 0HN5B66GRMOTL completed.
2024-07-23 11:10:16.448 -05:00 [DBG] Connection id "0HN5B66GRMOTL" stopped.
2024-07-23 11:10:16.459 -05:00 [DBG] The connection queue processing loop for 0HN5B66GRMOTM completed.
2024-07-23 11:10:16.472 -05:00 [DBG] Connection id "0HN5B66GRMOTM" stopped.
2024-07-23 11:10:29.237 -05:00 [DBG] Connection id "0HN5B66GRMOTP" accepted.
2024-07-23 11:10:29.237 -05:00 [DBG] Connection id "0HN5B66GRMOTP" started.
2024-07-23 11:10:29.243 -05:00 [DBG] Connection 0HN5B66GRMOTP established using the following protocol: "Tls12"
2024-07-23 11:10:29.249 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 11:10:29.249 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:10:29.249 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:10:29.249 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:10:29.249 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:10:29.249 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:10:29.249 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:10:29.252 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 204 null null 2.9675ms
2024-07-23 11:10:29.257 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 11:10:29.259 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:10:29.259 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)' with route pattern 'api/Prestmaos/ConsultarPrestamos' is valid for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:10:29.259 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:10:29.259 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:10:29.259 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:10:29.260 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:10:29.261 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:10:29.261 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:10:29.261 -05:00 [DBG] Authorization was successful.
2024-07-23 11:10:29.262 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:10:29.262 -05:00 [INF] Route matched with {action = "ConsultarPrestamos", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsultarPrestamos() on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 11:10:29.262 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:10:29.262 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:10:29.263 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:10:29.263 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:10:29.263 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:10:29.263 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:10:29.264 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:10:29.309 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:10:29.310 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:10:29.311 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:10:29.311 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:10:29.311 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:10:29.311 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:10:29.311 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:10:29.311 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:10:29.311 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:10:29.311 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 11:10:29.315 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 11:10:29.315 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:10:29.315 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:10:29.315 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:10:29.315 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:10:29.316 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:10:29.316 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:10:29.319 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 11:10:29.319 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:10:29.319 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:10:29.319 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:10:29.319 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:10:29.320 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:10:29.320 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:10:29.322 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:10:29.322 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:10:29.322 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:10:29.323 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:10:29.323 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:10:29.323 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:10:29.323 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:10:29.325 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 11:10:29.327 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-23 11:10:29.329 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:10:29.329 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:10:29.329 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:10:29.330 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:10:29.330 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:10:29.330 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:10:29.330 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:10:29.336 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:10:29.336 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:10:29.336 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:10:29.336 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:10:29.336 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:10:29.340 -05:00 [DBG] Consultando perfil con id 34
2024-07-23 11:10:29.340 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:10:29.340 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:10:29.341 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:10:29.341 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:10:29.341 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:10:29.341 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:10:29.341 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:10:29.341 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:10:29.342 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:10:29.342 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:10:29.342 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:10:29.342 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:10:29.342 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:10:29.344 -05:00 [INF] Perfil encontrado con id: 34
2024-07-23 11:10:29.346 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-23 11:10:29.348 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:10:29.349 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:10:29.349 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:10:29.349 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:10:29.349 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:10:29.349 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:10:29.349 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:10:29.351 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:10:29.351 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:10:29.351 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:10:29.352 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:10:29.352 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:10:29.352 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 42.422ms.
2024-07-23 11:10:29.352 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:10:29.352 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:10:29.352 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:10:29.352 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:10:29.352 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:10:29.352 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.DTOs.ConsultaPrestamoModel, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:10:29.353 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) in 89.6936ms
2024-07-23 11:10:29.353 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:10:29.353 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:10:29.353 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:10:29.353 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:10:29.353 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 200 null application/json; charset=utf-8 97.301ms
2024-07-23 11:10:47.867 -05:00 [DBG] Connection id "0HN5B66GRMOTP" received FIN.
2024-07-23 11:10:47.867 -05:00 [DBG] Connection id "0HN5B66GRMOTP" is closed. The last processed stream ID was 3.
2024-07-23 11:10:47.867 -05:00 [DBG] Connection id "0HN5B66GRMOTP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-23 11:10:47.868 -05:00 [DBG] The connection queue processing loop for 0HN5B66GRMOTP completed.
2024-07-23 11:10:47.868 -05:00 [DBG] Connection id "0HN5B66GRMOTP" stopped.
2024-07-23 11:13:26.602 -05:00 [DBG] Connection id "0HN5B66GRMOTQ" accepted.
2024-07-23 11:13:26.602 -05:00 [DBG] Connection id "0HN5B66GRMOTQ" started.
2024-07-23 11:13:26.673 -05:00 [DBG] Connection 0HN5B66GRMOTQ established using the following protocol: "Tls12"
2024-07-23 11:13:26.712 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 11:13:26.713 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:13:26.713 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:13:26.713 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:13:26.713 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:13:26.713 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:13:26.713 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:13:26.714 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 204 null null 1.3218ms
2024-07-23 11:13:26.734 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 11:13:26.734 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:13:26.734 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)' with route pattern 'api/Prestmaos/ConsultarPrestamos' is valid for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:13:26.734 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:13:26.734 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:13:26.734 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:13:26.734 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:13:26.735 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:13:26.735 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:13:26.735 -05:00 [DBG] Authorization was successful.
2024-07-23 11:13:26.735 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:13:26.738 -05:00 [INF] Route matched with {action = "ConsultarPrestamos", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsultarPrestamos() on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 11:13:26.738 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:13:26.738 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:13:26.738 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:13:26.738 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:13:26.738 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:13:26.738 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:13:26.739 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:13:26.765 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:13:26.766 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:13:26.766 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:13:26.766 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:13:26.766 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:13:26.766 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:13:26.767 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:13:26.767 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:13:26.767 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:13:26.767 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 11:13:26.770 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 11:13:26.771 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:13:26.771 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:13:26.771 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:13:26.771 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:13:26.771 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:13:26.771 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:13:26.774 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 11:13:26.775 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:13:26.776 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:13:26.776 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:13:26.776 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:13:26.777 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:13:26.777 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:13:26.779 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:13:26.779 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:13:26.779 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:13:26.779 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:13:26.780 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:13:26.780 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:13:26.780 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:13:26.782 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 11:13:26.784 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-23 11:13:26.787 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:13:26.787 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:13:26.787 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:13:26.788 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:13:26.788 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:13:26.788 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:13:26.788 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:13:26.797 -05:00 [INF] Executed DbCommand (9ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:13:26.797 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:13:26.797 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:13:26.797 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:13:26.797 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:13:26.800 -05:00 [DBG] Consultando perfil con id 34
2024-07-23 11:13:26.801 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:13:26.801 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:13:26.801 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:13:26.801 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:13:26.801 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:13:26.801 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:13:26.802 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:13:26.802 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:13:26.802 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:13:26.802 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:13:26.802 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:13:26.803 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:13:26.803 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:13:26.805 -05:00 [INF] Perfil encontrado con id: 34
2024-07-23 11:13:26.810 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-23 11:13:26.813 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:13:26.815 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:13:26.815 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:13:26.815 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:13:26.815 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:13:26.815 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:13:26.815 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:13:26.816 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:13:26.816 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:13:26.816 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:13:26.816 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:13:26.816 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:13:26.817 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 51.2895ms.
2024-07-23 11:13:26.817 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:13:26.817 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:13:26.817 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:13:26.817 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:13:26.818 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:13:26.818 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.DTOs.ConsultaPrestamoModel, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:13:26.818 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) in 79.53ms
2024-07-23 11:13:26.818 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:13:26.818 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:13:26.818 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:13:26.818 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:13:26.819 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 200 null application/json; charset=utf-8 88.1002ms
2024-07-23 11:13:54.162 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 11:13:54.172 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:13:54.172 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:13:54.172 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:13:54.172 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:13:54.172 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:13:54.172 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:13:54.173 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 204 null null 10.7706ms
2024-07-23 11:13:54.195 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 11:13:54.195 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:13:54.200 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)' with route pattern 'api/Prestmaos/ConsultarPrestamos' is valid for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:13:54.201 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:13:54.201 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:13:54.201 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:13:54.201 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:13:54.201 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:13:54.201 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:13:54.201 -05:00 [DBG] Authorization was successful.
2024-07-23 11:13:54.201 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:13:54.202 -05:00 [INF] Route matched with {action = "ConsultarPrestamos", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsultarPrestamos() on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 11:13:54.202 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:13:54.202 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:13:54.202 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:13:54.202 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:13:54.202 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:13:54.202 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:13:54.203 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:13:54.237 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:13:54.239 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:13:54.239 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:13:54.240 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:13:54.241 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:13:54.242 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:13:54.242 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:13:54.242 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:13:54.242 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:13:54.242 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 11:13:54.247 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 11:13:54.247 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:13:54.247 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:13:54.248 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:13:54.248 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:13:54.248 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:13:54.248 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:13:54.250 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 11:13:54.250 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:13:54.250 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:13:54.251 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:13:54.251 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:13:54.251 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:13:54.251 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:13:54.253 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:13:54.253 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:13:54.253 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:13:54.253 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:13:54.253 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:13:54.253 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:13:54.254 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:13:54.256 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 11:13:54.260 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-23 11:13:54.262 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:13:54.263 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:13:54.263 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:13:54.264 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:13:54.264 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:13:54.264 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:13:54.264 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:13:54.276 -05:00 [INF] Executed DbCommand (12ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:13:54.276 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:13:54.277 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:13:54.277 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:13:54.277 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:13:54.280 -05:00 [DBG] Consultando perfil con id 34
2024-07-23 11:13:54.280 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:13:54.280 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:13:54.280 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:13:54.281 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:13:54.281 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:13:54.281 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:13:54.281 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:13:54.281 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:13:54.282 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:13:54.282 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:13:54.282 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:13:54.282 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:13:54.282 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:13:54.284 -05:00 [INF] Perfil encontrado con id: 34
2024-07-23 11:13:54.287 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-23 11:13:54.291 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:13:54.291 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:13:54.291 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:13:54.291 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:13:54.292 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:13:54.292 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:13:54.292 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:13:54.293 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:13:54.293 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:13:54.293 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:13:54.293 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:13:54.293 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:13:54.293 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 55.8039ms.
2024-07-23 11:13:54.293 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:13:54.293 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:13:54.294 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:13:54.294 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:13:54.294 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:13:54.294 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.DTOs.ConsultaPrestamoModel, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:13:54.294 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) in 91.7539ms
2024-07-23 11:13:54.294 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:13:54.294 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:13:54.294 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:13:54.294 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:13:54.295 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 200 null application/json; charset=utf-8 100.0687ms
2024-07-23 11:15:32.782 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 11:15:32.782 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:15:32.782 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:15:32.782 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:15:32.782 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:15:32.782 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:15:32.801 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:15:32.802 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 204 null null 20.1859ms
2024-07-23 11:15:32.814 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 11:15:32.814 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:15:32.814 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)' with route pattern 'api/Prestmaos/ConsultarPrestamos' is valid for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:15:32.814 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:15:32.814 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:15:32.816 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:15:32.816 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:15:32.828 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:15:32.828 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:15:32.832 -05:00 [DBG] Authorization was successful.
2024-07-23 11:15:32.832 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:15:32.833 -05:00 [INF] Route matched with {action = "ConsultarPrestamos", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsultarPrestamos() on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 11:15:32.833 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:15:32.833 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:15:32.833 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:15:32.833 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:15:32.833 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:15:32.833 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:15:32.834 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:15:32.869 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:15:32.871 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:15:32.871 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:15:32.871 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:15:32.871 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:32.872 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:32.872 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:15:32.872 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:15:32.872 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:15:32.872 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 11:15:32.875 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 11:15:32.875 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:15:32.875 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:15:32.875 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:32.875 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:15:32.875 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:32.875 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:15:32.878 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 11:15:32.878 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:32.878 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:32.879 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:15:32.879 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:15:32.879 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:15:32.879 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:15:32.881 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:15:32.881 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:15:32.881 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:15:32.881 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:32.881 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:15:32.881 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:32.882 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:15:32.884 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 11:15:32.887 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-23 11:15:32.890 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:15:32.890 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:32.891 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:32.891 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:15:32.891 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:15:32.891 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:15:32.891 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:15:32.896 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:15:32.896 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:32.896 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:15:32.896 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:32.896 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:15:32.899 -05:00 [DBG] Consultando perfil con id 34
2024-07-23 11:15:32.899 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:32.899 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:32.899 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:15:32.900 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:15:32.900 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:15:32.900 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:15:32.900 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:15:32.900 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:15:32.900 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:15:32.900 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:32.901 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:15:32.901 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:32.901 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:15:32.904 -05:00 [INF] Perfil encontrado con id: 34
2024-07-23 11:15:32.906 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-23 11:15:32.909 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:15:32.909 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:32.910 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:32.910 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:15:32.910 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:15:32.910 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:15:32.910 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:15:32.910 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:15:32.910 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:32.910 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:15:32.911 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:32.911 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:15:32.911 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 41.9557ms.
2024-07-23 11:15:32.911 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:15:32.911 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:15:32.911 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:15:32.911 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:15:32.911 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:15:32.911 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.DTOs.ConsultaPrestamoModel, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:15:32.911 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) in 78.0544ms
2024-07-23 11:15:32.911 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:15:32.911 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:15:32.912 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:32.912 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:15:32.912 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 200 null application/json; charset=utf-8 98.1961ms
2024-07-23 11:15:36.966 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=31 - null null
2024-07-23 11:15:36.966 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 11:15:36.966 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:15:36.966 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:15:36.966 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:15:36.967 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:15:36.967 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:15:36.967 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=31 - 204 null null 1.0613ms
2024-07-23 11:15:36.975 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=31 - null null
2024-07-23 11:15:36.975 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 11:15:36.975 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-07-23 11:15:36.975 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 11:15:36.976 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:15:36.976 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:15:36.976 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:15:36.976 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:15:36.976 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:15:36.977 -05:00 [DBG] Authorization was successful.
2024-07-23 11:15:36.978 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 11:15:36.997 -05:00 [INF] Route matched with {action = "Get", controller = "Prestmaos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 11:15:36.998 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:15:36.998 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:15:36.998 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:15:36.998 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:15:36.998 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:15:36.998 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:15:36.998 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:15:37.010 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-23 11:15:37.012 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-23 11:15:37.014 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 11:15:37.014 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 11:15:37.014 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-23 11:15:37.016 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 11:15:37.047 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:15:37.051 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-23 11:15:37.052 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:15:37.057 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:15:37.057 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:15:37.057 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:15:37.057 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:37.058 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:37.058 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:15:37.058 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:15:37.058 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:15:37.058 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:15:37.059 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:15:37.059 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:37.059 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:15:37.059 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:37.059 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:15:37.059 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 11.87ms.
2024-07-23 11:15:37.060 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:15:37.060 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:15:37.060 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:15:37.060 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:15:37.060 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:15:37.060 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.Collections.Generic.List`1[[biblioteca_backend.Models.Libro, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-23 11:15:37.065 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) in 67.1695ms
2024-07-23 11:15:37.065 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 11:15:37.065 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:15:37.065 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:37.065 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:15:37.066 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=31 - 200 null application/json; charset=utf-8 90.5841ms
2024-07-23 11:15:38.457 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 11:15:38.457 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:15:38.458 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:15:38.458 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:15:38.458 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:15:38.458 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:15:38.458 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:15:38.458 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 204 null null 1.0353ms
2024-07-23 11:15:38.463 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 11:15:38.463 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:15:38.463 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)' with route pattern 'api/Prestmaos/ConsultarPrestamos' is valid for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:15:38.463 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:15:38.463 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:15:38.463 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:15:38.463 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:15:38.464 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:15:38.464 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:15:38.464 -05:00 [DBG] Authorization was successful.
2024-07-23 11:15:38.464 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:15:38.464 -05:00 [INF] Route matched with {action = "ConsultarPrestamos", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsultarPrestamos() on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 11:15:38.465 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:15:38.465 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:15:38.466 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:15:38.466 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:15:38.466 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:15:38.466 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:15:38.466 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:15:38.509 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:15:38.509 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:15:38.509 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:15:38.509 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:15:38.510 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:38.510 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:38.510 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:15:38.510 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:15:38.510 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:15:38.510 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 11:15:38.511 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 11:15:38.512 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:15:38.513 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:15:38.513 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:38.513 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:15:38.513 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:38.513 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:15:38.515 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 11:15:38.515 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:38.515 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:38.516 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:15:38.516 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:15:38.516 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:15:38.516 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:15:38.516 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:15:38.516 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:15:38.516 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:15:38.517 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:38.517 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:15:38.517 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:38.517 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:15:38.519 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 11:15:38.523 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-23 11:15:38.526 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:15:38.527 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:38.527 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:38.527 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:15:38.527 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:15:38.527 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:15:38.527 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:15:38.528 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:15:38.528 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:38.528 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:15:38.528 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:38.528 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:15:38.531 -05:00 [DBG] Consultando perfil con id 34
2024-07-23 11:15:38.531 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:38.532 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:38.532 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:15:38.532 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:15:38.532 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:15:38.532 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:15:38.533 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:15:38.533 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:15:38.533 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:15:38.533 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:38.533 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:15:38.533 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:38.533 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:15:38.536 -05:00 [INF] Perfil encontrado con id: 34
2024-07-23 11:15:38.540 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-23 11:15:38.543 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:15:38.544 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:38.544 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:38.544 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:15:38.544 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:15:38.544 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:15:38.544 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:15:38.545 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:15:38.545 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:38.545 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:15:38.545 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:38.545 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:15:38.545 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 36.1917ms.
2024-07-23 11:15:38.545 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:15:38.545 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:15:38.545 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:15:38.545 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:15:38.545 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:15:38.545 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.DTOs.ConsultaPrestamoModel, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:15:38.546 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) in 79.4842ms
2024-07-23 11:15:38.546 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:15:38.546 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:15:38.546 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:38.546 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:15:38.546 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 200 null application/json; charset=utf-8 83.9237ms
2024-07-23 11:15:55.794 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 11:15:55.794 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:15:55.795 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:15:55.795 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:15:55.795 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:15:55.795 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:15:55.795 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:15:55.795 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 204 null null 1.5458ms
2024-07-23 11:15:55.797 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 11:15:55.798 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:15:55.798 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)' with route pattern 'api/Prestmaos/ConsultarPrestamos' is valid for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:15:55.798 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:15:55.798 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:15:55.798 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:15:55.798 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:15:55.798 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:15:55.798 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:15:55.799 -05:00 [DBG] Authorization was successful.
2024-07-23 11:15:55.799 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:15:55.799 -05:00 [INF] Route matched with {action = "ConsultarPrestamos", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsultarPrestamos() on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 11:15:55.799 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:15:55.799 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:15:55.799 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:15:55.799 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:15:55.799 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:15:55.799 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:15:55.800 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:15:55.966 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:15:55.967 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:15:55.968 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:15:55.970 -05:00 [DBG] Created DbConnection. (1ms).
2024-07-23 11:15:55.970 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:55.971 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:55.972 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:15:55.972 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:15:55.972 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:15:55.972 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 11:15:55.997 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 11:15:56.007 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:15:56.008 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:15:56.008 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:56.008 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-23 11:15:56.009 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:56.009 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:15:56.034 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 11:15:56.042 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:56.042 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:56.042 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:15:56.042 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:15:56.043 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:15:56.043 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:15:56.046 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:15:56.047 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:15:56.047 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:15:56.047 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:56.047 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:15:56.047 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:56.047 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:15:56.050 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 11:15:56.057 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-23 11:15:56.060 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:15:56.060 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:56.060 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:56.061 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:15:56.061 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:15:56.061 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:15:56.061 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:15:56.061 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:15:56.062 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:56.062 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:15:56.062 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:56.062 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:15:56.064 -05:00 [DBG] Consultando perfil con id 34
2024-07-23 11:15:56.065 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:56.065 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:56.065 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:15:56.065 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:15:56.065 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:15:56.065 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:15:56.066 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:15:56.066 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:15:56.066 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:15:56.066 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:56.066 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:15:56.066 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:56.066 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:15:56.075 -05:00 [INF] Perfil encontrado con id: 34
2024-07-23 11:15:56.078 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-23 11:15:56.080 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:15:56.081 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:56.081 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:56.081 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:15:56.081 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:15:56.081 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:15:56.081 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:15:56.082 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:15:56.082 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:56.082 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:15:56.082 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:56.082 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:15:56.082 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 116.1773ms.
2024-07-23 11:15:56.082 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:15:56.082 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:15:56.082 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:15:56.082 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:15:56.083 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:15:56.083 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.DTOs.ConsultaPrestamoModel, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:15:56.083 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) in 283.3577ms
2024-07-23 11:15:56.083 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:15:56.083 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:15:56.083 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:56.083 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:15:56.083 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 200 null application/json; charset=utf-8 286.2313ms
2024-07-23 11:15:59.675 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=31 - null null
2024-07-23 11:15:59.675 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 11:15:59.675 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:15:59.676 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:15:59.676 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:15:59.676 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:15:59.676 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:15:59.676 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=31 - 204 null null 1.1487ms
2024-07-23 11:15:59.679 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=31 - null null
2024-07-23 11:15:59.679 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 11:15:59.679 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-07-23 11:15:59.679 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 11:15:59.679 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:15:59.679 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:15:59.679 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:15:59.680 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:15:59.680 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:15:59.680 -05:00 [DBG] Authorization was successful.
2024-07-23 11:15:59.681 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 11:15:59.681 -05:00 [INF] Route matched with {action = "Get", controller = "Prestmaos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 11:15:59.681 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:15:59.682 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:15:59.682 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:15:59.682 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:15:59.682 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:15:59.682 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:15:59.683 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:15:59.689 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-23 11:15:59.691 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-23 11:15:59.692 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 11:15:59.692 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 11:15:59.692 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-23 11:15:59.692 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 11:15:59.743 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:15:59.745 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-23 11:15:59.746 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:15:59.749 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:15:59.750 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:15:59.750 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:15:59.750 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:59.750 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:59.750 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:15:59.750 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:15:59.750 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:15:59.750 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:15:59.760 -05:00 [INF] Executed DbCommand (10ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:15:59.760 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:59.760 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:15:59.761 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:59.761 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:15:59.761 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 18.0199ms.
2024-07-23 11:15:59.761 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:15:59.761 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:15:59.761 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:15:59.761 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:15:59.761 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:15:59.761 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.Collections.Generic.List`1[[biblioteca_backend.Models.Libro, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-23 11:15:59.761 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) in 79.1832ms
2024-07-23 11:15:59.761 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 11:15:59.761 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:15:59.761 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:15:59.761 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:15:59.762 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=31 - 200 null application/json; charset=utf-8 82.7541ms
2024-07-23 11:16:01.655 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-23 11:16:01.655 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 11:16:01.656 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:16:01.656 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:16:01.657 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:16:01.657 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:16:01.658 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:16:01.659 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - 204 null null 3.5509ms
2024-07-23 11:16:01.667 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-23 11:16:01.667 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 11:16:01.667 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 11:16:01.667 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:16:01.668 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:16:01.668 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:16:01.669 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:16:01.669 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:16:01.669 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:16:01.669 -05:00 [DBG] Authorization was successful.
2024-07-23 11:16:01.670 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:16:01.674 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 11:16:01.674 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:16:01.674 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:16:01.674 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:16:01.674 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:16:01.674 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:16:01.674 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 11:16:01.675 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 11:16:01.675 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 11:16:01.675 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-23 11:16:01.676 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:16:01.676 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:16:01.676 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 11:16:01.676 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:16:01.711 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:16:01.717 -05:00 [DBG] Consultando libros...
2024-07-23 11:16:01.719 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:16:01.726 -05:00 [DBG] Compiling query expression: 
'DbSet<Libro>()
    .Join(
        inner: DbSet<Genero>(), 
        outerKeySelector: L => L.IdGenero, 
        innerKeySelector: G => G.Id, 
        resultSelector: (L, G) => new { 
            L = L, 
            G = G
         })
    .Where(<>h__TransparentIdentifier0 => True && <>h__TransparentIdentifier0.L.Activo == True || False)
    .Select(<>h__TransparentIdentifier0 => new { 
        id = <>h__TransparentIdentifier0.L.Id, 
        titulo = <>h__TransparentIdentifier0.L.Titulo, 
        autor = <>h__TransparentIdentifier0.L.Autor, 
        anio = <>h__TransparentIdentifier0.L.Anio, 
        idGenero = <>h__TransparentIdentifier0.L.IdGenero, 
        genero = <>h__TransparentIdentifier0.G.Nombre, 
        activo = <>h__TransparentIdentifier0.L.Activo
     })'
2024-07-23 11:16:01.734 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType1<int, string, string, int, int, string, bool>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            id -> 0
            titulo -> 1
            autor -> 2
            anio -> 3
            idGenero -> 4
            genero -> 5
            activo -> 6
        SELECT l.Id AS id, l.Titulo AS titulo, l.Autor AS autor, l.Anio AS anio, l.IdGenero AS idGenero, g.Nombre AS genero, l.Activo AS activo
        FROM Libro AS l
        INNER JOIN Genero AS g ON l.IdGenero == g.Id
        WHERE (CAST(1 AS bit) && (l.Activo == CAST(1 AS bit))) || CAST(0 AS bit)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType1<int, string, string, int, int, string, bool>>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-23 11:16:01.738 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:16:01.738 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:16:01.738 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:16:01.738 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:16:01.738 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:16:01.738 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:16:01.738 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:16:01.738 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 11:16:01.743 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 11:16:01.743 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:16:01.743 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:16:01.743 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:16:01.744 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:16:01.746 -05:00 [INF] Consulta de libros exitosa
2024-07-23 11:16:01.746 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 34.5586ms.
2024-07-23 11:16:01.746 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:16:01.746 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:16:01.746 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:16:01.746 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:16:01.747 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:16:01.747 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:16:01.754 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 80.079ms
2024-07-23 11:16:01.754 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:16:01.755 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:16:01.755 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:16:01.755 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:16:01.755 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 88.2333ms
2024-07-23 11:16:03.620 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 11:16:03.620 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:16:03.620 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:16:03.620 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:16:03.620 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:16:03.620 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:16:03.620 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:16:03.621 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 204 null null 0.9719ms
2024-07-23 11:16:03.630 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 11:16:03.630 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:16:03.630 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)' with route pattern 'api/Prestmaos/ConsultarPrestamos' is valid for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:16:03.630 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:16:03.630 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:16:03.630 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:16:03.631 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:16:03.631 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:16:03.631 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:16:03.631 -05:00 [DBG] Authorization was successful.
2024-07-23 11:16:03.631 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:16:03.631 -05:00 [INF] Route matched with {action = "ConsultarPrestamos", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsultarPrestamos() on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 11:16:03.631 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:16:03.631 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:16:03.631 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:16:03.631 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:16:03.631 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:16:03.631 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:16:03.632 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:16:03.659 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:16:03.659 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:16:03.659 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:16:03.659 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:16:03.660 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:16:03.660 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:16:03.660 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:16:03.660 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:16:03.660 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:16:03.660 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 11:16:03.663 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 11:16:03.663 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:16:03.663 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:16:03.663 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:16:03.663 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:16:03.663 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:16:03.663 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:16:03.665 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 11:16:03.666 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:16:03.666 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:16:03.666 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:16:03.666 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:16:03.666 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:16:03.666 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:16:03.670 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:16:03.671 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:16:03.671 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:16:03.671 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:16:03.671 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:16:03.671 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:16:03.671 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:16:03.674 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 11:16:03.677 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-23 11:16:03.679 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:16:03.680 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:16:03.680 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:16:03.680 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:16:03.680 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:16:03.680 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:16:03.680 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:16:03.688 -05:00 [INF] Executed DbCommand (8ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:16:03.688 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:16:03.688 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:16:03.688 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:16:03.689 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:16:03.691 -05:00 [DBG] Consultando perfil con id 34
2024-07-23 11:16:03.691 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:16:03.691 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:16:03.691 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:16:03.691 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:16:03.691 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:16:03.691 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:16:03.692 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:16:03.692 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:16:03.692 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:16:03.692 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:16:03.692 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:16:03.692 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:16:03.692 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:16:03.695 -05:00 [INF] Perfil encontrado con id: 34
2024-07-23 11:16:03.697 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-23 11:16:03.699 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:16:03.700 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:16:03.700 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:16:03.700 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:16:03.700 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:16:03.700 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:16:03.700 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:16:03.702 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:16:03.702 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:16:03.703 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:16:03.703 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:16:03.703 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:16:03.703 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 44.1151ms.
2024-07-23 11:16:03.703 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:16:03.703 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:16:03.703 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:16:03.703 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:16:03.703 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:16:03.704 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.DTOs.ConsultaPrestamoModel, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:16:03.704 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) in 72.387ms
2024-07-23 11:16:03.704 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:16:03.704 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:16:03.704 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:16:03.704 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:16:03.704 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 200 null application/json; charset=utf-8 74.7925ms
2024-07-23 11:16:13.420 -05:00 [DBG] Connection id "0HN5B66GRMOTQ" received FIN.
2024-07-23 11:16:13.420 -05:00 [DBG] Connection id "0HN5B66GRMOTQ" is closed. The last processed stream ID was 35.
2024-07-23 11:16:13.420 -05:00 [DBG] Connection id "0HN5B66GRMOTQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-23 11:16:13.421 -05:00 [DBG] The connection queue processing loop for 0HN5B66GRMOTQ completed.
2024-07-23 11:16:13.422 -05:00 [DBG] Connection id "0HN5B66GRMOTQ" stopped.
2024-07-23 11:17:07.085 -05:00 [DBG] Connection id "0HN5B66GRMOTR" accepted.
2024-07-23 11:17:07.085 -05:00 [DBG] Connection id "0HN5B66GRMOTR" started.
2024-07-23 11:17:07.118 -05:00 [DBG] Connection 0HN5B66GRMOTR established using the following protocol: "Tls12"
2024-07-23 11:17:07.123 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=31 - null null
2024-07-23 11:17:07.123 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 11:17:07.123 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:17:07.123 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:17:07.124 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:17:07.124 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:17:07.124 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:17:07.124 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=31 - 204 null null 1.2376ms
2024-07-23 11:17:07.126 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=31 - null null
2024-07-23 11:17:07.126 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 11:17:07.126 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-07-23 11:17:07.126 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 11:17:07.126 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:17:07.127 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:17:07.127 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:17:07.127 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:17:07.127 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:17:07.127 -05:00 [DBG] Authorization was successful.
2024-07-23 11:17:07.127 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 11:17:07.127 -05:00 [INF] Route matched with {action = "Get", controller = "Prestmaos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 11:17:07.127 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:17:07.127 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:17:07.127 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:17:07.127 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:17:07.127 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:17:07.127 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:17:07.128 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:17:07.128 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-23 11:17:07.128 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-23 11:17:07.128 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 11:17:07.128 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 11:17:07.128 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-23 11:17:07.128 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 11:17:07.168 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:17:07.171 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-23 11:17:07.173 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:17:07.176 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:17:07.177 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:17:07.177 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:17:07.177 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:07.177 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:07.177 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:17:07.177 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:17:07.177 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:17:07.177 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:17:07.190 -05:00 [INF] Executed DbCommand (13ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:17:07.190 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:07.190 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:17:07.190 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:07.191 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:17:07.191 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 22.0857ms.
2024-07-23 11:17:07.191 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:17:07.191 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:17:07.191 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:17:07.191 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:17:07.191 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:17:07.191 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.Collections.Generic.List`1[[biblioteca_backend.Models.Libro, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-23 11:17:07.191 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) in 63.7883ms
2024-07-23 11:17:07.191 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 11:17:07.191 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:17:07.191 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:07.191 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:17:07.191 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=31 - 200 null application/json; charset=utf-8 65.6403ms
2024-07-23 11:17:09.986 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-23 11:17:09.987 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 11:17:09.987 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:17:09.987 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:17:09.987 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:17:09.987 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:17:09.988 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:17:09.988 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - 204 null null 2.6545ms
2024-07-23 11:17:10.007 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-23 11:17:10.007 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 11:17:10.007 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 11:17:10.007 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:17:10.008 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:17:10.008 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:17:10.008 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:17:10.008 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:17:10.008 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:17:10.008 -05:00 [DBG] Authorization was successful.
2024-07-23 11:17:10.008 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:17:10.009 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 11:17:10.009 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:17:10.009 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:17:10.009 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:17:10.009 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:17:10.009 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:17:10.009 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 11:17:10.010 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 11:17:10.010 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 11:17:10.010 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-23 11:17:10.010 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:17:10.010 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:17:10.010 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 11:17:10.010 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:17:10.062 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:17:10.064 -05:00 [DBG] Consultando libros...
2024-07-23 11:17:10.067 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:17:10.067 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:17:10.068 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:17:10.068 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:10.068 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:10.068 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:17:10.068 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:17:10.068 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:17:10.068 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 11:17:10.072 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 11:17:10.072 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:10.072 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:17:10.072 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:10.072 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:17:10.075 -05:00 [INF] Consulta de libros exitosa
2024-07-23 11:17:10.075 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 12.5891ms.
2024-07-23 11:17:10.075 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:17:10.075 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:17:10.075 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:17:10.075 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:17:10.075 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:17:10.075 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:17:10.075 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 66.1404ms
2024-07-23 11:17:10.075 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:17:10.075 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:17:10.076 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:10.076 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:17:10.076 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 68.8533ms
2024-07-23 11:17:11.705 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 11:17:11.705 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:17:11.705 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:17:11.705 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:17:11.706 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:17:11.706 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:17:11.706 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:17:11.706 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 204 null null 0.7639ms
2024-07-23 11:17:11.713 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 11:17:11.714 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:17:11.716 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)' with route pattern 'api/Prestmaos/ConsultarPrestamos' is valid for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:17:11.717 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:17:11.717 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:17:11.717 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:17:11.717 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:17:11.717 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:17:11.717 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:17:11.717 -05:00 [DBG] Authorization was successful.
2024-07-23 11:17:11.717 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:17:11.718 -05:00 [INF] Route matched with {action = "ConsultarPrestamos", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsultarPrestamos() on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 11:17:11.718 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:17:11.718 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:17:11.718 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:17:11.718 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:17:11.718 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:17:11.718 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:17:11.718 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:17:11.764 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:17:11.767 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:17:11.767 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:17:11.768 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:17:11.768 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:11.768 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:11.768 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:17:11.768 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:17:11.768 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:17:11.768 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 11:17:11.772 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 11:17:11.772 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:17:11.773 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:17:11.773 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:11.773 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:17:11.773 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:11.773 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:17:11.777 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 11:17:11.778 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:11.778 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:11.778 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:17:11.778 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:17:11.778 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:17:11.779 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:17:11.782 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:17:11.782 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:17:11.782 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:17:11.782 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:11.783 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:17:11.783 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:11.783 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:17:11.786 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 11:17:11.789 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-23 11:17:11.792 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:17:11.792 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:11.792 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:11.792 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:17:11.793 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:17:11.793 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:17:11.793 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:17:11.798 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:17:11.798 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:11.799 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:17:11.799 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:11.799 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:17:11.802 -05:00 [DBG] Consultando perfil con id 34
2024-07-23 11:17:11.802 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:11.802 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:11.802 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:17:11.802 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:17:11.802 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:17:11.803 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:17:11.803 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:17:11.803 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:17:11.803 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:17:11.803 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:11.803 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:17:11.804 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:11.804 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:17:11.806 -05:00 [INF] Perfil encontrado con id: 34
2024-07-23 11:17:11.808 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-23 11:17:11.810 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:17:11.811 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:11.811 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:11.811 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:17:11.811 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:17:11.811 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:17:11.811 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:17:11.812 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:17:11.812 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:11.812 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:17:11.812 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:11.812 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:17:11.812 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 48.3496ms.
2024-07-23 11:17:11.812 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:17:11.813 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:17:11.813 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:17:11.813 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:17:11.813 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:17:11.813 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.DTOs.ConsultaPrestamoModel, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:17:11.813 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) in 94.9854ms
2024-07-23 11:17:11.813 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:17:11.813 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:17:11.813 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:11.814 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:17:11.814 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 200 null application/json; charset=utf-8 101.2161ms
2024-07-23 11:17:22.899 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - null null
2024-07-23 11:17:22.899 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:17:22.899 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:17:22.899 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:17:22.899 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:17:22.899 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:17:22.899 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:17:22.900 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - 204 null null 1.1955ms
2024-07-23 11:17:22.902 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Perfiles/ - application/json 60
2024-07-23 11:17:22.903 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:17:22.903 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 11:17:22.903 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 11:17:22.903 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:17:22.903 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:17:22.903 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:17:22.903 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-23 11:17:22.903 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 11:17:22.906 -05:00 [INF] Route matched with {action = "Post", controller = "Perfiles"}. Executing controller action with signature System.Object Post(biblioteca_backend.Models.DTOs.LogInModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 11:17:22.906 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:17:22.906 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:17:22.906 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:17:22.906 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:17:22.906 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:17:22.906 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:17:22.907 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:17:22.907 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-23 11:17:22.908 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' using the name '' in request data ...
2024-07-23 11:17:22.909 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-23 11:17:22.913 -05:00 [DBG] Connection id "0HN5B66GRMOTR", Request id "0HN5B66GRMOTR:0000000F": started reading request body.
2024-07-23 11:17:22.913 -05:00 [DBG] Connection id "0HN5B66GRMOTR", Request id "0HN5B66GRMOTR:0000000F": done reading request body.
2024-07-23 11:17:22.918 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.LogInModel'
2024-07-23 11:17:22.919 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 11:17:22.919 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 11:17:22.919 -05:00 [DBG] Attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-23 11:17:22.929 -05:00 [DBG] Done attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 11:17:22.961 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:17:22.967 -05:00 [DBG] Iniciando sesión...
2024-07-23 11:17:22.968 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:17:22.969 -05:00 [DBG] Compiling query expression: 
'DbSet<Perfil>()
    .FirstOrDefault(p => p.Correo == __8__locals1_logInModel_Correo_0 && p.Contrasena == __claveCifrada_1)'
2024-07-23 11:17:22.972 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Perfil>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Perfil.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Perfil.Apellido (string) Required, 1], [Property: Perfil.Contrasena (string) Required, 2], [Property: Perfil.Correo (string) Required, 3], [Property: Perfil.Direccion (string) Required, 4], [Property: Perfil.IdRol (int) Required FK Index, 5], [Property: Perfil.Nombre (string) Required, 6], [Property: Perfil.Telefono (string) Required, 7] }
        SELECT TOP(1) p.Id, p.Apellido, p.Contrasena, p.Correo, p.Direccion, p.IdRol, p.Nombre, p.Telefono
        FROM Perfil AS p
        WHERE (p.Correo == @__8__locals1_logInModel_Correo_0) && (p.Contrasena == @__claveCifrada_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Perfil>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-23 11:17:22.974 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:17:22.974 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:17:22.974 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:22.974 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:22.974 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:17:22.974 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:17:22.975 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:17:22.975 -05:00 [DBG] Executing DbCommand [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-23 11:17:22.977 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-23 11:17:22.977 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:17:22.978 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:22.978 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:17:22.978 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:22.978 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:17:22.979 -05:00 [DBG] Compiling query expression: 
'DbSet<Rol>()
    .FirstOrDefault(r => r.Id == ___perfil_IdRol_0)'
2024-07-23 11:17:22.983 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Rol>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Rol.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Rol.Nombre (string) Required, 1] }
        SELECT TOP(1) r.Id, r.Nombre
        FROM Rol AS r
        WHERE r.Id == @___perfil_IdRol_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Rol>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-23 11:17:22.983 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:22.983 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:22.983 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:17:22.983 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:17:22.983 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:17:22.984 -05:00 [DBG] Executing DbCommand [Parameters=[@___perfil_IdRol_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Nombre]
FROM [Rol] AS [r]
WHERE [r].[Id] = @___perfil_IdRol_0
2024-07-23 11:17:22.986 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@___perfil_IdRol_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Nombre]
FROM [Rol] AS [r]
WHERE [r].[Id] = @___perfil_IdRol_0
2024-07-23 11:17:22.989 -05:00 [DBG] The navigation 'Perfil.Rol' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:17:22.991 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Rol' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:17:22.994 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:22.995 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 8ms reading results.
2024-07-23 11:17:22.995 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:22.995 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:17:23.008 -05:00 [INF] Inicio de sesión exitoso
2024-07-23 11:17:23.009 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 47.8431ms.
2024-07-23 11:17:23.009 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:17:23.009 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:17:23.009 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:17:23.009 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:17:23.009 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:17:23.009 -05:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-23 11:17:23.010 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) in 103.9278ms
2024-07-23 11:17:23.010 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 11:17:23.010 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:17:23.010 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:23.010 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:17:23.010 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Perfiles/ - 200 null application/json; charset=utf-8 108.3367ms
2024-07-23 11:17:23.029 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-23 11:17:23.029 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 11:17:23.029 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:17:23.030 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:17:23.030 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:17:23.030 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:17:23.030 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:17:23.030 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - 204 null null 0.5912ms
2024-07-23 11:17:23.033 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-23 11:17:23.034 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 11:17:23.034 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 11:17:23.034 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:17:23.034 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:17:23.034 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:17:23.034 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:17:23.034 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:17:23.034 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:17:23.034 -05:00 [DBG] Authorization was successful.
2024-07-23 11:17:23.034 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:17:23.035 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 11:17:23.035 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:17:23.035 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:17:23.035 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:17:23.035 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:17:23.035 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:17:23.035 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 11:17:23.035 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 11:17:23.036 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 11:17:23.036 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-23 11:17:23.036 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:17:23.036 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:17:23.037 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 11:17:23.038 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:17:23.074 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:17:23.077 -05:00 [DBG] Consultando libros...
2024-07-23 11:17:23.077 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:17:23.078 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:17:23.078 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:17:23.078 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:23.078 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:23.078 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:17:23.078 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:17:23.078 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:17:23.078 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 11:17:23.079 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 11:17:23.079 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:23.079 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:17:23.079 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:23.079 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:17:23.083 -05:00 [INF] Consulta de libros exitosa
2024-07-23 11:17:23.083 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 9.2978ms.
2024-07-23 11:17:23.083 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:17:23.083 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:17:23.083 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:17:23.083 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:17:23.083 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:17:23.084 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:17:23.084 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 48.5675ms
2024-07-23 11:17:23.084 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:17:23.084 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:17:23.084 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:23.084 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:17:23.084 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 51.2394ms
2024-07-23 11:17:28.877 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=34 - null null
2024-07-23 11:17:28.877 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 11:17:28.877 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:17:28.877 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:17:28.877 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:17:28.877 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:17:28.877 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:17:28.878 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=34 - 204 null null 0.7202ms
2024-07-23 11:17:28.887 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=34 - null null
2024-07-23 11:17:28.887 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 11:17:28.887 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-07-23 11:17:28.887 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 11:17:28.887 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:17:28.887 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:17:28.887 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:17:28.887 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:17:28.888 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:17:28.888 -05:00 [DBG] Authorization was successful.
2024-07-23 11:17:28.888 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 11:17:28.888 -05:00 [INF] Route matched with {action = "Get", controller = "Prestmaos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 11:17:28.888 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:17:28.888 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:17:28.888 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:17:28.888 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:17:28.888 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:17:28.888 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:17:28.889 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:17:28.889 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-23 11:17:28.889 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-23 11:17:28.889 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 11:17:28.889 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 11:17:28.889 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-23 11:17:28.889 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 11:17:28.929 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:17:28.934 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-23 11:17:28.935 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:17:28.937 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:17:28.938 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:17:28.938 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:17:28.938 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:28.938 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:28.938 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:17:28.938 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:17:28.938 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:17:28.938 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:17:28.939 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:17:28.939 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:28.939 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:17:28.939 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:28.939 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:17:28.939 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 10.1984ms.
2024-07-23 11:17:28.939 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:17:28.939 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:17:28.940 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:17:28.940 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:17:28.940 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:17:28.940 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.Collections.Generic.List`1[[biblioteca_backend.Models.Libro, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-23 11:17:28.940 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) in 51.5523ms
2024-07-23 11:17:28.940 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 11:17:28.940 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:17:28.940 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:17:28.940 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:17:28.940 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=34 - 200 null application/json; charset=utf-8 53.8479ms
2024-07-23 11:18:15.858 -05:00 [DBG] Connection id "0HN5B66GRMOTR" received FIN.
2024-07-23 11:18:15.858 -05:00 [DBG] Connection id "0HN5B66GRMOTR" is closed. The last processed stream ID was 23.
2024-07-23 11:18:15.858 -05:00 [DBG] Connection id "0HN5B66GRMOTR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-23 11:18:15.858 -05:00 [DBG] The connection queue processing loop for 0HN5B66GRMOTR completed.
2024-07-23 11:18:15.859 -05:00 [DBG] Connection id "0HN5B66GRMOTR" stopped.
2024-07-23 11:19:20.607 -05:00 [DBG] Connection id "0HN5B66GRMOTS" accepted.
2024-07-23 11:19:20.611 -05:00 [DBG] Connection id "0HN5B66GRMOTS" started.
2024-07-23 11:19:20.634 -05:00 [DBG] Connection 0HN5B66GRMOTS established using the following protocol: "Tls12"
2024-07-23 11:19:20.653 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-23 11:19:20.653 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 11:19:20.653 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:19:20.653 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:19:20.653 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:19:20.653 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:19:20.654 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:19:20.654 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - 204 null null 0.8509ms
2024-07-23 11:19:20.675 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-23 11:19:20.677 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 11:19:20.678 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 11:19:20.678 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:19:20.678 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:19:20.678 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:19:20.678 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:19:20.678 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:19:20.678 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:19:20.678 -05:00 [DBG] Authorization was successful.
2024-07-23 11:19:20.678 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:19:20.678 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 11:19:20.678 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:19:20.679 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:19:20.679 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:19:20.679 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:19:20.679 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:19:20.679 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 11:19:20.679 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 11:19:20.679 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 11:19:20.679 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-23 11:19:20.680 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:19:20.680 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:19:20.680 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 11:19:20.680 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:19:20.729 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:19:20.731 -05:00 [DBG] Consultando libros...
2024-07-23 11:19:20.733 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:19:20.733 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:19:20.733 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:19:20.734 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:19:20.734 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:19:20.734 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:19:20.734 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:19:20.734 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:19:20.734 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 11:19:20.740 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 11:19:20.741 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:19:20.741 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:19:20.741 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:19:20.741 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:19:20.746 -05:00 [INF] Consulta de libros exitosa
2024-07-23 11:19:20.746 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.9413ms.
2024-07-23 11:19:20.746 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:19:20.746 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:19:20.746 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:19:20.746 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:19:20.746 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:19:20.747 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:19:20.747 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 67.9416ms
2024-07-23 11:19:20.747 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:19:20.747 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:19:20.747 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:19:20.747 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:19:20.747 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 72.7426ms
2024-07-23 11:19:24.075 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ - null null
2024-07-23 11:19:24.075 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 11:19:24.076 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:19:24.076 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:19:24.076 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:19:24.076 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:19:24.076 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:19:24.076 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ - 204 null null 1.9801ms
2024-07-23 11:19:24.078 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Prestmaos/ - application/json 388
2024-07-23 11:19:24.078 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 11:19:24.079 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-07-23 11:19:24.079 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)'
2024-07-23 11:19:24.079 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:19:24.079 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:19:24.079 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:19:24.079 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:19:24.079 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:19:24.079 -05:00 [DBG] Authorization was successful.
2024-07-23 11:19:24.079 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)'
2024-07-23 11:19:24.084 -05:00 [INF] Route matched with {action = "Post", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(biblioteca_backend.Models.DTOs.PrestamoModel) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 11:19:24.085 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:19:24.085 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:19:24.085 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:19:24.085 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:19:24.085 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:19:24.085 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:19:24.085 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:19:24.085 -05:00 [DBG] Attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel' ...
2024-07-23 11:19:24.086 -05:00 [DBG] Attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel' using the name '' in request data ...
2024-07-23 11:19:24.086 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-23 11:19:24.088 -05:00 [DBG] Connection id "0HN5B66GRMOTS", Request id "0HN5B66GRMOTS:00000007": started reading request body.
2024-07-23 11:19:24.088 -05:00 [DBG] Connection id "0HN5B66GRMOTS", Request id "0HN5B66GRMOTS:00000007": done reading request body.
2024-07-23 11:19:24.093 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.PrestamoModel'
2024-07-23 11:19:24.093 -05:00 [DBG] Done attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel'.
2024-07-23 11:19:24.093 -05:00 [DBG] Done attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel'.
2024-07-23 11:19:24.093 -05:00 [DBG] Attempting to validate the bound parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel' ...
2024-07-23 11:19:24.101 -05:00 [DBG] Done attempting to validate the bound parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel'.
2024-07-23 11:19:24.140 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:19:24.145 -05:00 [DBG] Guardando préstamo...
2024-07-23 11:19:24.148 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-23 11:19:24.149 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:19:24.152 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:19:24.152 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:19:24.152 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:19:24.152 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:19:24.152 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:19:24.153 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:19:24.153 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:19:24.153 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:19:24.153 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:19:24.160 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:19:24.160 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:19:24.161 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:19:24.161 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:19:24.161 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:19:24.169 -05:00 [WRN] Aún hay préstamos activos del perfil con id 34
2024-07-23 11:19:24.267 -05:00 [ERR] Error al hacer el préstamo: Aún tiene préstamos activos
2024-07-23 11:19:24.407 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 267.515ms.
2024-07-23 11:19:24.408 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:19:24.408 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:19:24.408 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:19:24.408 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:19:24.409 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-07-23 11:19:24.409 -05:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-07-23 11:19:24.409 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend) in 324.0214ms
2024-07-23 11:19:24.409 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)'
2024-07-23 11:19:24.409 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:19:24.409 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:19:24.409 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:19:24.410 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Prestmaos/ - 400 null text/plain; charset=utf-8 331.5638ms
2024-07-23 11:28:33.913 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - null null
2024-07-23 11:28:33.913 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:28:33.913 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:28:33.913 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:28:33.913 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:28:33.913 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:28:33.913 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:28:33.914 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - 204 null null 0.9417ms
2024-07-23 11:28:33.964 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Perfiles/ - application/json 56
2024-07-23 11:28:33.964 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:28:33.964 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 11:28:33.964 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 11:28:33.964 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:28:33.964 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:28:33.964 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:28:33.964 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-23 11:28:33.965 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 11:28:33.965 -05:00 [INF] Route matched with {action = "Post", controller = "Perfiles"}. Executing controller action with signature System.Object Post(biblioteca_backend.Models.DTOs.LogInModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 11:28:33.979 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:28:33.980 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:28:33.980 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:28:33.980 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:28:33.980 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:28:33.980 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:28:33.983 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:28:33.983 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-23 11:28:33.984 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' using the name '' in request data ...
2024-07-23 11:28:33.984 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-23 11:28:33.984 -05:00 [DBG] Connection id "0HN5B66GRMOTS", Request id "0HN5B66GRMOTS:0000000B": started reading request body.
2024-07-23 11:28:33.984 -05:00 [DBG] Connection id "0HN5B66GRMOTS", Request id "0HN5B66GRMOTS:0000000B": done reading request body.
2024-07-23 11:28:33.984 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.LogInModel'
2024-07-23 11:28:33.984 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 11:28:33.984 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 11:28:33.984 -05:00 [DBG] Attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-23 11:28:33.985 -05:00 [DBG] Done attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 11:28:34.049 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:28:34.053 -05:00 [DBG] Iniciando sesión...
2024-07-23 11:28:34.054 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:28:34.055 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:28:34.055 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:28:34.055 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:28:34.117 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:28:34.117 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:28:34.117 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:28:34.117 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:28:34.118 -05:00 [DBG] Executing DbCommand [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-23 11:28:34.139 -05:00 [INF] Executed DbCommand (21ms) [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-23 11:28:34.139 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:28:34.139 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:28:34.139 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:28:34.139 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:28:34.142 -05:00 [WRN] Correo o contraseña no encontrados
2024-07-23 11:28:34.142 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 93.5026ms.
2024-07-23 11:28:34.143 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:28:34.143 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:28:34.143 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:28:34.143 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:28:34.143 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-07-23 11:28:34.143 -05:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-07-23 11:28:34.143 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) in 163.1053ms
2024-07-23 11:28:34.143 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 11:28:34.144 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:28:34.144 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:28:34.144 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:28:34.144 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Perfiles/ - 200 0 text/plain; charset=utf-8 180.2445ms
2024-07-23 11:28:48.953 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - null null
2024-07-23 11:28:48.953 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:28:48.953 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:28:48.953 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:28:48.953 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:28:48.953 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:28:48.953 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:28:48.954 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - 204 null null 1.2558ms
2024-07-23 11:28:48.987 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Perfiles/ - application/json 50
2024-07-23 11:28:48.996 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:28:48.997 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 11:28:48.998 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 11:28:48.998 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:28:48.998 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:28:48.998 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:28:48.998 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-23 11:28:48.998 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 11:28:48.998 -05:00 [INF] Route matched with {action = "Post", controller = "Perfiles"}. Executing controller action with signature System.Object Post(biblioteca_backend.Models.DTOs.LogInModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 11:28:49.005 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:28:49.005 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:28:49.005 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:28:49.005 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:28:49.005 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:28:49.005 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:28:49.006 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:28:49.006 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-23 11:28:49.006 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' using the name '' in request data ...
2024-07-23 11:28:49.006 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-23 11:28:49.006 -05:00 [DBG] Connection id "0HN5B66GRMOTS", Request id "0HN5B66GRMOTS:0000000F": started reading request body.
2024-07-23 11:28:49.007 -05:00 [DBG] Connection id "0HN5B66GRMOTS", Request id "0HN5B66GRMOTS:0000000F": done reading request body.
2024-07-23 11:28:49.007 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.LogInModel'
2024-07-23 11:28:49.007 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 11:28:49.007 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 11:28:49.007 -05:00 [DBG] Attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-23 11:28:49.007 -05:00 [DBG] Done attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 11:28:49.045 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:28:49.048 -05:00 [DBG] Iniciando sesión...
2024-07-23 11:28:49.049 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:28:49.049 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:28:49.050 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:28:49.050 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:28:49.050 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:28:49.050 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:28:49.050 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:28:49.050 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:28:49.051 -05:00 [DBG] Executing DbCommand [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-23 11:28:49.055 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-23 11:28:49.055 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:28:49.055 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:28:49.055 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:28:49.055 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:28:49.058 -05:00 [WRN] Correo o contraseña no encontrados
2024-07-23 11:28:49.058 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 12.3018ms.
2024-07-23 11:28:49.058 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:28:49.058 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:28:49.058 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:28:49.058 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:28:49.058 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-07-23 11:28:49.058 -05:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-07-23 11:28:49.058 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) in 52.9099ms
2024-07-23 11:28:49.058 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 11:28:49.059 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:28:49.059 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:28:49.059 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:28:49.059 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Perfiles/ - 200 0 text/plain; charset=utf-8 71.795ms
2024-07-23 11:29:00.140 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - null null
2024-07-23 11:29:00.140 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:29:00.140 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:29:00.140 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:29:00.140 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:29:00.140 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:29:00.140 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:29:00.140 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - 204 null null 0.6193ms
2024-07-23 11:29:00.143 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Perfiles/ - application/json 54
2024-07-23 11:29:00.143 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:29:00.143 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 11:29:00.143 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 11:29:00.143 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:29:00.143 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:29:00.143 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:29:00.143 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-23 11:29:00.143 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 11:29:00.144 -05:00 [INF] Route matched with {action = "Post", controller = "Perfiles"}. Executing controller action with signature System.Object Post(biblioteca_backend.Models.DTOs.LogInModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 11:29:00.144 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:29:00.144 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:29:00.144 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:29:00.144 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:29:00.144 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:29:00.144 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:29:00.144 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:29:00.144 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-23 11:29:00.144 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' using the name '' in request data ...
2024-07-23 11:29:00.144 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-23 11:29:00.144 -05:00 [DBG] Connection id "0HN5B66GRMOTS", Request id "0HN5B66GRMOTS:00000013": started reading request body.
2024-07-23 11:29:00.144 -05:00 [DBG] Connection id "0HN5B66GRMOTS", Request id "0HN5B66GRMOTS:00000013": done reading request body.
2024-07-23 11:29:00.144 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.LogInModel'
2024-07-23 11:29:00.145 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 11:29:00.145 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 11:29:00.145 -05:00 [DBG] Attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-23 11:29:00.145 -05:00 [DBG] Done attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 11:29:00.191 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:29:00.193 -05:00 [DBG] Iniciando sesión...
2024-07-23 11:29:00.194 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:29:00.194 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:29:00.194 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:29:00.194 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:00.195 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:00.195 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:29:00.195 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:29:00.195 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:29:00.195 -05:00 [DBG] Executing DbCommand [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-23 11:29:00.195 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-23 11:29:00.195 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:29:00.196 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:00.196 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:29:00.196 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:00.196 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:29:00.196 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:00.197 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:00.197 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:29:00.197 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:29:00.197 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:29:00.197 -05:00 [DBG] Executing DbCommand [Parameters=[@___perfil_IdRol_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Nombre]
FROM [Rol] AS [r]
WHERE [r].[Id] = @___perfil_IdRol_0
2024-07-23 11:29:00.201 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@___perfil_IdRol_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Nombre]
FROM [Rol] AS [r]
WHERE [r].[Id] = @___perfil_IdRol_0
2024-07-23 11:29:00.201 -05:00 [DBG] The navigation 'Perfil.Rol' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:29:00.202 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Rol' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:29:00.202 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:00.202 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:29:00.202 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:00.202 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:29:00.205 -05:00 [INF] Inicio de sesión exitoso
2024-07-23 11:29:00.205 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 13.9077ms.
2024-07-23 11:29:00.205 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:29:00.205 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:29:00.205 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:29:00.206 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:29:00.206 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:29:00.206 -05:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-23 11:29:00.206 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) in 61.9892ms
2024-07-23 11:29:00.206 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 11:29:00.206 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:29:00.206 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:00.206 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:29:00.206 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Perfiles/ - 200 null application/json; charset=utf-8 64.2135ms
2024-07-23 11:29:00.238 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-23 11:29:00.239 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-07-23 11:29:00.239 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-23 11:29:00.239 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 11:29:00.239 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:29:00.239 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:29:00.240 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:29:00.240 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:29:00.240 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:29:00.240 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:29:00.240 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:29:00.240 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:29:00.240 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 1.3792ms
2024-07-23 11:29:00.240 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:29:00.240 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:29:00.240 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 2.2669ms
2024-07-23 11:29:00.244 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-07-23 11:29:00.244 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-23 11:29:00.244 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-07-23 11:29:00.245 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-23 11:29:00.245 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-23 11:29:00.245 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 11:29:00.245 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:29:00.246 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 11:29:00.246 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:29:00.246 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:29:00.246 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:29:00.246 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:29:00.246 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:29:00.246 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:29:00.246 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:29:00.246 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:29:00.247 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:29:00.247 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:29:00.247 -05:00 [DBG] Authorization was successful.
2024-07-23 11:29:00.247 -05:00 [DBG] Authorization was successful.
2024-07-23 11:29:00.247 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:29:00.247 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-23 11:29:00.247 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 11:29:00.247 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:29:00.247 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:29:00.247 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:29:00.247 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:29:00.247 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:29:00.248 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 11:29:00.248 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 11:29:00.248 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 11:29:00.248 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-23 11:29:00.248 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:29:00.249 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:29:00.250 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 11:29:00.250 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:29:00.285 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:29:00.288 -05:00 [DBG] Consultando libros...
2024-07-23 11:29:00.289 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:29:00.289 -05:00 [DBG] Compiling query expression: 
'DbSet<Libro>()
    .Join(
        inner: DbSet<Genero>(), 
        outerKeySelector: L => L.IdGenero, 
        innerKeySelector: G => G.Id, 
        resultSelector: (L, G) => new { 
            L = L, 
            G = G
         })
    .Where(<>h__TransparentIdentifier0 => True)
    .Select(<>h__TransparentIdentifier0 => new { 
        id = <>h__TransparentIdentifier0.L.Id, 
        titulo = <>h__TransparentIdentifier0.L.Titulo, 
        autor = <>h__TransparentIdentifier0.L.Autor, 
        anio = <>h__TransparentIdentifier0.L.Anio, 
        idGenero = <>h__TransparentIdentifier0.L.IdGenero, 
        genero = <>h__TransparentIdentifier0.G.Nombre, 
        activo = <>h__TransparentIdentifier0.L.Activo
     })'
2024-07-23 11:29:00.290 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-07-23 11:29:00.290 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:29:00.290 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:29:00.290 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:29:00.290 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:29:00.290 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:29:00.290 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-23 11:29:00.290 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-23 11:29:00.315 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:29:00.318 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType1<int, string, string, int, int, string, bool>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            id -> 0
            titulo -> 1
            autor -> 2
            anio -> 3
            idGenero -> 4
            genero -> 5
            activo -> 6
        SELECT l.Id AS id, l.Titulo AS titulo, l.Autor AS autor, l.Anio AS anio, l.IdGenero AS idGenero, g.Nombre AS genero, l.Activo AS activo
        FROM Libro AS l
        INNER JOIN Genero AS g ON l.IdGenero == g.Id), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType1<int, string, string, int, int, string, bool>>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-23 11:29:00.318 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:29:00.318 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:29:00.319 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:00.319 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:00.319 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:29:00.319 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:29:00.319 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:29:00.319 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:29:00.319 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-23 11:29:00.319 -05:00 [DBG] Compiling query expression: 
'DbSet<Genero>()'
2024-07-23 11:29:00.323 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Genero>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Genero.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Genero.Nombre (string) Required, 1] }
        SELECT g.Id, g.Nombre
        FROM Genero AS g), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Genero>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-23 11:29:00.324 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:29:00.324 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:29:00.324 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:00.325 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-23 11:29:00.325 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:00.325 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:29:00.325 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:00.325 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:29:00.327 -05:00 [INF] Consulta de libros exitosa
2024-07-23 11:29:00.327 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 42.3255ms.
2024-07-23 11:29:00.327 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:29:00.327 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:29:00.328 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:29:00.328 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:29:00.328 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:29:00.328 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:29:00.328 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 80.4045ms
2024-07-23 11:29:00.328 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:29:00.328 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:29:00.328 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:00.328 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:29:00.328 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 84.3952ms
2024-07-23 11:29:00.376 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:00.379 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:29:00.387 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2024-07-23 11:29:00.387 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-07-23 11:29:00.388 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-23 11:29:00.392 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-23 11:29:00.404 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:29:00.408 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:29:00.408 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:29:00.408 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:29:00.408 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:29:00.408 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:29:00.408 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:29:00.409 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:29:00.409 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:29:00.409 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:29:00.409 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:29:00.409 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:29:00.409 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:29:00.409 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:00.409 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 15ms reading results.
2024-07-23 11:29:00.409 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:00.409 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:29:00.409 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 94.4891ms.
2024-07-23 11:29:00.409 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:29:00.409 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:29:00.410 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:29:00.410 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:29:00.410 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:29:00.410 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:29:00.412 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 121.6407ms
2024-07-23 11:29:00.412 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-23 11:29:00.412 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:29:00.412 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:00.412 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:29:00.412 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 168.8753ms
2024-07-23 11:29:09.877 -05:00 [DBG] Connection id "0HN5B66GRMOTS" received FIN.
2024-07-23 11:29:09.877 -05:00 [DBG] Connection id "0HN5B66GRMOTS" is closed. The last processed stream ID was 27.
2024-07-23 11:29:09.877 -05:00 [DBG] Connection id "0HN5B66GRMOTS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-23 11:29:09.879 -05:00 [DBG] The connection queue processing loop for 0HN5B66GRMOTS completed.
2024-07-23 11:29:09.879 -05:00 [DBG] Connection id "0HN5B66GRMOTS" stopped.
2024-07-23 11:29:49.152 -05:00 [DBG] Connection id "0HN5B66GRMOTT" accepted.
2024-07-23 11:29:49.160 -05:00 [DBG] Connection id "0HN5B66GRMOTT" started.
2024-07-23 11:29:49.226 -05:00 [DBG] Connection 0HN5B66GRMOTT established using the following protocol: "Tls12"
2024-07-23 11:29:49.246 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-23 11:29:49.248 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 11:29:49.248 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:29:49.249 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:29:49.249 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:29:49.249 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:29:49.249 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:29:49.250 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 4.0092ms
2024-07-23 11:29:49.250 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-07-23 11:29:49.256 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-23 11:29:49.256 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:29:49.256 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:29:49.256 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:29:49.256 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:29:49.256 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:29:49.257 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 6.4486ms
2024-07-23 11:29:49.319 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-23 11:29:49.319 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-07-23 11:29:49.320 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 11:29:49.320 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-23 11:29:49.320 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 11:29:49.320 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:29:49.320 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-07-23 11:29:49.320 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:29:49.320 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-23 11:29:49.320 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:29:49.320 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:29:49.324 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:29:49.324 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:29:49.324 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:29:49.324 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:29:49.324 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:29:49.324 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:29:49.324 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:29:49.324 -05:00 [DBG] Authorization was successful.
2024-07-23 11:29:49.324 -05:00 [DBG] Authorization was successful.
2024-07-23 11:29:49.324 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:29:49.324 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-23 11:29:49.325 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 11:29:49.325 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-07-23 11:29:49.325 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:29:49.325 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:29:49.325 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:29:49.325 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:29:49.325 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:29:49.325 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:29:49.325 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:29:49.325 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:29:49.325 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:29:49.325 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:29:49.325 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 11:29:49.325 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-23 11:29:49.325 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-23 11:29:49.325 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 11:29:49.325 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 11:29:49.326 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-23 11:29:49.327 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:29:49.327 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:29:49.327 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 11:29:49.327 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:29:49.392 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:29:49.427 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:29:49.429 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:29:49.429 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:29:49.429 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:29:49.429 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:49.429 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:49.433 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:29:49.433 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:29:49.433 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:29:49.433 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-23 11:29:49.436 -05:00 [DBG] Consultando libros...
2024-07-23 11:29:49.442 -05:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-23 11:29:49.442 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:29:49.442 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:29:49.442 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:29:49.442 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:29:49.443 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:29:49.443 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:29:49.443 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:29:49.443 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:29:49.443 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:29:49.443 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:29:49.443 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:29:49.444 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:29:49.444 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:29:49.444 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:49.444 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-07-23 11:29:49.444 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:49.444 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:29:49.444 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:29:49.444 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 52.0616ms.
2024-07-23 11:29:49.444 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:29:49.445 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:29:49.445 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:29:49.445 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:29:49.445 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:29:49.445 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:29:49.446 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 120.3727ms
2024-07-23 11:29:49.446 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-23 11:29:49.446 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:29:49.447 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:49.448 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:29:49.448 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 128.3603ms
2024-07-23 11:29:49.451 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:29:49.451 -05:00 [DBG] Created DbConnection. (6ms).
2024-07-23 11:29:49.452 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:49.452 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:49.453 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:29:49.453 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:29:49.453 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:29:49.453 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-23 11:29:49.471 -05:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-23 11:29:49.471 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:49.471 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:29:49.472 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:49.472 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:29:49.475 -05:00 [INF] Consulta de libros exitosa
2024-07-23 11:29:49.475 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 48.3695ms.
2024-07-23 11:29:49.475 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:29:49.475 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:29:49.475 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:29:49.475 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:29:49.476 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:29:49.476 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:29:49.476 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 150.8062ms
2024-07-23 11:29:49.476 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:29:49.476 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:29:49.476 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:49.476 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:29:49.476 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 159.4266ms
2024-07-23 11:29:54.253 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 11:29:54.254 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:29:54.254 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:29:54.254 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:29:54.254 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:29:54.254 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:29:54.254 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:29:54.256 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 204 null null 2.3815ms
2024-07-23 11:29:54.276 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 11:29:54.276 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:29:54.276 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)' with route pattern 'api/Prestmaos/ConsultarPrestamos' is valid for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:29:54.276 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:29:54.277 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:29:54.277 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:29:54.277 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:29:54.277 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:29:54.277 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:29:54.277 -05:00 [DBG] Authorization was successful.
2024-07-23 11:29:54.278 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:29:54.278 -05:00 [INF] Route matched with {action = "ConsultarPrestamos", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsultarPrestamos() on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 11:29:54.278 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:29:54.278 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:29:54.278 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:29:54.278 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:29:54.278 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:29:54.278 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:29:54.279 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:29:54.315 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:29:54.316 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:29:54.317 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:29:54.317 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:29:54.317 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:54.317 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:54.317 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:29:54.317 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:29:54.317 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:29:54.317 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 11:29:54.321 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 11:29:54.321 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:29:54.321 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:29:54.321 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:54.321 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:29:54.321 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:54.321 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:29:54.323 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 11:29:54.323 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:54.324 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:54.324 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:29:54.324 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:29:54.324 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:29:54.324 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:29:54.326 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:29:54.326 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:29:54.326 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:29:54.326 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:54.326 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:29:54.326 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:54.326 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:29:54.329 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 11:29:54.334 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-23 11:29:54.337 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:29:54.337 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:54.337 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:54.337 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:29:54.337 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:29:54.337 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:29:54.337 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:29:54.345 -05:00 [INF] Executed DbCommand (8ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:29:54.345 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:54.345 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:29:54.345 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:54.346 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:29:54.351 -05:00 [DBG] Consultando perfil con id 34
2024-07-23 11:29:54.352 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:54.352 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:54.352 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:29:54.352 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:29:54.352 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:29:54.352 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:29:54.353 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:29:54.353 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:29:54.353 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:29:54.353 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:54.353 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:29:54.354 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:54.354 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:29:54.356 -05:00 [INF] Perfil encontrado con id: 34
2024-07-23 11:29:54.359 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-23 11:29:54.362 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:29:54.365 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:54.365 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:54.365 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:29:54.365 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:29:54.365 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:29:54.365 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:29:54.366 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:29:54.366 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:54.366 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:29:54.366 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:54.366 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:29:54.366 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 51.0529ms.
2024-07-23 11:29:54.366 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:29:54.367 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:29:54.367 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:29:54.367 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:29:54.367 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:29:54.367 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.DTOs.ConsultaPrestamoModel, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:29:54.367 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) in 88.6832ms
2024-07-23 11:29:54.367 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:29:54.367 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:29:54.367 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:29:54.367 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:29:54.368 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 200 null application/json; charset=utf-8 91.6596ms
2024-07-23 11:30:06.801 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 11:30:06.802 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:30:06.802 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:30:06.802 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:30:06.802 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:30:06.803 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:30:06.803 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:30:06.803 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 204 null null 1.8489ms
2024-07-23 11:30:06.806 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 11:30:06.806 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:30:06.806 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)' with route pattern 'api/Prestmaos/ConsultarPrestamos' is valid for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:30:06.806 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:30:06.806 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:30:06.806 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:30:06.806 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:30:06.807 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:30:06.807 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:30:06.807 -05:00 [DBG] Authorization was successful.
2024-07-23 11:30:06.807 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:30:06.807 -05:00 [INF] Route matched with {action = "ConsultarPrestamos", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsultarPrestamos() on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 11:30:06.807 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:30:06.807 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:30:06.808 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:30:06.808 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:30:06.808 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:30:06.809 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:30:06.812 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:30:06.885 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:30:06.886 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:30:06.886 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:30:06.887 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:30:06.887 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:06.887 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:06.887 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:30:06.887 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:30:06.887 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:30:06.887 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 11:30:06.889 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 11:30:06.891 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:30:06.891 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:30:06.892 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:06.892 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-07-23 11:30:06.892 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:06.892 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:30:06.897 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 11:30:06.897 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:06.898 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:06.898 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:30:06.898 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:30:06.898 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:30:06.898 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:30:06.899 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:30:06.899 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:30:06.899 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:30:06.900 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:06.900 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:30:06.900 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:06.900 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:30:06.902 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 11:30:06.904 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-23 11:30:06.907 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:30:06.907 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:06.908 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:06.908 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:30:06.908 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:30:06.908 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:30:06.908 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:30:06.908 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:30:06.908 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:06.909 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:30:06.909 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:06.909 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:30:06.911 -05:00 [DBG] Consultando perfil con id 34
2024-07-23 11:30:06.911 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:06.911 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:06.911 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:30:06.911 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:30:06.911 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:30:06.911 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:30:06.912 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:30:06.913 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:30:06.913 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:30:06.913 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:06.914 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:30:06.914 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:06.914 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:30:06.916 -05:00 [INF] Perfil encontrado con id: 34
2024-07-23 11:30:06.919 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-23 11:30:06.922 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:30:06.923 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:06.923 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:06.923 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:30:06.923 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:30:06.924 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:30:06.924 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:30:06.925 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:30:06.926 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:06.926 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:30:06.926 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:06.926 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:30:06.926 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 40.3921ms.
2024-07-23 11:30:06.926 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:30:06.926 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:30:06.926 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:30:06.926 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:30:06.926 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:30:06.926 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.DTOs.ConsultaPrestamoModel, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:30:06.927 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) in 118.7038ms
2024-07-23 11:30:06.927 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:30:06.927 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:30:06.927 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:06.927 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:30:06.927 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 200 null application/json; charset=utf-8 121.5733ms
2024-07-23 11:30:16.584 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - null null
2024-07-23 11:30:16.584 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:30:16.585 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:30:16.585 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:30:16.585 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:30:16.585 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:30:16.586 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:30:16.586 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - 204 null null 2.4597ms
2024-07-23 11:30:16.589 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Perfiles/ - application/json 52
2024-07-23 11:30:16.589 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:30:16.589 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 11:30:16.589 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 11:30:16.589 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:30:16.589 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:30:16.589 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:30:16.589 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-23 11:30:16.589 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 11:30:16.590 -05:00 [INF] Route matched with {action = "Post", controller = "Perfiles"}. Executing controller action with signature System.Object Post(biblioteca_backend.Models.DTOs.LogInModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 11:30:16.590 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:30:16.590 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:30:16.590 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:30:16.590 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:30:16.590 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:30:16.590 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:30:16.591 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:30:16.591 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-23 11:30:16.591 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' using the name '' in request data ...
2024-07-23 11:30:16.591 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-23 11:30:16.591 -05:00 [DBG] Connection id "0HN5B66GRMOTT", Request id "0HN5B66GRMOTT:00000013": started reading request body.
2024-07-23 11:30:16.592 -05:00 [DBG] Connection id "0HN5B66GRMOTT", Request id "0HN5B66GRMOTT:00000013": done reading request body.
2024-07-23 11:30:16.592 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.LogInModel'
2024-07-23 11:30:16.592 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 11:30:16.592 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 11:30:16.592 -05:00 [DBG] Attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-23 11:30:16.592 -05:00 [DBG] Done attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 11:30:16.640 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:30:16.644 -05:00 [DBG] Iniciando sesión...
2024-07-23 11:30:16.647 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:30:16.648 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:30:16.648 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:30:16.648 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:16.649 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:16.649 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:30:16.649 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:30:16.649 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:30:16.649 -05:00 [DBG] Executing DbCommand [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-23 11:30:16.652 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-23 11:30:16.652 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:16.652 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:30:16.652 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:16.652 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:30:16.654 -05:00 [WRN] Correo o contraseña no encontrados
2024-07-23 11:30:16.654 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 14.2255ms.
2024-07-23 11:30:16.655 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:30:16.655 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:30:16.655 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:30:16.655 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:30:16.655 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-07-23 11:30:16.655 -05:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-07-23 11:30:16.655 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) in 64.8053ms
2024-07-23 11:30:16.655 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 11:30:16.655 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:30:16.656 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:16.656 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:30:16.656 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Perfiles/ - 200 0 text/plain; charset=utf-8 67.1202ms
2024-07-23 11:30:26.414 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - null null
2024-07-23 11:30:26.414 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:30:26.415 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:30:26.415 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:30:26.415 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:30:26.415 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:30:26.415 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:30:26.415 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - 204 null null 0.6688ms
2024-07-23 11:30:26.418 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Perfiles/ - application/json 49
2024-07-23 11:30:26.418 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:30:26.418 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 11:30:26.418 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 11:30:26.418 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:30:26.418 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:30:26.418 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:30:26.418 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-23 11:30:26.419 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 11:30:26.419 -05:00 [INF] Route matched with {action = "Post", controller = "Perfiles"}. Executing controller action with signature System.Object Post(biblioteca_backend.Models.DTOs.LogInModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 11:30:26.419 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:30:26.419 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:30:26.419 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:30:26.419 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:30:26.419 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:30:26.419 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:30:26.419 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:30:26.419 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-23 11:30:26.420 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' using the name '' in request data ...
2024-07-23 11:30:26.420 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-23 11:30:26.420 -05:00 [DBG] Connection id "0HN5B66GRMOTT", Request id "0HN5B66GRMOTT:00000017": started reading request body.
2024-07-23 11:30:26.420 -05:00 [DBG] Connection id "0HN5B66GRMOTT", Request id "0HN5B66GRMOTT:00000017": done reading request body.
2024-07-23 11:30:26.420 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.LogInModel'
2024-07-23 11:30:26.420 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 11:30:26.420 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 11:30:26.420 -05:00 [DBG] Attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-23 11:30:26.420 -05:00 [DBG] Done attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 11:30:26.464 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:30:26.466 -05:00 [DBG] Iniciando sesión...
2024-07-23 11:30:26.467 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:30:26.468 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:30:26.468 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:30:26.468 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:26.468 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:26.468 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:30:26.468 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:30:26.468 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:30:26.468 -05:00 [DBG] Executing DbCommand [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-23 11:30:26.471 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-23 11:30:26.471 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:26.471 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:30:26.471 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:26.471 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:30:26.474 -05:00 [WRN] Correo o contraseña no encontrados
2024-07-23 11:30:26.474 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 10.4995ms.
2024-07-23 11:30:26.475 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:30:26.475 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:30:26.475 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:30:26.475 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:30:26.475 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-07-23 11:30:26.475 -05:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-07-23 11:30:26.475 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) in 55.876ms
2024-07-23 11:30:26.475 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 11:30:26.475 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:30:26.475 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:26.475 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:30:26.476 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Perfiles/ - 200 0 text/plain; charset=utf-8 58.1625ms
2024-07-23 11:30:32.916 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - null null
2024-07-23 11:30:32.916 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:30:32.916 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:30:32.916 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:30:32.916 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:30:32.916 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:30:32.916 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:30:32.918 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - 204 null null 2.414ms
2024-07-23 11:30:32.920 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Perfiles/ - application/json 54
2024-07-23 11:30:32.921 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:30:32.921 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 11:30:32.921 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 11:30:32.921 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:30:32.921 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:30:32.921 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:30:32.921 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-23 11:30:32.921 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 11:30:32.922 -05:00 [INF] Route matched with {action = "Post", controller = "Perfiles"}. Executing controller action with signature System.Object Post(biblioteca_backend.Models.DTOs.LogInModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 11:30:32.922 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:30:32.922 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:30:32.922 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:30:32.922 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:30:32.922 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:30:32.922 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:30:32.922 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:30:32.923 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-23 11:30:32.923 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' using the name '' in request data ...
2024-07-23 11:30:32.923 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-23 11:30:32.923 -05:00 [DBG] Connection id "0HN5B66GRMOTT", Request id "0HN5B66GRMOTT:0000001B": started reading request body.
2024-07-23 11:30:32.924 -05:00 [DBG] Connection id "0HN5B66GRMOTT", Request id "0HN5B66GRMOTT:0000001B": done reading request body.
2024-07-23 11:30:32.924 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.LogInModel'
2024-07-23 11:30:32.924 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 11:30:32.924 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 11:30:32.924 -05:00 [DBG] Attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-23 11:30:32.924 -05:00 [DBG] Done attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 11:30:32.960 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:30:32.966 -05:00 [DBG] Iniciando sesión...
2024-07-23 11:30:32.967 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:30:32.968 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:30:32.968 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:30:32.968 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:32.968 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:32.968 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:30:32.968 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:30:32.968 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:30:32.968 -05:00 [DBG] Executing DbCommand [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-23 11:30:32.969 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-23 11:30:32.969 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:30:32.969 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:32.969 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:30:32.969 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:32.969 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:30:32.969 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:32.970 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:32.970 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:30:32.970 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:30:32.970 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:30:32.970 -05:00 [DBG] Executing DbCommand [Parameters=[@___perfil_IdRol_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Nombre]
FROM [Rol] AS [r]
WHERE [r].[Id] = @___perfil_IdRol_0
2024-07-23 11:30:32.971 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@___perfil_IdRol_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Nombre]
FROM [Rol] AS [r]
WHERE [r].[Id] = @___perfil_IdRol_0
2024-07-23 11:30:32.971 -05:00 [DBG] The navigation 'Perfil.Rol' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:30:32.971 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Rol' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:30:32.971 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:32.971 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:30:32.971 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:32.972 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:30:32.974 -05:00 [INF] Inicio de sesión exitoso
2024-07-23 11:30:32.974 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 13.5268ms.
2024-07-23 11:30:32.974 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:30:32.974 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:30:32.974 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:30:32.974 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:30:32.974 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:30:32.974 -05:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-23 11:30:32.974 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) in 52.3346ms
2024-07-23 11:30:32.975 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 11:30:32.975 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:30:32.975 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:32.975 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:30:32.975 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Perfiles/ - 200 null application/json; charset=utf-8 54.5197ms
2024-07-23 11:30:33.016 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-23 11:30:33.016 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 11:30:33.016 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:30:33.016 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-07-23 11:30:33.016 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:30:33.016 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-23 11:30:33.016 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:30:33.016 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:30:33.016 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:30:33.016 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:30:33.016 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:30:33.016 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:30:33.016 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:30:33.016 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:30:33.016 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 0.5462ms
2024-07-23 11:30:33.016 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 0.8202ms
2024-07-23 11:30:33.020 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-07-23 11:30:33.021 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-23 11:30:33.021 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-07-23 11:30:33.021 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-23 11:30:33.021 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:30:33.020 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-23 11:30:33.021 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:30:33.021 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:30:33.021 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 11:30:33.021 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 11:30:33.021 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:30:33.021 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:30:33.021 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:30:33.021 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:30:33.021 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:30:33.021 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:30:33.022 -05:00 [DBG] Authorization was successful.
2024-07-23 11:30:33.022 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-23 11:30:33.022 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:30:33.022 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:30:33.022 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-07-23 11:30:33.022 -05:00 [DBG] Authorization was successful.
2024-07-23 11:30:33.022 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:30:33.022 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:30:33.022 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:30:33.022 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:30:33.022 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 11:30:33.022 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:30:33.022 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:30:33.022 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:30:33.022 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:30:33.022 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-23 11:30:33.022 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:30:33.022 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:30:33.022 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:30:33.022 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-23 11:30:33.022 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 11:30:33.023 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 11:30:33.026 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 11:30:33.058 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-23 11:30:33.058 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:30:33.058 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:30:33.058 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:30:33.058 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 11:30:33.058 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:30:33.058 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:30:33.059 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:30:33.081 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:30:33.081 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:33.081 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:30:33.082 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:33.082 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:30:33.082 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:30:33.083 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:30:33.083 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-23 11:30:33.083 -05:00 [DBG] Consultando libros...
2024-07-23 11:30:33.086 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:30:33.086 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-23 11:30:33.086 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:30:33.086 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:30:33.087 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:30:33.087 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:33.087 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:30:33.087 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:30:33.087 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:30:33.087 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:30:33.087 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:30:33.087 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:30:33.087 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:30:33.087 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:30:33.087 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:30:33.088 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:30:33.088 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:30:33.088 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:30:33.088 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:33.088 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-23 11:30:33.088 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:33.088 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:30:33.088 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 30.2029ms.
2024-07-23 11:30:33.088 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:30:33.088 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:30:33.088 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:30:33.088 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:30:33.089 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:30:33.089 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:30:33.089 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 66.6823ms
2024-07-23 11:30:33.089 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-23 11:30:33.089 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:30:33.089 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:33.089 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:30:33.089 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 69.2934ms
2024-07-23 11:30:33.095 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:33.095 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:30:33.095 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:30:33.095 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:30:33.096 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-23 11:30:33.102 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-23 11:30:33.102 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:33.102 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:30:33.102 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:33.102 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:30:33.105 -05:00 [INF] Consulta de libros exitosa
2024-07-23 11:30:33.105 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 23.5043ms.
2024-07-23 11:30:33.105 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:30:33.105 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:30:33.105 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:30:33.105 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:30:33.106 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:30:33.106 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:30:33.106 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 83.3627ms
2024-07-23 11:30:33.106 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:30:33.106 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:30:33.106 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:33.106 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:30:33.106 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 86.2703ms
2024-07-23 11:30:57.400 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=31 - null null
2024-07-23 11:30:57.400 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 11:30:57.400 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:30:57.400 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:30:57.400 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:30:57.400 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:30:57.400 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:30:57.400 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=31 - 204 null null 0.888ms
2024-07-23 11:30:57.462 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=31 - null null
2024-07-23 11:30:57.464 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 11:30:57.464 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-07-23 11:30:57.464 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 11:30:57.468 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:30:57.468 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:30:57.468 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:30:57.468 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:30:57.468 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:30:57.469 -05:00 [DBG] Authorization was successful.
2024-07-23 11:30:57.469 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 11:30:57.469 -05:00 [INF] Route matched with {action = "Get", controller = "Prestmaos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 11:30:57.469 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:30:57.469 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:30:57.469 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:30:57.469 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:30:57.469 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:30:57.469 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:30:57.469 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:30:57.469 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-23 11:30:57.469 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-23 11:30:57.470 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 11:30:57.470 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 11:30:57.470 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-23 11:30:57.470 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 11:30:57.493 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:30:57.496 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-23 11:30:57.497 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:30:57.500 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:30:57.500 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:30:57.500 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:30:57.500 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:57.500 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:57.500 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:30:57.501 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:30:57.501 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:30:57.501 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:30:57.509 -05:00 [INF] Executed DbCommand (8ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:30:57.509 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:57.509 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:30:57.509 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:57.509 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:30:57.509 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.5079ms.
2024-07-23 11:30:57.509 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:30:57.509 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:30:57.510 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:30:57.510 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:30:57.510 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:30:57.510 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.Collections.Generic.List`1[[biblioteca_backend.Models.Libro, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-23 11:30:57.511 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) in 41.7077ms
2024-07-23 11:30:57.511 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 11:30:57.511 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:30:57.511 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:57.511 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:30:57.512 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=31 - 200 null application/json; charset=utf-8 90.0256ms
2024-07-23 11:30:59.045 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-23 11:30:59.045 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 11:30:59.045 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:30:59.045 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:30:59.046 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:30:59.046 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:30:59.046 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:30:59.046 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - 204 null null 4.6876ms
2024-07-23 11:30:59.051 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-23 11:30:59.051 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 11:30:59.051 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 11:30:59.051 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:30:59.052 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:30:59.052 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:30:59.052 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:30:59.052 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:30:59.052 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:30:59.052 -05:00 [DBG] Authorization was successful.
2024-07-23 11:30:59.053 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:30:59.053 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 11:30:59.053 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:30:59.053 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:30:59.053 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:30:59.053 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:30:59.053 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:30:59.053 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 11:30:59.054 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 11:30:59.054 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 11:30:59.054 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-23 11:30:59.054 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:30:59.054 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:30:59.054 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 11:30:59.054 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:30:59.089 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:30:59.091 -05:00 [DBG] Consultando libros...
2024-07-23 11:30:59.091 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:30:59.092 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:30:59.092 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:30:59.092 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:59.092 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:59.092 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:30:59.092 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:30:59.092 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:30:59.092 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 11:30:59.099 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 11:30:59.099 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:59.099 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:30:59.099 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:59.099 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:30:59.101 -05:00 [INF] Consulta de libros exitosa
2024-07-23 11:30:59.101 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 12.6716ms.
2024-07-23 11:30:59.101 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:30:59.102 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:30:59.102 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:30:59.102 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:30:59.102 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:30:59.102 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:30:59.102 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 48.7296ms
2024-07-23 11:30:59.102 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:30:59.102 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:30:59.102 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:30:59.102 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:30:59.103 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 51.5831ms
2024-07-23 11:31:01.701 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 11:31:01.701 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:31:01.701 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:31:01.701 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:31:01.701 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:31:01.701 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:31:01.701 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:31:01.701 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 204 null null 0.6792ms
2024-07-23 11:31:01.706 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 11:31:01.706 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:31:01.707 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)' with route pattern 'api/Prestmaos/ConsultarPrestamos' is valid for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:31:01.707 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:31:01.707 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:31:01.707 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:31:01.708 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:31:01.709 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:31:01.709 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:31:01.709 -05:00 [DBG] Authorization was successful.
2024-07-23 11:31:01.709 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:31:01.709 -05:00 [INF] Route matched with {action = "ConsultarPrestamos", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsultarPrestamos() on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 11:31:01.709 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:31:01.710 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:31:01.710 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:31:01.710 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:31:01.711 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:31:01.711 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:31:01.711 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:31:01.754 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:31:01.754 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:31:01.755 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:31:01.755 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:31:01.755 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:31:01.755 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:31:01.755 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:31:01.755 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:31:01.755 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:31:01.755 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 11:31:01.758 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 11:31:01.758 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:31:01.758 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:31:01.758 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:31:01.758 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:31:01.759 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:31:01.759 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:31:01.765 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 11:31:01.766 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:31:01.766 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:31:01.766 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:31:01.766 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:31:01.766 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:31:01.766 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:31:01.768 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:31:01.768 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:31:01.768 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:31:01.768 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:31:01.769 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:31:01.769 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:31:01.769 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:31:01.771 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 11:31:01.773 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-23 11:31:01.780 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:31:01.780 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:31:01.780 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:31:01.780 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:31:01.780 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:31:01.780 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:31:01.780 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:31:01.781 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:31:01.781 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:31:01.781 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:31:01.781 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:31:01.781 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:31:01.784 -05:00 [DBG] Consultando perfil con id 34
2024-07-23 11:31:01.784 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:31:01.784 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:31:01.784 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:31:01.784 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:31:01.784 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:31:01.784 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:31:01.785 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:31:01.785 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:31:01.785 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:31:01.785 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:31:01.785 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:31:01.785 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:31:01.785 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:31:01.788 -05:00 [INF] Perfil encontrado con id: 34
2024-07-23 11:31:01.790 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-23 11:31:01.795 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:31:01.795 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:31:01.795 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:31:01.796 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:31:01.796 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:31:01.796 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:31:01.796 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:31:01.796 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:31:01.796 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:31:01.796 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:31:01.796 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:31:01.797 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:31:01.797 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 42.8641ms.
2024-07-23 11:31:01.797 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:31:01.797 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:31:01.797 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:31:01.797 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:31:01.797 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:31:01.797 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.DTOs.ConsultaPrestamoModel, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:31:01.797 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) in 86.3227ms
2024-07-23 11:31:01.797 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:31:01.797 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:31:01.797 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:31:01.797 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:31:01.797 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 200 null application/json; charset=utf-8 91.3357ms
2024-07-23 11:32:05.884 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 11:32:05.885 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:32:05.885 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:32:05.885 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:32:05.885 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:32:05.885 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:32:05.885 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:32:05.885 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - 204 null null 1.4002ms
2024-07-23 11:32:05.918 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 11:32:05.918 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:32:05.919 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 11:32:05.919 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:32:05.919 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:32:05.922 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:32:05.922 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:32:05.930 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:32:05.930 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:32:05.931 -05:00 [DBG] Authorization was successful.
2024-07-23 11:32:05.931 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:32:05.934 -05:00 [INF] Route matched with {action = "Get", controller = "Perfiles"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 11:32:05.934 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:32:05.934 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:32:05.934 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:32:05.934 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:32:05.934 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:32:05.934 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:32:05.934 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:32:05.934 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-07-23 11:32:05.934 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-07-23 11:32:05.934 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 11:32:05.935 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 11:32:05.935 -05:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-07-23 11:32:05.935 -05:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-07-23 11:32:06.019 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:32:06.030 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 11:32:06.033 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:32:06.035 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:32:06.035 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:32:06.036 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:32:06.036 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:32:06.036 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:32:06.036 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:32:06.036 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:32:06.037 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:32:06.047 -05:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:32:06.047 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:32:06.047 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:32:06.048 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:32:06.048 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:32:06.048 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:32:06.055 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 11:32:06.055 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 35.8009ms.
2024-07-23 11:32:06.055 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:32:06.055 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:32:06.055 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:32:06.055 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:32:06.056 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:32:06.056 -05:00 [INF] Executing OkObjectResult, writing value of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:32:06.057 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) in 122.8951ms
2024-07-23 11:32:06.057 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:32:06.057 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:32:06.057 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:32:06.057 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:32:06.058 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - 200 null application/json; charset=utf-8 153.5863ms
2024-07-23 11:32:13.877 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - null null
2024-07-23 11:32:13.878 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:32:13.878 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:32:13.878 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:32:13.878 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:32:13.878 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:32:13.878 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:32:13.878 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - 204 null null 0.7591ms
2024-07-23 11:32:13.881 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Perfiles/ - application/json 60
2024-07-23 11:32:13.882 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:32:13.883 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 11:32:13.883 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 11:32:13.883 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:32:13.883 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:32:13.883 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:32:13.883 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-23 11:32:13.883 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 11:32:13.883 -05:00 [INF] Route matched with {action = "Post", controller = "Perfiles"}. Executing controller action with signature System.Object Post(biblioteca_backend.Models.DTOs.LogInModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 11:32:13.883 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:32:13.883 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:32:13.883 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:32:13.883 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:32:13.883 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:32:13.883 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:32:13.884 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:32:13.884 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-23 11:32:13.884 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' using the name '' in request data ...
2024-07-23 11:32:13.884 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-23 11:32:13.884 -05:00 [DBG] Connection id "0HN5B66GRMOTT", Request id "0HN5B66GRMOTT:00000037": started reading request body.
2024-07-23 11:32:13.884 -05:00 [DBG] Connection id "0HN5B66GRMOTT", Request id "0HN5B66GRMOTT:00000037": done reading request body.
2024-07-23 11:32:13.884 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.LogInModel'
2024-07-23 11:32:13.884 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 11:32:13.885 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 11:32:13.885 -05:00 [DBG] Attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-23 11:32:13.885 -05:00 [DBG] Done attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 11:32:13.910 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:32:13.913 -05:00 [DBG] Iniciando sesión...
2024-07-23 11:32:13.914 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:32:13.914 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:32:13.914 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:32:13.914 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:32:13.914 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:32:13.914 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:32:13.914 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:32:13.914 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:32:13.914 -05:00 [DBG] Executing DbCommand [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-23 11:32:13.917 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-23 11:32:13.917 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:32:13.917 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:32:13.917 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:32:13.917 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:32:13.917 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:32:13.917 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:32:13.917 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:32:13.917 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:32:13.917 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:32:13.917 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:32:13.917 -05:00 [DBG] Executing DbCommand [Parameters=[@___perfil_IdRol_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Nombre]
FROM [Rol] AS [r]
WHERE [r].[Id] = @___perfil_IdRol_0
2024-07-23 11:32:13.919 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@___perfil_IdRol_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Nombre]
FROM [Rol] AS [r]
WHERE [r].[Id] = @___perfil_IdRol_0
2024-07-23 11:32:13.919 -05:00 [DBG] The navigation 'Perfil.Rol' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:32:13.919 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Rol' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:32:13.919 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:32:13.919 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:32:13.920 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:32:13.920 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:32:13.922 -05:00 [INF] Inicio de sesión exitoso
2024-07-23 11:32:13.922 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 11.8007ms.
2024-07-23 11:32:13.922 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:32:13.923 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:32:13.923 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:32:13.923 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:32:13.923 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:32:13.923 -05:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-23 11:32:13.924 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) in 40.6505ms
2024-07-23 11:32:13.924 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 11:32:13.924 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:32:13.924 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:32:13.925 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:32:13.925 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Perfiles/ - 200 null application/json; charset=utf-8 43.5416ms
2024-07-23 11:32:13.966 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-23 11:32:13.966 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 11:32:13.966 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:32:13.966 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:32:13.966 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:32:13.966 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:32:13.966 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:32:13.967 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - 204 null null 0.9236ms
2024-07-23 11:32:13.982 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-23 11:32:13.982 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 11:32:13.982 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 11:32:13.982 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:32:13.983 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:32:13.983 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:32:13.983 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:32:13.983 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:32:13.983 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:32:13.984 -05:00 [DBG] Authorization was successful.
2024-07-23 11:32:13.984 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:32:13.984 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 11:32:13.984 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:32:13.984 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:32:13.984 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:32:13.984 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:32:13.984 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:32:13.985 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 11:32:13.985 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 11:32:13.985 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 11:32:13.985 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-23 11:32:13.986 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:32:13.986 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:32:13.986 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 11:32:13.986 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:32:14.032 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:32:14.036 -05:00 [DBG] Consultando libros...
2024-07-23 11:32:14.036 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:32:14.037 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:32:14.037 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:32:14.037 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:32:14.038 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:32:14.038 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:32:14.038 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:32:14.038 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:32:14.042 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 11:32:14.053 -05:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 11:32:14.055 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:32:14.055 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-23 11:32:14.055 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:32:14.056 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:32:14.062 -05:00 [INF] Consulta de libros exitosa
2024-07-23 11:32:14.062 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 29.6446ms.
2024-07-23 11:32:14.062 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:32:14.062 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:32:14.062 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:32:14.063 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:32:14.063 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:32:14.063 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:32:14.063 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 78.2313ms
2024-07-23 11:32:14.063 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:32:14.063 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:32:14.063 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:32:14.063 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:32:14.063 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 81.2283ms
2024-07-23 11:33:35.250 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-23 11:33:35.264 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 11:33:35.264 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:33:35.264 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:33:35.264 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:33:35.278 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:33:35.279 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:33:35.279 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - 204 null null 29.1599ms
2024-07-23 11:33:35.366 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-23 11:33:35.366 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 11:33:35.366 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 11:33:35.366 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:33:35.366 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:33:35.366 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:33:35.366 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:33:35.373 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:33:35.375 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:33:35.375 -05:00 [DBG] Authorization was successful.
2024-07-23 11:33:35.375 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:33:35.376 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 11:33:35.376 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:33:35.376 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:33:35.376 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:33:35.376 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:33:35.376 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:33:35.376 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 11:33:35.380 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 11:33:35.380 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 11:33:35.380 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-23 11:33:35.381 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:33:35.381 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:33:35.381 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 11:33:35.381 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:33:35.412 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:33:35.414 -05:00 [DBG] Consultando libros...
2024-07-23 11:33:35.415 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:33:35.415 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:33:35.415 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:33:35.415 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:33:35.416 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:33:35.416 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:33:35.416 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:33:35.416 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:33:35.416 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 11:33:35.422 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 11:33:35.422 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:33:35.422 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:33:35.422 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:33:35.422 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:33:35.425 -05:00 [INF] Consulta de libros exitosa
2024-07-23 11:33:35.425 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 13.5139ms.
2024-07-23 11:33:35.425 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:33:35.425 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:33:35.425 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:33:35.425 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:33:35.425 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:33:35.425 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:33:35.426 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 49.2988ms
2024-07-23 11:33:35.426 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:33:35.426 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:33:35.426 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:33:35.426 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:33:35.426 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 112.946ms
2024-07-23 11:35:19.139 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - null null
2024-07-23 11:35:19.139 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:35:19.139 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:35:19.139 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:35:19.139 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:35:19.140 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:35:19.140 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:35:19.140 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - 204 null null 0.84ms
2024-07-23 11:35:19.152 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Perfiles/ - application/json 57
2024-07-23 11:35:19.155 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:35:19.156 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 11:35:19.156 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 11:35:19.156 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:35:19.156 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:35:19.156 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:35:19.156 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-23 11:35:19.156 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 11:35:19.156 -05:00 [INF] Route matched with {action = "Post", controller = "Perfiles"}. Executing controller action with signature System.Object Post(biblioteca_backend.Models.DTOs.LogInModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 11:35:19.157 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:35:19.157 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:35:19.157 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:35:19.157 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:35:19.157 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:35:19.157 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:35:19.157 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:35:19.157 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-23 11:35:19.157 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' using the name '' in request data ...
2024-07-23 11:35:19.158 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-23 11:35:19.158 -05:00 [DBG] Connection id "0HN5B66GRMOTT", Request id "0HN5B66GRMOTT:00000043": started reading request body.
2024-07-23 11:35:19.158 -05:00 [DBG] Connection id "0HN5B66GRMOTT", Request id "0HN5B66GRMOTT:00000043": done reading request body.
2024-07-23 11:35:19.158 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.LogInModel'
2024-07-23 11:35:19.158 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 11:35:19.158 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 11:35:19.158 -05:00 [DBG] Attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-23 11:35:19.158 -05:00 [DBG] Done attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 11:35:19.180 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:35:19.185 -05:00 [DBG] Iniciando sesión...
2024-07-23 11:35:19.186 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:35:19.186 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:35:19.186 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:35:19.186 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:35:19.187 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:35:19.187 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:35:19.187 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:35:19.187 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:35:19.187 -05:00 [DBG] Executing DbCommand [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-23 11:35:19.190 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-23 11:35:19.190 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:35:19.190 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:35:19.190 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:35:19.190 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:35:19.193 -05:00 [WRN] Correo o contraseña no encontrados
2024-07-23 11:35:19.193 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 12.86ms.
2024-07-23 11:35:19.194 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:35:19.194 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:35:19.194 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:35:19.194 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:35:19.194 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-07-23 11:35:19.194 -05:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-07-23 11:35:19.194 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) in 37.0587ms
2024-07-23 11:35:19.194 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 11:35:19.194 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:35:19.194 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:35:19.194 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:35:19.194 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Perfiles/ - 200 0 text/plain; charset=utf-8 42.1801ms
2024-07-23 11:35:24.813 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - null null
2024-07-23 11:35:24.813 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:35:24.813 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:35:24.813 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:35:24.813 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:35:24.813 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:35:24.813 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:35:24.813 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - 204 null null 0.846ms
2024-07-23 11:35:24.819 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Perfiles/ - application/json 56
2024-07-23 11:35:24.820 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:35:24.820 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 11:35:24.820 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 11:35:24.820 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:35:24.820 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:35:24.820 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:35:24.820 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-23 11:35:24.820 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 11:35:24.821 -05:00 [INF] Route matched with {action = "Post", controller = "Perfiles"}. Executing controller action with signature System.Object Post(biblioteca_backend.Models.DTOs.LogInModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 11:35:24.821 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:35:24.821 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:35:24.821 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:35:24.821 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:35:24.821 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:35:24.822 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:35:24.822 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:35:24.822 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-23 11:35:24.822 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' using the name '' in request data ...
2024-07-23 11:35:24.822 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-23 11:35:24.822 -05:00 [DBG] Connection id "0HN5B66GRMOTT", Request id "0HN5B66GRMOTT:00000047": started reading request body.
2024-07-23 11:35:24.822 -05:00 [DBG] Connection id "0HN5B66GRMOTT", Request id "0HN5B66GRMOTT:00000047": done reading request body.
2024-07-23 11:35:24.822 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.LogInModel'
2024-07-23 11:35:24.822 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 11:35:24.822 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 11:35:24.822 -05:00 [DBG] Attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-23 11:35:24.823 -05:00 [DBG] Done attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 11:35:24.857 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:35:24.860 -05:00 [DBG] Iniciando sesión...
2024-07-23 11:35:24.861 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:35:24.861 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:35:24.861 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:35:24.862 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:35:24.862 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:35:24.862 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:35:24.862 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:35:24.862 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:35:24.862 -05:00 [DBG] Executing DbCommand [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-23 11:35:24.863 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-23 11:35:24.863 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:35:24.863 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:35:24.863 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:35:24.864 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:35:24.868 -05:00 [WRN] Correo o contraseña no encontrados
2024-07-23 11:35:24.868 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 11.5254ms.
2024-07-23 11:35:24.869 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:35:24.869 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:35:24.869 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:35:24.869 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:35:24.869 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-07-23 11:35:24.869 -05:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-07-23 11:35:24.869 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) in 47.4058ms
2024-07-23 11:35:24.869 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 11:35:24.869 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:35:24.869 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:35:24.869 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:35:24.869 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Perfiles/ - 200 0 text/plain; charset=utf-8 50.6428ms
2024-07-23 11:35:34.130 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - null null
2024-07-23 11:35:34.130 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:35:34.130 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:35:34.132 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:35:34.133 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:35:34.133 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:35:34.133 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:35:34.133 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - 204 null null 3.8947ms
2024-07-23 11:35:34.137 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Perfiles/ - application/json 60
2024-07-23 11:35:34.137 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:35:34.137 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 11:35:34.137 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 11:35:34.137 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:35:34.137 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:35:34.138 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:35:34.138 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-23 11:35:34.138 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 11:35:34.138 -05:00 [INF] Route matched with {action = "Post", controller = "Perfiles"}. Executing controller action with signature System.Object Post(biblioteca_backend.Models.DTOs.LogInModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 11:35:34.138 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:35:34.138 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:35:34.138 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:35:34.138 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:35:34.138 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:35:34.138 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:35:34.139 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:35:34.139 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-23 11:35:34.139 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' using the name '' in request data ...
2024-07-23 11:35:34.139 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-23 11:35:34.139 -05:00 [DBG] Connection id "0HN5B66GRMOTT", Request id "0HN5B66GRMOTT:0000004B": started reading request body.
2024-07-23 11:35:34.139 -05:00 [DBG] Connection id "0HN5B66GRMOTT", Request id "0HN5B66GRMOTT:0000004B": done reading request body.
2024-07-23 11:35:34.139 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.LogInModel'
2024-07-23 11:35:34.139 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 11:35:34.139 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 11:35:34.139 -05:00 [DBG] Attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-23 11:35:34.140 -05:00 [DBG] Done attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 11:35:34.175 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:35:34.177 -05:00 [DBG] Iniciando sesión...
2024-07-23 11:35:34.178 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:35:34.178 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:35:34.178 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:35:34.178 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:35:34.178 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:35:34.178 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:35:34.178 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:35:34.178 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:35:34.178 -05:00 [DBG] Executing DbCommand [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-23 11:35:34.179 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-23 11:35:34.179 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:35:34.179 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:35:34.179 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:35:34.179 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:35:34.179 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:35:34.179 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:35:34.179 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:35:34.179 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:35:34.179 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:35:34.179 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:35:34.180 -05:00 [DBG] Executing DbCommand [Parameters=[@___perfil_IdRol_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Nombre]
FROM [Rol] AS [r]
WHERE [r].[Id] = @___perfil_IdRol_0
2024-07-23 11:35:34.184 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@___perfil_IdRol_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Nombre]
FROM [Rol] AS [r]
WHERE [r].[Id] = @___perfil_IdRol_0
2024-07-23 11:35:34.185 -05:00 [DBG] The navigation 'Perfil.Rol' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:35:34.185 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Rol' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:35:34.185 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:35:34.185 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:35:34.185 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:35:34.185 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:35:34.187 -05:00 [INF] Inicio de sesión exitoso
2024-07-23 11:35:34.188 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 12.6574ms.
2024-07-23 11:35:34.188 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:35:34.188 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:35:34.188 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:35:34.188 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:35:34.188 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:35:34.188 -05:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-23 11:35:34.188 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) in 49.7284ms
2024-07-23 11:35:34.188 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 11:35:34.188 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:35:34.188 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:35:34.188 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:35:34.189 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Perfiles/ - 200 null application/json; charset=utf-8 51.4645ms
2024-07-23 11:35:34.215 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-23 11:35:34.215 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 11:35:34.215 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:35:34.215 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:35:34.215 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:35:34.215 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:35:34.216 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:35:34.218 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - 204 null null 2.9139ms
2024-07-23 11:35:34.225 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-23 11:35:34.225 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 11:35:34.226 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 11:35:34.226 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:35:34.226 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:35:34.226 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:35:34.226 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:35:34.227 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:35:34.227 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:35:34.228 -05:00 [DBG] Authorization was successful.
2024-07-23 11:35:34.229 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:35:34.229 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 11:35:34.229 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:35:34.229 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:35:34.229 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:35:34.230 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:35:34.230 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:35:34.236 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 11:35:34.242 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 11:35:34.242 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 11:35:34.242 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-23 11:35:34.242 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:35:34.242 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:35:34.242 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 11:35:34.243 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:35:34.277 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:35:34.279 -05:00 [DBG] Consultando libros...
2024-07-23 11:35:34.280 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:35:34.280 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:35:34.280 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:35:34.280 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:35:34.280 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:35:34.282 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:35:34.282 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:35:34.282 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:35:34.282 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 11:35:34.287 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 11:35:34.287 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:35:34.287 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:35:34.287 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:35:34.287 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:35:34.321 -05:00 [INF] Consulta de libros exitosa
2024-07-23 11:35:34.321 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 44.377ms.
2024-07-23 11:35:34.321 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:35:34.322 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:35:34.322 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:35:34.322 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:35:34.322 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:35:34.322 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:35:34.322 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 85.8149ms
2024-07-23 11:35:34.322 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:35:34.322 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:35:34.322 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:35:34.322 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:35:34.322 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 97.6952ms
2024-07-23 11:36:12.211 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - null null
2024-07-23 11:36:12.211 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:36:12.211 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:36:12.211 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:36:12.211 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:36:12.211 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:36:12.211 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:36:12.211 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - 204 null null 1.2568ms
2024-07-23 11:36:12.218 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Perfiles/ - application/json 54
2024-07-23 11:36:12.218 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:36:12.218 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 11:36:12.218 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 11:36:12.218 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:36:12.218 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:36:12.218 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:36:12.218 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-23 11:36:12.218 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 11:36:12.218 -05:00 [INF] Route matched with {action = "Post", controller = "Perfiles"}. Executing controller action with signature System.Object Post(biblioteca_backend.Models.DTOs.LogInModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 11:36:12.219 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:36:12.219 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:36:12.219 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:36:12.219 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:36:12.219 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:36:12.219 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:36:12.219 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:36:12.220 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-23 11:36:12.221 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' using the name '' in request data ...
2024-07-23 11:36:12.221 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-23 11:36:12.221 -05:00 [DBG] Connection id "0HN5B66GRMOTT", Request id "0HN5B66GRMOTT:00000053": started reading request body.
2024-07-23 11:36:12.221 -05:00 [DBG] Connection id "0HN5B66GRMOTT", Request id "0HN5B66GRMOTT:00000053": done reading request body.
2024-07-23 11:36:12.221 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.LogInModel'
2024-07-23 11:36:12.221 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 11:36:12.221 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 11:36:12.221 -05:00 [DBG] Attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-23 11:36:12.221 -05:00 [DBG] Done attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-23 11:36:12.257 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:36:12.259 -05:00 [DBG] Iniciando sesión...
2024-07-23 11:36:12.260 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:36:12.260 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:36:12.261 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:36:12.261 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:36:12.261 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:36:12.261 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:36:12.261 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:36:12.261 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:36:12.261 -05:00 [DBG] Executing DbCommand [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-23 11:36:12.265 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-23 11:36:12.265 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:36:12.265 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:36:12.266 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:36:12.266 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:36:12.266 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:36:12.266 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:36:12.266 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:36:12.266 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:36:12.266 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:36:12.266 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:36:12.266 -05:00 [DBG] Executing DbCommand [Parameters=[@___perfil_IdRol_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Nombre]
FROM [Rol] AS [r]
WHERE [r].[Id] = @___perfil_IdRol_0
2024-07-23 11:36:12.268 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@___perfil_IdRol_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Nombre]
FROM [Rol] AS [r]
WHERE [r].[Id] = @___perfil_IdRol_0
2024-07-23 11:36:12.268 -05:00 [DBG] The navigation 'Perfil.Rol' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:36:12.269 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Rol' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:36:12.269 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:36:12.269 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:36:12.269 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:36:12.269 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:36:12.273 -05:00 [INF] Inicio de sesión exitoso
2024-07-23 11:36:12.273 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 15.7699ms.
2024-07-23 11:36:12.273 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:36:12.274 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:36:12.274 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:36:12.274 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:36:12.274 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:36:12.274 -05:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-23 11:36:12.274 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) in 55.4083ms
2024-07-23 11:36:12.274 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-23 11:36:12.274 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:36:12.274 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:36:12.275 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:36:12.275 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Perfiles/ - 200 null application/json; charset=utf-8 57.1306ms
2024-07-23 11:36:12.317 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-07-23 11:36:12.317 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-23 11:36:12.317 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-23 11:36:12.317 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 11:36:12.317 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:36:12.317 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:36:12.317 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:36:12.317 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:36:12.317 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:36:12.317 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:36:12.317 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:36:12.317 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:36:12.317 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:36:12.317 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:36:12.318 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 0.7607ms
2024-07-23 11:36:12.318 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 0.7423ms
2024-07-23 11:36:12.321 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-07-23 11:36:12.321 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-23 11:36:12.321 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-23 11:36:12.321 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 11:36:12.321 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-07-23 11:36:12.321 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 11:36:12.321 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-23 11:36:12.322 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:36:12.322 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:36:12.322 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:36:12.322 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:36:12.322 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:36:12.322 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:36:12.322 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:36:12.322 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:36:12.322 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:36:12.322 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:36:12.322 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:36:12.322 -05:00 [DBG] Authorization was successful.
2024-07-23 11:36:12.322 -05:00 [DBG] Authorization was successful.
2024-07-23 11:36:12.322 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:36:12.322 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-23 11:36:12.322 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 11:36:12.322 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-07-23 11:36:12.322 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:36:12.322 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:36:12.322 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:36:12.322 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:36:12.323 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:36:12.323 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:36:12.323 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:36:12.323 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:36:12.323 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:36:12.323 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 11:36:12.323 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:36:12.323 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-23 11:36:12.323 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 11:36:12.323 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-23 11:36:12.323 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 11:36:12.323 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-23 11:36:12.323 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:36:12.333 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:36:12.333 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 11:36:12.334 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:36:12.386 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:36:12.386 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:36:12.388 -05:00 [DBG] Consultando libros...
2024-07-23 11:36:12.389 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:36:12.389 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:36:12.389 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:36:12.389 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:36:12.389 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:36:12.389 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:36:12.389 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:36:12.389 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:36:12.389 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:36:12.390 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-23 11:36:12.390 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:36:12.390 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:36:12.390 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:36:12.393 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-23 11:36:12.394 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:36:12.394 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:36:12.394 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:36:12.394 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:36:12.394 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:36:12.394 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:36:12.395 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:36:12.395 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:36:12.395 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:36:12.395 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:36:12.395 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:36:12.397 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:36:12.397 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:36:12.397 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:36:12.398 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-07-23 11:36:12.398 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:36:12.398 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:36:12.398 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 12.0373ms.
2024-07-23 11:36:12.398 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:36:12.398 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:36:12.398 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:36:12.398 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:36:12.398 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:36:12.398 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:36:12.399 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 75.6902ms
2024-07-23 11:36:12.399 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-23 11:36:12.399 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:36:12.399 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:36:12.399 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:36:12.399 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 78.4198ms
2024-07-23 11:36:12.445 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:36:12.445 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:36:12.445 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:36:12.446 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:36:12.446 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-23 11:36:12.452 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-23 11:36:12.453 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:36:12.453 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:36:12.453 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:36:12.453 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:36:12.506 -05:00 [INF] Consulta de libros exitosa
2024-07-23 11:36:12.506 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 120.1307ms.
2024-07-23 11:36:12.506 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:36:12.506 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:36:12.506 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:36:12.506 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:36:12.506 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:36:12.506 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:36:12.507 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 183.8827ms
2024-07-23 11:36:12.507 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:36:12.507 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:36:12.507 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:36:12.507 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:36:12.507 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 186.5453ms
2024-07-23 11:36:15.336 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 11:36:15.337 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:36:15.337 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:36:15.337 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:36:15.337 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:36:15.337 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:36:15.337 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:36:15.337 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 204 null null 0.6929ms
2024-07-23 11:36:15.340 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 11:36:15.340 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:36:15.340 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)' with route pattern 'api/Prestmaos/ConsultarPrestamos' is valid for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:36:15.340 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:36:15.340 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:36:15.340 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:36:15.340 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:36:15.340 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:36:15.340 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:36:15.341 -05:00 [DBG] Authorization was successful.
2024-07-23 11:36:15.341 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:36:15.341 -05:00 [INF] Route matched with {action = "ConsultarPrestamos", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsultarPrestamos() on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 11:36:15.341 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:36:15.341 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:36:15.341 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:36:15.341 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:36:15.341 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:36:15.341 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:36:15.342 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:36:15.376 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:36:15.377 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:36:15.377 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:36:15.377 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:36:15.377 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:36:15.377 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:36:15.378 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:36:15.378 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:36:15.378 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:36:15.378 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 11:36:15.385 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 11:36:15.385 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:36:15.385 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:36:15.385 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:36:15.385 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:36:15.385 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:36:15.385 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:36:15.388 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 11:36:15.388 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:36:15.388 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:36:15.389 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:36:15.389 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:36:15.389 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:36:15.389 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:36:15.391 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:36:15.391 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:36:15.391 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:36:15.391 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:36:15.391 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:36:15.392 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:36:15.392 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:36:15.394 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 11:36:15.398 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-23 11:36:15.402 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:36:15.403 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:36:15.403 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:36:15.403 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:36:15.403 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:36:15.403 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:36:15.403 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:36:15.411 -05:00 [INF] Executed DbCommand (8ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:36:15.411 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:36:15.411 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:36:15.411 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:36:15.412 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:36:15.416 -05:00 [DBG] Consultando perfil con id 34
2024-07-23 11:36:15.416 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:36:15.416 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:36:15.416 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:36:15.417 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:36:15.417 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:36:15.417 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:36:15.420 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:36:15.420 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:36:15.420 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:36:15.420 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:36:15.420 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:36:15.420 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:36:15.420 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:36:15.423 -05:00 [INF] Perfil encontrado con id: 34
2024-07-23 11:36:15.426 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-23 11:36:15.428 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:36:15.430 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:36:15.430 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:36:15.430 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:36:15.430 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:36:15.430 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:36:15.430 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:36:15.433 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:36:15.433 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:36:15.433 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:36:15.434 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:36:15.434 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:36:15.434 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 57.6728ms.
2024-07-23 11:36:15.434 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:36:15.434 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:36:15.434 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:36:15.434 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:36:15.434 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:36:15.434 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.DTOs.ConsultaPrestamoModel, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:36:15.435 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) in 93.2272ms
2024-07-23 11:36:15.435 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:36:15.435 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:36:15.435 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:36:15.435 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:36:15.435 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 200 null application/json; charset=utf-8 95.8579ms
2024-07-23 11:40:04.525 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-23 11:40:04.525 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 11:40:04.526 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:40:04.526 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:40:04.526 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:40:04.526 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:40:04.526 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:40:04.526 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - 204 null null 0.9527ms
2024-07-23 11:40:04.926 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-23 11:40:04.926 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 11:40:04.927 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 11:40:04.927 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:40:04.927 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:40:04.927 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:40:04.927 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:40:04.927 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:40:04.927 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:40:04.928 -05:00 [DBG] Authorization was successful.
2024-07-23 11:40:04.928 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:40:04.928 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 11:40:04.928 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:40:04.928 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:40:04.928 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:40:04.929 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:40:04.929 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:40:04.929 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 11:40:04.931 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 11:40:04.932 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 11:40:04.932 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-23 11:40:04.932 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:40:04.932 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:40:04.932 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 11:40:04.932 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:40:05.114 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:40:05.126 -05:00 [DBG] Consultando libros...
2024-07-23 11:40:05.127 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:40:05.128 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:40:05.128 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:40:05.128 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:40:05.128 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:40:05.129 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:40:05.129 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:40:05.129 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:40:05.129 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 11:40:05.140 -05:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 11:40:05.141 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:40:05.141 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:40:05.141 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:40:05.141 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:40:05.147 -05:00 [INF] Consulta de libros exitosa
2024-07-23 11:40:05.147 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 32.6977ms.
2024-07-23 11:40:05.147 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:40:05.147 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:40:05.147 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:40:05.148 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:40:05.148 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:40:05.148 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:40:05.148 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 219.245ms
2024-07-23 11:40:05.148 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:40:05.148 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:40:05.148 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:40:05.148 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:40:05.149 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 222.3661ms
2024-07-23 11:40:14.273 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=31 - null null
2024-07-23 11:40:14.274 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 11:40:14.274 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:40:14.274 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:40:14.274 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:40:14.274 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:40:14.274 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:40:14.274 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=31 - 204 null null 1.166ms
2024-07-23 11:40:14.277 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=31 - null null
2024-07-23 11:40:14.277 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 11:40:14.277 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-07-23 11:40:14.277 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 11:40:14.278 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:40:14.278 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:40:14.278 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:40:14.278 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:40:14.278 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:40:14.278 -05:00 [DBG] Authorization was successful.
2024-07-23 11:40:14.278 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 11:40:14.278 -05:00 [INF] Route matched with {action = "Get", controller = "Prestmaos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 11:40:14.279 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:40:14.279 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:40:14.279 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:40:14.279 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:40:14.279 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:40:14.279 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:40:14.281 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:40:14.281 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-23 11:40:14.281 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-23 11:40:14.281 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 11:40:14.281 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 11:40:14.281 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-23 11:40:14.281 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 11:40:14.325 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:40:14.330 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-23 11:40:14.331 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:40:14.337 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:40:14.337 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:40:14.338 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:40:14.338 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:40:14.338 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:40:14.338 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:40:14.338 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:40:14.338 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:40:14.338 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:40:14.350 -05:00 [INF] Executed DbCommand (12ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:40:14.351 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:40:14.353 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-23 11:40:14.353 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:40:14.353 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:40:14.353 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 27.3891ms.
2024-07-23 11:40:14.353 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:40:14.353 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:40:14.353 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:40:14.353 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:40:14.353 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:40:14.353 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.Collections.Generic.List`1[[biblioteca_backend.Models.Libro, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-23 11:40:14.354 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) in 74.5874ms
2024-07-23 11:40:14.354 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 11:40:14.354 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:40:14.354 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:40:14.354 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:40:14.354 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=31 - 200 null application/json; charset=utf-8 77.3913ms
2024-07-23 11:41:01.963 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 11:41:01.964 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:41:01.964 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:41:01.964 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:41:01.964 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:41:01.964 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:41:01.964 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:41:01.965 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - 204 null null 1.3216ms
2024-07-23 11:41:02.014 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 11:41:02.014 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:41:02.014 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 11:41:02.014 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:41:02.014 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:41:02.014 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:41:02.014 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:41:02.015 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:41:02.017 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:41:02.017 -05:00 [DBG] Authorization was successful.
2024-07-23 11:41:02.028 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:41:02.028 -05:00 [INF] Route matched with {action = "Get", controller = "Perfiles"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 11:41:02.028 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:41:02.028 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:41:02.031 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:41:02.031 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:41:02.031 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:41:02.031 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:41:02.033 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:41:02.033 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-07-23 11:41:02.033 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-07-23 11:41:02.033 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 11:41:02.033 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 11:41:02.033 -05:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-07-23 11:41:02.033 -05:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-07-23 11:41:02.055 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:41:02.059 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 11:41:02.060 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:41:02.060 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:41:02.060 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:41:02.060 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:41:02.061 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:41:02.061 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:41:02.061 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:41:02.061 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:41:02.061 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:41:02.064 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:41:02.064 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:41:02.064 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:41:02.064 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:41:02.064 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:41:02.064 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:41:02.069 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 11:41:02.069 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 14.3156ms.
2024-07-23 11:41:02.069 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:41:02.069 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:41:02.069 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:41:02.069 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:41:02.070 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:41:02.070 -05:00 [INF] Executing OkObjectResult, writing value of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:41:02.070 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) in 38.5948ms
2024-07-23 11:41:02.070 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:41:02.070 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:41:02.070 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:41:02.070 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:41:02.070 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - 200 null application/json; charset=utf-8 56.8118ms
2024-07-23 11:41:55.919 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 11:41:55.952 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:41:55.952 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:41:55.952 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:41:55.952 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:41:55.952 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:41:55.952 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:41:55.954 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - 204 null null 34.9197ms
2024-07-23 11:41:55.962 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 11:41:55.962 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:41:55.962 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 11:41:55.963 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:41:55.963 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:41:55.966 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:41:55.966 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:41:55.966 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:41:55.966 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:41:55.966 -05:00 [DBG] Authorization was successful.
2024-07-23 11:41:55.966 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:41:55.967 -05:00 [INF] Route matched with {action = "Get", controller = "Perfiles"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 11:41:55.967 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:41:55.967 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:41:55.967 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:41:55.967 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:41:55.967 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:41:55.967 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:41:55.967 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:41:55.968 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-07-23 11:41:55.968 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-07-23 11:41:55.968 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 11:41:55.968 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 11:41:55.968 -05:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-07-23 11:41:55.968 -05:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-07-23 11:41:55.992 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:41:55.995 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 11:41:55.996 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:41:55.997 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:41:55.998 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:41:55.998 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:41:55.998 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:41:55.998 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:41:55.998 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:41:55.998 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:41:55.998 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:41:56.002 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:41:56.002 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:41:56.002 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:41:56.002 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:41:56.002 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:41:56.002 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:41:56.005 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 11:41:56.005 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 12.7824ms.
2024-07-23 11:41:56.005 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:41:56.006 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:41:56.006 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:41:56.006 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:41:56.006 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:41:56.006 -05:00 [INF] Executing OkObjectResult, writing value of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:41:56.006 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) in 39.0244ms
2024-07-23 11:41:56.006 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:41:56.006 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:41:56.006 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:41:56.006 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:41:56.006 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - 200 null application/json; charset=utf-8 44.1427ms
2024-07-23 11:42:18.707 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 11:42:18.707 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:42:18.707 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:42:18.707 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:42:18.708 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:42:18.708 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:42:18.708 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:42:18.710 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - 204 null null 3.3177ms
2024-07-23 11:42:18.725 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 11:42:18.732 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:42:18.732 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 11:42:18.732 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:42:18.732 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:42:18.732 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:42:18.732 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:42:18.733 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:42:18.733 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:42:18.733 -05:00 [DBG] Authorization was successful.
2024-07-23 11:42:18.733 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:42:18.733 -05:00 [INF] Route matched with {action = "Get", controller = "Perfiles"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 11:42:18.733 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:42:18.733 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:42:18.733 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:42:18.733 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:42:18.733 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:42:18.733 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:42:18.733 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:42:18.734 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-07-23 11:42:18.734 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-07-23 11:42:18.734 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 11:42:18.734 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 11:42:18.734 -05:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-07-23 11:42:18.734 -05:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-07-23 11:42:18.775 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:42:18.780 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 11:42:18.782 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:42:18.782 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:42:18.782 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:42:18.782 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:42:18.782 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:42:18.782 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:42:18.783 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:42:18.783 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:42:18.783 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:42:18.783 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:42:18.784 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:42:18.784 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:42:18.784 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:42:18.784 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:42:18.784 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:42:18.787 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 11:42:18.787 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 12.0883ms.
2024-07-23 11:42:18.788 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:42:18.788 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:42:18.788 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:42:18.788 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:42:18.788 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:42:18.788 -05:00 [INF] Executing OkObjectResult, writing value of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:42:18.788 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) in 55.0512ms
2024-07-23 11:42:18.788 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:42:18.788 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:42:18.789 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:42:18.789 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:42:18.789 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - 200 null application/json; charset=utf-8 63.7674ms
2024-07-23 11:42:24.357 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 11:42:24.358 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:42:24.358 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:42:24.358 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:42:24.358 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:42:24.358 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:42:24.358 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:42:24.358 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - 204 null null 1.095ms
2024-07-23 11:42:24.365 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 11:42:24.365 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:42:24.365 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 11:42:24.366 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:42:24.366 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:42:24.366 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:42:24.366 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:42:24.366 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:42:24.366 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:42:24.367 -05:00 [DBG] Authorization was successful.
2024-07-23 11:42:24.367 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:42:24.367 -05:00 [INF] Route matched with {action = "Get", controller = "Perfiles"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 11:42:24.367 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:42:24.367 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:42:24.368 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:42:24.368 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:42:24.368 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:42:24.368 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:42:24.368 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:42:24.369 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-07-23 11:42:24.369 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-07-23 11:42:24.369 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 11:42:24.369 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 11:42:24.369 -05:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-07-23 11:42:24.369 -05:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-07-23 11:42:24.411 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:42:24.420 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 11:42:24.421 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:42:24.422 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:42:24.422 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:42:24.422 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:42:24.422 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:42:24.423 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:42:24.423 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:42:24.423 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:42:24.423 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:42:24.436 -05:00 [INF] Executed DbCommand (13ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:42:24.436 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:42:24.436 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:42:24.436 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:42:24.436 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:42:24.437 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:42:24.441 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 11:42:24.441 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 29.844ms.
2024-07-23 11:42:24.441 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:42:24.441 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:42:24.441 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:42:24.441 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:42:24.441 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:42:24.441 -05:00 [INF] Executing OkObjectResult, writing value of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:42:24.441 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) in 73.2167ms
2024-07-23 11:42:24.441 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:42:24.442 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:42:24.442 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:42:24.442 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:42:24.442 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - 200 null application/json; charset=utf-8 77.5469ms
2024-07-23 11:42:34.416 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=31 - null null
2024-07-23 11:42:34.416 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 11:42:34.416 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:42:34.416 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:42:34.417 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:42:34.417 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:42:34.417 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:42:34.417 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=31 - 204 null null 1.1685ms
2024-07-23 11:42:34.420 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=31 - null null
2024-07-23 11:42:34.420 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 11:42:34.420 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-07-23 11:42:34.420 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 11:42:34.420 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:42:34.420 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:42:34.420 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:42:34.420 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:42:34.420 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:42:34.420 -05:00 [DBG] Authorization was successful.
2024-07-23 11:42:34.421 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 11:42:34.421 -05:00 [INF] Route matched with {action = "Get", controller = "Prestmaos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 11:42:34.421 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:42:34.421 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:42:34.421 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:42:34.421 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:42:34.422 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:42:34.422 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:42:34.422 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:42:34.423 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-23 11:42:34.424 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-23 11:42:34.427 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 11:42:34.427 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 11:42:34.432 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-23 11:42:34.432 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 11:42:34.457 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:42:34.460 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-23 11:42:34.460 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:42:34.466 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:42:34.467 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:42:34.467 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:42:34.467 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:42:34.467 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:42:34.467 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:42:34.467 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:42:34.467 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:42:34.467 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:42:34.482 -05:00 [INF] Executed DbCommand (14ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:42:34.482 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:42:34.482 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:42:34.482 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:42:34.482 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:42:34.482 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 25.0757ms.
2024-07-23 11:42:34.482 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:42:34.482 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:42:34.482 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:42:34.483 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:42:34.483 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:42:34.483 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.Collections.Generic.List`1[[biblioteca_backend.Models.Libro, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-23 11:42:34.483 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) in 61.0831ms
2024-07-23 11:42:34.483 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 11:42:34.483 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:42:34.483 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:42:34.483 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:42:34.484 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=31 - 200 null application/json; charset=utf-8 64.0354ms
2024-07-23 11:43:28.184 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 11:43:28.185 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:43:28.185 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:43:28.185 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:43:28.185 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:43:28.185 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:43:28.185 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:43:28.185 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 204 null null 0.8045ms
2024-07-23 11:43:28.231 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 11:43:28.233 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:43:28.234 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)' with route pattern 'api/Prestmaos/ConsultarPrestamos' is valid for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:43:28.234 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:43:28.234 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:43:28.234 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:43:28.234 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:43:28.234 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:43:28.234 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:43:28.234 -05:00 [DBG] Authorization was successful.
2024-07-23 11:43:28.234 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:43:28.234 -05:00 [INF] Route matched with {action = "ConsultarPrestamos", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsultarPrestamos() on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 11:43:28.235 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:43:28.235 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:43:28.235 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:43:28.235 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:43:28.235 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:43:28.235 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:43:28.235 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:43:28.282 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:43:28.283 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:43:28.283 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:43:28.283 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:43:28.283 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:43:28.283 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:43:28.283 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:43:28.284 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:43:28.284 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:43:28.284 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 11:43:28.288 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 11:43:28.288 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:43:28.288 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:43:28.288 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:43:28.288 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:43:28.289 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:43:28.289 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:43:28.295 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 11:43:28.295 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:43:28.295 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:43:28.295 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:43:28.295 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:43:28.295 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:43:28.295 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:43:28.304 -05:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:43:28.305 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:43:28.305 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:43:28.305 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:43:28.305 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:43:28.305 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:43:28.305 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:43:28.308 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 11:43:28.317 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-23 11:43:28.321 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:43:28.321 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:43:28.321 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:43:28.322 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:43:28.322 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:43:28.322 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:43:28.322 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:43:28.335 -05:00 [INF] Executed DbCommand (13ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:43:28.335 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:43:28.335 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:43:28.335 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:43:28.335 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:43:28.338 -05:00 [DBG] Consultando perfil con id 34
2024-07-23 11:43:28.339 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:43:28.339 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:43:28.339 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:43:28.339 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:43:28.339 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:43:28.339 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:43:28.343 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:43:28.344 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:43:28.344 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:43:28.344 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:43:28.344 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:43:28.344 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:43:28.345 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:43:28.348 -05:00 [INF] Perfil encontrado con id: 34
2024-07-23 11:43:28.352 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-23 11:43:28.356 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:43:28.356 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:43:28.356 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:43:28.356 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:43:28.356 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:43:28.356 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:43:28.357 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:43:28.358 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:43:28.358 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:43:28.358 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:43:28.358 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:43:28.358 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:43:28.358 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 76.165ms.
2024-07-23 11:43:28.359 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:43:28.360 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:43:28.360 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:43:28.360 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:43:28.360 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:43:28.360 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.DTOs.ConsultaPrestamoModel, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:43:28.360 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) in 125.5384ms
2024-07-23 11:43:28.361 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:43:28.361 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:43:28.361 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:43:28.361 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:43:28.361 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 200 null application/json; charset=utf-8 130.5651ms
2024-07-23 11:44:03.835 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 11:44:03.835 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:44:03.835 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:44:03.835 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:44:03.835 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:44:03.835 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:44:03.835 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:44:03.835 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - 204 null null 0.3692ms
2024-07-23 11:44:03.837 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 11:44:03.853 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:44:03.853 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 11:44:03.853 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:44:03.853 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:44:03.853 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:44:03.853 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:44:03.853 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:44:03.853 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:44:03.853 -05:00 [DBG] Authorization was successful.
2024-07-23 11:44:03.853 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:44:03.853 -05:00 [INF] Route matched with {action = "Get", controller = "Perfiles"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 11:44:03.853 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:44:03.854 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:44:03.854 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:44:03.854 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:44:03.854 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:44:03.854 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:44:03.854 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:44:03.854 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-07-23 11:44:03.854 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-07-23 11:44:03.854 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 11:44:03.854 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 11:44:03.854 -05:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-07-23 11:44:03.854 -05:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-07-23 11:44:03.882 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:44:03.884 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 11:44:03.885 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:44:03.885 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:44:03.885 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:44:03.885 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:44:03.886 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:44:03.886 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:44:03.886 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:44:03.886 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:44:03.886 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:44:03.890 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:44:03.890 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:44:03.893 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:44:03.894 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-07-23 11:44:03.894 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:44:03.894 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:44:03.899 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 11:44:03.899 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 17.818ms.
2024-07-23 11:44:03.900 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:44:03.900 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:44:03.900 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:44:03.900 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:44:03.900 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:44:03.900 -05:00 [INF] Executing OkObjectResult, writing value of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:44:03.900 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) in 46.4481ms
2024-07-23 11:44:03.900 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:44:03.900 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:44:03.900 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:44:03.900 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:44:03.901 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - 200 null application/json; charset=utf-8 63.6952ms
2024-07-23 11:44:35.682 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 11:44:35.683 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:44:35.683 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:44:35.683 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:44:35.683 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:44:35.683 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:44:35.683 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:44:35.732 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - 204 null null 2.1605ms
2024-07-23 11:44:35.762 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 11:44:35.762 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:44:35.762 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 11:44:35.762 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:44:35.762 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:44:35.762 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:44:35.762 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:44:35.764 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:44:35.764 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:44:35.764 -05:00 [DBG] Authorization was successful.
2024-07-23 11:44:35.764 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:44:35.764 -05:00 [INF] Route matched with {action = "Get", controller = "Perfiles"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 11:44:35.764 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:44:35.764 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:44:35.765 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:44:35.765 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:44:35.765 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:44:35.765 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:44:35.765 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:44:35.766 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-07-23 11:44:35.766 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-07-23 11:44:35.766 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 11:44:35.766 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 11:44:35.766 -05:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-07-23 11:44:35.766 -05:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-07-23 11:44:35.797 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:44:35.799 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 11:44:35.800 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:44:35.800 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:44:35.801 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:44:35.801 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:44:35.801 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:44:35.801 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:44:35.801 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:44:35.801 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:44:35.801 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:44:35.803 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:44:35.803 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:44:35.804 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:44:35.804 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:44:35.804 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:44:35.804 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:44:35.807 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 11:44:35.807 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 10.2071ms.
2024-07-23 11:44:35.807 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:44:35.808 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:44:35.808 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:44:35.808 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:44:35.808 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:44:35.808 -05:00 [INF] Executing OkObjectResult, writing value of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:44:35.808 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) in 43.1849ms
2024-07-23 11:44:35.808 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:44:35.808 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:44:35.808 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:44:35.808 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:44:35.809 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - 200 null application/json; charset=utf-8 47.6732ms
2024-07-23 11:44:48.292 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-23 11:44:48.292 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 11:44:48.297 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:44:48.297 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:44:48.297 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:44:48.297 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:44:48.297 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:44:48.297 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 5.7888ms
2024-07-23 11:44:48.299 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-07-23 11:44:48.299 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-23 11:44:48.299 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:44:48.299 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:44:48.299 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:44:48.300 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:44:48.300 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:44:48.300 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 1.0093ms
2024-07-23 11:44:48.301 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-23 11:44:48.301 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 11:44:48.301 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 11:44:48.301 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:44:48.301 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:44:48.301 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:44:48.301 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:44:48.302 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:44:48.302 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:44:48.302 -05:00 [DBG] Authorization was successful.
2024-07-23 11:44:48.302 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:44:48.303 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 11:44:48.303 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:44:48.303 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:44:48.303 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:44:48.304 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:44:48.304 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:44:48.304 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 11:44:48.304 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-07-23 11:44:48.304 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-23 11:44:48.304 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-07-23 11:44:48.304 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-23 11:44:48.304 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 11:44:48.304 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:44:48.304 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 11:44:48.305 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:44:48.305 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:44:48.305 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-23 11:44:48.307 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:44:48.307 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:44:48.308 -05:00 [DBG] Authorization was successful.
2024-07-23 11:44:48.309 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-23 11:44:48.310 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-07-23 11:44:48.310 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:44:48.310 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:44:48.311 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:44:48.305 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:44:48.311 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:44:48.311 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:44:48.311 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:44:48.311 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 11:44:48.311 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-23 11:44:48.311 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:44:48.311 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-23 11:44:48.355 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:44:48.358 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:44:48.359 -05:00 [DBG] Consultando libros...
2024-07-23 11:44:48.361 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:44:48.361 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:44:48.361 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:44:48.361 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:44:48.361 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:44:48.362 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:44:48.362 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:44:48.362 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:44:48.362 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:44:48.362 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:44:48.362 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:44:48.362 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:44:48.362 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-23 11:44:48.365 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-23 11:44:48.365 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:44:48.365 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:44:48.365 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:44:48.365 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:44:48.365 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:44:48.365 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:44:48.365 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:44:48.365 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:44:48.365 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:44:48.366 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:44:48.366 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:44:48.366 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:44:48.366 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:44:48.366 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:44:48.366 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-23 11:44:48.366 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:44:48.366 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:44:48.366 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 7.4984ms.
2024-07-23 11:44:48.366 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:44:48.367 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:44:48.367 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:44:48.367 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:44:48.367 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:44:48.367 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:44:48.368 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 56.8374ms
2024-07-23 11:44:48.368 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-23 11:44:48.368 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:44:48.368 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:44:48.368 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:44:48.368 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 65.4101ms
2024-07-23 11:44:48.371 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:44:48.371 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:44:48.371 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:44:48.372 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:44:48.372 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-23 11:44:48.380 -05:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-23 11:44:48.381 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:44:48.381 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:44:48.381 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:44:48.381 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:44:48.384 -05:00 [INF] Consulta de libros exitosa
2024-07-23 11:44:48.384 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 28.5708ms.
2024-07-23 11:44:48.384 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:44:48.384 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:44:48.384 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:44:48.384 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:44:48.384 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:44:48.384 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:44:48.385 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 80.6959ms
2024-07-23 11:44:48.385 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:44:48.385 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:44:48.385 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:44:48.385 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:44:48.385 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 84.303ms
2024-07-23 11:45:26.891 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-23 11:45:26.891 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 11:45:26.892 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:45:26.892 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:45:26.892 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:45:26.892 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:45:26.892 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:45:26.892 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 0.9843ms
2024-07-23 11:45:26.950 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-07-23 11:45:26.950 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-23 11:45:26.964 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-23 11:45:26.964 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 11:45:26.964 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:45:26.964 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 11:45:26.964 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:45:26.964 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:45:26.965 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:45:26.965 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:45:26.965 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:45:26.965 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:45:26.965 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:45:26.965 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:45:26.965 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 17.2187ms
2024-07-23 11:45:26.965 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:45:26.965 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:45:26.965 -05:00 [DBG] Authorization was successful.
2024-07-23 11:45:26.965 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:45:26.965 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 11:45:26.965 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:45:26.965 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:45:26.965 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:45:26.965 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:45:26.966 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:45:26.966 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 11:45:26.966 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 11:45:26.966 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 11:45:26.966 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-23 11:45:26.966 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:45:26.966 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:45:26.966 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 11:45:26.967 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:45:27.039 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:45:27.043 -05:00 [DBG] Consultando libros...
2024-07-23 11:45:27.045 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:45:27.046 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:45:27.046 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:45:27.046 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:45:27.046 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:45:27.046 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:45:27.046 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:45:27.047 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:45:27.047 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-23 11:45:27.048 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-23 11:45:27.048 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:45:27.048 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:45:27.048 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:45:27.048 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:45:27.052 -05:00 [INF] Consulta de libros exitosa
2024-07-23 11:45:27.052 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 12.358ms.
2024-07-23 11:45:27.052 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:45:27.052 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:45:27.052 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:45:27.052 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:45:27.053 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:45:27.053 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:45:27.053 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 87.1431ms
2024-07-23 11:45:27.053 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:45:27.054 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:45:27.054 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:45:27.054 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:45:27.055 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 104.1253ms
2024-07-23 11:45:27.069 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-07-23 11:45:27.069 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-23 11:45:27.069 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-07-23 11:45:27.069 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-23 11:45:27.069 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:45:27.069 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:45:27.070 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:45:27.071 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:45:27.072 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:45:27.072 -05:00 [DBG] Authorization was successful.
2024-07-23 11:45:27.072 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-23 11:45:27.072 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-07-23 11:45:27.072 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:45:27.073 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:45:27.078 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:45:27.078 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:45:27.093 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:45:27.093 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-23 11:45:27.099 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-23 11:45:27.139 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:45:27.139 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:45:27.140 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:45:27.140 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:45:27.140 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:45:27.140 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:45:27.140 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:45:27.140 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:45:27.140 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:45:27.140 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-23 11:45:27.144 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-23 11:45:27.144 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:45:27.144 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:45:27.144 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:45:27.144 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:45:27.144 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:45:27.144 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:45:27.145 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:45:27.145 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:45:27.145 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:45:27.145 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:45:27.145 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:45:27.145 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:45:27.145 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:45:27.145 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:45:27.145 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-23 11:45:27.145 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:45:27.145 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:45:27.145 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 6.403ms.
2024-07-23 11:45:27.145 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:45:27.146 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:45:27.146 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:45:27.146 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:45:27.146 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:45:27.146 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:45:27.146 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 52.7045ms
2024-07-23 11:45:27.146 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-23 11:45:27.146 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:45:27.146 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:45:27.146 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:45:27.146 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 77.5867ms
2024-07-23 11:46:10.614 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-07-23 11:46:10.614 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-23 11:46:10.614 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:46:10.614 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:46:10.614 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:46:10.614 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:46:10.615 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:46:10.615 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 0.9368ms
2024-07-23 11:46:10.681 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-23 11:46:10.683 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 11:46:10.694 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:46:10.694 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-07-23 11:46:10.695 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:46:10.695 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:46:10.695 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-23 11:46:10.695 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:46:10.695 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-07-23 11:46:10.695 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:46:10.695 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-23 11:46:10.695 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:46:10.695 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:46:10.695 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:46:10.695 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 14.2632ms
2024-07-23 11:46:10.716 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:46:10.716 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:46:10.719 -05:00 [DBG] Authorization was successful.
2024-07-23 11:46:10.719 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-23 11:46:10.719 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-07-23 11:46:10.719 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:46:10.719 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:46:10.719 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:46:10.719 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:46:10.719 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:46:10.719 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-23 11:46:10.720 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-23 11:46:10.722 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-23 11:46:10.722 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 11:46:10.722 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 11:46:10.722 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:46:10.722 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:46:10.722 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:46:10.722 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:46:10.722 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:46:10.723 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:46:10.723 -05:00 [DBG] Authorization was successful.
2024-07-23 11:46:10.723 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:46:10.723 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 11:46:10.723 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:46:10.723 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:46:10.724 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:46:10.724 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:46:10.724 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:46:10.724 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 11:46:10.770 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 11:46:10.770 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:46:10.771 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 11:46:10.771 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-23 11:46:10.771 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:46:10.771 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:46:10.771 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 11:46:10.771 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:46:10.772 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:46:10.773 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:46:10.773 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:46:10.773 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:46:10.773 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:46:10.773 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:46:10.773 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:46:10.773 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:46:10.773 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-23 11:46:10.804 -05:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-23 11:46:10.804 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:46:10.807 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:46:10.810 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:46:10.810 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:46:10.810 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:46:10.810 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:46:10.810 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:46:10.810 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:46:10.810 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:46:10.810 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:46:10.811 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:46:10.811 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:46:10.811 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:46:10.811 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:46:10.811 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:46:10.811 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 5ms reading results.
2024-07-23 11:46:10.811 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:46:10.811 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:46:10.812 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 40.8462ms.
2024-07-23 11:46:10.812 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:46:10.812 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:46:10.812 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:46:10.812 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:46:10.812 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:46:10.812 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:46:10.812 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 92.9933ms
2024-07-23 11:46:10.812 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-23 11:46:10.813 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:46:10.813 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:46:10.813 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:46:10.813 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 119.2669ms
2024-07-23 11:46:10.817 -05:00 [DBG] Consultando libros...
2024-07-23 11:46:10.820 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:46:10.820 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:46:10.821 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:46:10.821 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:46:10.821 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:46:10.821 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:46:10.821 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:46:10.821 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:46:10.821 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-23 11:46:10.832 -05:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-23 11:46:10.833 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:46:10.833 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:46:10.833 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:46:10.833 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:46:10.838 -05:00 [INF] Consulta de libros exitosa
2024-07-23 11:46:10.838 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 30.6468ms.
2024-07-23 11:46:10.838 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:46:10.838 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:46:10.838 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:46:10.838 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:46:10.838 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:46:10.839 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:46:10.839 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 115.0594ms
2024-07-23 11:46:10.839 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:46:10.839 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:46:10.839 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:46:10.839 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:46:10.839 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 117.9013ms
2024-07-23 11:46:32.549 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-23 11:46:32.558 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 11:46:32.558 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:46:32.558 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:46:32.558 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:46:32.558 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:46:32.558 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:46:32.558 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 9.8617ms
2024-07-23 11:46:32.559 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-07-23 11:46:32.559 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-23 11:46:32.559 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:46:32.559 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:46:32.559 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:46:32.559 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:46:32.559 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:46:32.559 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 0.6503ms
2024-07-23 11:46:32.640 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-07-23 11:46:32.641 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-23 11:46:32.641 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-07-23 11:46:32.641 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-23 11:46:32.641 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:46:32.641 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:46:32.641 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:46:32.641 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-23 11:46:32.641 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 11:46:32.641 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:46:32.641 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 11:46:32.641 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:46:32.641 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:46:32.641 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:46:32.641 -05:00 [DBG] Authorization was successful.
2024-07-23 11:46:32.641 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:46:32.641 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-23 11:46:32.641 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:46:32.642 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-07-23 11:46:32.642 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:46:32.642 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:46:32.642 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:46:32.642 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:46:32.642 -05:00 [DBG] Authorization was successful.
2024-07-23 11:46:32.642 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:46:32.642 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:46:32.642 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:46:32.642 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 11:46:32.642 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:46:32.642 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:46:32.642 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-23 11:46:32.642 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:46:32.642 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:46:32.642 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:46:32.642 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-23 11:46:32.642 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:46:32.642 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 11:46:32.644 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 11:46:32.644 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 11:46:32.644 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-23 11:46:32.644 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:46:32.644 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:46:32.644 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 11:46:32.644 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:46:32.709 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:46:32.737 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:46:32.742 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:46:32.742 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:46:32.742 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:46:32.742 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:46:32.742 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:46:32.742 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:46:32.743 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:46:32.743 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:46:32.743 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-23 11:46:32.760 -05:00 [DBG] Consultando libros...
2024-07-23 11:46:32.760 -05:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-23 11:46:32.761 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:46:32.762 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:46:32.762 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:46:32.762 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:46:32.762 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:46:32.762 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:46:32.762 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:46:32.762 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:46:32.762 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-23 11:46:32.767 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-23 11:46:32.767 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:46:32.767 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:46:32.767 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:46:32.768 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:46:32.770 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:46:32.772 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:46:32.772 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:46:32.772 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:46:32.772 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:46:32.772 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:46:32.773 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:46:32.773 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:46:32.773 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:46:32.773 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:46:32.773 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:46:32.773 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:46:32.773 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:46:32.773 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:46:32.774 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 12ms reading results.
2024-07-23 11:46:32.774 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:46:32.774 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:46:32.777 -05:00 [INF] Consulta de libros exitosa
2024-07-23 11:46:32.777 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 40.2875ms.
2024-07-23 11:46:32.777 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:46:32.777 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 40.8923ms.
2024-07-23 11:46:32.778 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:46:32.778 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:46:32.778 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:46:32.778 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:46:32.779 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:46:32.779 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:46:32.779 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 136.2976ms
2024-07-23 11:46:32.779 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:46:32.779 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:46:32.779 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:46:32.779 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:46:32.779 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 139.7931ms
2024-07-23 11:46:32.779 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:46:32.779 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:46:32.779 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:46:32.779 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:46:32.780 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:46:32.780 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 137.7997ms
2024-07-23 11:46:32.780 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-23 11:46:32.780 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:46:32.780 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:46:32.780 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:46:32.780 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 140.5289ms
2024-07-23 11:46:51.797 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-23 11:46:51.798 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 11:46:51.798 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:46:51.798 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:46:51.798 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:46:51.798 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:46:51.798 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:46:51.798 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - 204 null null 0.6389ms
2024-07-23 11:46:51.803 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-23 11:46:51.804 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 11:46:51.804 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 11:46:51.804 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:46:51.804 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:46:51.804 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:46:51.804 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:46:51.804 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:46:51.804 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:46:51.804 -05:00 [DBG] Authorization was successful.
2024-07-23 11:46:51.805 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:46:51.805 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 11:46:51.805 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:46:51.805 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:46:51.805 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:46:51.805 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:46:51.805 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:46:51.805 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 11:46:51.807 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 11:46:51.808 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 11:46:51.808 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-23 11:46:51.808 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:46:51.808 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:46:51.808 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 11:46:51.808 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 11:46:51.839 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:46:51.844 -05:00 [DBG] Consultando libros...
2024-07-23 11:46:51.844 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:46:51.845 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:46:51.845 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:46:51.845 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:46:51.845 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:46:51.846 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:46:51.846 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:46:51.846 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:46:51.846 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 11:46:51.858 -05:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 11:46:51.858 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:46:51.859 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:46:51.859 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:46:51.859 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:46:51.861 -05:00 [INF] Consulta de libros exitosa
2024-07-23 11:46:51.861 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 21.6068ms.
2024-07-23 11:46:51.861 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:46:51.861 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:46:51.861 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:46:51.861 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:46:51.861 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:46:51.861 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:46:51.861 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 56.4167ms
2024-07-23 11:46:51.861 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 11:46:51.862 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:46:51.862 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:46:51.862 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:46:51.862 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 59.6809ms
2024-07-23 11:46:56.469 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 11:46:56.469 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:46:56.469 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:46:56.469 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:46:56.470 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:46:56.470 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:46:56.470 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:46:56.470 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - 204 null null 1.06ms
2024-07-23 11:46:56.473 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 11:46:56.474 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:46:56.474 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 11:46:56.474 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:46:56.474 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:46:56.474 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:46:56.475 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:46:56.475 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:46:56.475 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:46:56.475 -05:00 [DBG] Authorization was successful.
2024-07-23 11:46:56.476 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:46:56.476 -05:00 [INF] Route matched with {action = "Get", controller = "Perfiles"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 11:46:56.476 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:46:56.476 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:46:56.476 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:46:56.477 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:46:56.477 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:46:56.477 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:46:56.477 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:46:56.477 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-07-23 11:46:56.477 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-07-23 11:46:56.478 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 11:46:56.478 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 11:46:56.478 -05:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-07-23 11:46:56.478 -05:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-07-23 11:46:56.513 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:46:56.517 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 11:46:56.518 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:46:56.518 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:46:56.519 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:46:56.519 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:46:56.519 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:46:56.519 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:46:56.519 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:46:56.519 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:46:56.519 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:46:56.522 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:46:56.522 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:46:56.522 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:46:56.522 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:46:56.523 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:46:56.523 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:46:56.526 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 11:46:56.526 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 12.237ms.
2024-07-23 11:46:56.526 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:46:56.526 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:46:56.526 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:46:56.526 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:46:56.526 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:46:56.526 -05:00 [INF] Executing OkObjectResult, writing value of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:46:56.526 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) in 49.709ms
2024-07-23 11:46:56.526 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:46:56.527 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:46:56.527 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:46:56.527 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:46:56.527 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - 200 null application/json; charset=utf-8 53.9659ms
2024-07-23 11:47:44.143 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 11:47:44.143 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:47:44.143 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:47:44.143 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:47:44.143 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:47:44.143 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:47:44.143 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:47:44.144 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 204 null null 0.5442ms
2024-07-23 11:47:44.190 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 11:47:44.190 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:47:44.190 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)' with route pattern 'api/Prestmaos/ConsultarPrestamos' is valid for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 11:47:44.190 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:47:44.207 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:47:44.210 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:47:44.210 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:47:44.210 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:47:44.210 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:47:44.210 -05:00 [DBG] Authorization was successful.
2024-07-23 11:47:44.211 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:47:44.211 -05:00 [INF] Route matched with {action = "ConsultarPrestamos", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsultarPrestamos() on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 11:47:44.211 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:47:44.211 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:47:44.211 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:47:44.211 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:47:44.211 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:47:44.211 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:47:44.211 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 11:47:44.235 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:47:44.235 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:47:44.235 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:47:44.235 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:47:44.236 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:47:44.236 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:47:44.236 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:47:44.236 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:47:44.236 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:47:44.236 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 11:47:44.238 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 11:47:44.239 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:47:44.239 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:47:44.239 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:47:44.239 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:47:44.239 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:47:44.239 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:47:44.243 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 11:47:44.243 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:47:44.243 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:47:44.243 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:47:44.243 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:47:44.244 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:47:44.244 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:47:44.245 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:47:44.245 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:47:44.245 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:47:44.245 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:47:44.245 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:47:44.246 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:47:44.246 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:47:44.249 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 11:47:44.251 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-23 11:47:44.254 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:47:44.254 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:47:44.254 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:47:44.254 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:47:44.255 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:47:44.255 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:47:44.255 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:47:44.260 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:47:44.260 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:47:44.260 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:47:44.260 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:47:44.260 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:47:44.263 -05:00 [DBG] Consultando perfil con id 34
2024-07-23 11:47:44.263 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:47:44.265 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:47:44.265 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:47:44.265 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:47:44.265 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:47:44.265 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:47:44.266 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:47:44.267 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:47:44.267 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:47:44.267 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:47:44.267 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:47:44.267 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:47:44.267 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:47:44.269 -05:00 [INF] Perfil encontrado con id: 34
2024-07-23 11:47:44.271 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-23 11:47:44.274 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 11:47:44.274 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:47:44.275 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:47:44.275 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:47:44.275 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:47:44.275 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:47:44.275 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:47:44.275 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 11:47:44.275 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:47:44.276 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:47:44.276 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:47:44.276 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:47:44.276 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 40.9238ms.
2024-07-23 11:47:44.276 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:47:44.276 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:47:44.276 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:47:44.276 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:47:44.276 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:47:44.276 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.DTOs.ConsultaPrestamoModel, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 11:47:44.276 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) in 65.1005ms
2024-07-23 11:47:44.276 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 11:47:44.276 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:47:44.276 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:47:44.276 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:47:44.276 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 200 null application/json; charset=utf-8 87.2568ms
2024-07-23 11:47:56.119 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 11:47:56.120 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:47:56.120 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:47:56.120 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:47:56.120 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:47:56.120 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:47:56.120 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:47:56.120 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - 204 null null 0.7553ms
2024-07-23 11:47:56.124 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 11:47:56.124 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:47:56.124 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 11:47:56.124 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:47:56.124 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:47:56.124 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:47:56.124 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:47:56.124 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:47:56.124 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:47:56.124 -05:00 [DBG] Authorization was successful.
2024-07-23 11:47:56.124 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:47:56.124 -05:00 [INF] Route matched with {action = "Get", controller = "Perfiles"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 11:47:56.125 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:47:56.125 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:47:56.125 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:47:56.125 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:47:56.125 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:47:56.125 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:47:56.125 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:47:56.125 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-07-23 11:47:56.125 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-07-23 11:47:56.127 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 11:47:56.127 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 11:47:56.127 -05:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-07-23 11:47:56.127 -05:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-07-23 11:47:56.156 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:47:56.158 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 11:47:56.159 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:47:56.159 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:47:56.159 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:47:56.159 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:47:56.160 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:47:56.160 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:47:56.160 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:47:56.160 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:47:56.160 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:47:56.162 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:47:56.162 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:47:56.162 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:47:56.162 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:47:56.163 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:47:56.163 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:47:56.165 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 11:47:56.165 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 9.5163ms.
2024-07-23 11:47:56.166 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:47:56.166 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:47:56.166 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:47:56.166 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:47:56.166 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:47:56.166 -05:00 [INF] Executing OkObjectResult, writing value of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:47:56.166 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) in 40.9671ms
2024-07-23 11:47:56.166 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:47:56.166 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:47:56.166 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:47:56.166 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:47:56.166 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - 200 null application/json; charset=utf-8 42.9936ms
2024-07-23 11:48:01.995 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - null null
2024-07-23 11:48:01.995 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:48:01.995 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:48:01.995 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:48:01.995 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:48:01.995 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:48:01.995 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:48:01.995 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - 204 null null 6.7844ms
2024-07-23 11:48:01.999 -05:00 [INF] Request starting HTTP/2 PUT https://localhost:7299/api/Perfiles/ - application/json 104
2024-07-23 11:48:02.001 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:48:02.001 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 11:48:02.001 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)'
2024-07-23 11:48:02.001 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:48:02.001 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:48:02.001 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:48:02.001 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:48:02.001 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:48:02.001 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)'
2024-07-23 11:48:02.006 -05:00 [INF] Route matched with {action = "Put", controller = "Perfiles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(biblioteca_backend.Models.DTOs.UpdateProfileModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 11:48:02.006 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:48:02.006 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:48:02.006 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:48:02.006 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:48:02.007 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:48:02.007 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:48:02.007 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:48:02.007 -05:00 [DBG] Attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel' ...
2024-07-23 11:48:02.007 -05:00 [DBG] Attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel' using the name '' in request data ...
2024-07-23 11:48:02.007 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-23 11:48:02.008 -05:00 [DBG] Connection id "0HN5B66GRMOTT", Request id "0HN5B66GRMOTT:000000BB": started reading request body.
2024-07-23 11:48:02.022 -05:00 [DBG] Connection id "0HN5B66GRMOTT", Request id "0HN5B66GRMOTT:000000BB": done reading request body.
2024-07-23 11:48:02.042 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'
2024-07-23 11:48:02.043 -05:00 [DBG] Done attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:48:02.043 -05:00 [DBG] Done attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:48:02.043 -05:00 [DBG] Attempting to validate the bound parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel' ...
2024-07-23 11:48:02.045 -05:00 [DBG] Done attempting to validate the bound parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:48:02.047 -05:00 [DBG] The request has model state errors, returning an error response.
2024-07-23 11:48:02.049 -05:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-23 11:48:02.050 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:48:02.050 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:48:02.050 -05:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-23 11:48:02.050 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-23 11:48:02.051 -05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-23 11:48:02.067 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend) in 60.5752ms
2024-07-23 11:48:02.067 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)'
2024-07-23 11:48:02.067 -05:00 [INF] Request finished HTTP/2 PUT https://localhost:7299/api/Perfiles/ - 400 null application/problem+json; charset=utf-8 68.2928ms
2024-07-23 11:48:18.473 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - null null
2024-07-23 11:48:18.473 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:48:18.473 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:48:18.473 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:48:18.473 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:48:18.473 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:48:18.473 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:48:18.473 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - 204 null null 0.6424ms
2024-07-23 11:48:18.490 -05:00 [INF] Request starting HTTP/2 PUT https://localhost:7299/api/Perfiles/ - application/json 104
2024-07-23 11:48:18.490 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:48:18.491 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 11:48:18.491 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)'
2024-07-23 11:48:18.491 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:48:18.491 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:48:18.491 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:48:18.491 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:48:18.491 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:48:18.492 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)'
2024-07-23 11:48:18.492 -05:00 [INF] Route matched with {action = "Put", controller = "Perfiles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(biblioteca_backend.Models.DTOs.UpdateProfileModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 11:48:18.492 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:48:18.492 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:48:18.492 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:48:18.492 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:48:18.493 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:48:18.493 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:48:18.502 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:48:18.502 -05:00 [DBG] Attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel' ...
2024-07-23 11:48:18.502 -05:00 [DBG] Attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel' using the name '' in request data ...
2024-07-23 11:48:18.502 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-23 11:48:18.505 -05:00 [DBG] Connection id "0HN5B66GRMOTT", Request id "0HN5B66GRMOTT:000000BF": started reading request body.
2024-07-23 11:48:18.505 -05:00 [DBG] Connection id "0HN5B66GRMOTT", Request id "0HN5B66GRMOTT:000000BF": done reading request body.
2024-07-23 11:48:18.505 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'
2024-07-23 11:48:18.505 -05:00 [DBG] Done attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:48:18.505 -05:00 [DBG] Done attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:48:18.506 -05:00 [DBG] Attempting to validate the bound parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel' ...
2024-07-23 11:48:18.506 -05:00 [DBG] Done attempting to validate the bound parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:48:18.506 -05:00 [DBG] The request has model state errors, returning an error response.
2024-07-23 11:48:18.506 -05:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-23 11:48:18.506 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:48:18.506 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:48:18.506 -05:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-23 11:48:18.506 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-23 11:48:18.506 -05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-23 11:48:18.506 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend) in 13.7271ms
2024-07-23 11:48:18.506 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)'
2024-07-23 11:48:18.506 -05:00 [INF] Request finished HTTP/2 PUT https://localhost:7299/api/Perfiles/ - 400 null application/problem+json; charset=utf-8 16.1931ms
2024-07-23 11:49:27.019 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - null null
2024-07-23 11:49:27.019 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:49:27.019 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:49:27.019 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:49:27.019 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:49:27.019 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:49:27.020 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:49:27.020 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - 204 null null 0.8118ms
2024-07-23 11:49:27.048 -05:00 [INF] Request starting HTTP/2 PUT https://localhost:7299/api/Perfiles/ - application/json 104
2024-07-23 11:49:27.057 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:49:27.057 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 11:49:27.060 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)'
2024-07-23 11:49:27.060 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:49:27.060 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:49:27.060 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:49:27.060 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:49:27.060 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:49:27.060 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)'
2024-07-23 11:49:27.061 -05:00 [INF] Route matched with {action = "Put", controller = "Perfiles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(biblioteca_backend.Models.DTOs.UpdateProfileModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 11:49:27.061 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:49:27.061 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:49:27.061 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:49:27.065 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:49:27.065 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:49:27.065 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:49:27.066 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:49:27.066 -05:00 [DBG] Attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel' ...
2024-07-23 11:49:27.066 -05:00 [DBG] Attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel' using the name '' in request data ...
2024-07-23 11:49:27.066 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-23 11:49:27.066 -05:00 [DBG] Connection id "0HN5B66GRMOTT", Request id "0HN5B66GRMOTT:000000C3": started reading request body.
2024-07-23 11:49:27.066 -05:00 [DBG] Connection id "0HN5B66GRMOTT", Request id "0HN5B66GRMOTT:000000C3": done reading request body.
2024-07-23 11:49:27.066 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'
2024-07-23 11:49:27.066 -05:00 [DBG] Done attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:49:27.066 -05:00 [DBG] Done attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:49:27.066 -05:00 [DBG] Attempting to validate the bound parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel' ...
2024-07-23 11:49:27.066 -05:00 [DBG] Done attempting to validate the bound parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:49:27.066 -05:00 [DBG] The request has model state errors, returning an error response.
2024-07-23 11:49:27.067 -05:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-23 11:49:27.067 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:49:27.067 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:49:27.067 -05:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-23 11:49:27.067 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-23 11:49:27.067 -05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-23 11:49:27.067 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend) in 1.6406ms
2024-07-23 11:49:27.067 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)'
2024-07-23 11:49:27.067 -05:00 [INF] Request finished HTTP/2 PUT https://localhost:7299/api/Perfiles/ - 400 null application/problem+json; charset=utf-8 20.1134ms
2024-07-23 11:50:51.520 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 11:50:51.520 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:50:51.520 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:50:51.520 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:50:51.521 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:50:51.521 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:50:51.521 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:50:51.524 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - 204 null null 3.4979ms
2024-07-23 11:50:51.866 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 11:50:51.867 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:50:51.867 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 11:50:51.867 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:50:51.867 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:50:51.867 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:50:51.867 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:50:51.867 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:50:51.867 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:50:51.867 -05:00 [DBG] Authorization was successful.
2024-07-23 11:50:51.867 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:50:51.867 -05:00 [INF] Route matched with {action = "Get", controller = "Perfiles"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 11:50:51.868 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:50:51.868 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:50:51.868 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:50:51.868 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:50:51.868 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:50:51.868 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:50:51.868 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:50:51.868 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-07-23 11:50:51.868 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-07-23 11:50:51.868 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 11:50:51.868 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 11:50:51.869 -05:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-07-23 11:50:51.869 -05:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-07-23 11:50:51.968 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:50:52.058 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 11:50:52.059 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:50:52.059 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:50:52.059 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:50:52.059 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:50:52.060 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:50:52.060 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:50:52.060 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:50:52.060 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:50:52.060 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:50:52.068 -05:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:50:52.069 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:50:52.069 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:50:52.069 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:50:52.069 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:50:52.069 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:50:52.083 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 11:50:52.083 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 100.7257ms.
2024-07-23 11:50:52.083 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:50:52.083 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:50:52.083 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:50:52.083 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:50:52.084 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:50:52.084 -05:00 [INF] Executing OkObjectResult, writing value of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:50:52.084 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) in 215.8432ms
2024-07-23 11:50:52.084 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:50:52.084 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:50:52.084 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:50:52.084 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:50:52.084 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - 200 null application/json; charset=utf-8 218.2321ms
2024-07-23 11:50:57.931 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - null null
2024-07-23 11:50:57.931 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:50:57.931 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:50:57.931 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:50:57.931 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:50:57.931 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:50:57.931 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:50:57.931 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - 204 null null 0.9501ms
2024-07-23 11:50:57.934 -05:00 [INF] Request starting HTTP/2 PUT https://localhost:7299/api/Perfiles/ - application/json 104
2024-07-23 11:50:57.934 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:50:57.934 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 11:50:57.934 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)'
2024-07-23 11:50:57.934 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:50:57.934 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:50:57.934 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:50:57.934 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:50:57.934 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:50:57.934 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)'
2024-07-23 11:50:57.934 -05:00 [INF] Route matched with {action = "Put", controller = "Perfiles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(biblioteca_backend.Models.DTOs.UpdateProfileModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 11:50:57.934 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:50:57.934 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:50:57.934 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:50:57.934 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:50:57.935 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:50:57.935 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:50:57.935 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:50:57.935 -05:00 [DBG] Attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel' ...
2024-07-23 11:50:57.935 -05:00 [DBG] Attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel' using the name '' in request data ...
2024-07-23 11:50:57.935 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-23 11:50:57.936 -05:00 [DBG] Connection id "0HN5B66GRMOTT", Request id "0HN5B66GRMOTT:000000CB": started reading request body.
2024-07-23 11:50:57.936 -05:00 [DBG] Connection id "0HN5B66GRMOTT", Request id "0HN5B66GRMOTT:000000CB": done reading request body.
2024-07-23 11:50:57.936 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'
2024-07-23 11:50:57.936 -05:00 [DBG] Done attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:50:57.936 -05:00 [DBG] Done attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:50:57.936 -05:00 [DBG] Attempting to validate the bound parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel' ...
2024-07-23 11:50:57.936 -05:00 [DBG] Done attempting to validate the bound parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:50:57.936 -05:00 [DBG] The request has model state errors, returning an error response.
2024-07-23 11:50:57.936 -05:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-23 11:50:57.936 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:50:57.936 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:50:57.936 -05:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-23 11:50:57.936 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-23 11:50:57.936 -05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-23 11:50:57.936 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend) in 1.7851ms
2024-07-23 11:50:57.936 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)'
2024-07-23 11:50:57.937 -05:00 [INF] Request finished HTTP/2 PUT https://localhost:7299/api/Perfiles/ - 400 null application/problem+json; charset=utf-8 3.512ms
2024-07-23 11:52:47.104 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 11:52:47.104 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:52:47.104 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:52:47.104 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:52:47.104 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:52:47.104 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:52:47.104 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:52:47.104 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - 204 null null 0.7909ms
2024-07-23 11:52:47.315 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 11:52:47.315 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:52:47.315 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 11:52:47.316 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:52:47.316 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:52:47.316 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:52:47.316 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:52:47.316 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:52:47.316 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:52:47.319 -05:00 [DBG] Authorization was successful.
2024-07-23 11:52:47.319 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:52:47.319 -05:00 [INF] Route matched with {action = "Get", controller = "Perfiles"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 11:52:47.319 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:52:47.319 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:52:47.319 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:52:47.320 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:52:47.320 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:52:47.320 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:52:47.320 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:52:47.320 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-07-23 11:52:47.320 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-07-23 11:52:47.320 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 11:52:47.320 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 11:52:47.320 -05:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-07-23 11:52:47.320 -05:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-07-23 11:52:47.506 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:52:47.523 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 11:52:47.524 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:52:47.524 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:52:47.524 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:52:47.524 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:52:47.524 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:52:47.525 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:52:47.525 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:52:47.525 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:52:47.525 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:52:47.547 -05:00 [INF] Executed DbCommand (22ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:52:47.547 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:52:47.547 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:52:47.547 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:52:47.547 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:52:47.548 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:52:47.628 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 11:52:47.628 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 122.2099ms.
2024-07-23 11:52:47.628 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:52:47.628 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:52:47.628 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:52:47.628 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:52:47.629 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:52:47.629 -05:00 [INF] Executing OkObjectResult, writing value of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:52:47.629 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) in 309.0819ms
2024-07-23 11:52:47.629 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:52:47.629 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:52:47.629 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:52:47.629 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:52:47.629 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - 200 null application/json; charset=utf-8 313.8931ms
2024-07-23 11:52:52.276 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - null null
2024-07-23 11:52:52.276 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:52:52.276 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:52:52.276 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:52:52.276 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:52:52.276 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:52:52.276 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:52:52.277 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - 204 null null 2.452ms
2024-07-23 11:52:52.287 -05:00 [INF] Request starting HTTP/2 PUT https://localhost:7299/api/Perfiles/ - application/json 104
2024-07-23 11:52:52.287 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:52:52.287 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 11:52:52.287 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)'
2024-07-23 11:52:52.287 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:52:52.287 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:52:52.287 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:52:52.288 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:52:52.288 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:52:52.288 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)'
2024-07-23 11:52:52.288 -05:00 [INF] Route matched with {action = "Put", controller = "Perfiles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(biblioteca_backend.Models.DTOs.UpdateProfileModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 11:52:52.289 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:52:52.289 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:52:52.289 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:52:52.289 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:52:52.289 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:52:52.289 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:52:52.289 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:52:52.289 -05:00 [DBG] Attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel' ...
2024-07-23 11:52:52.290 -05:00 [DBG] Attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel' using the name '' in request data ...
2024-07-23 11:52:52.290 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-23 11:52:52.290 -05:00 [DBG] Connection id "0HN5B66GRMOTT", Request id "0HN5B66GRMOTT:000000D3": started reading request body.
2024-07-23 11:52:52.290 -05:00 [DBG] Connection id "0HN5B66GRMOTT", Request id "0HN5B66GRMOTT:000000D3": done reading request body.
2024-07-23 11:52:52.290 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'
2024-07-23 11:52:52.290 -05:00 [DBG] Done attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:52:52.290 -05:00 [DBG] Done attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:52:52.290 -05:00 [DBG] Attempting to validate the bound parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel' ...
2024-07-23 11:52:52.290 -05:00 [DBG] Done attempting to validate the bound parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:52:52.290 -05:00 [DBG] The request has model state errors, returning an error response.
2024-07-23 11:52:52.290 -05:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-23 11:52:52.291 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:52:52.291 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:52:52.291 -05:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-23 11:52:52.291 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-23 11:52:52.291 -05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-23 11:52:52.292 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend) in 2.5012ms
2024-07-23 11:52:52.292 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)'
2024-07-23 11:52:52.292 -05:00 [INF] Request finished HTTP/2 PUT https://localhost:7299/api/Perfiles/ - 400 null application/problem+json; charset=utf-8 4.9746ms
2024-07-23 11:53:34.628 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 11:53:34.628 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:53:34.628 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:53:34.628 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:53:34.628 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:53:34.629 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:53:34.629 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:53:34.629 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - 204 null null 0.5141ms
2024-07-23 11:53:34.739 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 11:53:34.740 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:53:34.740 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 11:53:34.740 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:53:34.740 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:53:34.740 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:53:34.740 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:53:34.740 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:53:34.740 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:53:34.740 -05:00 [DBG] Authorization was successful.
2024-07-23 11:53:34.740 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:53:34.740 -05:00 [INF] Route matched with {action = "Get", controller = "Perfiles"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 11:53:34.740 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:53:34.740 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:53:34.741 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:53:34.741 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:53:34.741 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:53:34.741 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:53:34.741 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:53:34.741 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-07-23 11:53:34.741 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-07-23 11:53:34.741 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 11:53:34.741 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 11:53:34.741 -05:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-07-23 11:53:34.742 -05:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-07-23 11:53:34.813 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:53:34.952 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 11:53:34.953 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:53:34.953 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:53:34.953 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:53:34.953 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:53:34.953 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:53:34.953 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:53:34.954 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:53:34.954 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:53:34.954 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:53:34.979 -05:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:53:34.980 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:53:34.980 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:53:34.980 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:53:34.980 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:53:34.980 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:53:35.085 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 11:53:35.085 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 272.0193ms.
2024-07-23 11:53:35.085 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:53:35.085 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:53:35.085 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:53:35.085 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:53:35.086 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:53:35.086 -05:00 [INF] Executing OkObjectResult, writing value of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:53:35.086 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) in 345.019ms
2024-07-23 11:53:35.086 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:53:35.086 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:53:35.086 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:53:35.086 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:53:35.086 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - 200 null application/json; charset=utf-8 347.0014ms
2024-07-23 11:53:37.988 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - null null
2024-07-23 11:53:37.989 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:53:37.989 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:53:37.989 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:53:37.989 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:53:37.989 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:53:37.989 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:53:37.989 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - 204 null null 8.5606ms
2024-07-23 11:53:38.001 -05:00 [INF] Request starting HTTP/2 PUT https://localhost:7299/api/Perfiles/ - application/json 104
2024-07-23 11:53:38.001 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:53:38.002 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 11:53:38.002 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)'
2024-07-23 11:53:38.002 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:53:38.002 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:53:38.002 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:53:38.002 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:53:38.002 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:53:38.002 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)'
2024-07-23 11:53:38.002 -05:00 [INF] Route matched with {action = "Put", controller = "Perfiles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(biblioteca_backend.Models.DTOs.UpdateProfileModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 11:53:38.002 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:53:38.002 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:53:38.002 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:53:38.002 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:53:38.002 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:53:38.003 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:53:38.003 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:53:38.003 -05:00 [DBG] Attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel' ...
2024-07-23 11:53:38.003 -05:00 [DBG] Attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel' using the name '' in request data ...
2024-07-23 11:53:38.003 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-23 11:53:38.003 -05:00 [DBG] Connection id "0HN5B66GRMOTT", Request id "0HN5B66GRMOTT:000000DB": started reading request body.
2024-07-23 11:53:38.003 -05:00 [DBG] Connection id "0HN5B66GRMOTT", Request id "0HN5B66GRMOTT:000000DB": done reading request body.
2024-07-23 11:53:38.004 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'
2024-07-23 11:53:38.004 -05:00 [DBG] Done attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:53:38.004 -05:00 [DBG] Done attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:53:38.004 -05:00 [DBG] Attempting to validate the bound parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel' ...
2024-07-23 11:53:38.005 -05:00 [DBG] Done attempting to validate the bound parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:53:38.005 -05:00 [DBG] The request has model state errors, returning an error response.
2024-07-23 11:53:38.005 -05:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-23 11:53:38.005 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:53:38.005 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:53:38.006 -05:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-23 11:53:38.006 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-23 11:53:38.006 -05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-23 11:53:38.006 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend) in 3.3399ms
2024-07-23 11:53:38.006 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)'
2024-07-23 11:53:38.006 -05:00 [INF] Request finished HTTP/2 PUT https://localhost:7299/api/Perfiles/ - 400 null application/problem+json; charset=utf-8 4.7353ms
2024-07-23 11:54:29.641 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 11:54:29.641 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:54:29.641 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:54:29.642 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:54:29.642 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:54:29.642 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:54:29.642 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:54:29.642 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - 204 null null 0.7128ms
2024-07-23 11:54:30.110 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 11:54:30.110 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:54:30.110 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 11:54:30.110 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:54:30.111 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:54:30.111 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:54:30.111 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:54:30.111 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:54:30.116 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:54:30.116 -05:00 [DBG] Authorization was successful.
2024-07-23 11:54:30.116 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:54:30.117 -05:00 [INF] Route matched with {action = "Get", controller = "Perfiles"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 11:54:30.117 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:54:30.117 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:54:30.117 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:54:30.117 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:54:30.117 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:54:30.117 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:54:30.118 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:54:30.118 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-07-23 11:54:30.119 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-07-23 11:54:30.119 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 11:54:30.119 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 11:54:30.119 -05:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-07-23 11:54:30.119 -05:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-07-23 11:54:30.388 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:54:30.618 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 11:54:30.619 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:54:30.619 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:54:30.620 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:54:30.620 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:54:30.620 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:54:30.620 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:54:30.620 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:54:30.621 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:54:30.621 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:54:30.636 -05:00 [INF] Executed DbCommand (15ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:54:30.636 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:54:30.636 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:54:30.636 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:54:30.636 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:54:30.636 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:54:30.641 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 11:54:30.642 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 253.4358ms.
2024-07-23 11:54:30.642 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:54:30.642 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:54:30.642 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:54:30.642 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:54:30.642 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:54:30.642 -05:00 [INF] Executing OkObjectResult, writing value of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:54:30.642 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) in 524.5849ms
2024-07-23 11:54:30.642 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:54:30.642 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:54:30.642 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:54:30.642 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:54:30.642 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - 200 null application/json; charset=utf-8 881.2696ms
2024-07-23 11:54:35.186 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - null null
2024-07-23 11:54:35.186 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:54:35.186 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:54:35.186 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:54:35.186 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:54:35.186 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:54:35.186 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:54:35.187 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - 204 null null 1.7465ms
2024-07-23 11:54:35.190 -05:00 [INF] Request starting HTTP/2 PUT https://localhost:7299/api/Perfiles/ - application/json 104
2024-07-23 11:54:35.190 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:54:35.190 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 11:54:35.190 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)'
2024-07-23 11:54:35.190 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:54:35.190 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:54:35.190 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:54:35.190 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:54:35.190 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:54:35.190 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)'
2024-07-23 11:54:35.190 -05:00 [INF] Route matched with {action = "Put", controller = "Perfiles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(biblioteca_backend.Models.DTOs.UpdateProfileModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 11:54:35.190 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:54:35.190 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:54:35.190 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:54:35.190 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:54:35.190 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:54:35.190 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:54:35.191 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:54:35.191 -05:00 [DBG] Attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel' ...
2024-07-23 11:54:35.191 -05:00 [DBG] Attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel' using the name '' in request data ...
2024-07-23 11:54:35.191 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-23 11:54:35.192 -05:00 [DBG] Connection id "0HN5B66GRMOTT", Request id "0HN5B66GRMOTT:000000E3": started reading request body.
2024-07-23 11:54:35.192 -05:00 [DBG] Connection id "0HN5B66GRMOTT", Request id "0HN5B66GRMOTT:000000E3": done reading request body.
2024-07-23 11:54:35.192 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'
2024-07-23 11:54:35.192 -05:00 [DBG] Done attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:54:35.192 -05:00 [DBG] Done attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:54:35.192 -05:00 [DBG] Attempting to validate the bound parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel' ...
2024-07-23 11:54:35.193 -05:00 [DBG] Done attempting to validate the bound parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:54:35.193 -05:00 [DBG] The request has model state errors, returning an error response.
2024-07-23 11:54:35.193 -05:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-23 11:54:35.193 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:54:35.193 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:54:35.193 -05:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-23 11:54:35.193 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-23 11:54:35.193 -05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-23 11:54:35.194 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend) in 3.0344ms
2024-07-23 11:54:35.194 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)'
2024-07-23 11:54:35.194 -05:00 [INF] Request finished HTTP/2 PUT https://localhost:7299/api/Perfiles/ - 400 null application/problem+json; charset=utf-8 4.4859ms
2024-07-23 11:56:15.420 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 11:56:15.420 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:56:15.420 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:56:15.420 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:56:15.420 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:56:15.420 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:56:15.420 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:56:15.421 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - 204 null null 1.2337ms
2024-07-23 11:56:15.537 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 11:56:15.538 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:56:15.538 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 11:56:15.538 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:56:15.538 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:56:15.538 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:56:15.538 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:56:15.538 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:56:15.538 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:56:15.538 -05:00 [DBG] Authorization was successful.
2024-07-23 11:56:15.538 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:56:15.538 -05:00 [INF] Route matched with {action = "Get", controller = "Perfiles"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 11:56:15.538 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:56:15.539 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:56:15.539 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:56:15.539 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:56:15.539 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:56:15.539 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:56:15.539 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:56:15.539 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-07-23 11:56:15.539 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-07-23 11:56:15.546 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 11:56:15.546 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 11:56:15.546 -05:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-07-23 11:56:15.546 -05:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-07-23 11:56:15.604 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:56:15.614 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 11:56:15.615 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:56:15.615 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:56:15.615 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:56:15.615 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:56:15.615 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:56:15.615 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:56:15.616 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:56:15.616 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:56:15.616 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:56:15.764 -05:00 [INF] Executed DbCommand (148ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:56:15.766 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:56:15.766 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:56:15.766 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-23 11:56:15.766 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:56:15.766 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:56:15.881 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 11:56:15.881 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 276.5372ms.
2024-07-23 11:56:15.881 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:56:15.881 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:56:15.881 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:56:15.881 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:56:15.881 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:56:15.881 -05:00 [INF] Executing OkObjectResult, writing value of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:56:15.881 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) in 342.4096ms
2024-07-23 11:56:15.881 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:56:15.881 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:56:15.882 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:56:15.882 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:56:15.882 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - 200 null application/json; charset=utf-8 344.9539ms
2024-07-23 11:56:22.421 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - null null
2024-07-23 11:56:22.421 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:56:22.421 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:56:22.422 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:56:22.422 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:56:22.422 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:56:22.422 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:56:22.422 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - 204 null null 0.9051ms
2024-07-23 11:56:22.459 -05:00 [INF] Request starting HTTP/2 PUT https://localhost:7299/api/Perfiles/ - application/json 104
2024-07-23 11:56:22.460 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:56:22.460 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 11:56:22.460 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)'
2024-07-23 11:56:22.460 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:56:22.460 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:56:22.460 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:56:22.460 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:56:22.460 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:56:22.460 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)'
2024-07-23 11:56:22.460 -05:00 [INF] Route matched with {action = "Put", controller = "Perfiles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(biblioteca_backend.Models.DTOs.UpdateProfileModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 11:56:22.460 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:56:22.460 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:56:22.460 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:56:22.460 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:56:22.461 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:56:22.461 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:56:22.461 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:56:22.469 -05:00 [DBG] Attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel' ...
2024-07-23 11:56:22.470 -05:00 [DBG] Attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel' using the name '' in request data ...
2024-07-23 11:56:22.470 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-23 11:56:22.475 -05:00 [DBG] Connection id "0HN5B66GRMOTT", Request id "0HN5B66GRMOTT:000000EB": started reading request body.
2024-07-23 11:56:22.475 -05:00 [DBG] Connection id "0HN5B66GRMOTT", Request id "0HN5B66GRMOTT:000000EB": done reading request body.
2024-07-23 11:56:22.475 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'
2024-07-23 11:56:22.475 -05:00 [DBG] Done attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:56:22.475 -05:00 [DBG] Done attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:56:22.475 -05:00 [DBG] Attempting to validate the bound parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel' ...
2024-07-23 11:56:22.475 -05:00 [DBG] Done attempting to validate the bound parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:56:22.475 -05:00 [DBG] The request has model state errors, returning an error response.
2024-07-23 11:56:22.475 -05:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-23 11:56:22.475 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:56:22.475 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:56:22.475 -05:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-23 11:56:22.476 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-23 11:56:22.476 -05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-23 11:56:22.476 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend) in 14.8057ms
2024-07-23 11:56:22.476 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)'
2024-07-23 11:56:22.476 -05:00 [INF] Request finished HTTP/2 PUT https://localhost:7299/api/Perfiles/ - 400 null application/problem+json; charset=utf-8 16.7164ms
2024-07-23 11:57:09.183 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 11:57:09.183 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:57:09.184 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:57:09.184 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:57:09.184 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:57:09.184 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:57:09.184 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:57:09.184 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - 204 null null 1.8397ms
2024-07-23 11:57:09.265 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 11:57:09.265 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:57:09.273 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 11:57:09.273 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:57:09.273 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:57:09.274 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:57:09.275 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:57:09.275 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:57:09.275 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:57:09.345 -05:00 [DBG] Authorization was successful.
2024-07-23 11:57:09.345 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:57:09.345 -05:00 [INF] Route matched with {action = "Get", controller = "Perfiles"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 11:57:09.345 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:57:09.346 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:57:09.346 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:57:09.346 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:57:09.346 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:57:09.346 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:57:09.346 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:57:09.442 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-07-23 11:57:09.443 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-07-23 11:57:09.443 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 11:57:09.443 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 11:57:09.443 -05:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-07-23 11:57:09.443 -05:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-07-23 11:57:09.537 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:57:09.551 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 11:57:09.552 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:57:09.552 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:57:09.552 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:57:09.552 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:57:09.553 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:57:09.553 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:57:09.553 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:57:09.553 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:57:09.553 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:57:09.559 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:57:09.559 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:57:09.560 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:57:09.560 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:57:09.560 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:57:09.560 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:57:09.563 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 11:57:09.563 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 22.7324ms.
2024-07-23 11:57:09.563 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:57:09.563 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:57:09.563 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:57:09.563 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:57:09.563 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:57:09.563 -05:00 [INF] Executing OkObjectResult, writing value of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:57:09.563 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) in 217.5771ms
2024-07-23 11:57:09.563 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:57:09.564 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:57:09.564 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:57:09.564 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:57:09.564 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - 200 null application/json; charset=utf-8 298.8269ms
2024-07-23 11:57:10.861 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - null null
2024-07-23 11:57:10.861 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:57:10.861 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:57:10.861 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:57:10.861 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:57:10.861 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:57:10.861 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:57:10.862 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - 204 null null 0.6015ms
2024-07-23 11:57:10.864 -05:00 [INF] Request starting HTTP/2 PUT https://localhost:7299/api/Perfiles/ - application/json 104
2024-07-23 11:57:10.864 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:57:10.864 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 11:57:10.864 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)'
2024-07-23 11:57:10.865 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:57:10.865 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:57:10.865 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:57:10.865 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:57:10.865 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:57:10.865 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)'
2024-07-23 11:57:10.865 -05:00 [INF] Route matched with {action = "Put", controller = "Perfiles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(biblioteca_backend.Models.DTOs.UpdateProfileModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 11:57:10.865 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:57:10.866 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:57:10.866 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:57:10.866 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:57:10.866 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:57:10.866 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:57:10.867 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:57:10.867 -05:00 [DBG] Attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel' ...
2024-07-23 11:57:10.867 -05:00 [DBG] Attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel' using the name '' in request data ...
2024-07-23 11:57:10.867 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-23 11:57:10.867 -05:00 [DBG] Connection id "0HN5B66GRMOTT", Request id "0HN5B66GRMOTT:000000F3": started reading request body.
2024-07-23 11:57:10.936 -05:00 [DBG] Connection id "0HN5B66GRMOTT", Request id "0HN5B66GRMOTT:000000F3": done reading request body.
2024-07-23 11:57:10.936 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'
2024-07-23 11:57:10.936 -05:00 [DBG] Done attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:57:10.937 -05:00 [DBG] Done attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:57:10.937 -05:00 [DBG] Attempting to validate the bound parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel' ...
2024-07-23 11:57:10.937 -05:00 [DBG] Done attempting to validate the bound parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:57:10.937 -05:00 [DBG] The request has model state errors, returning an error response.
2024-07-23 11:57:10.937 -05:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-23 11:57:10.937 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:57:10.937 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:57:10.937 -05:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-23 11:57:10.938 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-23 11:57:10.938 -05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-23 11:57:10.938 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend) in 72.04ms
2024-07-23 11:57:10.938 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)'
2024-07-23 11:57:10.938 -05:00 [INF] Request finished HTTP/2 PUT https://localhost:7299/api/Perfiles/ - 400 null application/problem+json; charset=utf-8 74.8681ms
2024-07-23 11:58:18.754 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 11:58:18.754 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:58:18.755 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:58:18.755 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:58:18.755 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:58:18.755 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:58:18.755 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:58:18.755 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - 204 null null 0.7205ms
2024-07-23 11:58:18.789 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 11:58:18.789 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:58:18.789 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 11:58:18.791 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:58:18.791 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:58:18.802 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:58:18.804 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:58:18.804 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:58:18.804 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:58:18.804 -05:00 [DBG] Authorization was successful.
2024-07-23 11:58:18.804 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:58:18.804 -05:00 [INF] Route matched with {action = "Get", controller = "Perfiles"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 11:58:18.804 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:58:18.809 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:58:18.809 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:58:18.809 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:58:18.809 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:58:18.809 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:58:18.810 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:58:18.810 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-07-23 11:58:18.810 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-07-23 11:58:18.810 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 11:58:18.810 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 11:58:18.810 -05:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-07-23 11:58:18.810 -05:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-07-23 11:58:18.846 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:58:18.880 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 11:58:18.881 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:58:18.882 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:58:18.882 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:58:18.882 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:58:18.882 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:58:18.882 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:58:18.882 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:58:18.894 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2024-07-23 11:58:18.896 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:58:18.900 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:58:18.900 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:58:18.901 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:58:18.901 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:58:18.901 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:58:18.901 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:58:18.906 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 11:58:18.906 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 59.5909ms.
2024-07-23 11:58:18.906 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:58:18.906 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:58:18.906 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:58:18.907 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:58:18.907 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:58:18.907 -05:00 [INF] Executing OkObjectResult, writing value of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:58:18.907 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) in 97.6039ms
2024-07-23 11:58:18.907 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:58:18.907 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:58:18.907 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:58:18.907 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:58:18.907 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - 200 null application/json; charset=utf-8 118.1891ms
2024-07-23 11:58:30.176 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - null null
2024-07-23 11:58:30.176 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:58:30.177 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:58:30.177 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:58:30.177 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:58:30.177 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:58:30.177 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:58:30.177 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - 204 null null 1.1891ms
2024-07-23 11:58:30.180 -05:00 [INF] Request starting HTTP/2 PUT https://localhost:7299/api/Perfiles/ - application/json 104
2024-07-23 11:58:30.183 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:58:30.187 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 11:58:30.187 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)'
2024-07-23 11:58:30.187 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:58:30.189 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:58:30.189 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:58:30.189 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:58:30.192 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:58:30.192 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)'
2024-07-23 11:58:30.192 -05:00 [INF] Route matched with {action = "Put", controller = "Perfiles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(biblioteca_backend.Models.DTOs.UpdateProfileModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 11:58:30.193 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:58:30.193 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:58:30.193 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:58:30.193 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:58:30.193 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:58:30.193 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:58:30.194 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:58:30.194 -05:00 [DBG] Attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel' ...
2024-07-23 11:58:30.194 -05:00 [DBG] Attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel' using the name '' in request data ...
2024-07-23 11:58:30.195 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-23 11:58:30.195 -05:00 [DBG] Connection id "0HN5B66GRMOTT", Request id "0HN5B66GRMOTT:000000FB": started reading request body.
2024-07-23 11:58:30.195 -05:00 [DBG] Connection id "0HN5B66GRMOTT", Request id "0HN5B66GRMOTT:000000FB": done reading request body.
2024-07-23 11:58:30.195 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'
2024-07-23 11:58:30.195 -05:00 [DBG] Done attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:58:30.195 -05:00 [DBG] Done attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:58:30.195 -05:00 [DBG] Attempting to validate the bound parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel' ...
2024-07-23 11:58:30.196 -05:00 [DBG] Done attempting to validate the bound parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:58:30.196 -05:00 [DBG] The request has model state errors, returning an error response.
2024-07-23 11:58:30.196 -05:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-23 11:58:30.196 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:58:30.196 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:58:30.196 -05:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-23 11:58:30.196 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-23 11:58:30.196 -05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-23 11:58:30.197 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend) in 3.2233ms
2024-07-23 11:58:30.197 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)'
2024-07-23 11:58:30.197 -05:00 [INF] Request finished HTTP/2 PUT https://localhost:7299/api/Perfiles/ - 400 null application/problem+json; charset=utf-8 17.8601ms
2024-07-23 11:58:51.838 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 11:58:51.838 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:58:51.838 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:58:51.838 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:58:51.838 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:58:51.838 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:58:51.838 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:58:51.839 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - 204 null null 0.6261ms
2024-07-23 11:58:51.942 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 11:58:51.942 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:58:51.942 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 11:58:51.942 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:58:51.942 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:58:51.942 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:58:51.942 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:58:51.942 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:58:51.942 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:58:51.942 -05:00 [DBG] Authorization was successful.
2024-07-23 11:58:51.943 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:58:51.943 -05:00 [INF] Route matched with {action = "Get", controller = "Perfiles"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 11:58:51.943 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:58:51.943 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:58:51.943 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:58:51.945 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:58:51.945 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:58:51.945 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:58:51.945 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:58:51.945 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-07-23 11:58:51.945 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-07-23 11:58:51.970 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 11:58:51.970 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 11:58:51.970 -05:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-07-23 11:58:51.971 -05:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-07-23 11:58:52.020 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:58:52.023 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 11:58:52.024 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:58:52.025 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:58:52.025 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:58:52.025 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:58:52.025 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:58:52.025 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:58:52.025 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:58:52.025 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:58:52.025 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:58:52.028 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:58:52.028 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:58:52.029 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:58:52.029 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:58:52.029 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:58:52.029 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:58:52.036 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 11:58:52.036 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 15.6452ms.
2024-07-23 11:58:52.036 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:58:52.036 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:58:52.036 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:58:52.036 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:58:52.036 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:58:52.036 -05:00 [INF] Executing OkObjectResult, writing value of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:58:52.036 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) in 91.4185ms
2024-07-23 11:58:52.036 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:58:52.036 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:58:52.036 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:58:52.037 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:58:52.037 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - 200 null application/json; charset=utf-8 95.1317ms
2024-07-23 11:58:54.308 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - null null
2024-07-23 11:58:54.308 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:58:54.308 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:58:54.308 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:58:54.308 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:58:54.308 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:58:54.308 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:58:54.308 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - 204 null null 0.5616ms
2024-07-23 11:58:54.311 -05:00 [INF] Request starting HTTP/2 PUT https://localhost:7299/api/Perfiles/ - application/json 104
2024-07-23 11:58:54.311 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:58:54.311 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 11:58:54.311 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)'
2024-07-23 11:58:54.312 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:58:54.312 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:58:54.312 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:58:54.312 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:58:54.312 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:58:54.312 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)'
2024-07-23 11:58:54.312 -05:00 [INF] Route matched with {action = "Put", controller = "Perfiles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(biblioteca_backend.Models.DTOs.UpdateProfileModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 11:58:54.312 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:58:54.312 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:58:54.312 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:58:54.312 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:58:54.312 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:58:54.312 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:58:54.313 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:58:54.313 -05:00 [DBG] Attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel' ...
2024-07-23 11:58:54.313 -05:00 [DBG] Attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel' using the name '' in request data ...
2024-07-23 11:58:54.313 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-23 11:58:54.313 -05:00 [DBG] Connection id "0HN5B66GRMOTT", Request id "0HN5B66GRMOTT:00000103": started reading request body.
2024-07-23 11:58:54.313 -05:00 [DBG] Connection id "0HN5B66GRMOTT", Request id "0HN5B66GRMOTT:00000103": done reading request body.
2024-07-23 11:58:54.313 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'
2024-07-23 11:58:54.313 -05:00 [DBG] Done attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:58:54.313 -05:00 [DBG] Done attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:58:54.313 -05:00 [DBG] Attempting to validate the bound parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel' ...
2024-07-23 11:58:54.314 -05:00 [DBG] Done attempting to validate the bound parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:58:54.314 -05:00 [DBG] The request has model state errors, returning an error response.
2024-07-23 11:58:54.314 -05:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-23 11:58:54.314 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:58:54.314 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:58:54.314 -05:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-23 11:58:54.314 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-23 11:58:54.314 -05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-23 11:58:54.315 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend) in 2.3458ms
2024-07-23 11:58:54.315 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)'
2024-07-23 11:58:54.315 -05:00 [INF] Request finished HTTP/2 PUT https://localhost:7299/api/Perfiles/ - 400 null application/problem+json; charset=utf-8 4.5613ms
2024-07-23 11:59:38.657 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 11:59:38.657 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:59:38.657 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:59:38.657 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:59:38.657 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:59:38.657 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:59:38.657 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:59:38.657 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - 204 null null 0.9049ms
2024-07-23 11:59:38.687 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 11:59:38.687 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:59:38.687 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 11:59:38.687 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:59:38.687 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:59:38.687 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:59:38.687 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:59:38.687 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:59:38.687 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:59:38.687 -05:00 [DBG] Authorization was successful.
2024-07-23 11:59:38.688 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:59:38.688 -05:00 [INF] Route matched with {action = "Get", controller = "Perfiles"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 11:59:38.688 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:59:38.688 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:59:38.688 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:59:38.688 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:59:38.688 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:59:38.689 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:59:38.689 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:59:38.689 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-07-23 11:59:38.689 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-07-23 11:59:38.689 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 11:59:38.689 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 11:59:38.689 -05:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-07-23 11:59:38.689 -05:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-07-23 11:59:38.724 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:59:38.728 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 11:59:38.729 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:59:38.729 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:59:38.729 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:59:38.729 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:59:38.730 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:59:38.730 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:59:38.730 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:59:38.730 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:59:38.730 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:59:38.737 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:59:38.738 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:59:38.738 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:59:38.738 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-23 11:59:38.738 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:59:38.738 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:59:38.751 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 11:59:38.751 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 27.3808ms.
2024-07-23 11:59:38.752 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:59:38.752 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:59:38.752 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:59:38.752 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:59:38.752 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:59:38.752 -05:00 [INF] Executing OkObjectResult, writing value of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:59:38.752 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) in 63.5041ms
2024-07-23 11:59:38.752 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:59:38.752 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:59:38.752 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:59:38.752 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:59:38.752 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - 200 null application/json; charset=utf-8 66.0104ms
2024-07-23 11:59:44.623 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - null null
2024-07-23 11:59:44.624 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:59:44.624 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:59:44.624 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:59:44.624 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:59:44.624 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:59:44.624 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:59:44.624 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - 204 null null 0.7935ms
2024-07-23 11:59:44.627 -05:00 [INF] Request starting HTTP/2 PUT https://localhost:7299/api/Perfiles/ - application/json 130
2024-07-23 11:59:44.627 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:59:44.627 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 11:59:44.627 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)'
2024-07-23 11:59:44.628 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:59:44.628 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:59:44.628 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:59:44.628 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:59:44.628 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:59:44.628 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)'
2024-07-23 11:59:44.628 -05:00 [INF] Route matched with {action = "Put", controller = "Perfiles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(biblioteca_backend.Models.DTOs.UpdateProfileModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 11:59:44.628 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:59:44.628 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:59:44.628 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:59:44.628 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:59:44.628 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:59:44.628 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:59:44.629 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:59:44.629 -05:00 [DBG] Attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel' ...
2024-07-23 11:59:44.629 -05:00 [DBG] Attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel' using the name '' in request data ...
2024-07-23 11:59:44.629 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-23 11:59:44.629 -05:00 [DBG] Connection id "0HN5B66GRMOTT", Request id "0HN5B66GRMOTT:0000010B": started reading request body.
2024-07-23 11:59:44.629 -05:00 [DBG] Connection id "0HN5B66GRMOTT", Request id "0HN5B66GRMOTT:0000010B": done reading request body.
2024-07-23 11:59:44.637 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'
2024-07-23 11:59:44.637 -05:00 [DBG] Done attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:59:44.637 -05:00 [DBG] Done attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:59:44.637 -05:00 [DBG] Attempting to validate the bound parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel' ...
2024-07-23 11:59:44.637 -05:00 [DBG] Done attempting to validate the bound parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:59:44.658 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:59:47.198 -05:00 [DBG] Actualizando perfil...
2024-07-23 11:59:47.200 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:59:47.200 -05:00 [DBG] Compiling query expression: 
'DbSet<Perfil>()
    .FirstOrDefault(p => p.Id == __perfil_Id_0)'
2024-07-23 11:59:47.207 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Perfil>(
    asyncEnumerable: new SingleQueryingEnumerable<Perfil>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Perfil.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Perfil.Apellido (string) Required, 1], [Property: Perfil.Contrasena (string) Required, 2], [Property: Perfil.Correo (string) Required, 3], [Property: Perfil.Direccion (string) Required, 4], [Property: Perfil.IdRol (int) Required FK Index, 5], [Property: Perfil.Nombre (string) Required, 6], [Property: Perfil.Telefono (string) Required, 7] }
            SELECT TOP(1) p.Id, p.Apellido, p.Contrasena, p.Correo, p.Direccion, p.IdRol, p.Nombre, p.Telefono
            FROM Perfil AS p
            WHERE p.Id == @__perfil_Id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Perfil>, 
        biblioteca_backend.DBBibliotecaContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-07-23 11:59:47.209 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:59:47.210 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:59:47.210 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:59:47.210 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:59:47.210 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:59:47.210 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:59:47.210 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:59:47.210 -05:00 [DBG] Executing DbCommand [Parameters=[@__perfil_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__perfil_Id_0
2024-07-23 11:59:47.230 -05:00 [INF] Executed DbCommand (20ms) [Parameters=[@__perfil_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__perfil_Id_0
2024-07-23 11:59:47.231 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:59:47.272 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:59:47.272 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 41ms reading results.
2024-07-23 11:59:47.272 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:59:47.273 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:59:47.284 -05:00 [DBG] An entity of type 'Perfil' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:59:47.286 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-23 11:59:47.288 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-23 11:59:47.297 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-23 11:59:47.369 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:59:47.370 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:59:47.371 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:59:47.371 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:59:47.371 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:59:47.371 -05:00 [DBG] Executing DbCommand [Parameters=[@p7='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Perfil] SET [Apellido] = @p0, [Contrasena] = @p1, [Correo] = @p2, [Direccion] = @p3, [IdRol] = @p4, [Nombre] = @p5, [Telefono] = @p6
OUTPUT 1
WHERE [Id] = @p7;
2024-07-23 11:59:47.377 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@p7='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Perfil] SET [Apellido] = @p0, [Contrasena] = @p1, [Correo] = @p2, [Direccion] = @p3, [IdRol] = @p4, [Nombre] = @p5, [Telefono] = @p6
OUTPUT 1
WHERE [Id] = @p7;
2024-07-23 11:59:47.381 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:59:47.381 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-07-23 11:59:47.382 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:59:47.382 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:59:47.386 -05:00 [DBG] An entity of type 'Perfil' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:59:47.387 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-23 11:59:47.390 -05:00 [INF] Perfil actualizado con id: {_perfil.Id}
2024-07-23 11:59:47.390 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2731.6989ms.
2024-07-23 11:59:47.390 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:59:47.391 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:59:47.391 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:59:47.391 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:59:47.391 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:59:47.391 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-23 11:59:47.393 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend) in 2764.1359ms
2024-07-23 11:59:47.393 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)'
2024-07-23 11:59:47.393 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:59:47.393 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:59:47.393 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:59:47.393 -05:00 [INF] Request finished HTTP/2 PUT https://localhost:7299/api/Perfiles/ - 200 null application/json; charset=utf-8 2766.2513ms
2024-07-23 11:59:47.408 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 11:59:47.408 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:59:47.408 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 11:59:47.408 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:59:47.408 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:59:47.408 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:59:47.408 -05:00 [DBG] The request is a preflight request.
2024-07-23 11:59:47.409 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - 204 null null 0.9045ms
2024-07-23 11:59:47.412 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 11:59:47.412 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:59:47.412 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 11:59:47.412 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:59:47.412 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:59:47.412 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:59:47.412 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:59:47.412 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:59:47.412 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:59:47.412 -05:00 [DBG] Authorization was successful.
2024-07-23 11:59:47.412 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:59:47.412 -05:00 [INF] Route matched with {action = "Get", controller = "Perfiles"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 11:59:47.413 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:59:47.413 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:59:47.413 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:59:47.413 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:59:47.413 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:59:47.413 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:59:47.413 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:59:47.413 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-07-23 11:59:47.413 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-07-23 11:59:47.413 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 11:59:47.413 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 11:59:47.413 -05:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-07-23 11:59:47.414 -05:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-07-23 11:59:47.449 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:59:47.452 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 11:59:47.453 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:59:47.453 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:59:47.453 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:59:47.453 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:59:47.454 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:59:47.454 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:59:47.454 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:59:47.454 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:59:47.454 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:59:47.454 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:59:47.455 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:59:47.455 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:59:47.455 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:59:47.455 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:59:47.455 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:59:47.458 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 11:59:47.458 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 9.1084ms.
2024-07-23 11:59:47.458 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:59:47.458 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:59:47.458 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:59:47.458 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:59:47.458 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:59:47.458 -05:00 [INF] Executing OkObjectResult, writing value of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:59:47.458 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) in 45.588ms
2024-07-23 11:59:47.458 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:59:47.459 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:59:47.459 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:59:47.459 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:59:47.459 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - 200 null application/json; charset=utf-8 47.5647ms
2024-07-23 11:59:47.461 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 11:59:47.461 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 11:59:47.461 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 11:59:47.462 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:59:47.462 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 11:59:47.462 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 11:59:47.462 -05:00 [INF] CORS policy execution successful.
2024-07-23 11:59:47.462 -05:00 [DBG] Successfully validated the token.
2024-07-23 11:59:47.462 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 11:59:47.462 -05:00 [DBG] Authorization was successful.
2024-07-23 11:59:47.462 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:59:47.462 -05:00 [INF] Route matched with {action = "Get", controller = "Perfiles"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 11:59:47.462 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 11:59:47.462 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 11:59:47.462 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 11:59:47.463 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 11:59:47.463 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 11:59:47.463 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:59:47.463 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 11:59:47.463 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-07-23 11:59:47.463 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-07-23 11:59:47.463 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 11:59:47.463 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 11:59:47.463 -05:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-07-23 11:59:47.464 -05:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-07-23 11:59:47.497 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 11:59:47.502 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 11:59:47.504 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 11:59:47.505 -05:00 [DBG] Creating DbConnection.
2024-07-23 11:59:47.505 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 11:59:47.505 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:59:47.505 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:59:47.505 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 11:59:47.505 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:59:47.505 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 11:59:47.505 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:59:47.506 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 11:59:47.506 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 11:59:47.507 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:59:47.507 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 11:59:47.507 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:59:47.507 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 11:59:47.509 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 11:59:47.509 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 12.039ms.
2024-07-23 11:59:47.510 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 11:59:47.510 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 11:59:47.510 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 11:59:47.510 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 11:59:47.510 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 11:59:47.510 -05:00 [INF] Executing OkObjectResult, writing value of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 11:59:47.510 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) in 47.4314ms
2024-07-23 11:59:47.510 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 11:59:47.510 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 11:59:47.510 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 11:59:47.511 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 11:59:47.511 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - 200 null application/json; charset=utf-8 49.7345ms
2024-07-23 12:01:21.573 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-23 12:01:21.713 -05:00 [DBG] Hosting starting
2024-07-23 12:01:21.771 -05:00 [INF] User profile is available. Using 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-23 12:01:21.786 -05:00 [DBG] Reading data from file 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys\key-12ed5171-7863-4d3e-a216-6f5439158e60.xml'.
2024-07-23 12:01:21.801 -05:00 [DBG] Found key {12ed5171-7863-4d3e-a216-6f5439158e60}.
2024-07-23 12:01:21.821 -05:00 [DBG] Considering key {12ed5171-7863-4d3e-a216-6f5439158e60} with expiration date 2024-09-28 19:27:42Z as default key.
2024-07-23 12:01:21.829 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-23 12:01:21.834 -05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-23 12:01:21.839 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-23 12:01:21.846 -05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-23 12:01:21.848 -05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-23 12:01:21.850 -05:00 [DBG] Using key {12ed5171-7863-4d3e-a216-6f5439158e60} as the default key.
2024-07-23 12:01:21.852 -05:00 [DBG] Key ring with default key {12ed5171-7863-4d3e-a216-6f5439158e60} was loaded during application startup.
2024-07-23 12:01:22.345 -05:00 [INF] Now listening on: https://localhost:7299
2024-07-23 12:01:22.346 -05:00 [INF] Now listening on: http://localhost:5219
2024-07-23 12:01:22.346 -05:00 [DBG] Loaded hosting startup assembly biblioteca-backend
2024-07-23 12:01:22.346 -05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-23 12:01:22.346 -05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-23 12:01:22.346 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-23 12:01:22.346 -05:00 [INF] Hosting environment: Development
2024-07-23 12:01:22.346 -05:00 [INF] Content root path: C:\Users\spatino\Documents\Proyeco - Biblioteca\biblioteca-backend
2024-07-23 12:01:22.346 -05:00 [DBG] Hosting started
2024-07-23 12:01:22.346 -05:00 [DBG] Connection id "0HN5B74A6BFNI" accepted.
2024-07-23 12:01:22.347 -05:00 [DBG] Connection id "0HN5B74A6BFNI" started.
2024-07-23 12:01:22.370 -05:00 [DBG] Connection id "0HN5B74A6BFNJ" received FIN.
2024-07-23 12:01:22.373 -05:00 [DBG] Connection id "0HN5B74A6BFNI" received FIN.
2024-07-23 12:01:22.384 -05:00 [DBG] Connection id "0HN5B74A6BFNJ" accepted.
2024-07-23 12:01:22.386 -05:00 [DBG] Connection id "0HN5B74A6BFNJ" started.
2024-07-23 12:01:22.406 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-23 12:01:22.406 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-23 12:01:22.501 -05:00 [DBG] Connection id "0HN5B74A6BFNI" stopped.
2024-07-23 12:01:22.501 -05:00 [DBG] Connection id "0HN5B74A6BFNJ" stopped.
2024-07-23 12:01:22.520 -05:00 [DBG] Connection id "0HN5B74A6BFNJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-23 12:01:22.520 -05:00 [DBG] Connection id "0HN5B74A6BFNI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-23 12:01:22.656 -05:00 [DBG] Connection id "0HN5B74A6BFNK" accepted.
2024-07-23 12:01:22.657 -05:00 [DBG] Connection id "0HN5B74A6BFNK" started.
2024-07-23 12:01:23.063 -05:00 [DBG] Connection 0HN5B74A6BFNK established using the following protocol: "Tls12"
2024-07-23 12:01:23.230 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/index.html - null null
2024-07-23 12:01:23.722 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-23 12:01:23.764 -05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-23 12:01:23.765 -05:00 [DBG] Request did not match any endpoints
2024-07-23 12:01:23.986 -05:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-07-23 12:01:23.989 -05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-23 12:01:24.065 -05:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-07-23 12:01:24.065 -05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-23 12:01:24.069 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/index.html - 200 null text/html;charset=utf-8 851.466ms
2024-07-23 12:01:24.084 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
2024-07-23 12:01:24.084 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
2024-07-23 12:01:24.119 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 34.9466ms
2024-07-23 12:01:24.187 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 103.2709ms
2024-07-23 12:01:24.339 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
2024-07-23 12:01:24.339 -05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-23 12:01:24.339 -05:00 [DBG] Request did not match any endpoints
2024-07-23 12:01:24.598 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 258.9907ms
2024-07-23 12:01:37.185 -05:00 [DBG] Connection id "0HN5B74A6BFNL" accepted.
2024-07-23 12:01:37.186 -05:00 [DBG] Connection id "0HN5B74A6BFNL" started.
2024-07-23 12:01:37.203 -05:00 [DBG] Connection 0HN5B74A6BFNL established using the following protocol: "Tls12"
2024-07-23 12:01:37.206 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-07-23 12:01:37.206 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-23 12:01:37.218 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 12:01:37.218 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-23 12:01:37.219 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 12:01:37.219 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 12:01:37.222 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:01:37.222 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:01:37.223 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:01:37.223 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:01:37.223 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:01:37.223 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:01:37.224 -05:00 [DBG] The request is a preflight request.
2024-07-23 12:01:37.224 -05:00 [DBG] The request is a preflight request.
2024-07-23 12:01:37.227 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 21.2656ms
2024-07-23 12:01:37.227 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 20.3902ms
2024-07-23 12:01:37.230 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-07-23 12:01:37.231 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-23 12:01:37.232 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 12:01:37.232 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-23 12:01:37.235 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 12:01:37.235 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-07-23 12:01:37.235 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 12:01:37.235 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-23 12:01:37.236 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:01:37.236 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:01:37.236 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:01:37.236 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:01:37.236 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:01:37.236 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:01:37.454 -05:00 [DBG] Successfully validated the token.
2024-07-23 12:01:37.454 -05:00 [DBG] Successfully validated the token.
2024-07-23 12:01:37.456 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 12:01:37.456 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 12:01:37.464 -05:00 [DBG] Authorization was successful.
2024-07-23 12:01:37.464 -05:00 [DBG] Authorization was successful.
2024-07-23 12:01:37.465 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-23 12:01:37.465 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 12:01:37.489 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-07-23 12:01:37.489 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 12:01:37.490 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 12:01:37.490 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 12:01:37.490 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 12:01:37.490 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 12:01:37.491 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 12:01:37.491 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 12:01:37.491 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 12:01:37.491 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 12:01:37.491 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 12:01:37.491 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 12:01:37.496 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 12:01:37.496 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-23 12:01:37.672 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-23 12:01:37.672 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-23 12:01:37.707 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-23 12:01:37.707 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 12:01:37.830 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 12:01:37.832 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 12:01:37.833 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-23 12:01:37.834 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 12:01:37.834 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 12:01:37.834 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 12:01:37.837 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 12:01:37.886 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 12:01:37.918 -05:00 [DBG] Consultando libros...
2024-07-23 12:01:38.866 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 12:01:38.866 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 12:01:38.927 -05:00 [DBG] Compiling query expression: 
'DbSet<Genero>()'
2024-07-23 12:01:38.934 -05:00 [DBG] Compiling query expression: 
'DbSet<Libro>()
    .Join(
        inner: DbSet<Genero>(), 
        outerKeySelector: L => L.IdGenero, 
        innerKeySelector: G => G.Id, 
        resultSelector: (L, G) => new { 
            L = L, 
            G = G
         })
    .Where(<>h__TransparentIdentifier0 => True)
    .Select(<>h__TransparentIdentifier0 => new { 
        id = <>h__TransparentIdentifier0.L.Id, 
        titulo = <>h__TransparentIdentifier0.L.Titulo, 
        autor = <>h__TransparentIdentifier0.L.Autor, 
        anio = <>h__TransparentIdentifier0.L.Anio, 
        idGenero = <>h__TransparentIdentifier0.L.IdGenero, 
        genero = <>h__TransparentIdentifier0.G.Nombre, 
        activo = <>h__TransparentIdentifier0.L.Activo
     })'
2024-07-23 12:01:39.112 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Genero>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Genero.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Genero.Nombre (string) Required, 1] }
        SELECT g.Id, g.Nombre
        FROM Genero AS g), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Genero>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-23 12:01:39.113 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType1<int, string, string, int, int, string, bool>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            id -> 0
            titulo -> 1
            autor -> 2
            anio -> 3
            idGenero -> 4
            genero -> 5
            activo -> 6
        SELECT l.Id AS id, l.Titulo AS titulo, l.Autor AS autor, l.Anio AS anio, l.IdGenero AS idGenero, g.Nombre AS genero, l.Activo AS activo
        FROM Libro AS l
        INNER JOIN Genero AS g ON l.IdGenero == g.Id), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType1<int, string, string, int, int, string, bool>>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-23 12:01:39.150 -05:00 [DBG] Creating DbConnection.
2024-07-23 12:01:39.150 -05:00 [DBG] Creating DbConnection.
2024-07-23 12:01:39.176 -05:00 [DBG] Created DbConnection. (24ms).
2024-07-23 12:01:39.176 -05:00 [DBG] Created DbConnection. (22ms).
2024-07-23 12:01:39.179 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:01:39.179 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:01:39.653 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:01:39.669 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:01:39.670 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 12:01:39.671 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 12:01:39.685 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-07-23 12:01:39.685 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (16ms).
2024-07-23 12:01:39.688 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2024-07-23 12:01:39.688 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (29ms).
2024-07-23 12:01:39.702 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-23 12:01:39.702 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-23 12:01:39.774 -05:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-23 12:01:39.774 -05:00 [INF] Executed DbCommand (75ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-23 12:01:39.794 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:01:39.802 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 21ms reading results.
2024-07-23 12:01:39.805 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:01:39.813 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (8ms).
2024-07-23 12:01:39.815 -05:00 [INF] Consulta de libros exitosa
2024-07-23 12:01:39.820 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1929.544ms.
2024-07-23 12:01:39.827 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 12:01:39.830 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 12:01:39.830 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 12:01:39.830 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 12:01:39.832 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 12:01:39.832 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 12:01:39.834 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:01:39.852 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 2356.4888ms
2024-07-23 12:01:39.852 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 12:01:39.855 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:01:39.855 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 12:01:39.855 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:01:39.856 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:01:39.856 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:01:39.856 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:01:39.856 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:01:39.857 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:01:39.857 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:01:39.857 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:01:39.857 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:01:39.858 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:01:39.858 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:01:39.863 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:01:39.863 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:01:39.863 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 88ms reading results.
2024-07-23 12:01:39.865 -05:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-23 12:01:39.866 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 2635.422ms
2024-07-23 12:01:39.866 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:01:39.867 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 12:01:39.869 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2037.2673ms.
2024-07-23 12:01:39.871 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 12:01:39.871 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 12:01:39.871 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 12:01:39.871 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 12:01:39.872 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 12:01:39.872 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 12:01:39.878 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 2386.4694ms
2024-07-23 12:01:39.879 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-23 12:01:39.881 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 12:01:39.882 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:01:39.882 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 12:01:39.884 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 2653.1016ms
2024-07-23 12:01:42.905 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-23 12:01:42.924 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 12:01:42.924 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 12:01:42.924 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:01:42.925 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:01:42.925 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:01:42.925 -05:00 [DBG] The request is a preflight request.
2024-07-23 12:01:42.926 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - 204 null null 21.3519ms
2024-07-23 12:01:42.938 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-23 12:01:42.938 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 12:01:42.938 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 12:01:42.938 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 12:01:42.938 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:01:42.939 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:01:42.939 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:01:42.941 -05:00 [DBG] Successfully validated the token.
2024-07-23 12:01:42.941 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 12:01:42.945 -05:00 [DBG] Authorization was successful.
2024-07-23 12:01:42.946 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 12:01:42.946 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 12:01:42.947 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 12:01:42.947 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 12:01:42.947 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 12:01:42.947 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 12:01:42.947 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 12:01:42.947 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 12:01:42.949 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 12:01:42.949 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 12:01:42.949 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-23 12:01:42.949 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 12:01:42.950 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 12:01:42.950 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 12:01:42.950 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 12:01:42.986 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 12:01:42.989 -05:00 [DBG] Consultando libros...
2024-07-23 12:01:43.064 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 12:01:43.068 -05:00 [DBG] Compiling query expression: 
'DbSet<Libro>()
    .Join(
        inner: DbSet<Genero>(), 
        outerKeySelector: L => L.IdGenero, 
        innerKeySelector: G => G.Id, 
        resultSelector: (L, G) => new { 
            L = L, 
            G = G
         })
    .Where(<>h__TransparentIdentifier0 => True && <>h__TransparentIdentifier0.L.Activo == True || False)
    .Select(<>h__TransparentIdentifier0 => new { 
        id = <>h__TransparentIdentifier0.L.Id, 
        titulo = <>h__TransparentIdentifier0.L.Titulo, 
        autor = <>h__TransparentIdentifier0.L.Autor, 
        anio = <>h__TransparentIdentifier0.L.Anio, 
        idGenero = <>h__TransparentIdentifier0.L.IdGenero, 
        genero = <>h__TransparentIdentifier0.G.Nombre, 
        activo = <>h__TransparentIdentifier0.L.Activo
     })'
2024-07-23 12:01:43.079 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType1<int, string, string, int, int, string, bool>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            id -> 0
            titulo -> 1
            autor -> 2
            anio -> 3
            idGenero -> 4
            genero -> 5
            activo -> 6
        SELECT l.Id AS id, l.Titulo AS titulo, l.Autor AS autor, l.Anio AS anio, l.IdGenero AS idGenero, g.Nombre AS genero, l.Activo AS activo
        FROM Libro AS l
        INNER JOIN Genero AS g ON l.IdGenero == g.Id
        WHERE (CAST(1 AS bit) && (l.Activo == CAST(1 AS bit))) || CAST(0 AS bit)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType1<int, string, string, int, int, string, bool>>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-23 12:01:43.082 -05:00 [DBG] Creating DbConnection.
2024-07-23 12:01:43.082 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 12:01:43.082 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:01:43.083 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:01:43.083 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 12:01:43.083 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:01:43.083 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:01:43.084 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 12:01:43.089 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 12:01:43.090 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:01:43.090 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 12:01:43.090 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:01:43.090 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 12:01:43.096 -05:00 [INF] Consulta de libros exitosa
2024-07-23 12:01:43.097 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 110.4889ms.
2024-07-23 12:01:43.097 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 12:01:43.098 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 12:01:43.098 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 12:01:43.098 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 12:01:43.098 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 12:01:43.098 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 12:01:43.099 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 152.1282ms
2024-07-23 12:01:43.099 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 12:01:43.099 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 12:01:43.099 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:01:43.100 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 12:01:43.100 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 161.8965ms
2024-07-23 12:01:44.266 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=31 - null null
2024-07-23 12:01:44.267 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 12:01:44.267 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 12:01:44.267 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:01:44.267 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:01:44.267 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:01:44.267 -05:00 [DBG] The request is a preflight request.
2024-07-23 12:01:44.267 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=31 - 204 null null 1.2265ms
2024-07-23 12:01:44.278 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=31 - null null
2024-07-23 12:01:44.278 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 12:01:44.278 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-07-23 12:01:44.278 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 12:01:44.278 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:01:44.279 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:01:44.279 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:01:44.280 -05:00 [DBG] Successfully validated the token.
2024-07-23 12:01:44.280 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 12:01:44.280 -05:00 [DBG] Authorization was successful.
2024-07-23 12:01:44.280 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 12:01:44.283 -05:00 [INF] Route matched with {action = "Get", controller = "Prestmaos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 12:01:44.283 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 12:01:44.283 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 12:01:44.283 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 12:01:44.283 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 12:01:44.283 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 12:01:44.283 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 12:01:44.284 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 12:01:44.284 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-23 12:01:44.284 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-23 12:01:44.284 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 12:01:44.284 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 12:01:44.284 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-23 12:01:44.285 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-23 12:01:44.314 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 12:01:44.319 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-23 12:01:44.320 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 12:01:44.324 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 12:01:44.331 -05:00 [DBG] Compiling query expression: 
'DbSet<Perfil>()
    .Join(
        inner: DbSet<Prestamo>(), 
        outerKeySelector: P => P.Id, 
        innerKeySelector: PR => PR.IdPerfil, 
        resultSelector: (P, PR) => new { 
            P = P, 
            PR = PR
         })
    .Join(
        inner: DbSet<DetallePrestamoLibro>(), 
        outerKeySelector: <>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.PR.Id, 
        innerKeySelector: DP => DP.IdPrestamo, 
        resultSelector: (<>h__TransparentIdentifier0, DP) => new { 
            <>h__TransparentIdentifier0 = <>h__TransparentIdentifier0, 
            DP = DP
         })
    .Join(
        inner: DbSet<Libro>(), 
        outerKeySelector: <>h__TransparentIdentifier1 => <>h__TransparentIdentifier1.DP.IdLibro, 
        innerKeySelector: L => L.Id, 
        resultSelector: (<>h__TransparentIdentifier1, L) => new { 
            <>h__TransparentIdentifier1 = <>h__TransparentIdentifier1, 
            L = L
         })
    .Where(<>h__TransparentIdentifier2 => <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.P.Id == __idPerfil_0)
    .Select(<>h__TransparentIdentifier2 => new Libro{ 
        Id = <>h__TransparentIdentifier2.L.Id, 
        Titulo = <>h__TransparentIdentifier2.L.Titulo, 
        Autor = <>h__TransparentIdentifier2.L.Autor, 
        IdGenero = <>h__TransparentIdentifier2.L.IdGenero, 
        Anio = <>h__TransparentIdentifier2.L.Anio, 
        Activo = <>h__TransparentIdentifier2.L.Activo 
    }
    )'
2024-07-23 12:01:44.340 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Libro>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            Id -> 0
            Titulo -> 1
            Autor -> 2
            IdGenero -> 3
            Anio -> 4
            Activo -> 5
        SELECT l.Id, l.Titulo, l.Autor, l.IdGenero, l.Anio, l.Activo
        FROM Perfil AS p
        INNER JOIN Prestamo AS p0 ON p.Id == p0.IdPerfil
        INNER JOIN DetallePrestamoLibro AS d ON p0.Id == d.IdPrestamo
        INNER JOIN Libro AS l ON d.IdLibro == l.Id
        WHERE p.Id == @__idPerfil_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Libro>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-23 12:01:44.344 -05:00 [DBG] Creating DbConnection.
2024-07-23 12:01:44.344 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 12:01:44.344 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:01:44.345 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:01:44.345 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 12:01:44.345 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:01:44.348 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-07-23 12:01:44.352 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 12:01:44.386 -05:00 [INF] Executed DbCommand (38ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 12:01:44.387 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:01:44.388 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-23 12:01:44.388 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:01:44.388 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 12:01:44.389 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 74.7381ms.
2024-07-23 12:01:44.389 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 12:01:44.389 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 12:01:44.389 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 12:01:44.389 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 12:01:44.389 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 12:01:44.389 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.Collections.Generic.List`1[[biblioteca_backend.Models.Libro, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-23 12:01:44.395 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) in 111.5308ms
2024-07-23 12:01:44.395 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-23 12:01:44.395 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 12:01:44.395 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:01:44.395 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 12:01:44.395 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=31 - 200 null application/json; charset=utf-8 123.081ms
2024-07-23 12:01:45.997 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 12:01:45.997 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 12:01:45.997 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 12:01:45.997 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:01:45.997 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:01:45.997 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:01:45.998 -05:00 [DBG] The request is a preflight request.
2024-07-23 12:01:45.998 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 204 null null 1.2969ms
2024-07-23 12:01:46.001 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 12:01:46.001 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 12:01:46.001 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)' with route pattern 'api/Prestmaos/ConsultarPrestamos' is valid for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 12:01:46.001 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 12:01:46.001 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:01:46.001 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:01:46.001 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:01:46.001 -05:00 [DBG] Successfully validated the token.
2024-07-23 12:01:46.002 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 12:01:46.003 -05:00 [DBG] Authorization was successful.
2024-07-23 12:01:46.003 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 12:01:46.013 -05:00 [INF] Route matched with {action = "ConsultarPrestamos", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsultarPrestamos() on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 12:01:46.013 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 12:01:46.014 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 12:01:46.014 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 12:01:46.014 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 12:01:46.014 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 12:01:46.014 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 12:01:46.016 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 12:01:46.046 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) - Validation state: "Valid"
2024-07-23 12:01:46.048 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 12:01:46.049 -05:00 [DBG] Compiling query expression: 
'DbSet<Prestamo>()'
2024-07-23 12:01:46.052 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Prestamo>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Prestamo.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Prestamo.FechaPrestamo (DateTime) Required, 1], [Property: Prestamo.IdPerfil (int) Required FK Index, 2] }
        SELECT p.Id, p.FechaPrestamo, p.IdPerfil
        FROM Prestamo AS p), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Prestamo>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-23 12:01:46.052 -05:00 [DBG] Creating DbConnection.
2024-07-23 12:01:46.053 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 12:01:46.053 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:01:46.053 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:01:46.053 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 12:01:46.053 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:01:46.053 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:01:46.053 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 12:01:46.057 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 12:01:46.065 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:01:46.071 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:01:46.071 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:01:46.071 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 14ms reading results.
2024-07-23 12:01:46.071 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:01:46.071 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 12:01:46.076 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 12:01:46.078 -05:00 [DBG] Compiling query expression: 
'DbSet<Perfil>()
    .FirstOrDefault(p => p.Id == __id_0)'
2024-07-23 12:01:46.083 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Perfil>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Perfil.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Perfil.Apellido (string) Required, 1], [Property: Perfil.Contrasena (string) Required, 2], [Property: Perfil.Correo (string) Required, 3], [Property: Perfil.Direccion (string) Required, 4], [Property: Perfil.IdRol (int) Required FK Index, 5], [Property: Perfil.Nombre (string) Required, 6], [Property: Perfil.Telefono (string) Required, 7] }
        SELECT TOP(1) p.Id, p.Apellido, p.Contrasena, p.Correo, p.Direccion, p.IdRol, p.Nombre, p.Telefono
        FROM Perfil AS p
        WHERE p.Id == @__id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Perfil>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-23 12:01:46.084 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:01:46.084 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:01:46.084 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 12:01:46.084 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:01:46.084 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:01:46.084 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 12:01:46.086 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 12:01:46.101 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:01:46.115 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:01:46.132 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:01:46.132 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 45ms reading results.
2024-07-23 12:01:46.132 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:01:46.132 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 12:01:46.135 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 12:01:46.138 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-23 12:01:46.141 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 12:01:46.147 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:01:46.148 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:01:46.148 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 12:01:46.148 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:01:46.148 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:01:46.148 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 12:01:46.149 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 12:01:46.149 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:01:46.149 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 12:01:46.149 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:01:46.149 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 12:01:46.152 -05:00 [DBG] Consultando perfil con id 34
2024-07-23 12:01:46.152 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:01:46.152 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:01:46.152 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 12:01:46.152 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:01:46.152 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:01:46.153 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 12:01:46.153 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 12:01:46.154 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:01:46.154 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:01:46.154 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:01:46.154 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 12:01:46.154 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:01:46.154 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 12:01:46.156 -05:00 [INF] Perfil encontrado con id: 34
2024-07-23 12:01:46.160 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-23 12:01:46.163 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 12:01:46.163 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:01:46.163 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:01:46.163 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 12:01:46.163 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:01:46.163 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:01:46.164 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 12:01:46.164 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 12:01:46.164 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:01:46.164 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 12:01:46.164 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:01:46.165 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 12:01:46.165 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 118.9005ms.
2024-07-23 12:01:46.165 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 12:01:46.165 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 12:01:46.165 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 12:01:46.165 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 12:01:46.165 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 12:01:46.165 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.DTOs.ConsultaPrestamoModel, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 12:01:46.172 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) in 158.1856ms
2024-07-23 12:01:46.173 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 12:01:46.173 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 12:01:46.173 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:01:46.173 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 12:01:46.173 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 200 null application/json; charset=utf-8 172.9507ms
2024-07-23 12:01:48.700 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 12:01:48.700 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 12:01:48.700 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 12:01:48.700 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:01:48.701 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:01:48.701 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:01:48.701 -05:00 [DBG] The request is a preflight request.
2024-07-23 12:01:48.701 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - 204 null null 1.007ms
2024-07-23 12:01:48.705 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 12:01:48.705 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 12:01:48.706 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 12:01:48.706 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 12:01:48.706 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:01:48.706 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:01:48.706 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:01:48.706 -05:00 [DBG] Successfully validated the token.
2024-07-23 12:01:48.707 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 12:01:48.707 -05:00 [DBG] Authorization was successful.
2024-07-23 12:01:48.707 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 12:01:48.713 -05:00 [INF] Route matched with {action = "Get", controller = "Perfiles"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 12:01:48.713 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 12:01:48.713 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 12:01:48.713 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 12:01:48.713 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 12:01:48.713 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 12:01:48.713 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 12:01:48.715 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 12:01:48.715 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-07-23 12:01:48.715 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-07-23 12:01:48.715 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 12:01:48.715 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 12:01:48.715 -05:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-07-23 12:01:48.715 -05:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-07-23 12:01:48.744 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 12:01:48.747 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 12:01:48.748 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 12:01:48.749 -05:00 [DBG] Creating DbConnection.
2024-07-23 12:01:48.749 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 12:01:48.749 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:01:48.749 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:01:48.749 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 12:01:48.749 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:01:48.749 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:01:48.749 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 12:01:48.750 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 12:01:48.750 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:01:48.750 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:01:48.750 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 12:01:48.750 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:01:48.750 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 12:01:48.753 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 12:01:48.753 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 9.6444ms.
2024-07-23 12:01:48.753 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 12:01:48.754 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 12:01:48.754 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 12:01:48.754 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 12:01:48.754 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 12:01:48.754 -05:00 [INF] Executing OkObjectResult, writing value of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 12:01:48.754 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) in 40.8105ms
2024-07-23 12:01:48.754 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 12:01:48.754 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 12:01:48.754 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:01:48.754 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 12:01:48.755 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - 200 null application/json; charset=utf-8 49.8769ms
2024-07-23 12:04:15.357 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-23 12:04:15.357 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 12:04:15.357 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 12:04:15.357 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:04:15.357 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:04:15.357 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:04:15.357 -05:00 [DBG] The request is a preflight request.
2024-07-23 12:04:15.357 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - 204 null null 0.7571ms
2024-07-23 12:04:15.385 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-23 12:04:15.388 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 12:04:15.389 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 12:04:15.389 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 12:04:15.389 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:04:15.389 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:04:15.389 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:04:15.389 -05:00 [DBG] Successfully validated the token.
2024-07-23 12:04:15.389 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 12:04:15.389 -05:00 [DBG] Authorization was successful.
2024-07-23 12:04:15.389 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 12:04:15.389 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 12:04:15.389 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 12:04:15.390 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 12:04:15.390 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 12:04:15.390 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 12:04:15.390 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 12:04:15.390 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 12:04:15.390 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 12:04:15.390 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 12:04:15.390 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-23 12:04:15.390 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 12:04:15.390 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 12:04:15.390 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 12:04:15.390 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 12:04:15.424 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 12:04:15.427 -05:00 [DBG] Consultando libros...
2024-07-23 12:04:15.429 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 12:04:15.430 -05:00 [DBG] Creating DbConnection.
2024-07-23 12:04:15.430 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 12:04:15.430 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:04:15.431 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:04:15.431 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 12:04:15.431 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:04:15.431 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:04:15.431 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 12:04:15.440 -05:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-23 12:04:15.440 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:04:15.440 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 12:04:15.440 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:04:15.440 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 12:04:15.443 -05:00 [INF] Consulta de libros exitosa
2024-07-23 12:04:15.443 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 19.1256ms.
2024-07-23 12:04:15.443 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 12:04:15.443 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 12:04:15.443 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 12:04:15.444 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 12:04:15.444 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 12:04:15.444 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 12:04:15.444 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 54.2197ms
2024-07-23 12:04:15.444 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 12:04:15.444 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 12:04:15.444 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:04:15.444 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 12:04:15.445 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 59.7822ms
2024-07-23 12:04:18.467 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ - null null
2024-07-23 12:04:18.467 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 12:04:18.467 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 12:04:18.467 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:04:18.467 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:04:18.467 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:04:18.467 -05:00 [DBG] The request is a preflight request.
2024-07-23 12:04:18.468 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ - 204 null null 1.1368ms
2024-07-23 12:04:18.470 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Prestmaos/ - application/json 278
2024-07-23 12:04:18.470 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-23 12:04:18.470 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-07-23 12:04:18.470 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)'
2024-07-23 12:04:18.470 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:04:18.471 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:04:18.471 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:04:18.471 -05:00 [DBG] Successfully validated the token.
2024-07-23 12:04:18.471 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 12:04:18.471 -05:00 [DBG] Authorization was successful.
2024-07-23 12:04:18.471 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)'
2024-07-23 12:04:18.475 -05:00 [INF] Route matched with {action = "Post", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(biblioteca_backend.Models.DTOs.PrestamoModel) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 12:04:18.475 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 12:04:18.476 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 12:04:18.476 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 12:04:18.476 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 12:04:18.476 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 12:04:18.476 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 12:04:18.476 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 12:04:18.477 -05:00 [DBG] Attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel' ...
2024-07-23 12:04:18.479 -05:00 [DBG] Attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel' using the name '' in request data ...
2024-07-23 12:04:18.481 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-23 12:04:18.491 -05:00 [DBG] Connection id "0HN5B74A6BFNL", Request id "0HN5B74A6BFNL:0000001F": started reading request body.
2024-07-23 12:04:18.492 -05:00 [DBG] Connection id "0HN5B74A6BFNL", Request id "0HN5B74A6BFNL:0000001F": done reading request body.
2024-07-23 12:04:18.502 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.PrestamoModel'
2024-07-23 12:04:18.503 -05:00 [DBG] Done attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel'.
2024-07-23 12:04:18.503 -05:00 [DBG] Done attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel'.
2024-07-23 12:04:18.503 -05:00 [DBG] Attempting to validate the bound parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel' ...
2024-07-23 12:04:18.512 -05:00 [DBG] Done attempting to validate the bound parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel'.
2024-07-23 12:04:18.539 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend) - Validation state: "Valid"
2024-07-23 12:04:18.543 -05:00 [DBG] Guardando préstamo...
2024-07-23 12:04:18.547 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-23 12:04:18.548 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 12:04:18.551 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 12:04:18.551 -05:00 [DBG] Creating DbConnection.
2024-07-23 12:04:18.551 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 12:04:18.552 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:04:18.552 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:04:18.552 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 12:04:18.552 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:04:18.552 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:04:18.552 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 12:04:18.558 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 12:04:18.558 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:04:18.558 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 12:04:18.558 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:04:18.559 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 12:04:18.569 -05:00 [WRN] Aún hay préstamos activos del perfil con id 31
2024-07-23 12:04:18.647 -05:00 [ERR] Error al hacer el préstamo: Aún tiene préstamos activos
2024-07-23 12:04:18.803 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 263.4167ms.
2024-07-23 12:04:18.803 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 12:04:18.803 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 12:04:18.803 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 12:04:18.803 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 12:04:18.803 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-07-23 12:04:18.803 -05:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-07-23 12:04:18.804 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend) in 327.6557ms
2024-07-23 12:04:18.804 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)'
2024-07-23 12:04:18.804 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 12:04:18.804 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:04:18.804 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 12:04:18.804 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Prestmaos/ - 400 null text/plain; charset=utf-8 334.3439ms
2024-07-23 12:06:56.166 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 12:06:56.166 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 12:06:56.166 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 12:06:56.166 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:06:56.166 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:06:56.166 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:06:56.166 -05:00 [DBG] The request is a preflight request.
2024-07-23 12:06:56.167 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - 204 null null 1.0635ms
2024-07-23 12:06:56.174 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 12:06:56.174 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 12:06:56.174 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 12:06:56.175 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 12:06:56.175 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:06:56.175 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:06:56.175 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:06:56.176 -05:00 [DBG] Successfully validated the token.
2024-07-23 12:06:56.176 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 12:06:56.177 -05:00 [DBG] Authorization was successful.
2024-07-23 12:06:56.177 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 12:06:56.177 -05:00 [INF] Route matched with {action = "Get", controller = "Perfiles"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 12:06:56.177 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 12:06:56.177 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 12:06:56.178 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 12:06:56.178 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 12:06:56.178 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 12:06:56.178 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 12:06:56.179 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 12:06:56.180 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-07-23 12:06:56.180 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-07-23 12:06:56.180 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 12:06:56.180 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 12:06:56.180 -05:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-07-23 12:06:56.180 -05:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-07-23 12:06:56.220 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 12:06:56.228 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 12:06:56.229 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 12:06:56.229 -05:00 [DBG] Creating DbConnection.
2024-07-23 12:06:56.229 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 12:06:56.229 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:06:56.230 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:06:56.230 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 12:06:56.230 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:06:56.230 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:06:56.230 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 12:06:56.234 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 12:06:56.234 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:06:56.234 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:06:56.234 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 12:06:56.234 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:06:56.234 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 12:06:56.237 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 12:06:56.237 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16.4084ms.
2024-07-23 12:06:56.237 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 12:06:56.237 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 12:06:56.237 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 12:06:56.237 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 12:06:56.237 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 12:06:56.237 -05:00 [INF] Executing OkObjectResult, writing value of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 12:06:56.238 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) in 59.4913ms
2024-07-23 12:06:56.238 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 12:06:56.238 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 12:06:56.238 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:06:56.238 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 12:06:56.239 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - 200 null application/json; charset=utf-8 64.9669ms
2024-07-23 12:06:59.564 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-23 12:06:59.564 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 12:06:59.564 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 12:06:59.564 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:06:59.564 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:06:59.564 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:06:59.564 -05:00 [DBG] The request is a preflight request.
2024-07-23 12:06:59.564 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 0.6612ms
2024-07-23 12:06:59.565 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-07-23 12:06:59.565 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-23 12:06:59.565 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 12:06:59.565 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:06:59.565 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:06:59.565 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:06:59.565 -05:00 [DBG] The request is a preflight request.
2024-07-23 12:06:59.565 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 0.5077ms
2024-07-23 12:06:59.585 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-23 12:06:59.585 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 12:06:59.586 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 12:06:59.586 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 12:06:59.586 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:06:59.586 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:06:59.586 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:06:59.586 -05:00 [DBG] Successfully validated the token.
2024-07-23 12:06:59.587 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 12:06:59.587 -05:00 [DBG] Authorization was successful.
2024-07-23 12:06:59.587 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 12:06:59.588 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 12:06:59.588 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 12:06:59.592 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 12:06:59.592 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-07-23 12:06:59.592 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 12:06:59.592 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 12:06:59.592 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-23 12:06:59.592 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 12:06:59.592 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-07-23 12:06:59.592 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-23 12:06:59.592 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 12:06:59.593 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:06:59.593 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:06:59.593 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:06:59.593 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 12:06:59.593 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 12:06:59.593 -05:00 [DBG] Successfully validated the token.
2024-07-23 12:06:59.593 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-23 12:06:59.593 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 12:06:59.593 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 12:06:59.593 -05:00 [DBG] Authorization was successful.
2024-07-23 12:06:59.593 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 12:06:59.593 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-23 12:06:59.593 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 12:06:59.593 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 12:06:59.593 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-07-23 12:06:59.593 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 12:06:59.593 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 12:06:59.594 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 12:06:59.594 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 12:06:59.596 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 12:06:59.628 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-23 12:06:59.629 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 12:06:59.631 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-23 12:06:59.633 -05:00 [DBG] Consultando libros...
2024-07-23 12:06:59.659 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 12:06:59.659 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 12:06:59.660 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 12:06:59.660 -05:00 [DBG] Creating DbConnection.
2024-07-23 12:06:59.660 -05:00 [DBG] Creating DbConnection.
2024-07-23 12:06:59.660 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 12:06:59.660 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 12:06:59.660 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:06:59.660 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:06:59.661 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:06:59.661 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:06:59.661 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 12:06:59.661 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 12:06:59.661 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:06:59.661 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:06:59.661 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:06:59.661 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:06:59.661 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-23 12:06:59.661 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-23 12:06:59.667 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-23 12:06:59.667 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:06:59.667 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 12:06:59.667 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:06:59.667 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-23 12:06:59.667 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 12:06:59.679 -05:00 [INF] Consulta de libros exitosa
2024-07-23 12:06:59.679 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:06:59.680 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 50.8105ms.
2024-07-23 12:06:59.680 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 12:06:59.680 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 12:06:59.680 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 12:06:59.681 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 12:06:59.681 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 12:06:59.681 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 12:06:59.684 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:06:59.684 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 91.524ms
2024-07-23 12:06:59.684 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 12:06:59.684 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:06:59.684 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 12:06:59.684 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:06:59.684 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 12:06:59.684 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:06:59.684 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 100.0253ms
2024-07-23 12:06:59.684 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:06:59.684 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:06:59.685 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:06:59.685 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:06:59.685 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:06:59.685 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:06:59.685 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:06:59.685 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:06:59.686 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:06:59.686 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:06:59.686 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 18ms reading results.
2024-07-23 12:06:59.697 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:06:59.698 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 12:06:59.702 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 43.4114ms.
2024-07-23 12:06:59.702 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 12:06:59.703 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 12:06:59.703 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 12:06:59.703 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 12:06:59.703 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 12:06:59.703 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 12:06:59.703 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 107.1394ms
2024-07-23 12:06:59.703 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-23 12:06:59.703 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 12:06:59.704 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:06:59.704 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 12:06:59.704 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 119.1936ms
2024-07-23 12:07:23.193 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/ - null null
2024-07-23 12:07:23.193 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 12:07:23.193 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 12:07:23.193 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:07:23.193 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:07:23.193 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:07:23.194 -05:00 [DBG] The request is a preflight request.
2024-07-23 12:07:23.194 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/ - 204 null null 1.0852ms
2024-07-23 12:07:23.196 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Libros/ - application/json 104
2024-07-23 12:07:23.197 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 12:07:23.197 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Post (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 12:07:23.197 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Post (biblioteca-backend)'
2024-07-23 12:07:23.197 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:07:23.197 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:07:23.197 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:07:23.197 -05:00 [DBG] Successfully validated the token.
2024-07-23 12:07:23.198 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 12:07:23.198 -05:00 [DBG] Authorization was successful.
2024-07-23 12:07:23.198 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Post (biblioteca-backend)'
2024-07-23 12:07:23.201 -05:00 [INF] Route matched with {action = "Post", controller = "Libros"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(biblioteca_backend.Models.Libro) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 12:07:23.201 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 12:07:23.201 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 12:07:23.201 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 12:07:23.201 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 12:07:23.201 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 12:07:23.201 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 12:07:23.201 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 12:07:23.202 -05:00 [DBG] Attempting to bind parameter 'libro' of type 'biblioteca_backend.Models.Libro' ...
2024-07-23 12:07:23.202 -05:00 [DBG] Attempting to bind parameter 'libro' of type 'biblioteca_backend.Models.Libro' using the name '' in request data ...
2024-07-23 12:07:23.202 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-23 12:07:23.202 -05:00 [DBG] Connection id "0HN5B74A6BFNL", Request id "0HN5B74A6BFNL:0000002F": started reading request body.
2024-07-23 12:07:23.202 -05:00 [DBG] Connection id "0HN5B74A6BFNL", Request id "0HN5B74A6BFNL:0000002F": done reading request body.
2024-07-23 12:07:23.202 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.Libro'
2024-07-23 12:07:23.202 -05:00 [DBG] Done attempting to bind parameter 'libro' of type 'biblioteca_backend.Models.Libro'.
2024-07-23 12:07:23.202 -05:00 [DBG] Done attempting to bind parameter 'libro' of type 'biblioteca_backend.Models.Libro'.
2024-07-23 12:07:23.202 -05:00 [DBG] Attempting to validate the bound parameter 'libro' of type 'biblioteca_backend.Models.Libro' ...
2024-07-23 12:07:23.203 -05:00 [DBG] Done attempting to validate the bound parameter 'libro' of type 'biblioteca_backend.Models.Libro'.
2024-07-23 12:07:23.233 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Post (biblioteca-backend) - Validation state: "Valid"
2024-07-23 12:07:23.239 -05:00 [DBG] Guardando libro...
2024-07-23 12:07:23.241 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 12:07:23.261 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'Libro.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:07:23.291 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:07:23.294 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-23 12:07:23.296 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-23 12:07:23.307 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-23 12:07:23.391 -05:00 [DBG] Creating DbConnection.
2024-07-23 12:07:23.391 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 12:07:23.391 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:23.391 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:23.393 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 12:07:23.393 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:07:23.394 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:07:23.394 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Libro] ([Activo], [Anio], [Autor], [IdGenero], [Titulo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-07-23 12:07:23.401 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Libro] ([Activo], [Anio], [Autor], [IdGenero], [Titulo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-07-23 12:07:23.417 -05:00 [DBG] The foreign key property 'Libro.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-23 12:07:23.423 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:23.423 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 21ms reading results.
2024-07-23 12:07:23.424 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:23.425 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 12:07:23.440 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:07:23.443 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-23 12:07:23.446 -05:00 [INF] Libro guardado exitosamente
2024-07-23 12:07:23.447 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Post (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 213.4362ms.
2024-07-23 12:07:23.447 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 12:07:23.447 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 12:07:23.447 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 12:07:23.447 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 12:07:23.447 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 12:07:23.447 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-23 12:07:23.448 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Post (biblioteca-backend) in 247.1958ms
2024-07-23 12:07:23.449 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Post (biblioteca-backend)'
2024-07-23 12:07:23.449 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 12:07:23.449 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:23.449 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 12:07:23.449 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Libros/ - 200 null application/json; charset=utf-8 253.1024ms
2024-07-23 12:07:23.455 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-23 12:07:23.455 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 12:07:23.455 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 12:07:23.455 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:07:23.455 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:07:23.455 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:07:23.455 -05:00 [DBG] The request is a preflight request.
2024-07-23 12:07:23.455 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 1.1159ms
2024-07-23 12:07:23.459 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-23 12:07:23.460 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 12:07:23.460 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 12:07:23.460 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 12:07:23.460 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:07:23.460 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:07:23.460 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:07:23.460 -05:00 [DBG] Successfully validated the token.
2024-07-23 12:07:23.460 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 12:07:23.461 -05:00 [DBG] Authorization was successful.
2024-07-23 12:07:23.461 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 12:07:23.461 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 12:07:23.461 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 12:07:23.462 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 12:07:23.462 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 12:07:23.462 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 12:07:23.462 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 12:07:23.462 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 12:07:23.462 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 12:07:23.462 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 12:07:23.463 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-23 12:07:23.463 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 12:07:23.463 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 12:07:23.463 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 12:07:23.463 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 12:07:23.496 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 12:07:23.499 -05:00 [DBG] Consultando libros...
2024-07-23 12:07:23.500 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 12:07:23.501 -05:00 [DBG] Creating DbConnection.
2024-07-23 12:07:23.501 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 12:07:23.501 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:23.501 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:23.501 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 12:07:23.501 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:07:23.501 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:07:23.501 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-23 12:07:23.502 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-23 12:07:23.502 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:23.502 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 12:07:23.502 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:23.503 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 12:07:23.506 -05:00 [INF] Consulta de libros exitosa
2024-07-23 12:07:23.506 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 10.114ms.
2024-07-23 12:07:23.506 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 12:07:23.506 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 12:07:23.506 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 12:07:23.506 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 12:07:23.506 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 12:07:23.506 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 12:07:23.507 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 44.6758ms
2024-07-23 12:07:23.507 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 12:07:23.507 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 12:07:23.507 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:23.507 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 12:07:23.507 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 48.0207ms
2024-07-23 12:07:33.844 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/ - null null
2024-07-23 12:07:33.844 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 12:07:33.844 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 12:07:33.844 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:07:33.845 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:07:33.845 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:07:33.845 -05:00 [DBG] The request is a preflight request.
2024-07-23 12:07:33.845 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/ - 204 null null 1.4141ms
2024-07-23 12:07:33.852 -05:00 [INF] Request starting HTTP/2 PUT https://localhost:7299/api/Libros/ - application/json 119
2024-07-23 12:07:33.852 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 12:07:33.852 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Put (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 12:07:33.852 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Put (biblioteca-backend)'
2024-07-23 12:07:33.852 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:07:33.852 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:07:33.852 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:07:33.855 -05:00 [DBG] Successfully validated the token.
2024-07-23 12:07:33.855 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 12:07:33.855 -05:00 [DBG] Authorization was successful.
2024-07-23 12:07:33.855 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Put (biblioteca-backend)'
2024-07-23 12:07:33.863 -05:00 [INF] Route matched with {action = "Put", controller = "Libros"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(biblioteca_backend.Models.Libro) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 12:07:33.863 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 12:07:33.863 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 12:07:33.863 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 12:07:33.863 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 12:07:33.863 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 12:07:33.863 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 12:07:33.863 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 12:07:33.863 -05:00 [DBG] Attempting to bind parameter 'libro' of type 'biblioteca_backend.Models.Libro' ...
2024-07-23 12:07:33.864 -05:00 [DBG] Attempting to bind parameter 'libro' of type 'biblioteca_backend.Models.Libro' using the name '' in request data ...
2024-07-23 12:07:33.864 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-23 12:07:33.864 -05:00 [DBG] Connection id "0HN5B74A6BFNL", Request id "0HN5B74A6BFNL:00000037": started reading request body.
2024-07-23 12:07:33.864 -05:00 [DBG] Connection id "0HN5B74A6BFNL", Request id "0HN5B74A6BFNL:00000037": done reading request body.
2024-07-23 12:07:33.864 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.Libro'
2024-07-23 12:07:33.864 -05:00 [DBG] Done attempting to bind parameter 'libro' of type 'biblioteca_backend.Models.Libro'.
2024-07-23 12:07:33.864 -05:00 [DBG] Done attempting to bind parameter 'libro' of type 'biblioteca_backend.Models.Libro'.
2024-07-23 12:07:33.864 -05:00 [DBG] Attempting to validate the bound parameter 'libro' of type 'biblioteca_backend.Models.Libro' ...
2024-07-23 12:07:33.864 -05:00 [DBG] Done attempting to validate the bound parameter 'libro' of type 'biblioteca_backend.Models.Libro'.
2024-07-23 12:07:33.912 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Put (biblioteca-backend) - Validation state: "Valid"
2024-07-23 12:07:33.916 -05:00 [DBG] Actualizando libro con id 79...
2024-07-23 12:07:33.917 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 12:07:33.918 -05:00 [DBG] Compiling query expression: 
'DbSet<Libro>()
    .FirstOrDefault(e => e.Id == __libro_Id_0)'
2024-07-23 12:07:33.923 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Libro>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Libro.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Libro.Activo (bool) Required, 1], [Property: Libro.Anio (int) Required, 2], [Property: Libro.Autor (string) Required, 3], [Property: Libro.IdGenero (int) Required FK Index, 4], [Property: Libro.Titulo (string) Required, 5] }
        SELECT TOP(1) l.Id, l.Activo, l.Anio, l.Autor, l.IdGenero, l.Titulo
        FROM Libro AS l
        WHERE l.Id == @__libro_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Libro>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-23 12:07:33.924 -05:00 [DBG] Creating DbConnection.
2024-07-23 12:07:33.924 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 12:07:33.924 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:33.924 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:33.924 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 12:07:33.924 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:07:33.924 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:07:33.924 -05:00 [DBG] Executing DbCommand [Parameters=[@__libro_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Activo], [l].[Anio], [l].[Autor], [l].[IdGenero], [l].[Titulo]
FROM [Libro] AS [l]
WHERE [l].[Id] = @__libro_Id_0
2024-07-23 12:07:33.926 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__libro_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Activo], [l].[Anio], [l].[Autor], [l].[IdGenero], [l].[Titulo]
FROM [Libro] AS [l]
WHERE [l].[Id] = @__libro_Id_0
2024-07-23 12:07:33.926 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:07:33.926 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:33.926 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 12:07:33.926 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:33.926 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 12:07:33.927 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:07:33.927 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-23 12:07:33.927 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-23 12:07:33.928 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-23 12:07:33.931 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:33.931 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:33.931 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 12:07:33.931 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:07:33.931 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:07:33.932 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-23 12:07:33.938 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-23 12:07:33.939 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:33.939 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-23 12:07:33.940 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:33.940 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 12:07:33.940 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:07:33.940 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-23 12:07:33.942 -05:00 [INF] Libro actualizado con id 79
2024-07-23 12:07:33.943 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Put (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 30.1573ms.
2024-07-23 12:07:33.943 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 12:07:33.943 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 12:07:33.943 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 12:07:33.943 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 12:07:33.943 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 12:07:33.943 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-23 12:07:33.943 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Put (biblioteca-backend) in 79.9642ms
2024-07-23 12:07:33.943 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Put (biblioteca-backend)'
2024-07-23 12:07:33.943 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 12:07:33.943 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:33.944 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 12:07:33.944 -05:00 [INF] Request finished HTTP/2 PUT https://localhost:7299/api/Libros/ - 200 null application/json; charset=utf-8 92.3271ms
2024-07-23 12:07:33.948 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-23 12:07:33.948 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 12:07:33.948 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 12:07:33.948 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:07:33.948 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:07:33.948 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:07:33.948 -05:00 [DBG] The request is a preflight request.
2024-07-23 12:07:33.948 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 1.1743ms
2024-07-23 12:07:33.951 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-23 12:07:33.951 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 12:07:33.951 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 12:07:33.951 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 12:07:33.951 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:07:33.951 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:07:33.951 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:07:33.952 -05:00 [DBG] Successfully validated the token.
2024-07-23 12:07:33.952 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 12:07:33.952 -05:00 [DBG] Authorization was successful.
2024-07-23 12:07:33.952 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 12:07:33.952 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 12:07:33.952 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 12:07:33.952 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 12:07:33.952 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 12:07:33.952 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 12:07:33.952 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 12:07:33.952 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 12:07:33.952 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 12:07:33.954 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 12:07:33.954 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-23 12:07:33.954 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 12:07:33.954 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 12:07:33.954 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 12:07:33.954 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 12:07:33.981 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 12:07:33.986 -05:00 [DBG] Consultando libros...
2024-07-23 12:07:33.991 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 12:07:33.991 -05:00 [DBG] Creating DbConnection.
2024-07-23 12:07:33.991 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 12:07:33.991 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:33.991 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:33.991 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 12:07:33.991 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:07:33.991 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:07:33.991 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-23 12:07:33.992 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-23 12:07:33.992 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:33.992 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 12:07:33.992 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:33.992 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 12:07:33.994 -05:00 [INF] Consulta de libros exitosa
2024-07-23 12:07:33.995 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 13.8766ms.
2024-07-23 12:07:33.995 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 12:07:33.995 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 12:07:33.995 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 12:07:33.995 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 12:07:33.995 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 12:07:33.995 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 12:07:33.995 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 42.965ms
2024-07-23 12:07:33.995 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 12:07:33.995 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 12:07:33.995 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:33.996 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 12:07:33.996 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 45.0074ms
2024-07-23 12:07:38.171 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/79 - null null
2024-07-23 12:07:38.171 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/79'
2024-07-23 12:07:38.171 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 12:07:38.171 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:07:38.171 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:07:38.171 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:07:38.171 -05:00 [DBG] The request is a preflight request.
2024-07-23 12:07:38.171 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/79 - 204 null null 0.7556ms
2024-07-23 12:07:38.173 -05:00 [INF] Request starting HTTP/2 DELETE https://localhost:7299/api/Libros/79 - null null
2024-07-23 12:07:38.174 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/79'
2024-07-23 12:07:38.174 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Delete (biblioteca-backend)' with route pattern 'api/Libros/{id}' is valid for the request path '/api/Libros/79'
2024-07-23 12:07:38.174 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Delete (biblioteca-backend)'
2024-07-23 12:07:38.174 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:07:38.174 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:07:38.174 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:07:38.174 -05:00 [DBG] Successfully validated the token.
2024-07-23 12:07:38.175 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 12:07:38.175 -05:00 [DBG] Authorization was successful.
2024-07-23 12:07:38.175 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Delete (biblioteca-backend)'
2024-07-23 12:07:38.180 -05:00 [INF] Route matched with {action = "Delete", controller = "Libros"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 12:07:38.180 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 12:07:38.180 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 12:07:38.180 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 12:07:38.181 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 12:07:38.181 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 12:07:38.181 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 12:07:38.181 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 12:07:38.181 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-07-23 12:07:38.181 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-07-23 12:07:38.181 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 12:07:38.182 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 12:07:38.182 -05:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-07-23 12:07:38.182 -05:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-07-23 12:07:38.234 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Delete (biblioteca-backend) - Validation state: "Valid"
2024-07-23 12:07:38.240 -05:00 [DBG] Eliminando libro con id 79...
2024-07-23 12:07:38.242 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 12:07:38.254 -05:00 [DBG] Compiling query expression: 
'DbSet<Libro>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)'
2024-07-23 12:07:38.287 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Libro>(
    asyncEnumerable: new SingleQueryingEnumerable<Libro>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Libro.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Libro.Activo (bool) Required, 1], [Property: Libro.Anio (int) Required, 2], [Property: Libro.Autor (string) Required, 3], [Property: Libro.IdGenero (int) Required FK Index, 4], [Property: Libro.Titulo (string) Required, 5] }
            SELECT TOP(1) l.Id, l.Activo, l.Anio, l.Autor, l.IdGenero, l.Titulo
            FROM Libro AS l
            WHERE l.Id == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Libro>, 
        biblioteca_backend.DBBibliotecaContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-07-23 12:07:38.289 -05:00 [DBG] Creating DbConnection.
2024-07-23 12:07:38.289 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 12:07:38.289 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:38.290 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:38.290 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 12:07:38.290 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:07:38.290 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:07:38.290 -05:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Activo], [l].[Anio], [l].[Autor], [l].[IdGenero], [l].[Titulo]
FROM [Libro] AS [l]
WHERE [l].[Id] = @__p_0
2024-07-23 12:07:38.294 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Activo], [l].[Anio], [l].[Autor], [l].[IdGenero], [l].[Titulo]
FROM [Libro] AS [l]
WHERE [l].[Id] = @__p_0
2024-07-23 12:07:38.295 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:07:38.295 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:38.296 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-23 12:07:38.296 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:38.296 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 12:07:38.297 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:07:38.298 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-23 12:07:38.298 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-23 12:07:38.299 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-23 12:07:38.301 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:38.301 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:38.301 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 12:07:38.302 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:07:38.302 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:07:38.302 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Libro]
OUTPUT 1
WHERE [Id] = @p0;
2024-07-23 12:07:38.306 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Libro]
OUTPUT 1
WHERE [Id] = @p0;
2024-07-23 12:07:38.306 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:38.306 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 12:07:38.307 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:38.307 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 12:07:38.309 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:07:38.309 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-23 12:07:38.314 -05:00 [INF] Libro eliminado con id 79
2024-07-23 12:07:38.314 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Delete (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 79.6917ms.
2024-07-23 12:07:38.315 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 12:07:38.315 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 12:07:38.315 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 12:07:38.315 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 12:07:38.315 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 12:07:38.315 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-23 12:07:38.315 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Delete (biblioteca-backend) in 134.4975ms
2024-07-23 12:07:38.315 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Delete (biblioteca-backend)'
2024-07-23 12:07:38.316 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 12:07:38.316 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:38.316 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 12:07:38.316 -05:00 [INF] Request finished HTTP/2 DELETE https://localhost:7299/api/Libros/79 - 200 null application/json; charset=utf-8 142.7582ms
2024-07-23 12:07:38.323 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-23 12:07:38.323 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 12:07:38.324 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 12:07:38.324 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 12:07:38.324 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:07:38.324 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:07:38.324 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:07:38.324 -05:00 [DBG] Successfully validated the token.
2024-07-23 12:07:38.325 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 12:07:38.326 -05:00 [DBG] Authorization was successful.
2024-07-23 12:07:38.326 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 12:07:38.326 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 12:07:38.327 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 12:07:38.328 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 12:07:38.328 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 12:07:38.328 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 12:07:38.329 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 12:07:38.329 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 12:07:38.329 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 12:07:38.330 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 12:07:38.330 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-23 12:07:38.330 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 12:07:38.330 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 12:07:38.330 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 12:07:38.330 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 12:07:38.383 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 12:07:38.385 -05:00 [DBG] Consultando libros...
2024-07-23 12:07:38.388 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 12:07:38.389 -05:00 [DBG] Creating DbConnection.
2024-07-23 12:07:38.389 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 12:07:38.389 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:38.389 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:38.389 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 12:07:38.389 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:07:38.390 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:07:38.390 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-23 12:07:38.393 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-23 12:07:38.393 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:38.393 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 12:07:38.393 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:38.393 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 12:07:38.395 -05:00 [INF] Consulta de libros exitosa
2024-07-23 12:07:38.395 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 12.6065ms.
2024-07-23 12:07:38.395 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 12:07:38.395 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 12:07:38.395 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 12:07:38.396 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 12:07:38.396 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 12:07:38.396 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 12:07:38.396 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 67.2532ms
2024-07-23 12:07:38.396 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 12:07:38.396 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 12:07:38.396 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:38.396 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 12:07:38.396 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 73.226ms
2024-07-23 12:07:47.669 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 12:07:47.669 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 12:07:47.669 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 12:07:47.669 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:07:47.669 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:07:47.669 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:07:47.669 -05:00 [DBG] The request is a preflight request.
2024-07-23 12:07:47.670 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 204 null null 1.2614ms
2024-07-23 12:07:47.679 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 12:07:47.679 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 12:07:47.679 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)' with route pattern 'api/Prestmaos/ConsultarPrestamos' is valid for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 12:07:47.679 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 12:07:47.679 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:07:47.679 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:07:47.680 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:07:47.680 -05:00 [DBG] Successfully validated the token.
2024-07-23 12:07:47.680 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 12:07:47.680 -05:00 [DBG] Authorization was successful.
2024-07-23 12:07:47.680 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 12:07:47.681 -05:00 [INF] Route matched with {action = "ConsultarPrestamos", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsultarPrestamos() on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 12:07:47.681 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 12:07:47.681 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 12:07:47.681 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 12:07:47.681 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 12:07:47.681 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 12:07:47.681 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 12:07:47.681 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 12:07:47.714 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) - Validation state: "Valid"
2024-07-23 12:07:47.714 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 12:07:47.714 -05:00 [DBG] Creating DbConnection.
2024-07-23 12:07:47.714 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 12:07:47.714 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:47.715 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:47.715 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 12:07:47.715 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:07:47.715 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:07:47.715 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 12:07:47.718 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 12:07:47.718 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:07:47.718 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:07:47.718 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:47.718 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 12:07:47.718 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:47.718 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 12:07:47.724 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 12:07:47.724 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:47.724 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:47.724 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 12:07:47.725 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:07:47.725 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:07:47.725 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 12:07:47.728 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 12:07:47.728 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:07:47.729 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:07:47.729 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:47.729 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 12:07:47.729 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:47.729 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 12:07:47.732 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 12:07:47.735 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-23 12:07:47.742 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 12:07:47.743 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:47.743 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:47.743 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 12:07:47.743 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:07:47.743 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:07:47.743 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 12:07:47.750 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 12:07:47.750 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:47.751 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 12:07:47.751 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:47.751 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 12:07:47.759 -05:00 [DBG] Consultando perfil con id 34
2024-07-23 12:07:47.759 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:47.759 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:47.760 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 12:07:47.760 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:07:47.760 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:07:47.760 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 12:07:47.762 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 12:07:47.762 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:07:47.762 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:07:47.763 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:47.763 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 12:07:47.763 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:47.763 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 12:07:47.767 -05:00 [INF] Perfil encontrado con id: 34
2024-07-23 12:07:47.773 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-23 12:07:47.776 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 12:07:47.778 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:47.778 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:47.778 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 12:07:47.778 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:07:47.778 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:07:47.778 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 12:07:47.779 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 12:07:47.779 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:47.779 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 12:07:47.779 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:47.779 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 12:07:47.779 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 65.6017ms.
2024-07-23 12:07:47.779 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 12:07:47.780 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 12:07:47.780 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 12:07:47.780 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 12:07:47.780 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 12:07:47.780 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.DTOs.ConsultaPrestamoModel, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 12:07:47.780 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) in 98.8808ms
2024-07-23 12:07:47.780 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 12:07:47.780 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 12:07:47.780 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:47.781 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 12:07:47.781 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 200 null application/json; charset=utf-8 107.1442ms
2024-07-23 12:07:51.241 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-07-23 12:07:51.241 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-23 12:07:51.241 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-23 12:07:51.241 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 12:07:51.241 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 12:07:51.241 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 12:07:51.241 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:07:51.241 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:07:51.241 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:07:51.242 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:07:51.242 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:07:51.242 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:07:51.242 -05:00 [DBG] The request is a preflight request.
2024-07-23 12:07:51.242 -05:00 [DBG] The request is a preflight request.
2024-07-23 12:07:51.242 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 0.8691ms
2024-07-23 12:07:51.242 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 1.3865ms
2024-07-23 12:07:51.247 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-07-23 12:07:51.247 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-23 12:07:51.247 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-23 12:07:51.247 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-23 12:07:51.247 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-07-23 12:07:51.247 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-23 12:07:51.247 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 12:07:51.247 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-23 12:07:51.248 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:07:51.248 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:07:51.248 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:07:51.248 -05:00 [DBG] Successfully validated the token.
2024-07-23 12:07:51.248 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 12:07:51.248 -05:00 [DBG] Authorization was successful.
2024-07-23 12:07:51.248 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-23 12:07:51.250 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-07-23 12:07:51.247 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:07:51.250 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 12:07:51.250 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 12:07:51.251 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 12:07:51.255 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 12:07:51.255 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 12:07:51.255 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-23 12:07:51.256 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:07:51.256 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:07:51.256 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-23 12:07:51.256 -05:00 [DBG] Successfully validated the token.
2024-07-23 12:07:51.256 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 12:07:51.258 -05:00 [DBG] Authorization was successful.
2024-07-23 12:07:51.258 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 12:07:51.297 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 12:07:51.297 -05:00 [INF] Executing action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 12:07:51.297 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 12:07:51.297 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 12:07:51.297 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 12:07:51.297 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 12:07:51.297 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 12:07:51.297 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 12:07:51.297 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 12:07:51.297 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 12:07:51.297 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 12:07:51.298 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-23 12:07:51.298 -05:00 [DBG] Creating DbConnection.
2024-07-23 12:07:51.298 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 12:07:51.298 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 12:07:51.298 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 12:07:51.298 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:51.298 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-23 12:07:51.298 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-23 12:07:51.298 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:51.298 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 12:07:51.298 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:07:51.298 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:07:51.299 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-23 12:07:51.326 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 12:07:51.329 -05:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-23 12:07:51.331 -05:00 [DBG] Consultando libros...
2024-07-23 12:07:51.331 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:07:51.332 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:07:51.332 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:07:51.332 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 12:07:51.332 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:07:51.332 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:07:51.332 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:07:51.332 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:07:51.332 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:07:51.332 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:07:51.332 -05:00 [DBG] Creating DbConnection.
2024-07-23 12:07:51.332 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:07:51.333 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 12:07:51.333 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:07:51.333 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:51.333 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:07:51.333 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:07:51.333 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:51.333 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:51.333 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 12:07:51.333 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:07:51.333 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-07-23 12:07:51.333 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:07:51.333 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:51.333 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-23 12:07:51.333 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 12:07:51.333 -05:00 [INF] Executed action method biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 36.5836ms.
2024-07-23 12:07:51.334 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 12:07:51.334 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 12:07:51.334 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 12:07:51.334 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 12:07:51.334 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 12:07:51.334 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 12:07:51.334 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 78.6926ms
2024-07-23 12:07:51.334 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-23 12:07:51.334 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 12:07:51.334 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-23 12:07:51.334 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:51.334 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 12:07:51.334 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:51.334 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 87.5196ms
2024-07-23 12:07:51.334 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 12:07:51.335 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:51.335 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 12:07:51.341 -05:00 [INF] Consulta de libros exitosa
2024-07-23 12:07:51.341 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 14.7022ms.
2024-07-23 12:07:51.341 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 12:07:51.341 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 12:07:51.341 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 12:07:51.342 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 12:07:51.342 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 12:07:51.342 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 12:07:51.342 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 44.8328ms
2024-07-23 12:07:51.342 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-23 12:07:51.342 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 12:07:51.342 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:51.342 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 12:07:51.342 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 95.2766ms
2024-07-23 12:07:54.262 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/15 - null null
2024-07-23 12:07:54.262 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/15'
2024-07-23 12:07:54.262 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 12:07:54.262 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:07:54.262 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:07:54.262 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:07:54.262 -05:00 [DBG] The request is a preflight request.
2024-07-23 12:07:54.262 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/15 - 204 null null 0.664ms
2024-07-23 12:07:54.265 -05:00 [INF] Request starting HTTP/2 DELETE https://localhost:7299/api/Libros/15 - null null
2024-07-23 12:07:54.265 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/15'
2024-07-23 12:07:54.265 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Delete (biblioteca-backend)' with route pattern 'api/Libros/{id}' is valid for the request path '/api/Libros/15'
2024-07-23 12:07:54.265 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Delete (biblioteca-backend)'
2024-07-23 12:07:54.265 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:07:54.265 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:07:54.265 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:07:54.265 -05:00 [DBG] Successfully validated the token.
2024-07-23 12:07:54.265 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 12:07:54.265 -05:00 [DBG] Authorization was successful.
2024-07-23 12:07:54.265 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Delete (biblioteca-backend)'
2024-07-23 12:07:54.266 -05:00 [INF] Route matched with {action = "Delete", controller = "Libros"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-23 12:07:54.266 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 12:07:54.266 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 12:07:54.266 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 12:07:54.266 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 12:07:54.266 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 12:07:54.266 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 12:07:54.266 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-23 12:07:54.266 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-07-23 12:07:54.267 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-07-23 12:07:54.267 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 12:07:54.267 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 12:07:54.267 -05:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-07-23 12:07:54.267 -05:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-07-23 12:07:54.303 -05:00 [INF] Executing action method biblioteca_backend.Controllers.LibrosController.Delete (biblioteca-backend) - Validation state: "Valid"
2024-07-23 12:07:54.306 -05:00 [DBG] Eliminando libro con id 15...
2024-07-23 12:07:54.307 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 12:07:54.308 -05:00 [DBG] Creating DbConnection.
2024-07-23 12:07:54.308 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 12:07:54.308 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:54.308 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:54.308 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 12:07:54.308 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:07:54.308 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:07:54.308 -05:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Activo], [l].[Anio], [l].[Autor], [l].[IdGenero], [l].[Titulo]
FROM [Libro] AS [l]
WHERE [l].[Id] = @__p_0
2024-07-23 12:07:54.311 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Activo], [l].[Anio], [l].[Autor], [l].[IdGenero], [l].[Titulo]
FROM [Libro] AS [l]
WHERE [l].[Id] = @__p_0
2024-07-23 12:07:54.312 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:07:54.312 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:54.312 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 12:07:54.312 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:54.312 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 12:07:54.315 -05:00 [WRN] No se puede eliminar el libro con id 15 porque se encuentra en un préstamo activo
2024-07-23 12:07:54.427 -05:00 [ERR] Error al eliminar libro: No se puede eliminar el libro porque se encuentra en un préstamo activo
2024-07-23 12:07:54.543 -05:00 [INF] Executed action method biblioteca_backend.Controllers.LibrosController.Delete (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 239.394ms.
2024-07-23 12:07:54.543 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 12:07:54.543 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 12:07:54.543 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 12:07:54.543 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 12:07:54.543 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-07-23 12:07:54.543 -05:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-07-23 12:07:54.543 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Delete (biblioteca-backend) in 277.2277ms
2024-07-23 12:07:54.543 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Delete (biblioteca-backend)'
2024-07-23 12:07:54.543 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 12:07:54.544 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:07:54.544 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 12:07:54.544 -05:00 [INF] Request finished HTTP/2 DELETE https://localhost:7299/api/Libros/15 - 400 null text/plain; charset=utf-8 279.6813ms
2024-07-23 12:08:00.107 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 12:08:00.107 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 12:08:00.107 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 12:08:00.107 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:08:00.107 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:08:00.107 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:08:00.107 -05:00 [DBG] The request is a preflight request.
2024-07-23 12:08:00.108 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 204 null null 0.6454ms
2024-07-23 12:08:00.111 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-23 12:08:00.111 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 12:08:00.111 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)' with route pattern 'api/Prestmaos/ConsultarPrestamos' is valid for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-23 12:08:00.111 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 12:08:00.111 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:08:00.111 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:08:00.112 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:08:00.113 -05:00 [DBG] Successfully validated the token.
2024-07-23 12:08:00.113 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 12:08:00.113 -05:00 [DBG] Authorization was successful.
2024-07-23 12:08:00.113 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 12:08:00.113 -05:00 [INF] Route matched with {action = "ConsultarPrestamos", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsultarPrestamos() on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-23 12:08:00.113 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 12:08:00.113 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 12:08:00.114 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 12:08:00.114 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 12:08:00.114 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 12:08:00.114 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 12:08:00.115 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-23 12:08:00.146 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) - Validation state: "Valid"
2024-07-23 12:08:00.147 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 12:08:00.148 -05:00 [DBG] Creating DbConnection.
2024-07-23 12:08:00.148 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 12:08:00.148 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:08:00.148 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:08:00.148 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 12:08:00.148 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:08:00.148 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:08:00.148 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 12:08:00.153 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-23 12:08:00.154 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:08:00.154 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:08:00.154 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:08:00.154 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 12:08:00.154 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:08:00.154 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 12:08:00.157 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 12:08:00.157 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:08:00.157 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:08:00.158 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 12:08:00.158 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:08:00.158 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:08:00.158 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 12:08:00.160 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 12:08:00.160 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:08:00.160 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:08:00.160 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:08:00.160 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 12:08:00.160 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:08:00.160 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 12:08:00.163 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 12:08:00.166 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-23 12:08:00.172 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 12:08:00.172 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:08:00.172 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:08:00.172 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 12:08:00.173 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:08:00.173 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:08:00.173 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 12:08:00.178 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 12:08:00.178 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:08:00.178 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 12:08:00.178 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:08:00.178 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 12:08:00.180 -05:00 [DBG] Consultando perfil con id 34
2024-07-23 12:08:00.181 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:08:00.181 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:08:00.181 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 12:08:00.181 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:08:00.181 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:08:00.181 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 12:08:00.182 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 12:08:00.182 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:08:00.182 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:08:00.182 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:08:00.182 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 12:08:00.182 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:08:00.182 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 12:08:00.188 -05:00 [INF] Perfil encontrado con id: 34
2024-07-23 12:08:00.190 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-23 12:08:00.193 -05:00 [INF] Libros encontrados exitosamente
2024-07-23 12:08:00.194 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:08:00.194 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:08:00.194 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 12:08:00.194 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:08:00.194 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:08:00.194 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 12:08:00.195 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-23 12:08:00.195 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:08:00.195 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 12:08:00.195 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:08:00.195 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 12:08:00.195 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 48.3433ms.
2024-07-23 12:08:00.195 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 12:08:00.195 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 12:08:00.195 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 12:08:00.195 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 12:08:00.195 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 12:08:00.195 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.DTOs.ConsultaPrestamoModel, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-23 12:08:00.195 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) in 81.2835ms
2024-07-23 12:08:00.195 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-23 12:08:00.196 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 12:08:00.196 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:08:00.196 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 12:08:00.196 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 200 null application/json; charset=utf-8 85.2854ms
2024-07-23 12:09:13.906 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 12:09:13.906 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 12:09:13.907 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 12:09:13.907 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:09:13.907 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:09:13.907 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:09:13.907 -05:00 [DBG] The request is a preflight request.
2024-07-23 12:09:13.907 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - 204 null null 1.0982ms
2024-07-23 12:09:13.910 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 12:09:13.910 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 12:09:13.910 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 12:09:13.910 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 12:09:13.911 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:09:13.911 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:09:13.911 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:09:13.911 -05:00 [DBG] Successfully validated the token.
2024-07-23 12:09:13.911 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 12:09:13.911 -05:00 [DBG] Authorization was successful.
2024-07-23 12:09:13.911 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 12:09:13.912 -05:00 [INF] Route matched with {action = "Get", controller = "Perfiles"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 12:09:13.912 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 12:09:13.912 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 12:09:13.912 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 12:09:13.912 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 12:09:13.912 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 12:09:13.913 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 12:09:13.913 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 12:09:13.913 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-07-23 12:09:13.913 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-07-23 12:09:13.913 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 12:09:13.913 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 12:09:13.914 -05:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-07-23 12:09:13.914 -05:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-07-23 12:09:13.944 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 12:09:13.947 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 12:09:13.949 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 12:09:13.949 -05:00 [DBG] Creating DbConnection.
2024-07-23 12:09:13.949 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 12:09:13.949 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:09:13.949 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:09:13.949 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 12:09:13.949 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:09:13.949 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:09:13.949 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 12:09:13.952 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 12:09:13.952 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:09:13.952 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:09:13.952 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 12:09:13.952 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:09:13.953 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 12:09:13.955 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 12:09:13.955 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 10.653ms.
2024-07-23 12:09:13.955 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 12:09:13.955 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 12:09:13.955 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 12:09:13.955 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 12:09:13.956 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 12:09:13.956 -05:00 [INF] Executing OkObjectResult, writing value of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 12:09:13.956 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) in 43.2158ms
2024-07-23 12:09:13.956 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 12:09:13.956 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 12:09:13.956 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:09:13.956 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 12:09:13.956 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - 200 null application/json; charset=utf-8 46.119ms
2024-07-23 12:09:19.343 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - null null
2024-07-23 12:09:19.343 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 12:09:19.343 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 12:09:19.343 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:09:19.344 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:09:19.344 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:09:19.345 -05:00 [DBG] The request is a preflight request.
2024-07-23 12:09:19.345 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - 204 null null 2.2429ms
2024-07-23 12:09:19.348 -05:00 [INF] Request starting HTTP/2 PUT https://localhost:7299/api/Perfiles/ - application/json 130
2024-07-23 12:09:19.348 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 12:09:19.349 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 12:09:19.349 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)'
2024-07-23 12:09:19.349 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:09:19.349 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:09:19.349 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:09:19.350 -05:00 [DBG] Successfully validated the token.
2024-07-23 12:09:19.350 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 12:09:19.350 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)'
2024-07-23 12:09:19.354 -05:00 [INF] Route matched with {action = "Put", controller = "Perfiles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(biblioteca_backend.Models.DTOs.UpdateProfileModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 12:09:19.354 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 12:09:19.354 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 12:09:19.354 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 12:09:19.354 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 12:09:19.354 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 12:09:19.354 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 12:09:19.354 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 12:09:19.354 -05:00 [DBG] Attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel' ...
2024-07-23 12:09:19.354 -05:00 [DBG] Attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel' using the name '' in request data ...
2024-07-23 12:09:19.354 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-23 12:09:19.355 -05:00 [DBG] Connection id "0HN5B74A6BFNL", Request id "0HN5B74A6BFNL:0000005D": started reading request body.
2024-07-23 12:09:19.355 -05:00 [DBG] Connection id "0HN5B74A6BFNL", Request id "0HN5B74A6BFNL:0000005D": done reading request body.
2024-07-23 12:09:19.356 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'
2024-07-23 12:09:19.356 -05:00 [DBG] Done attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 12:09:19.356 -05:00 [DBG] Done attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 12:09:19.356 -05:00 [DBG] Attempting to validate the bound parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel' ...
2024-07-23 12:09:19.356 -05:00 [DBG] Done attempting to validate the bound parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 12:09:19.409 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend) - Validation state: "Valid"
2024-07-23 12:09:19.413 -05:00 [DBG] Actualizando perfil...
2024-07-23 12:09:19.415 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 12:09:19.416 -05:00 [DBG] Compiling query expression: 
'DbSet<Perfil>()
    .FirstOrDefault(p => p.Id == __perfil_Id_0)'
2024-07-23 12:09:19.420 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Perfil>(
    asyncEnumerable: new SingleQueryingEnumerable<Perfil>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Perfil.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Perfil.Apellido (string) Required, 1], [Property: Perfil.Contrasena (string) Required, 2], [Property: Perfil.Correo (string) Required, 3], [Property: Perfil.Direccion (string) Required, 4], [Property: Perfil.IdRol (int) Required FK Index, 5], [Property: Perfil.Nombre (string) Required, 6], [Property: Perfil.Telefono (string) Required, 7] }
            SELECT TOP(1) p.Id, p.Apellido, p.Contrasena, p.Correo, p.Direccion, p.IdRol, p.Nombre, p.Telefono
            FROM Perfil AS p
            WHERE p.Id == @__perfil_Id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Perfil>, 
        biblioteca_backend.DBBibliotecaContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-07-23 12:09:19.421 -05:00 [DBG] Creating DbConnection.
2024-07-23 12:09:19.421 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 12:09:19.421 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:09:19.421 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:09:19.421 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 12:09:19.421 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:09:19.421 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:09:19.421 -05:00 [DBG] Executing DbCommand [Parameters=[@__perfil_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__perfil_Id_0
2024-07-23 12:09:19.425 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__perfil_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__perfil_Id_0
2024-07-23 12:09:19.425 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:09:19.425 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:09:19.425 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 12:09:19.425 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:09:19.425 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 12:09:19.426 -05:00 [DBG] An entity of type 'Perfil' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:09:19.427 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-23 12:09:19.427 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-23 12:09:19.429 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-23 12:09:19.438 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:09:19.438 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:09:19.439 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 12:09:19.439 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:09:19.439 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:09:19.439 -05:00 [DBG] Executing DbCommand [Parameters=[@p7='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Perfil] SET [Apellido] = @p0, [Contrasena] = @p1, [Correo] = @p2, [Direccion] = @p3, [IdRol] = @p4, [Nombre] = @p5, [Telefono] = @p6
OUTPUT 1
WHERE [Id] = @p7;
2024-07-23 12:09:19.443 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p7='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Perfil] SET [Apellido] = @p0, [Contrasena] = @p1, [Correo] = @p2, [Direccion] = @p3, [IdRol] = @p4, [Nombre] = @p5, [Telefono] = @p6
OUTPUT 1
WHERE [Id] = @p7;
2024-07-23 12:09:19.445 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:09:19.446 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-07-23 12:09:19.446 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:09:19.446 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 12:09:19.446 -05:00 [DBG] An entity of type 'Perfil' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:09:19.447 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-23 12:09:19.451 -05:00 [INF] Perfil actualizado con id: {_perfil.Id}
2024-07-23 12:09:19.451 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 41.7961ms.
2024-07-23 12:09:19.451 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 12:09:19.452 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 12:09:19.452 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 12:09:19.452 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 12:09:19.452 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 12:09:19.452 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-23 12:09:19.452 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend) in 98.0213ms
2024-07-23 12:09:19.452 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)'
2024-07-23 12:09:19.452 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 12:09:19.452 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:09:19.452 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 12:09:19.452 -05:00 [INF] Request finished HTTP/2 PUT https://localhost:7299/api/Perfiles/ - 200 null application/json; charset=utf-8 105.8282ms
2024-07-23 12:09:19.457 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 12:09:19.457 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 12:09:19.457 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 12:09:19.457 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 12:09:19.457 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:09:19.457 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 12:09:19.457 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:09:19.457 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-23 12:09:19.457 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:09:19.458 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:09:19.458 -05:00 [DBG] The request is a preflight request.
2024-07-23 12:09:19.458 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:09:19.458 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:09:19.458 -05:00 [DBG] The request is a preflight request.
2024-07-23 12:09:19.458 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - 204 null null 1.8873ms
2024-07-23 12:09:19.458 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - 204 null null 0.9491ms
2024-07-23 12:09:19.461 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 12:09:19.461 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 12:09:19.461 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 12:09:19.461 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 12:09:19.461 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:09:19.461 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:09:19.462 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:09:19.462 -05:00 [DBG] Successfully validated the token.
2024-07-23 12:09:19.462 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 12:09:19.462 -05:00 [DBG] Authorization was successful.
2024-07-23 12:09:19.462 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 12:09:19.462 -05:00 [INF] Route matched with {action = "Get", controller = "Perfiles"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 12:09:19.462 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 12:09:19.462 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 12:09:19.462 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 12:09:19.462 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 12:09:19.462 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 12:09:19.462 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 12:09:19.463 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 12:09:19.463 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-07-23 12:09:19.463 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-07-23 12:09:19.463 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 12:09:19.463 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 12:09:19.463 -05:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-07-23 12:09:19.463 -05:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-07-23 12:09:19.490 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 12:09:19.493 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 12:09:19.494 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 12:09:19.494 -05:00 [DBG] Creating DbConnection.
2024-07-23 12:09:19.494 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 12:09:19.494 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:09:19.494 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:09:19.495 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 12:09:19.495 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:09:19.495 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:09:19.495 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 12:09:19.495 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 12:09:19.495 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:09:19.496 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:09:19.496 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 12:09:19.496 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:09:19.496 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 12:09:19.499 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 12:09:19.499 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 8.5213ms.
2024-07-23 12:09:19.499 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 12:09:19.499 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 12:09:19.499 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 12:09:19.499 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 12:09:19.499 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 12:09:19.500 -05:00 [INF] Executing OkObjectResult, writing value of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 12:09:19.500 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) in 37.2574ms
2024-07-23 12:09:19.500 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 12:09:19.500 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 12:09:19.500 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:09:19.500 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 12:09:19.501 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - 200 null application/json; charset=utf-8 40.2186ms
2024-07-23 12:09:19.502 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-23 12:09:19.503 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-23 12:09:19.503 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-23 12:09:19.503 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 12:09:19.503 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-23 12:09:19.503 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-23 12:09:19.503 -05:00 [INF] CORS policy execution successful.
2024-07-23 12:09:19.503 -05:00 [DBG] Successfully validated the token.
2024-07-23 12:09:19.503 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-23 12:09:19.503 -05:00 [DBG] Authorization was successful.
2024-07-23 12:09:19.503 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 12:09:19.503 -05:00 [INF] Route matched with {action = "Get", controller = "Perfiles"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-23 12:09:19.503 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-23 12:09:19.503 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-23 12:09:19.503 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-23 12:09:19.503 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-23 12:09:19.503 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-23 12:09:19.504 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 12:09:19.504 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-23 12:09:19.504 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-07-23 12:09:19.504 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-07-23 12:09:19.504 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 12:09:19.504 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-23 12:09:19.504 -05:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-07-23 12:09:19.504 -05:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-07-23 12:09:19.530 -05:00 [INF] Executing action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) - Validation state: "Valid"
2024-07-23 12:09:19.533 -05:00 [DBG] Consultando perfil con id 31
2024-07-23 12:09:19.534 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-23 12:09:19.535 -05:00 [DBG] Creating DbConnection.
2024-07-23 12:09:19.535 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-23 12:09:19.535 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:09:19.535 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:09:19.535 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-23 12:09:19.535 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:09:19.535 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-23 12:09:19.535 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 12:09:19.536 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-23 12:09:19.536 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-23 12:09:19.536 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:09:19.536 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-23 12:09:19.536 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:09:19.536 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-23 12:09:19.538 -05:00 [INF] Perfil encontrado con id: 31
2024-07-23 12:09:19.539 -05:00 [INF] Executed action method biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 8.415ms.
2024-07-23 12:09:19.539 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-23 12:09:19.539 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-23 12:09:19.539 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-23 12:09:19.539 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-23 12:09:19.539 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-23 12:09:19.539 -05:00 [INF] Executing OkObjectResult, writing value of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-23 12:09:19.540 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) in 35.9352ms
2024-07-23 12:09:19.540 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-23 12:09:19.540 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-23 12:09:19.540 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-23 12:09:19.540 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-23 12:09:19.540 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - 200 null application/json; charset=utf-8 38.2729ms
