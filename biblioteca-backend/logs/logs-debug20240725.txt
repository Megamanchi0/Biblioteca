2024-07-25 15:06:57.910 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-25 15:06:58.184 -05:00 [DBG] Hosting starting
2024-07-25 15:06:58.280 -05:00 [INF] User profile is available. Using 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-25 15:06:58.292 -05:00 [DBG] Reading data from file 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys\key-12ed5171-7863-4d3e-a216-6f5439158e60.xml'.
2024-07-25 15:06:58.331 -05:00 [DBG] Found key {12ed5171-7863-4d3e-a216-6f5439158e60}.
2024-07-25 15:06:58.357 -05:00 [DBG] Considering key {12ed5171-7863-4d3e-a216-6f5439158e60} with expiration date 2024-09-28 19:27:42Z as default key.
2024-07-25 15:06:58.362 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-25 15:06:58.366 -05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-25 15:06:58.368 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-25 15:06:58.375 -05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-25 15:06:58.377 -05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-25 15:06:58.379 -05:00 [DBG] Using key {12ed5171-7863-4d3e-a216-6f5439158e60} as the default key.
2024-07-25 15:06:58.380 -05:00 [DBG] Key ring with default key {12ed5171-7863-4d3e-a216-6f5439158e60} was loaded during application startup.
2024-07-25 15:06:59.011 -05:00 [INF] Now listening on: https://localhost:7299
2024-07-25 15:06:59.011 -05:00 [INF] Now listening on: http://localhost:5219
2024-07-25 15:06:59.011 -05:00 [DBG] Loaded hosting startup assembly biblioteca-backend
2024-07-25 15:06:59.011 -05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-25 15:06:59.011 -05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-25 15:06:59.012 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-25 15:06:59.012 -05:00 [INF] Hosting environment: Development
2024-07-25 15:06:59.012 -05:00 [INF] Content root path: C:\Users\spatino\Documents\Proyeco - Biblioteca\biblioteca-backend
2024-07-25 15:06:59.012 -05:00 [DBG] Hosting started
2024-07-25 15:06:59.372 -05:00 [DBG] Connection id "0HN5CSLBMGTO8" received FIN.
2024-07-25 15:06:59.380 -05:00 [DBG] Connection id "0HN5CSLBMGTO8" accepted.
2024-07-25 15:06:59.382 -05:00 [DBG] Connection id "0HN5CSLBMGTO8" started.
2024-07-25 15:06:59.429 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-25 15:06:59.536 -05:00 [DBG] Connection id "0HN5CSLBMGTO8" stopped.
2024-07-25 15:06:59.543 -05:00 [DBG] Connection id "0HN5CSLBMGTO8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-25 15:07:02.502 -05:00 [DBG] Connection id "0HN5CSLBMGTO9" accepted.
2024-07-25 15:07:02.503 -05:00 [DBG] Connection id "0HN5CSLBMGTO9" started.
2024-07-25 15:07:02.654 -05:00 [DBG] Connection id "0HN5CSLBMGTOA" accepted.
2024-07-25 15:07:02.657 -05:00 [DBG] Connection id "0HN5CSLBMGTOA" started.
2024-07-25 15:07:02.705 -05:00 [DBG] Connection 0HN5CSLBMGTOA established using the following protocol: "Tls12"
2024-07-25 15:07:02.705 -05:00 [DBG] Connection 0HN5CSLBMGTO9 established using the following protocol: "Tls12"
2024-07-25 15:07:02.838 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/index.html - null null
2024-07-25 15:07:03.055 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-25 15:07:03.085 -05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-25 15:07:03.086 -05:00 [DBG] Request did not match any endpoints
2024-07-25 15:07:03.254 -05:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-07-25 15:07:03.255 -05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-25 15:07:03.338 -05:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-07-25 15:07:03.342 -05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-25 15:07:03.346 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
2024-07-25 15:07:03.346 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
2024-07-25 15:07:03.365 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 17.6237ms
2024-07-25 15:07:03.366 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/index.html - 200 null text/html;charset=utf-8 531.0763ms
2024-07-25 15:07:03.575 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 229.8453ms
2024-07-25 15:07:03.670 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
2024-07-25 15:07:03.671 -05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-25 15:07:03.671 -05:00 [DBG] Request did not match any endpoints
2024-07-25 15:07:03.873 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 202.6105ms
2024-07-25 15:08:12.834 -05:00 [DBG] Connection id "0HN5CSLBMGTOA" received FIN.
2024-07-25 15:08:12.868 -05:00 [DBG] The connection queue processing loop for 0HN5CSLBMGTOA completed.
2024-07-25 15:08:12.984 -05:00 [DBG] Connection id "0HN5CSLBMGTOA" is closed. The last processed stream ID was 0.
2024-07-25 15:08:12.984 -05:00 [DBG] Connection id "0HN5CSLBMGTOA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-25 15:08:13.003 -05:00 [DBG] Connection id "0HN5CSLBMGTOA" stopped.
2024-07-25 15:08:24.959 -05:00 [DBG] Connection id "0HN5CSLBMGTOB" accepted.
2024-07-25 15:08:24.960 -05:00 [DBG] Connection id "0HN5CSLBMGTOB" started.
2024-07-25 15:08:24.975 -05:00 [DBG] Connection 0HN5CSLBMGTOB established using the following protocol: "Tls12"
2024-07-25 15:08:24.994 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - null null
2024-07-25 15:08:25.001 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-25 15:08:25.001 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:08:25.004 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:08:25.005 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:08:25.005 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:08:25.006 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:08:25.009 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - 204 null null 12.7716ms
2024-07-25 15:08:25.011 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Perfiles/ - application/json 54
2024-07-25 15:08:25.012 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-25 15:08:25.015 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-25 15:08:25.016 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-25 15:08:25.016 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:08:25.017 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:08:25.017 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:08:25.135 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-25 15:08:25.138 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-25 15:08:25.172 -05:00 [INF] Route matched with {action = "Post", controller = "Perfiles"}. Executing controller action with signature System.Object Post(biblioteca_backend.Models.DTOs.LogInModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-25 15:08:25.174 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:08:25.174 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:08:25.175 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:08:25.175 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:08:25.175 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:08:25.178 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-25 15:08:25.391 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-25 15:08:25.418 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-25 15:08:25.441 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-25 15:08:25.443 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' using the name '' in request data ...
2024-07-25 15:08:25.445 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-25 15:08:25.454 -05:00 [DBG] Connection id "0HN5CSLBMGTOB", Request id "0HN5CSLBMGTOB:00000003": started reading request body.
2024-07-25 15:08:25.455 -05:00 [DBG] Connection id "0HN5CSLBMGTOB", Request id "0HN5CSLBMGTOB:00000003": done reading request body.
2024-07-25 15:08:25.459 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.LogInModel'
2024-07-25 15:08:25.459 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-25 15:08:25.460 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-25 15:08:25.460 -05:00 [DBG] Attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-25 15:08:25.466 -05:00 [DBG] Done attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-25 15:08:25.494 -05:00 [DBG] Iniciando sesión...
2024-07-25 15:08:26.477 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:08:26.567 -05:00 [DBG] Compiling query expression: 
'DbSet<Perfil>()
    .FirstOrDefault(p => p.Correo == __8__locals1_logInModel_Correo_0 && p.Contrasena == __claveCifrada_1)'
2024-07-25 15:08:26.810 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Perfil>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Perfil.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Perfil.Apellido (string) Required, 1], [Property: Perfil.Contrasena (string) Required, 2], [Property: Perfil.Correo (string) Required, 3], [Property: Perfil.Direccion (string) Required, 4], [Property: Perfil.IdRol (int) Required FK Index, 5], [Property: Perfil.Nombre (string) Required, 6], [Property: Perfil.Telefono (string) Required, 7] }
        SELECT TOP(1) p.Id, p.Apellido, p.Contrasena, p.Correo, p.Direccion, p.IdRol, p.Nombre, p.Telefono
        FROM Perfil AS p
        WHERE (p.Correo == @__8__locals1_logInModel_Correo_0) && (p.Contrasena == @__claveCifrada_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Perfil>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-25 15:08:26.850 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:08:26.878 -05:00 [DBG] Created DbConnection. (25ms).
2024-07-25 15:08:26.881 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:08:27.361 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:08:27.364 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:08:27.370 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-07-25 15:08:27.384 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (20ms).
2024-07-25 15:08:27.397 -05:00 [DBG] Executing DbCommand [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-25 15:08:27.464 -05:00 [INF] Executed DbCommand (71ms) [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-25 15:08:27.509 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:08:27.536 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:08:27.546 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 75ms reading results.
2024-07-25 15:08:27.547 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:08:27.553 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (5ms).
2024-07-25 15:08:27.554 -05:00 [DBG] Compiling query expression: 
'DbSet<Rol>()
    .FirstOrDefault(r => r.Id == ___perfil_IdRol_0)'
2024-07-25 15:08:27.559 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Rol>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Rol.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Rol.Nombre (string) Required, 1] }
        SELECT TOP(1) r.Id, r.Nombre
        FROM Rol AS r
        WHERE r.Id == @___perfil_IdRol_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Rol>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-25 15:08:27.559 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:08:27.560 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:08:27.561 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:08:27.561 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:08:27.561 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:08:27.562 -05:00 [DBG] Executing DbCommand [Parameters=[@___perfil_IdRol_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Nombre]
FROM [Rol] AS [r]
WHERE [r].[Id] = @___perfil_IdRol_0
2024-07-25 15:08:27.568 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[@___perfil_IdRol_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Nombre]
FROM [Rol] AS [r]
WHERE [r].[Id] = @___perfil_IdRol_0
2024-07-25 15:08:27.583 -05:00 [DBG] The navigation 'Perfil.Rol' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:08:27.596 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Rol' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:08:27.600 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:08:27.600 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 31ms reading results.
2024-07-25 15:08:27.600 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:08:27.600 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:08:27.639 -05:00 [INF] Inicio de sesión exitoso
2024-07-25 15:08:27.644 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:08:27.646 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:08:27.646 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:08:27.646 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:08:27.647 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:08:27.647 -05:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-25 15:08:27.657 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) in 2477.3274ms
2024-07-25 15:08:27.657 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-25 15:08:27.660 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:08:27.665 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:08:27.668 -05:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-07-25 15:08:27.670 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Perfiles/ - 200 null application/json; charset=utf-8 2659.3547ms
2024-07-25 15:08:27.682 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-25 15:08:27.683 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:08:27.683 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:08:27.683 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:08:27.684 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:08:27.684 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:08:27.686 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:08:27.686 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 3.6902ms
2024-07-25 15:08:27.692 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-07-25 15:08:27.692 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-25 15:08:27.693 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:08:27.693 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:08:27.693 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:08:27.693 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:08:27.693 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:08:27.693 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 1.5998ms
2024-07-25 15:08:27.695 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-25 15:08:27.696 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:08:27.696 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-25 15:08:27.697 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-07-25 15:08:27.697 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:08:27.697 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-25 15:08:27.697 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-07-25 15:08:27.697 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:08:27.697 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-25 15:08:27.697 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:08:27.697 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:08:27.698 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:08:27.698 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:08:27.698 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:08:27.784 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:08:27.784 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:08:27.786 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:08:27.786 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:08:27.798 -05:00 [DBG] Authorization was successful.
2024-07-25 15:08:27.798 -05:00 [DBG] Authorization was successful.
2024-07-25 15:08:27.798 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-25 15:08:27.798 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:08:27.803 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-25 15:08:27.803 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:08:27.803 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:08:27.803 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:08:27.804 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:08:27.804 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:08:27.804 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-07-25 15:08:27.804 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:08:27.804 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:08:27.804 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:08:27.804 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:08:27.804 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:08:27.804 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:08:27.805 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-25 15:08:27.806 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-25 15:08:27.806 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:08:27.812 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-25 15:08:27.813 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-25 15:08:27.815 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:08:27.815 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:08:27.815 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-25 15:08:27.816 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:08:27.856 -05:00 [DBG] Consultando libros...
2024-07-25 15:08:27.880 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:08:27.883 -05:00 [DBG] Compiling query expression: 
'DbSet<Genero>()'
2024-07-25 15:08:27.884 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:08:27.888 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Genero>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Genero.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Genero.Nombre (string) Required, 1] }
        SELECT g.Id, g.Nombre
        FROM Genero AS g), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Genero>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-25 15:08:27.903 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:08:27.903 -05:00 [DBG] Compiling query expression: 
'DbSet<Libro>()
    .Join(
        inner: DbSet<Genero>(), 
        outerKeySelector: L => L.IdGenero, 
        innerKeySelector: G => G.Id, 
        resultSelector: (L, G) => new { 
            L = L, 
            G = G
         })
    .Where(<>h__TransparentIdentifier0 => True)
    .Select(<>h__TransparentIdentifier0 => new { 
        id = <>h__TransparentIdentifier0.L.Id, 
        titulo = <>h__TransparentIdentifier0.L.Titulo, 
        autor = <>h__TransparentIdentifier0.L.Autor, 
        anio = <>h__TransparentIdentifier0.L.Anio, 
        idGenero = <>h__TransparentIdentifier0.L.IdGenero, 
        genero = <>h__TransparentIdentifier0.G.Nombre, 
        activo = <>h__TransparentIdentifier0.L.Activo
     })'
2024-07-25 15:08:27.903 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:08:27.905 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:08:27.906 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:08:27.907 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:08:27.907 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:08:27.908 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-07-25 15:08:27.909 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-25 15:08:27.929 -05:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-25 15:08:27.947 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:08:27.951 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:08:27.951 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:08:27.951 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:08:27.951 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:08:27.951 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:08:27.951 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:08:27.951 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:08:27.952 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:08:27.952 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:08:27.952 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:08:27.952 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:08:27.952 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:08:27.955 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:08:27.955 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 25ms reading results.
2024-07-25 15:08:27.958 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:08:27.959 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:08:27.959 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType1<int, string, string, int, int, string, bool>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            id -> 0
            titulo -> 1
            autor -> 2
            anio -> 3
            idGenero -> 4
            genero -> 5
            activo -> 6
        SELECT l.Id AS id, l.Titulo AS titulo, l.Autor AS autor, l.Anio AS anio, l.IdGenero AS idGenero, g.Nombre AS genero, l.Activo AS activo
        FROM Libro AS l
        INNER JOIN Genero AS g ON l.IdGenero == g.Id), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType1<int, string, string, int, int, string, bool>>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-25 15:08:27.960 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:08:27.961 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:08:27.961 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:08:27.961 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:08:27.961 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:08:27.961 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:08:27.961 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:08:27.961 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-25 15:08:27.962 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:08:27.962 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:08:27.962 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:08:27.962 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:08:27.962 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:08:27.962 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-25 15:08:27.966 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-25 15:08:27.967 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:08:27.967 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 162.66ms
2024-07-25 15:08:27.967 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-25 15:08:27.967 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:08:27.968 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:08:27.971 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-25 15:08:27.971 -05:00 [INF] Consulta de libros exitosa
2024-07-25 15:08:27.971 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:08:27.971 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:08:27.971 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:08:27.971 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:08:27.971 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:08:27.972 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-25 15:08:27.972 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:08:27.973 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:08:27.973 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:08:27.973 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 276.5005ms
2024-07-25 15:08:27.979 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 174.9616ms
2024-07-25 15:08:27.979 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:08:27.980 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:08:27.980 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:08:27.980 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:08:27.980 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 284.7843ms
2024-07-25 15:09:42.899 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-07-25 15:09:42.899 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-25 15:09:42.895 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-25 15:09:42.900 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:09:42.900 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:09:42.900 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:09:42.900 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:09:42.901 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:09:42.901 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:09:42.901 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:09:42.901 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:09:42.901 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:09:42.901 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:09:42.901 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:09:42.901 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 2.1571ms
2024-07-25 15:09:42.901 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 5.814ms
2024-07-25 15:09:42.909 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-07-25 15:09:42.909 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-25 15:09:42.910 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:09:42.910 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-25 15:09:42.910 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-25 15:09:42.910 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:09:42.910 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-07-25 15:09:42.910 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-25 15:09:42.910 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:09:42.910 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:09:42.910 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:09:42.910 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:09:42.910 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:09:42.910 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:09:42.915 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:09:42.916 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:09:42.918 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:09:42.918 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:09:42.920 -05:00 [DBG] Authorization was successful.
2024-07-25 15:09:42.923 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-25 15:09:42.924 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-07-25 15:09:42.926 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:09:42.926 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:09:42.926 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:09:42.926 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:09:42.926 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:09:42.927 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-25 15:09:42.931 -05:00 [DBG] Authorization was successful.
2024-07-25 15:09:42.931 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:09:42.931 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-25 15:09:42.932 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-25 15:09:42.932 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:09:42.932 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:09:42.932 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:09:42.932 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:09:42.933 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:09:42.933 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:09:42.933 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:09:42.934 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-25 15:09:42.934 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-25 15:09:42.935 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:09:42.935 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:09:42.935 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-25 15:09:42.935 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:09:42.957 -05:00 [DBG] Consultando libros...
2024-07-25 15:09:43.076 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:09:43.076 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:09:43.077 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:09:43.077 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:09:43.077 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:09:43.077 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:09:43.077 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:09:43.077 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:09:43.078 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:09:43.078 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-25 15:09:43.084 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:09:43.085 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:09:43.085 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:09:43.100 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:09:43.100 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:09:43.100 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:09:43.100 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:09:43.100 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-25 15:09:43.160 -05:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-25 15:09:43.161 -05:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-25 15:09:43.161 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:09:43.161 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:09:43.161 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:09:43.161 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:09:43.161 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:09:43.161 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:09:43.161 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:09:43.164 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:09:43.165 -05:00 [INF] Consulta de libros exitosa
2024-07-25 15:09:43.165 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:09:43.165 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:09:43.165 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:09:43.165 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:09:43.166 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:09:43.166 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:09:43.166 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:09:43.166 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:09:43.166 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:09:43.166 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:09:43.166 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-25 15:09:43.166 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:09:43.166 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:09:43.166 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:09:43.166 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 233.6668ms
2024-07-25 15:09:43.166 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:09:43.166 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:09:43.166 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:09:43.167 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:09:43.167 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:09:43.167 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:09:43.167 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 6ms reading results.
2024-07-25 15:09:43.167 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 257.3765ms
2024-07-25 15:09:43.167 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:09:43.167 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:09:43.167 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:09:43.167 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:09:43.168 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:09:43.168 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:09:43.168 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:09:43.168 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-25 15:09:43.168 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 241.6686ms
2024-07-25 15:09:43.168 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-25 15:09:43.168 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:09:43.168 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:09:43.169 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:09:43.169 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 259.9617ms
2024-07-25 15:09:54.143 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-25 15:09:54.144 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:09:54.144 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:09:54.145 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:09:54.146 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:09:54.146 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:09:54.150 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:09:54.150 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 7.2511ms
2024-07-25 15:09:54.150 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-07-25 15:09:54.151 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-25 15:09:54.151 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:09:54.151 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:09:54.151 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:09:54.151 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:09:54.151 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:09:54.151 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 4.8839ms
2024-07-25 15:09:54.169 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-25 15:09:54.169 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:09:54.170 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-25 15:09:54.171 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:09:54.171 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:09:54.172 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:09:54.172 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:09:54.181 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-07-25 15:09:54.182 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-25 15:09:54.182 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-07-25 15:09:54.183 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-25 15:09:54.183 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:09:54.183 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:09:54.186 -05:00 [DBG] Authorization was successful.
2024-07-25 15:09:54.188 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:09:54.188 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-25 15:09:54.188 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:09:54.189 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:09:54.189 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:09:54.189 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:09:54.189 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:09:54.189 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:09:54.190 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:09:54.191 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-25 15:09:54.191 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-25 15:09:54.191 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:09:54.191 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:09:54.192 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-25 15:09:54.192 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:09:54.188 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:09:54.204 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:09:54.205 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:09:54.205 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:09:54.205 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:09:54.205 -05:00 [DBG] Authorization was successful.
2024-07-25 15:09:54.206 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-25 15:09:54.206 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-07-25 15:09:54.206 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:09:54.206 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:09:54.215 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:09:54.215 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:09:54.217 -05:00 [DBG] Consultando libros...
2024-07-25 15:09:54.215 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:09:54.220 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:09:54.219 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-25 15:09:54.222 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-25 15:09:54.223 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:09:54.223 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:09:54.223 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:09:54.223 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:09:54.223 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:09:54.223 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:09:54.223 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:09:54.224 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:09:54.224 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:09:54.224 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:09:54.224 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:09:54.224 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:09:54.224 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:09:54.224 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-25 15:09:54.224 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:09:54.224 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:09:54.224 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-25 15:09:54.227 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-25 15:09:54.229 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:09:54.230 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-07-25 15:09:54.230 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:09:54.230 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:09:54.250 -05:00 [INF] Consulta de libros exitosa
2024-07-25 15:09:54.249 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-25 15:09:54.251 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:09:54.251 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:09:54.251 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:09:54.251 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:09:54.251 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:09:54.251 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:09:54.251 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:09:54.251 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:09:54.251 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-25 15:09:54.251 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:09:54.252 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 62.411ms
2024-07-25 15:09:54.252 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:09:54.252 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:09:54.252 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:09:54.252 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:09:54.252 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:09:54.252 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:09:54.252 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:09:54.252 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:09:54.252 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 83.6625ms
2024-07-25 15:09:54.252 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:09:54.252 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:09:54.253 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:09:54.253 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:09:54.254 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:09:54.257 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:09:54.257 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 6ms reading results.
2024-07-25 15:09:54.258 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:09:54.258 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:09:54.258 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:09:54.258 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:09:54.259 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:09:54.259 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:09:54.259 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:09:54.259 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-25 15:09:54.259 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 41.7822ms
2024-07-25 15:09:54.259 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-25 15:09:54.260 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:09:54.260 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:09:54.260 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:09:54.260 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 79.2235ms
2024-07-25 15:09:59.318 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-07-25 15:09:59.318 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-25 15:09:59.318 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-25 15:09:59.319 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:09:59.319 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:09:59.319 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:09:59.319 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:09:59.319 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:09:59.319 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:09:59.319 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:09:59.319 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:09:59.319 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:09:59.319 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:09:59.319 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:09:59.319 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 0.7126ms
2024-07-25 15:09:59.320 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 0.6566ms
2024-07-25 15:09:59.323 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-07-25 15:09:59.324 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-25 15:09:59.324 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-25 15:09:59.324 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-07-25 15:09:59.324 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:09:59.324 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-25 15:09:59.324 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-25 15:09:59.324 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:09:59.324 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:09:59.324 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:09:59.324 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:09:59.324 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:09:59.324 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:09:59.324 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:09:59.325 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:09:59.325 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:09:59.325 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:09:59.325 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:09:59.325 -05:00 [DBG] Authorization was successful.
2024-07-25 15:09:59.325 -05:00 [DBG] Authorization was successful.
2024-07-25 15:09:59.325 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:09:59.325 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-25 15:09:59.325 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-25 15:09:59.325 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-07-25 15:09:59.325 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:09:59.325 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:09:59.325 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:09:59.326 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:09:59.326 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:09:59.326 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:09:59.326 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-25 15:09:59.326 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:09:59.326 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:09:59.326 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:09:59.326 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:09:59.326 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-25 15:09:59.326 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:09:59.326 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:09:59.327 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-25 15:09:59.327 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-25 15:09:59.327 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:09:59.327 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:09:59.327 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-25 15:09:59.327 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:09:59.327 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:09:59.330 -05:00 [DBG] Consultando libros...
2024-07-25 15:09:59.330 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:09:59.330 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:09:59.330 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:09:59.331 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:09:59.331 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:09:59.331 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:09:59.331 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:09:59.331 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-25 15:09:59.335 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-25 15:09:59.335 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:09:59.335 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:09:59.336 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:09:59.336 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:09:59.336 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:09:59.337 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:09:59.337 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:09:59.337 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:09:59.338 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:09:59.338 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:09:59.338 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:09:59.339 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:09:59.339 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:09:59.339 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:09:59.339 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:09:59.339 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-07-25 15:09:59.339 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:09:59.339 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:09:59.339 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:09:59.340 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:09:59.340 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:09:59.340 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:09:59.340 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:09:59.340 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-25 15:09:59.340 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 14.2851ms
2024-07-25 15:09:59.340 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-25 15:09:59.340 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:09:59.340 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:09:59.340 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:09:59.341 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 17.4007ms
2024-07-25 15:09:59.342 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:09:59.342 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:09:59.342 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:09:59.342 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:09:59.342 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:09:59.343 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:09:59.343 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:09:59.343 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-25 15:09:59.359 -05:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-25 15:09:59.359 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:09:59.359 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:09:59.360 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:09:59.360 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:09:59.366 -05:00 [INF] Consulta de libros exitosa
2024-07-25 15:09:59.367 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:09:59.367 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:09:59.367 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:09:59.367 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:09:59.368 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:09:59.368 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-25 15:09:59.368 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 41.8149ms
2024-07-25 15:09:59.368 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:09:59.368 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:09:59.368 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:09:59.368 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:09:59.368 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 44.6216ms
2024-07-25 15:10:03.706 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-25 15:10:03.706 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-07-25 15:10:03.706 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:10:03.707 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-25 15:10:03.707 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-25 15:10:03.707 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-07-25 15:10:03.707 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:10:03.707 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-25 15:10:03.707 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:10:03.707 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:10:03.707 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:10:03.707 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:10:03.707 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:10:03.707 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:10:03.707 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:10:03.707 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:10:03.707 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:10:03.707 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:10:03.707 -05:00 [DBG] Authorization was successful.
2024-07-25 15:10:03.708 -05:00 [DBG] Authorization was successful.
2024-07-25 15:10:03.708 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:10:03.708 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-25 15:10:03.708 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-25 15:10:03.708 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-07-25 15:10:03.708 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:10:03.708 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:10:03.708 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:10:03.708 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:10:03.708 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:10:03.708 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:10:03.708 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:10:03.708 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:10:03.708 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:10:03.708 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:10:03.708 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:10:03.708 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-25 15:10:03.708 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:10:03.708 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-25 15:10:03.709 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-25 15:10:03.709 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-25 15:10:03.709 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:10:03.709 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:10:03.709 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-25 15:10:03.709 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:10:03.710 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:10:03.712 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:10:03.712 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:10:03.712 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:10:03.711 -05:00 [DBG] Consultando libros...
2024-07-25 15:10:03.713 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:10:03.713 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:10:03.713 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:10:03.713 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:10:03.713 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-25 15:10:03.715 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:10:03.716 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-25 15:10:03.716 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:10:03.716 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:10:03.717 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:10:03.717 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:10:03.717 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:10:03.717 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:10:03.717 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:10:03.717 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:10:03.717 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:10:03.717 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:10:03.717 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:10:03.717 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:10:03.717 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:10:03.717 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:10:03.717 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-25 15:10:03.717 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:10:03.718 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:10:03.718 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:10:03.718 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:10:03.718 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:10:03.718 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:10:03.718 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:10:03.718 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-07-25 15:10:03.718 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:10:03.718 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-25 15:10:03.718 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:10:03.719 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:10:03.723 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:10:03.723 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-07-25 15:10:03.723 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:10:03.723 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:10:03.723 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:10:03.723 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:10:03.723 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:10:03.723 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:10:03.732 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-25 15:10:03.733 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 24.7256ms
2024-07-25 15:10:03.733 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-25 15:10:03.733 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:10:03.734 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:10:03.734 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:10:03.734 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 27.7923ms
2024-07-25 15:10:03.742 -05:00 [INF] Consulta de libros exitosa
2024-07-25 15:10:03.742 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:10:03.742 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:10:03.742 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:10:03.742 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:10:03.742 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:10:03.742 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-25 15:10:03.742 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 34.29ms
2024-07-25 15:10:03.743 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:10:03.743 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:10:03.743 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:10:03.743 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:10:03.743 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 36.7191ms
2024-07-25 15:10:35.140 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-25 15:10:35.140 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:10:35.140 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:10:35.140 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:10:35.141 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:10:35.141 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:10:35.142 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:10:35.142 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 2.1491ms
2024-07-25 15:10:35.146 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-07-25 15:10:35.146 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-25 15:10:35.146 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:10:35.146 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:10:35.146 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:10:35.146 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:10:35.146 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:10:35.146 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 0.774ms
2024-07-25 15:10:35.148 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-25 15:10:35.148 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:10:35.148 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-25 15:10:35.148 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:10:35.148 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:10:35.148 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:10:35.149 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:10:35.149 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:10:35.149 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:10:35.149 -05:00 [DBG] Authorization was successful.
2024-07-25 15:10:35.150 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-07-25 15:10:35.150 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:10:35.150 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-25 15:10:35.150 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-25 15:10:35.150 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-07-25 15:10:35.150 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:10:35.150 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-25 15:10:35.150 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:10:35.150 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:10:35.150 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:10:35.150 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:10:35.150 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:10:35.150 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:10:35.150 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:10:35.150 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:10:35.150 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:10:35.150 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:10:35.151 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:10:35.151 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-25 15:10:35.151 -05:00 [DBG] Authorization was successful.
2024-07-25 15:10:35.151 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-25 15:10:35.151 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-07-25 15:10:35.153 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:10:35.153 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:10:35.154 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-25 15:10:35.154 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:10:35.154 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:10:35.154 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:10:35.154 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:10:35.154 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-25 15:10:35.154 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:10:35.154 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:10:35.154 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-25 15:10:35.156 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-25 15:10:35.157 -05:00 [DBG] Consultando libros...
2024-07-25 15:10:35.157 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:10:35.158 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:10:35.158 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:10:35.158 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:10:35.158 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:10:35.158 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:10:35.158 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:10:35.158 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:10:35.158 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:10:35.158 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-25 15:10:35.158 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:10:35.159 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:10:35.159 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:10:35.160 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:10:35.165 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:10:35.165 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:10:35.166 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:10:35.166 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-25 15:10:35.181 -05:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-25 15:10:35.181 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:10:35.181 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:10:35.182 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:10:35.182 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:10:35.182 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:10:35.182 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:10:35.182 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:10:35.182 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:10:35.183 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:10:35.185 -05:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-25 15:10:35.186 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:10:35.186 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:10:35.186 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:10:35.186 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:10:35.186 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:10:35.186 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:10:35.186 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:10:35.190 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:10:35.190 -05:00 [INF] Consulta de libros exitosa
2024-07-25 15:10:35.190 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:10:35.190 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 8ms reading results.
2024-07-25 15:10:35.190 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:10:35.190 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:10:35.190 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:10:35.190 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:10:35.191 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:10:35.191 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:10:35.191 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:10:35.191 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:10:35.191 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:10:35.191 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-25 15:10:35.191 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:10:35.191 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:10:35.191 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 40.8368ms
2024-07-25 15:10:35.191 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:10:35.191 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:10:35.191 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-25 15:10:35.191 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 37.3637ms
2024-07-25 15:10:35.191 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-25 15:10:35.191 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:10:35.191 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:10:35.192 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:10:35.192 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:10:35.192 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:10:35.192 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:10:35.192 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 42.3098ms
2024-07-25 15:10:35.192 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 44.2657ms
2024-07-25 15:10:49.225 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-25 15:10:49.225 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:10:49.225 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:10:49.225 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:10:49.226 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:10:49.226 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:10:49.226 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:10:49.226 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 1.1389ms
2024-07-25 15:10:49.229 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-07-25 15:10:49.229 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-25 15:10:49.229 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:10:49.229 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:10:49.229 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:10:49.229 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:10:49.230 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:10:49.230 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 0.8781ms
2024-07-25 15:10:49.233 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-25 15:10:49.233 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:10:49.233 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-25 15:10:49.234 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:10:49.234 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:10:49.235 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:10:49.235 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:10:49.235 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:10:49.235 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:10:49.236 -05:00 [DBG] Authorization was successful.
2024-07-25 15:10:49.236 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:10:49.236 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-25 15:10:49.236 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:10:49.236 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:10:49.236 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:10:49.237 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:10:49.237 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:10:49.237 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:10:49.240 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-07-25 15:10:49.241 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-25 15:10:49.241 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-07-25 15:10:49.241 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-25 15:10:49.241 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:10:49.242 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:10:49.242 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:10:49.242 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:10:49.243 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:10:49.243 -05:00 [DBG] Authorization was successful.
2024-07-25 15:10:49.240 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:10:49.254 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-25 15:10:49.254 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-25 15:10:49.255 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-25 15:10:49.258 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-07-25 15:10:49.258 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:10:49.258 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:10:49.258 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:10:49.258 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:10:49.258 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:10:49.258 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-25 15:10:49.259 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-25 15:10:49.260 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:10:49.260 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:10:49.260 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:10:49.260 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:10:49.260 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:10:49.260 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:10:49.260 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:10:49.261 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:10:49.261 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-25 15:10:49.258 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:10:49.270 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:10:49.271 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-25 15:10:49.271 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:10:49.275 -05:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-25 15:10:49.276 -05:00 [DBG] Consultando libros...
2024-07-25 15:10:49.276 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:10:49.276 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:10:49.276 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:10:49.276 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:10:49.277 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:10:49.277 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:10:49.277 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:10:49.277 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:10:49.277 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:10:49.277 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:10:49.277 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:10:49.277 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:10:49.277 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:10:49.277 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:10:49.277 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:10:49.278 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-07-25 15:10:49.278 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:10:49.278 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:10:49.278 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:10:49.278 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:10:49.278 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:10:49.278 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:10:49.278 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:10:49.278 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:10:49.278 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:10:49.278 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:10:49.278 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:10:49.278 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:10:49.278 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-25 15:10:49.279 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:10:49.279 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 20.3242ms
2024-07-25 15:10:49.279 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:10:49.279 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-25 15:10:49.279 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-25 15:10:49.279 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:10:49.279 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:10:49.279 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:10:49.279 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 39.3391ms
2024-07-25 15:10:49.280 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-25 15:10:49.280 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:10:49.281 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:10:49.281 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:10:49.281 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:10:49.285 -05:00 [INF] Consulta de libros exitosa
2024-07-25 15:10:49.285 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:10:49.285 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:10:49.285 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:10:49.285 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:10:49.286 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:10:49.286 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-25 15:10:49.286 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 48.9078ms
2024-07-25 15:10:49.286 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:10:49.287 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:10:49.287 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:10:49.287 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:10:49.288 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 54.6278ms
2024-07-25 15:11:10.262 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/ - null null
2024-07-25 15:11:10.263 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:11:10.263 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:11:10.263 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:11:10.263 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:11:10.263 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:11:10.263 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:11:10.263 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/ - 204 null null 0.7543ms
2024-07-25 15:11:10.265 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Libros/ - application/json 118
2024-07-25 15:11:10.266 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:11:10.266 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Post (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-25 15:11:10.266 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Post (biblioteca-backend)'
2024-07-25 15:11:10.267 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:11:10.268 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:11:10.268 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:11:10.271 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:11:10.271 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:11:10.273 -05:00 [DBG] Authorization was successful.
2024-07-25 15:11:10.273 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Post (biblioteca-backend)'
2024-07-25 15:11:10.278 -05:00 [INF] Route matched with {action = "Post", controller = "Libros"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(biblioteca_backend.Models.Libro) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-25 15:11:10.278 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:11:10.278 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:11:10.278 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:11:10.278 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:11:10.278 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:11:10.278 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:11:10.278 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:11:10.278 -05:00 [DBG] Attempting to bind parameter 'libro' of type 'biblioteca_backend.Models.Libro' ...
2024-07-25 15:11:10.279 -05:00 [DBG] Attempting to bind parameter 'libro' of type 'biblioteca_backend.Models.Libro' using the name '' in request data ...
2024-07-25 15:11:10.279 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-25 15:11:10.280 -05:00 [DBG] Connection id "0HN5CSLBMGTOB", Request id "0HN5CSLBMGTOB:0000003B": started reading request body.
2024-07-25 15:11:10.280 -05:00 [DBG] Connection id "0HN5CSLBMGTOB", Request id "0HN5CSLBMGTOB:0000003B": done reading request body.
2024-07-25 15:11:10.284 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.Libro'
2024-07-25 15:11:10.284 -05:00 [DBG] Done attempting to bind parameter 'libro' of type 'biblioteca_backend.Models.Libro'.
2024-07-25 15:11:10.284 -05:00 [DBG] Done attempting to bind parameter 'libro' of type 'biblioteca_backend.Models.Libro'.
2024-07-25 15:11:10.284 -05:00 [DBG] Attempting to validate the bound parameter 'libro' of type 'biblioteca_backend.Models.Libro' ...
2024-07-25 15:11:10.290 -05:00 [DBG] Done attempting to validate the bound parameter 'libro' of type 'biblioteca_backend.Models.Libro'.
2024-07-25 15:11:10.294 -05:00 [DBG] Guardando libro...
2024-07-25 15:11:10.295 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:11:10.313 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'Libro.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:11:10.337 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:11:10.340 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:11:10.343 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:11:10.353 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-25 15:11:10.431 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:11:10.431 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:11:10.431 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:11:10.431 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:11:10.435 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:11:10.435 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:11:10.435 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:11:10.435 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Libro] ([Activo], [Anio], [Autor], [IdGenero], [Titulo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-07-25 15:11:10.442 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Libro] ([Activo], [Anio], [Autor], [IdGenero], [Titulo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-07-25 15:11:10.470 -05:00 [DBG] The foreign key property 'Libro.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-25 15:11:10.476 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:11:10.476 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 33ms reading results.
2024-07-25 15:11:10.477 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:11:10.477 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:11:10.487 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:11:10.489 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-25 15:11:10.491 -05:00 [INF] Libro guardado exitosamente
2024-07-25 15:11:10.492 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:11:10.492 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:11:10.492 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:11:10.492 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:11:10.492 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:11:10.492 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-25 15:11:10.493 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Post (biblioteca-backend) in 214.9694ms
2024-07-25 15:11:10.493 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Post (biblioteca-backend)'
2024-07-25 15:11:10.493 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:11:10.493 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:11:10.493 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:11:10.493 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Libros/ - 200 null application/json; charset=utf-8 228.3307ms
2024-07-25 15:11:10.502 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-25 15:11:10.502 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:11:10.502 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:11:10.502 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:11:10.502 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:11:10.503 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:11:10.503 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:11:10.503 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 0.7989ms
2024-07-25 15:11:10.505 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-25 15:11:10.505 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:11:10.505 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-25 15:11:10.505 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:11:10.505 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:11:10.505 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:11:10.505 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:11:10.505 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:11:10.505 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:11:10.505 -05:00 [DBG] Authorization was successful.
2024-07-25 15:11:10.506 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:11:10.506 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-25 15:11:10.506 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:11:10.506 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:11:10.506 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:11:10.506 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:11:10.506 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:11:10.506 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:11:10.506 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:11:10.506 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-25 15:11:10.506 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-25 15:11:10.506 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:11:10.506 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:11:10.506 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-25 15:11:10.507 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:11:10.509 -05:00 [DBG] Consultando libros...
2024-07-25 15:11:10.510 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:11:10.510 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:11:10.510 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:11:10.510 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:11:10.510 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:11:10.511 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:11:10.511 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:11:10.511 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:11:10.511 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-25 15:11:10.511 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-25 15:11:10.512 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:11:10.512 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:11:10.512 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:11:10.512 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:11:10.514 -05:00 [INF] Consulta de libros exitosa
2024-07-25 15:11:10.515 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:11:10.516 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:11:10.516 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:11:10.516 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:11:10.516 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:11:10.516 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-25 15:11:10.516 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 10.3522ms
2024-07-25 15:11:10.516 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:11:10.517 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:11:10.517 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:11:10.517 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:11:10.517 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 12.6157ms
2024-07-25 15:12:21.660 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-25 15:12:21.662 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-07-25 15:12:21.662 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-25 15:12:21.662 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:12:21.662 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:12:21.662 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:12:21.662 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:12:21.662 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:12:21.662 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:12:21.662 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:12:21.662 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:12:21.663 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:12:21.663 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:12:21.663 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:12:21.664 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 3.5184ms
2024-07-25 15:12:21.664 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 2.1391ms
2024-07-25 15:12:21.669 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-25 15:12:21.669 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:12:21.670 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-07-25 15:12:21.671 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-25 15:12:21.671 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-25 15:12:21.671 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-07-25 15:12:21.671 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:12:21.671 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-25 15:12:21.671 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:12:21.671 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:12:21.671 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:12:21.671 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:12:21.671 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:12:21.671 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:12:21.671 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:12:21.672 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:12:21.672 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:12:21.672 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:12:21.672 -05:00 [DBG] Authorization was successful.
2024-07-25 15:12:21.672 -05:00 [DBG] Authorization was successful.
2024-07-25 15:12:21.672 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-25 15:12:21.672 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:12:21.672 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-07-25 15:12:21.672 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-25 15:12:21.672 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:12:21.672 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:12:21.672 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:12:21.672 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:12:21.672 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:12:21.672 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:12:21.672 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:12:21.672 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:12:21.672 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:12:21.672 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:12:21.672 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-25 15:12:21.672 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:12:21.673 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:12:21.673 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-25 15:12:21.673 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-25 15:12:21.673 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-25 15:12:21.673 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:12:21.673 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:12:21.674 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:12:21.674 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-25 15:12:21.674 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:12:21.674 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:12:21.674 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:12:21.676 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:12:21.676 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:12:21.676 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:12:21.676 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:12:21.677 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:12:21.677 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-25 15:12:21.691 -05:00 [DBG] Consultando libros...
2024-07-25 15:12:21.695 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:12:21.695 -05:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-25 15:12:21.696 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:12:21.696 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:12:21.713 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:12:21.713 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:12:21.713 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:12:21.713 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:12:21.713 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:12:21.713 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:12:21.713 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:12:21.713 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:12:21.714 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:12:21.714 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:12:21.714 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:12:21.714 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:12:21.715 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:12:21.715 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 19ms reading results.
2024-07-25 15:12:21.716 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:12:21.717 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (1ms).
2024-07-25 15:12:21.717 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:12:21.718 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:12:21.718 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:12:21.718 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:12:21.718 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:12:21.718 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-25 15:12:21.719 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 46.3827ms
2024-07-25 15:12:21.719 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-25 15:12:21.699 -05:00 [DBG] Created DbConnection. (3ms).
2024-07-25 15:12:21.723 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:12:21.725 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:12:21.725 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:12:21.725 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:12:21.725 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:12:21.725 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:12:21.726 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:12:21.726 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:12:21.726 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-25 15:12:21.726 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 55.5814ms
2024-07-25 15:12:21.759 -05:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-25 15:12:21.760 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:12:21.760 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:12:21.760 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:12:21.760 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:12:21.767 -05:00 [INF] Consulta de libros exitosa
2024-07-25 15:12:21.767 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:12:21.768 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:12:21.768 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:12:21.768 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:12:21.768 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:12:21.768 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-25 15:12:21.768 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 95.648ms
2024-07-25 15:12:21.768 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:12:21.768 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:12:21.768 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:12:21.768 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:12:21.768 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 99.6638ms
2024-07-25 15:12:27.634 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/83 - null null
2024-07-25 15:12:27.634 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/83'
2024-07-25 15:12:27.634 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:12:27.634 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:12:27.634 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:12:27.634 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:12:27.634 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:12:27.634 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/83 - 204 null null 0.5442ms
2024-07-25 15:12:27.636 -05:00 [INF] Request starting HTTP/2 DELETE https://localhost:7299/api/Libros/83 - null null
2024-07-25 15:12:27.636 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/83'
2024-07-25 15:12:27.637 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Delete (biblioteca-backend)' with route pattern 'api/Libros/{id}' is valid for the request path '/api/Libros/83'
2024-07-25 15:12:27.637 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Delete (biblioteca-backend)'
2024-07-25 15:12:27.637 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:12:27.637 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:12:27.637 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:12:27.637 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:12:27.637 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:12:27.637 -05:00 [DBG] Authorization was successful.
2024-07-25 15:12:27.637 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Delete (biblioteca-backend)'
2024-07-25 15:12:27.644 -05:00 [INF] Route matched with {action = "Delete", controller = "Libros"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-25 15:12:27.644 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:12:27.644 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:12:27.644 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:12:27.644 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:12:27.644 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:12:27.644 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:12:27.644 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:12:27.644 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-07-25 15:12:27.645 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-07-25 15:12:27.645 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-25 15:12:27.645 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-25 15:12:27.645 -05:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-07-25 15:12:27.645 -05:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-07-25 15:12:27.650 -05:00 [DBG] Eliminando libro con id 83...
2024-07-25 15:12:27.651 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:12:27.661 -05:00 [DBG] Compiling query expression: 
'DbSet<Libro>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)'
2024-07-25 15:12:27.683 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Libro>(
    asyncEnumerable: new SingleQueryingEnumerable<Libro>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Libro.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Libro.Activo (bool) Required, 1], [Property: Libro.Anio (int) Required, 2], [Property: Libro.Autor (string) Required, 3], [Property: Libro.IdGenero (int) Required FK Index, 4], [Property: Libro.Titulo (string) Required, 5] }
            SELECT TOP(1) l.Id, l.Activo, l.Anio, l.Autor, l.IdGenero, l.Titulo
            FROM Libro AS l
            WHERE l.Id == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Libro>, 
        biblioteca_backend.DBBibliotecaContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-07-25 15:12:27.685 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:12:27.685 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:12:27.685 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:12:27.685 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:12:27.685 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:12:27.685 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:12:27.685 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:12:27.685 -05:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Activo], [l].[Anio], [l].[Autor], [l].[IdGenero], [l].[Titulo]
FROM [Libro] AS [l]
WHERE [l].[Id] = @__p_0
2024-07-25 15:12:27.687 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Activo], [l].[Anio], [l].[Autor], [l].[IdGenero], [l].[Titulo]
FROM [Libro] AS [l]
WHERE [l].[Id] = @__p_0
2024-07-25 15:12:27.688 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:12:27.690 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:12:27.690 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-07-25 15:12:27.690 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:12:27.691 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:12:27.691 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:12:27.693 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:12:27.693 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:12:27.693 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-25 15:12:27.700 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:12:27.700 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:12:27.700 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:12:27.700 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:12:27.700 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:12:27.700 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Libro]
OUTPUT 1
WHERE [Id] = @p0;
2024-07-25 15:12:27.711 -05:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Libro]
OUTPUT 1
WHERE [Id] = @p0;
2024-07-25 15:12:27.712 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:12:27.713 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-25 15:12:27.713 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:12:27.713 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:12:27.716 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:12:27.716 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-25 15:12:27.718 -05:00 [INF] Libro eliminado con id 83
2024-07-25 15:12:27.719 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:12:27.719 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:12:27.719 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:12:27.719 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:12:27.719 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:12:27.719 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-25 15:12:27.719 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Delete (biblioteca-backend) in 75.0657ms
2024-07-25 15:12:27.719 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Delete (biblioteca-backend)'
2024-07-25 15:12:27.719 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:12:27.719 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:12:27.720 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:12:27.720 -05:00 [INF] Request finished HTTP/2 DELETE https://localhost:7299/api/Libros/83 - 200 null application/json; charset=utf-8 83.3764ms
2024-07-25 15:12:27.724 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-25 15:12:27.725 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:12:27.725 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:12:27.725 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:12:27.725 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:12:27.725 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:12:27.725 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:12:27.725 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 0.6001ms
2024-07-25 15:12:27.728 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-25 15:12:27.728 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:12:27.728 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-25 15:12:27.728 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:12:27.728 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:12:27.729 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:12:27.729 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:12:27.729 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:12:27.729 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:12:27.729 -05:00 [DBG] Authorization was successful.
2024-07-25 15:12:27.729 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:12:27.730 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-25 15:12:27.730 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:12:27.730 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:12:27.730 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:12:27.730 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:12:27.730 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:12:27.730 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:12:27.730 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:12:27.730 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-25 15:12:27.731 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-25 15:12:27.731 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:12:27.731 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:12:27.731 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-25 15:12:27.731 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:12:27.735 -05:00 [DBG] Consultando libros...
2024-07-25 15:12:27.736 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:12:27.737 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:12:27.737 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:12:27.737 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:12:27.737 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:12:27.738 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:12:27.738 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:12:27.738 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:12:27.738 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-25 15:12:27.738 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-25 15:12:27.739 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:12:27.739 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:12:27.739 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:12:27.739 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:12:27.742 -05:00 [INF] Consulta de libros exitosa
2024-07-25 15:12:27.742 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:12:27.742 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:12:27.743 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:12:27.743 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:12:27.743 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:12:27.743 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-25 15:12:27.743 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 13.1755ms
2024-07-25 15:12:27.743 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:12:27.743 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:12:27.744 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:12:27.744 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:12:27.744 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 15.6233ms
2024-07-25 15:12:40.804 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/ - null null
2024-07-25 15:12:40.804 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:12:40.804 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:12:40.804 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:12:40.804 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:12:40.805 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:12:40.805 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:12:40.805 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/ - 204 null null 1.2365ms
2024-07-25 15:12:40.808 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Libros/ - application/json 118
2024-07-25 15:12:40.808 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:12:40.808 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Post (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-25 15:12:40.808 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Post (biblioteca-backend)'
2024-07-25 15:12:40.809 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:12:40.809 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:12:40.809 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:12:40.809 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:12:40.809 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:12:40.809 -05:00 [DBG] Authorization was successful.
2024-07-25 15:12:40.809 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Post (biblioteca-backend)'
2024-07-25 15:12:40.809 -05:00 [INF] Route matched with {action = "Post", controller = "Libros"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(biblioteca_backend.Models.Libro) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-25 15:12:40.809 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:12:40.809 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:12:40.809 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:12:40.810 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:12:40.810 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:12:40.810 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:12:40.810 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:12:40.810 -05:00 [DBG] Attempting to bind parameter 'libro' of type 'biblioteca_backend.Models.Libro' ...
2024-07-25 15:12:40.810 -05:00 [DBG] Attempting to bind parameter 'libro' of type 'biblioteca_backend.Models.Libro' using the name '' in request data ...
2024-07-25 15:12:40.810 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-25 15:12:40.811 -05:00 [DBG] Connection id "0HN5CSLBMGTOB", Request id "0HN5CSLBMGTOB:00000053": started reading request body.
2024-07-25 15:12:40.811 -05:00 [DBG] Connection id "0HN5CSLBMGTOB", Request id "0HN5CSLBMGTOB:00000053": done reading request body.
2024-07-25 15:12:40.811 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.Libro'
2024-07-25 15:12:40.811 -05:00 [DBG] Done attempting to bind parameter 'libro' of type 'biblioteca_backend.Models.Libro'.
2024-07-25 15:12:40.811 -05:00 [DBG] Done attempting to bind parameter 'libro' of type 'biblioteca_backend.Models.Libro'.
2024-07-25 15:12:40.811 -05:00 [DBG] Attempting to validate the bound parameter 'libro' of type 'biblioteca_backend.Models.Libro' ...
2024-07-25 15:12:40.811 -05:00 [DBG] Done attempting to validate the bound parameter 'libro' of type 'biblioteca_backend.Models.Libro'.
2024-07-25 15:12:40.816 -05:00 [DBG] Guardando libro...
2024-07-25 15:12:40.818 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:12:40.820 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'Libro.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:12:40.820 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:12:40.820 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:12:40.821 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:12:40.821 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-25 15:12:40.822 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:12:40.822 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:12:40.822 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:12:40.822 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:12:40.822 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:12:40.822 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:12:40.822 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:12:40.822 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Libro] ([Activo], [Anio], [Autor], [IdGenero], [Titulo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-07-25 15:12:40.826 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Libro] ([Activo], [Anio], [Autor], [IdGenero], [Titulo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-07-25 15:12:40.826 -05:00 [DBG] The foreign key property 'Libro.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-25 15:12:40.827 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:12:40.827 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:12:40.827 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:12:40.827 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:12:40.827 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:12:40.827 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-25 15:12:40.831 -05:00 [INF] Libro guardado exitosamente
2024-07-25 15:12:40.831 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:12:40.831 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:12:40.831 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:12:40.831 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:12:40.831 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:12:40.831 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-25 15:12:40.831 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Post (biblioteca-backend) in 21.5997ms
2024-07-25 15:12:40.831 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Post (biblioteca-backend)'
2024-07-25 15:12:40.832 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:12:40.832 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:12:40.832 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:12:40.832 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Libros/ - 200 null application/json; charset=utf-8 24.7467ms
2024-07-25 15:12:40.836 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-25 15:12:40.836 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:12:40.836 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:12:40.836 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:12:40.836 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:12:40.836 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:12:40.836 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:12:40.836 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 0.656ms
2024-07-25 15:12:40.839 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-25 15:12:40.839 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:12:40.839 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-25 15:12:40.839 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:12:40.839 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:12:40.840 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:12:40.840 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:12:40.840 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:12:40.840 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:12:40.840 -05:00 [DBG] Authorization was successful.
2024-07-25 15:12:40.840 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:12:40.840 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-25 15:12:40.840 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:12:40.840 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:12:40.840 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:12:40.840 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:12:40.840 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:12:40.840 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:12:40.840 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:12:40.840 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-25 15:12:40.841 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-25 15:12:40.841 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:12:40.841 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:12:40.841 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-25 15:12:40.841 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:12:40.843 -05:00 [DBG] Consultando libros...
2024-07-25 15:12:40.844 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:12:40.845 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:12:40.845 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:12:40.845 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:12:40.845 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:12:40.845 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:12:40.845 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:12:40.845 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:12:40.845 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-25 15:12:40.846 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-25 15:12:40.846 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:12:40.846 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:12:40.846 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:12:40.846 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:12:40.849 -05:00 [INF] Consulta de libros exitosa
2024-07-25 15:12:40.849 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:12:40.849 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:12:40.849 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:12:40.849 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:12:40.849 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:12:40.849 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-25 15:12:40.850 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 9.4172ms
2024-07-25 15:12:40.850 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:12:40.850 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:12:40.850 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:12:40.850 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:12:40.850 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 11.4094ms
2024-07-25 15:12:57.358 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-25 15:12:57.358 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:12:57.358 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:12:57.363 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:12:57.363 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:12:57.364 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:12:57.364 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:12:57.364 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - 204 null null 6.1673ms
2024-07-25 15:12:57.367 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-25 15:12:57.367 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:12:57.367 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-25 15:12:57.367 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:12:57.368 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:12:57.368 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:12:57.368 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:12:57.368 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:12:57.368 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:12:57.368 -05:00 [DBG] Authorization was successful.
2024-07-25 15:12:57.368 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:12:57.369 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-25 15:12:57.369 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:12:57.369 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:12:57.369 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:12:57.369 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:12:57.369 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:12:57.369 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:12:57.370 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:12:57.370 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-25 15:12:57.370 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-25 15:12:57.370 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:12:57.370 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:12:57.370 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-25 15:12:57.370 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:12:57.373 -05:00 [DBG] Consultando libros...
2024-07-25 15:12:57.374 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:12:57.375 -05:00 [DBG] Compiling query expression: 
'DbSet<Libro>()
    .Join(
        inner: DbSet<Genero>(), 
        outerKeySelector: L => L.IdGenero, 
        innerKeySelector: G => G.Id, 
        resultSelector: (L, G) => new { 
            L = L, 
            G = G
         })
    .Where(<>h__TransparentIdentifier0 => True && <>h__TransparentIdentifier0.L.Activo == True || False)
    .Select(<>h__TransparentIdentifier0 => new { 
        id = <>h__TransparentIdentifier0.L.Id, 
        titulo = <>h__TransparentIdentifier0.L.Titulo, 
        autor = <>h__TransparentIdentifier0.L.Autor, 
        anio = <>h__TransparentIdentifier0.L.Anio, 
        idGenero = <>h__TransparentIdentifier0.L.IdGenero, 
        genero = <>h__TransparentIdentifier0.G.Nombre, 
        activo = <>h__TransparentIdentifier0.L.Activo
     })'
2024-07-25 15:12:57.387 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType1<int, string, string, int, int, string, bool>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            id -> 0
            titulo -> 1
            autor -> 2
            anio -> 3
            idGenero -> 4
            genero -> 5
            activo -> 6
        SELECT l.Id AS id, l.Titulo AS titulo, l.Autor AS autor, l.Anio AS anio, l.IdGenero AS idGenero, g.Nombre AS genero, l.Activo AS activo
        FROM Libro AS l
        INNER JOIN Genero AS g ON l.IdGenero == g.Id
        WHERE (CAST(1 AS bit) && (l.Activo == CAST(1 AS bit))) || CAST(0 AS bit)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType1<int, string, string, int, int, string, bool>>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-25 15:12:57.389 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:12:57.389 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:12:57.389 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:12:57.389 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:12:57.389 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:12:57.389 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:12:57.389 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:12:57.389 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-25 15:12:57.393 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-25 15:12:57.393 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:12:57.393 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:12:57.393 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:12:57.393 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:12:57.398 -05:00 [INF] Consulta de libros exitosa
2024-07-25 15:12:57.398 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:12:57.399 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:12:57.399 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:12:57.399 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:12:57.399 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:12:57.399 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-25 15:12:57.399 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 29.662ms
2024-07-25 15:12:57.399 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:12:57.399 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:12:57.399 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:12:57.399 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:12:57.399 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 32.7884ms
2024-07-25 15:13:00.063 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-25 15:13:00.063 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:13:00.063 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:13:00.063 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:13:00.063 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:13:00.063 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:13:00.063 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:13:00.063 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 0.5089ms
2024-07-25 15:13:00.063 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-07-25 15:13:00.063 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-25 15:13:00.063 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:13:00.064 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:13:00.064 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:13:00.064 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:13:00.064 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:13:00.064 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 0.3918ms
2024-07-25 15:13:00.075 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-25 15:13:00.075 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:13:00.075 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-25 15:13:00.075 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:13:00.075 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:13:00.075 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:13:00.075 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:13:00.076 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:13:00.076 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:13:00.076 -05:00 [DBG] Authorization was successful.
2024-07-25 15:13:00.076 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:13:00.076 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-25 15:13:00.076 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:13:00.076 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-07-25 15:13:00.076 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:13:00.076 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:13:00.076 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-25 15:13:00.076 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:13:00.076 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-07-25 15:13:00.076 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:13:00.076 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-25 15:13:00.076 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:13:00.076 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:13:00.077 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:13:00.077 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:13:00.077 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:13:00.077 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:13:00.077 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-25 15:13:00.077 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:13:00.077 -05:00 [DBG] Authorization was successful.
2024-07-25 15:13:00.077 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-25 15:13:00.077 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-25 15:13:00.077 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:13:00.077 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:13:00.077 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-07-25 15:13:00.077 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-25 15:13:00.077 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:13:00.077 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:13:00.077 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:13:00.080 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:13:00.081 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:13:00.081 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:13:00.081 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-25 15:13:00.082 -05:00 [DBG] Consultando libros...
2024-07-25 15:13:00.082 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-25 15:13:00.083 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:13:00.083 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:13:00.083 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:13:00.083 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:13:00.083 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:00.084 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:00.084 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:13:00.084 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:13:00.084 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:13:00.084 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:00.084 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:00.084 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:00.084 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-25 15:13:00.084 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:00.084 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:13:00.084 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:00.084 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:00.085 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-25 15:13:00.087 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-25 15:13:00.087 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:00.087 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:00.087 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:00.087 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:00.087 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:00.087 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:00.087 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:00.087 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:00.087 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:00.087 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:00.087 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:00.088 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:00.088 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:00.088 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-25 15:13:00.088 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:00.088 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:13:00.088 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:00.088 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:00.088 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:13:00.088 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:13:00.088 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:00.088 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:13:00.088 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:13:00.088 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:13:00.088 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:13:00.088 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:13:00.089 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:13:00.089 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-25 15:13:00.090 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 9.6286ms
2024-07-25 15:13:00.091 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-25 15:13:00.091 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:13:00.091 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:00.090 -05:00 [INF] Consulta de libros exitosa
2024-07-25 15:13:00.091 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:13:00.091 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 15.2576ms
2024-07-25 15:13:00.091 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:13:00.092 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:13:00.092 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:13:00.092 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:13:00.092 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:13:00.092 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-25 15:13:00.092 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 15.7356ms
2024-07-25 15:13:00.092 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:13:00.092 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:13:00.092 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:00.092 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:13:00.093 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 17.8236ms
2024-07-25 15:13:04.001 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/84 - null null
2024-07-25 15:13:04.001 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/84'
2024-07-25 15:13:04.001 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:13:04.001 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:13:04.001 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:13:04.001 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:13:04.001 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:13:04.002 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/84 - 204 null null 0.8601ms
2024-07-25 15:13:04.003 -05:00 [INF] Request starting HTTP/2 DELETE https://localhost:7299/api/Libros/84 - null null
2024-07-25 15:13:04.003 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/84'
2024-07-25 15:13:04.004 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Delete (biblioteca-backend)' with route pattern 'api/Libros/{id}' is valid for the request path '/api/Libros/84'
2024-07-25 15:13:04.004 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Delete (biblioteca-backend)'
2024-07-25 15:13:04.004 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:13:04.004 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:13:04.004 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:13:04.004 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:13:04.004 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:13:04.004 -05:00 [DBG] Authorization was successful.
2024-07-25 15:13:04.004 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Delete (biblioteca-backend)'
2024-07-25 15:13:04.004 -05:00 [INF] Route matched with {action = "Delete", controller = "Libros"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-25 15:13:04.004 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:13:04.004 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:13:04.004 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:13:04.004 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:13:04.004 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:13:04.004 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:13:04.004 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:13:04.005 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-07-25 15:13:04.005 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-07-25 15:13:04.005 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-25 15:13:04.005 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-25 15:13:04.005 -05:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-07-25 15:13:04.005 -05:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-07-25 15:13:04.007 -05:00 [DBG] Eliminando libro con id 84...
2024-07-25 15:13:04.008 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:13:04.009 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:13:04.009 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:13:04.009 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:04.009 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:04.009 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:13:04.009 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:04.009 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:04.009 -05:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Activo], [l].[Anio], [l].[Autor], [l].[IdGenero], [l].[Titulo]
FROM [Libro] AS [l]
WHERE [l].[Id] = @__p_0
2024-07-25 15:13:04.013 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Activo], [l].[Anio], [l].[Autor], [l].[IdGenero], [l].[Titulo]
FROM [Libro] AS [l]
WHERE [l].[Id] = @__p_0
2024-07-25 15:13:04.013 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:04.013 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:04.013 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:13:04.013 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:04.014 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:13:04.014 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:04.014 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:13:04.014 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:13:04.014 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-25 15:13:04.014 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:04.014 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:04.014 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:13:04.014 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:04.014 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:04.015 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Libro]
OUTPUT 1
WHERE [Id] = @p0;
2024-07-25 15:13:04.017 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Libro]
OUTPUT 1
WHERE [Id] = @p0;
2024-07-25 15:13:04.018 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:04.018 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:13:04.018 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:04.018 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:13:04.018 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:04.018 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-25 15:13:04.020 -05:00 [INF] Libro eliminado con id 84
2024-07-25 15:13:04.021 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:13:04.021 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:13:04.021 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:13:04.021 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:13:04.021 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:13:04.021 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-25 15:13:04.021 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Delete (biblioteca-backend) in 16.5901ms
2024-07-25 15:13:04.021 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Delete (biblioteca-backend)'
2024-07-25 15:13:04.021 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:13:04.021 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:04.021 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:13:04.021 -05:00 [INF] Request finished HTTP/2 DELETE https://localhost:7299/api/Libros/84 - 200 null application/json; charset=utf-8 18.3136ms
2024-07-25 15:13:04.026 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-25 15:13:04.026 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:13:04.026 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-25 15:13:04.026 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:13:04.026 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:13:04.026 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:13:04.026 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:13:04.027 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:13:04.027 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:13:04.027 -05:00 [DBG] Authorization was successful.
2024-07-25 15:13:04.027 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:13:04.027 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-25 15:13:04.027 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:13:04.027 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:13:04.027 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:13:04.028 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:13:04.028 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:13:04.028 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:13:04.028 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:13:04.028 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-25 15:13:04.028 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-25 15:13:04.028 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:13:04.028 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:13:04.028 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-25 15:13:04.028 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:13:04.031 -05:00 [DBG] Consultando libros...
2024-07-25 15:13:04.033 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:13:04.033 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:13:04.033 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:13:04.033 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:04.034 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:04.034 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:13:04.034 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:04.034 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:04.034 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-25 15:13:04.036 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-25 15:13:04.036 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:04.036 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:13:04.036 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:04.036 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:13:04.039 -05:00 [INF] Consulta de libros exitosa
2024-07-25 15:13:04.039 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:13:04.039 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:13:04.039 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:13:04.040 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:13:04.040 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:13:04.040 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-25 15:13:04.040 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 12.3951ms
2024-07-25 15:13:04.040 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:13:04.040 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:13:04.040 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:04.041 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:13:04.041 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 14.825ms
2024-07-25 15:13:06.499 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-25 15:13:06.500 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:13:06.500 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:13:06.500 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:13:06.500 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:13:06.500 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:13:06.500 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:13:06.500 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - 204 null null 0.4527ms
2024-07-25 15:13:06.502 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-25 15:13:06.502 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:13:06.502 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-25 15:13:06.502 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:13:06.503 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:13:06.503 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:13:06.503 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:13:06.503 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:13:06.503 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:13:06.503 -05:00 [DBG] Authorization was successful.
2024-07-25 15:13:06.503 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:13:06.503 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-25 15:13:06.503 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:13:06.504 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:13:06.504 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:13:06.504 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:13:06.504 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:13:06.504 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:13:06.504 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:13:06.504 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-25 15:13:06.504 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-25 15:13:06.505 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:13:06.505 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:13:06.505 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-25 15:13:06.505 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:13:06.509 -05:00 [DBG] Consultando libros...
2024-07-25 15:13:06.515 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:13:06.516 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:13:06.516 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:13:06.516 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:06.516 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:06.517 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:13:06.517 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:06.517 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:06.517 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-25 15:13:06.518 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-25 15:13:06.518 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:06.518 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:13:06.518 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:06.518 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:13:06.520 -05:00 [INF] Consulta de libros exitosa
2024-07-25 15:13:06.521 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:13:06.521 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:13:06.521 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:13:06.521 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:13:06.521 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:13:06.521 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-25 15:13:06.521 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 17.6131ms
2024-07-25 15:13:06.521 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:13:06.522 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:13:06.522 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:06.522 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:13:06.522 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 19.9596ms
2024-07-25 15:13:10.618 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ - null null
2024-07-25 15:13:10.618 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-25 15:13:10.618 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:13:10.618 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:13:10.618 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:13:10.618 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:13:10.618 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:13:10.618 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ - 204 null null 0.6378ms
2024-07-25 15:13:10.620 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Prestmaos/ - application/json 297
2024-07-25 15:13:10.620 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-25 15:13:10.620 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-07-25 15:13:10.620 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)'
2024-07-25 15:13:10.620 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:13:10.621 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:13:10.621 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:13:10.621 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:13:10.621 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:13:10.621 -05:00 [DBG] Authorization was successful.
2024-07-25 15:13:10.621 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)'
2024-07-25 15:13:10.624 -05:00 [INF] Route matched with {action = "Post", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(biblioteca_backend.Models.DTOs.PrestamoModel) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-25 15:13:10.624 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:13:10.624 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:13:10.624 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:13:10.624 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:13:10.624 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:13:10.624 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-25 15:13:10.625 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-25 15:13:10.625 -05:00 [DBG] Attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel' ...
2024-07-25 15:13:10.625 -05:00 [DBG] Attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel' using the name '' in request data ...
2024-07-25 15:13:10.625 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-25 15:13:10.626 -05:00 [DBG] Connection id "0HN5CSLBMGTOB", Request id "0HN5CSLBMGTOB:00000071": started reading request body.
2024-07-25 15:13:10.626 -05:00 [DBG] Connection id "0HN5CSLBMGTOB", Request id "0HN5CSLBMGTOB:00000071": done reading request body.
2024-07-25 15:13:10.630 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.PrestamoModel'
2024-07-25 15:13:10.630 -05:00 [DBG] Done attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel'.
2024-07-25 15:13:10.630 -05:00 [DBG] Done attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel'.
2024-07-25 15:13:10.630 -05:00 [DBG] Attempting to validate the bound parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel' ...
2024-07-25 15:13:10.632 -05:00 [DBG] Done attempting to validate the bound parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel'.
2024-07-25 15:13:10.636 -05:00 [DBG] Guardando préstamo...
2024-07-25 15:13:10.641 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-25 15:13:10.642 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:13:10.647 -05:00 [INF] Libros encontrados exitosamente
2024-07-25 15:13:10.650 -05:00 [DBG] Compiling query expression: 
'DbSet<Perfil>()
    .Join(
        inner: DbSet<Prestamo>(), 
        outerKeySelector: P => P.Id, 
        innerKeySelector: PR => PR.IdPerfil, 
        resultSelector: (P, PR) => new { 
            P = P, 
            PR = PR
         })
    .Join(
        inner: DbSet<DetallePrestamoLibro>(), 
        outerKeySelector: <>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.PR.Id, 
        innerKeySelector: DP => DP.IdPrestamo, 
        resultSelector: (<>h__TransparentIdentifier0, DP) => new { 
            <>h__TransparentIdentifier0 = <>h__TransparentIdentifier0, 
            DP = DP
         })
    .Join(
        inner: DbSet<Libro>(), 
        outerKeySelector: <>h__TransparentIdentifier1 => <>h__TransparentIdentifier1.DP.IdLibro, 
        innerKeySelector: L => L.Id, 
        resultSelector: (<>h__TransparentIdentifier1, L) => new { 
            <>h__TransparentIdentifier1 = <>h__TransparentIdentifier1, 
            L = L
         })
    .Where(<>h__TransparentIdentifier2 => <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.P.Id == __idPerfil_0)
    .Select(<>h__TransparentIdentifier2 => new Libro{ 
        Id = <>h__TransparentIdentifier2.L.Id, 
        Titulo = <>h__TransparentIdentifier2.L.Titulo, 
        Autor = <>h__TransparentIdentifier2.L.Autor, 
        IdGenero = <>h__TransparentIdentifier2.L.IdGenero, 
        Anio = <>h__TransparentIdentifier2.L.Anio, 
        Activo = <>h__TransparentIdentifier2.L.Activo 
    }
    )'
2024-07-25 15:13:10.658 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Libro>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            Id -> 0
            Titulo -> 1
            Autor -> 2
            IdGenero -> 3
            Anio -> 4
            Activo -> 5
        SELECT l.Id, l.Titulo, l.Autor, l.IdGenero, l.Anio, l.Activo
        FROM Perfil AS p
        INNER JOIN Prestamo AS p0 ON p.Id == p0.IdPerfil
        INNER JOIN DetallePrestamoLibro AS d ON p0.Id == d.IdPrestamo
        INNER JOIN Libro AS l ON d.IdLibro == l.Id
        WHERE p.Id == @__idPerfil_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Libro>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-25 15:13:10.659 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:13:10.659 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:13:10.659 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:10.659 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:10.659 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:13:10.659 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:10.659 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:10.659 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-25 15:13:10.668 -05:00 [INF] Executed DbCommand (9ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-25 15:13:10.669 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:10.669 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:13:10.669 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:10.669 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:13:10.678 -05:00 [WRN] Aún hay préstamos activos del perfil con id 31
2024-07-25 15:13:10.874 -05:00 [ERR] Error al hacer el préstamo: Aún tiene préstamos activos
2024-07-25 15:13:10.982 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:13:10.982 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:13:10.983 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:13:10.983 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:13:10.983 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-07-25 15:13:10.983 -05:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-07-25 15:13:10.983 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend) in 358.4749ms
2024-07-25 15:13:10.983 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)'
2024-07-25 15:13:10.983 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:13:10.983 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:10.983 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:13:10.983 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Prestmaos/ - 400 null text/plain; charset=utf-8 363.5157ms
2024-07-25 15:13:15.907 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=31 - null null
2024-07-25 15:13:15.907 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-25 15:13:15.907 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:13:15.907 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:13:15.907 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:13:15.907 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:13:15.907 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:13:15.907 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=31 - 204 null null 0.6272ms
2024-07-25 15:13:15.914 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=31 - null null
2024-07-25 15:13:15.915 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-25 15:13:15.915 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-07-25 15:13:15.915 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-25 15:13:15.915 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:13:15.915 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:13:15.915 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:13:15.915 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:13:15.915 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:13:15.916 -05:00 [DBG] Authorization was successful.
2024-07-25 15:13:15.916 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-25 15:13:15.917 -05:00 [INF] Route matched with {action = "Get", controller = "Prestmaos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-25 15:13:15.917 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:13:15.917 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:13:15.917 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:13:15.918 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:13:15.918 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:13:15.918 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-25 15:13:15.918 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-25 15:13:15.918 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-25 15:13:15.918 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-25 15:13:15.918 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-25 15:13:15.918 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-25 15:13:15.919 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-25 15:13:15.919 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-25 15:13:15.924 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-25 15:13:15.929 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:13:15.933 -05:00 [INF] Libros encontrados exitosamente
2024-07-25 15:13:15.934 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:13:15.934 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:13:15.934 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:15.934 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:15.935 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:13:15.935 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:15.935 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:15.935 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-25 15:13:15.935 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-25 15:13:15.936 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:15.936 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:13:15.936 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:15.936 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:13:15.936 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:13:15.936 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:13:15.936 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:13:15.936 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:13:15.936 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:13:15.936 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.Collections.Generic.List`1[[biblioteca_backend.Models.Libro, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-25 15:13:15.938 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) in 20.0783ms
2024-07-25 15:13:15.938 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-25 15:13:15.938 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:13:15.938 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:15.938 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:13:15.938 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=31 - 200 null application/json; charset=utf-8 24.1334ms
2024-07-25 15:13:17.540 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=31 - null null
2024-07-25 15:13:17.540 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-25 15:13:17.540 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:13:17.540 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:13:17.540 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:13:17.540 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:13:17.540 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:13:17.540 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/?idPerfil=31 - 204 null null 0.3884ms
2024-07-25 15:13:17.542 -05:00 [INF] Request starting HTTP/2 DELETE https://localhost:7299/api/Prestmaos/?idPerfil=31 - null null
2024-07-25 15:13:17.542 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-25 15:13:17.542 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-07-25 15:13:17.542 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend)'
2024-07-25 15:13:17.543 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:13:17.543 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:13:17.543 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:13:17.543 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:13:17.543 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:13:17.543 -05:00 [DBG] Authorization was successful.
2024-07-25 15:13:17.543 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend)'
2024-07-25 15:13:17.547 -05:00 [INF] Route matched with {action = "EliminarPrestamo", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EliminarPrestamo(Int32) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-25 15:13:17.547 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:13:17.547 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:13:17.547 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:13:17.548 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:13:17.548 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:13:17.548 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-25 15:13:17.548 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-25 15:13:17.548 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-25 15:13:17.548 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-25 15:13:17.548 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-25 15:13:17.548 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-25 15:13:17.548 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-25 15:13:17.548 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-25 15:13:17.552 -05:00 [DBG] Eliminando préstamo del perfil con id 31
2024-07-25 15:13:17.555 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-25 15:13:17.556 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:13:17.558 -05:00 [INF] Libros encontrados exitosamente
2024-07-25 15:13:17.558 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:13:17.558 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:13:17.558 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:17.559 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:17.559 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:13:17.559 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:17.559 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:17.559 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-25 15:13:17.559 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-25 15:13:17.560 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:17.560 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:13:17.560 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:17.560 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:13:17.561 -05:00 [DBG] Compiling query expression: 
'DbSet<Prestamo>()
    .FirstOrDefault(p => p.IdPerfil == __idPerfil_0)'
2024-07-25 15:13:17.566 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Prestamo>(
    asyncEnumerable: new SingleQueryingEnumerable<Prestamo>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Prestamo.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Prestamo.FechaPrestamo (DateTime) Required, 1], [Property: Prestamo.IdPerfil (int) Required FK Index, 2] }
            SELECT TOP(1) p.Id, p.FechaPrestamo, p.IdPerfil
            FROM Prestamo AS p
            WHERE p.IdPerfil == @__idPerfil_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Prestamo>, 
        biblioteca_backend.DBBibliotecaContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-07-25 15:13:17.567 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:17.567 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:17.567 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:13:17.567 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:17.567 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:17.567 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
WHERE [p].[IdPerfil] = @__idPerfil_0
2024-07-25 15:13:17.571 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
WHERE [p].[IdPerfil] = @__idPerfil_0
2024-07-25 15:13:17.576 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:17.582 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:17.582 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 11ms reading results.
2024-07-25 15:13:17.582 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:17.583 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:13:17.584 -05:00 [DBG] Compiling query expression: 
'DbSet<DetallePrestamoLibro>()
    .Where(d => d.IdPrestamo == __prestamo_Id_0)'
2024-07-25 15:13:17.587 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<DetallePrestamoLibro>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: DetallePrestamoLibro.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: DetallePrestamoLibro.IdLibro (int) Required FK Index, 1], [Property: DetallePrestamoLibro.IdPrestamo (int) Required FK Index, 2] }
        SELECT d.Id, d.IdLibro, d.IdPrestamo
        FROM DetallePrestamoLibro AS d
        WHERE d.IdPrestamo == @__prestamo_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, DetallePrestamoLibro>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-25 15:13:17.588 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:17.588 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:17.588 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:13:17.588 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:17.588 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:17.588 -05:00 [DBG] Executing DbCommand [Parameters=[@__prestamo_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[IdLibro], [d].[IdPrestamo]
FROM [DetallePrestamoLibro] AS [d]
WHERE [d].[IdPrestamo] = @__prestamo_Id_0
2024-07-25 15:13:17.591 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__prestamo_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[IdLibro], [d].[IdPrestamo]
FROM [DetallePrestamoLibro] AS [d]
WHERE [d].[IdPrestamo] = @__prestamo_Id_0
2024-07-25 15:13:17.598 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'DetallePrestamoLibro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:17.599 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'DetallePrestamoLibro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:17.599 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'DetallePrestamoLibro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:17.599 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'DetallePrestamoLibro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:17.599 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:17.599 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 8ms reading results.
2024-07-25 15:13:17.600 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:17.600 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:13:17.601 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:17.601 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:17.601 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:17.601 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:17.601 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:13:17.601 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:13:17.610 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-25 15:13:17.616 -05:00 [DBG] Executing 4 update commands as a batch.
2024-07-25 15:13:17.618 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:17.618 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:17.619 -05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-07-25 15:13:17.626 -05:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-07-25 15:13:17.627 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:13:17.627 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:17.629 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-07-25 15:13:17.629 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p1;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p2;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p3;
2024-07-25 15:13:17.636 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p1;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p2;
DELETE FROM [DetallePrestamoLibro]
OUTPUT 1
WHERE [Id] = @p3;
2024-07-25 15:13:17.636 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:17.636 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:13:17.639 -05:00 [DBG] Committing transaction.
2024-07-25 15:13:17.643 -05:00 [DBG] Committed transaction.
2024-07-25 15:13:17.646 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:17.647 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:13:17.649 -05:00 [DBG] Disposing transaction.
2024-07-25 15:13:17.650 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:17.650 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:17.650 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:17.650 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:17.651 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 4 entities written to the database.
2024-07-25 15:13:17.651 -05:00 [DBG] An entity of type 'Prestamo' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:17.651 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:13:17.652 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:13:17.652 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-25 15:13:17.652 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:17.652 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:17.652 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:13:17.652 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:17.652 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:17.652 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Prestamo]
OUTPUT 1
WHERE [Id] = @p0;
2024-07-25 15:13:17.657 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Prestamo]
OUTPUT 1
WHERE [Id] = @p0;
2024-07-25 15:13:17.657 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:17.657 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:13:17.658 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:17.658 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:13:17.658 -05:00 [DBG] An entity of type 'Prestamo' tracked by 'DBBibliotecaContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:17.658 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-25 15:13:17.659 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:17.659 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:13:17.659 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:13:17.659 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-25 15:13:17.667 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:17.667 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:17.668 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:13:17.668 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:17.668 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:17.668 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-25 15:13:17.672 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-25 15:13:17.674 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:17.674 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-25 15:13:17.674 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:17.674 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:13:17.674 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:17.675 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-25 15:13:17.675 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:17.675 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:13:17.675 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:13:17.675 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-25 15:13:17.676 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:17.676 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:17.676 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:13:17.676 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:17.676 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:17.676 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-25 15:13:17.677 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-25 15:13:17.677 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:17.678 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:13:17.678 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:17.678 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:13:17.678 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:17.678 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-25 15:13:17.679 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:17.679 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:13:17.679 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:13:17.679 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-25 15:13:17.679 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:17.679 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:17.679 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:13:17.679 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:17.679 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:17.679 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-25 15:13:17.680 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-25 15:13:17.681 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:17.681 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:13:17.681 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:17.681 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:13:17.681 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:17.681 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-25 15:13:17.681 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:17.681 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:13:17.681 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:13:17.681 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-25 15:13:17.681 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:17.681 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:17.682 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:13:17.682 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:17.682 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:17.682 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-25 15:13:17.683 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-25 15:13:17.683 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:17.683 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:13:17.683 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:17.683 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:13:17.683 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:17.683 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-25 15:13:17.686 -05:00 [INF] Se eliminó el préstamo del perfil con id 31
2024-07-25 15:13:17.686 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:13:17.686 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:13:17.686 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:13:17.686 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:13:17.687 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:13:17.687 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-25 15:13:17.687 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend) in 139.1803ms
2024-07-25 15:13:17.687 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.EliminarPrestamo (biblioteca-backend)'
2024-07-25 15:13:17.687 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:13:17.687 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:17.687 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:13:17.687 -05:00 [INF] Request finished HTTP/2 DELETE https://localhost:7299/api/Prestmaos/?idPerfil=31 - 200 null application/json; charset=utf-8 145.0178ms
2024-07-25 15:13:17.691 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=31 - null null
2024-07-25 15:13:17.691 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-25 15:13:17.691 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-07-25 15:13:17.691 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-25 15:13:17.691 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:13:17.692 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:13:17.692 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:13:17.692 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:13:17.692 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:13:17.692 -05:00 [DBG] Authorization was successful.
2024-07-25 15:13:17.692 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-25 15:13:17.692 -05:00 [INF] Route matched with {action = "Get", controller = "Prestmaos"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-25 15:13:17.692 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:13:17.692 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:13:17.692 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:13:17.692 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:13:17.692 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:13:17.692 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-25 15:13:17.693 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-25 15:13:17.693 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' ...
2024-07-25 15:13:17.693 -05:00 [DBG] Attempting to bind parameter 'idPerfil' of type 'System.Int32' using the name 'idPerfil' in request data ...
2024-07-25 15:13:17.693 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-25 15:13:17.693 -05:00 [DBG] Done attempting to bind parameter 'idPerfil' of type 'System.Int32'.
2024-07-25 15:13:17.693 -05:00 [DBG] Attempting to validate the bound parameter 'idPerfil' of type 'System.Int32' ...
2024-07-25 15:13:17.693 -05:00 [DBG] Done attempting to validate the bound parameter 'idPerfil' of type 'System.Int32'.
2024-07-25 15:13:17.697 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-25 15:13:17.698 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:13:17.701 -05:00 [INF] Libros encontrados exitosamente
2024-07-25 15:13:17.703 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:13:17.703 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:13:17.703 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:17.703 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:17.703 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:13:17.703 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:17.704 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:17.704 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-25 15:13:17.704 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-25 15:13:17.704 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:17.704 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:13:17.704 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:17.704 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:13:17.705 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:13:17.705 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:13:17.705 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:13:17.705 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:13:17.705 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:13:17.705 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.Collections.Generic.List`1[[biblioteca_backend.Models.Libro, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-25 15:13:17.705 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend) in 12.5898ms
2024-07-25 15:13:17.705 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Get (biblioteca-backend)'
2024-07-25 15:13:17.705 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:13:17.705 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:17.705 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:13:17.705 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/?idPerfil=31 - 200 null application/json; charset=utf-8 14.2221ms
2024-07-25 15:13:20.113 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-25 15:13:20.113 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-25 15:13:20.113 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:13:20.113 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:13:20.113 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:13:20.113 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:13:20.113 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:13:20.113 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 204 null null 0.6016ms
2024-07-25 15:13:20.120 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-25 15:13:20.120 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-25 15:13:20.120 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)' with route pattern 'api/Prestmaos/ConsultarPrestamos' is valid for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-25 15:13:20.120 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-25 15:13:20.121 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:13:20.121 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:13:20.121 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:13:20.121 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:13:20.122 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:13:20.125 -05:00 [DBG] Authorization was successful.
2024-07-25 15:13:20.125 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-25 15:13:20.135 -05:00 [INF] Route matched with {action = "ConsultarPrestamos", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsultarPrestamos() on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-25 15:13:20.135 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:13:20.135 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:13:20.135 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:13:20.135 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:13:20.135 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:13:20.135 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-25 15:13:20.136 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-25 15:13:20.140 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:13:20.140 -05:00 [DBG] Compiling query expression: 
'DbSet<Prestamo>()'
2024-07-25 15:13:20.143 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Prestamo>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Prestamo.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Prestamo.FechaPrestamo (DateTime) Required, 1], [Property: Prestamo.IdPerfil (int) Required FK Index, 2] }
        SELECT p.Id, p.FechaPrestamo, p.IdPerfil
        FROM Prestamo AS p), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Prestamo>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-25 15:13:20.143 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:13:20.143 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:13:20.143 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:20.143 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:20.143 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:13:20.143 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:20.143 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:20.143 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-25 15:13:20.149 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-25 15:13:20.149 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:20.149 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:20.149 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:13:20.150 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:20.150 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:13:20.153 -05:00 [DBG] Consultando perfil con id 34
2024-07-25 15:13:20.153 -05:00 [DBG] Compiling query expression: 
'DbSet<Perfil>()
    .FirstOrDefault(p => p.Id == __id_0)'
2024-07-25 15:13:20.156 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Perfil>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Perfil.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Perfil.Apellido (string) Required, 1], [Property: Perfil.Contrasena (string) Required, 2], [Property: Perfil.Correo (string) Required, 3], [Property: Perfil.Direccion (string) Required, 4], [Property: Perfil.IdRol (int) Required FK Index, 5], [Property: Perfil.Nombre (string) Required, 6], [Property: Perfil.Telefono (string) Required, 7] }
        SELECT TOP(1) p.Id, p.Apellido, p.Contrasena, p.Correo, p.Direccion, p.IdRol, p.Nombre, p.Telefono
        FROM Perfil AS p
        WHERE p.Id == @__id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Perfil>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-25 15:13:20.156 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:20.156 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:20.157 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:13:20.157 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:20.157 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:20.157 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-25 15:13:20.158 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-25 15:13:20.159 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:20.164 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:20.164 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:20.164 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 5ms reading results.
2024-07-25 15:13:20.164 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:20.164 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:13:20.167 -05:00 [INF] Perfil encontrado con id: 34
2024-07-25 15:13:20.170 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-25 15:13:20.173 -05:00 [INF] Libros encontrados exitosamente
2024-07-25 15:13:20.173 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:20.173 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:20.173 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:13:20.173 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:20.173 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:20.174 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-25 15:13:20.174 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-25 15:13:20.174 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:20.174 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:13:20.174 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:20.174 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:13:20.175 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:13:20.175 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:13:20.175 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:13:20.175 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:13:20.175 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:13:20.175 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.DTOs.ConsultaPrestamoModel, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-25 15:13:20.185 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) in 49.4275ms
2024-07-25 15:13:20.185 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-25 15:13:20.185 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:13:20.185 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:20.185 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:13:20.185 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 200 null application/json; charset=utf-8 65.2955ms
2024-07-25 15:13:22.928 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-25 15:13:22.928 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:13:22.928 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:13:22.928 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:13:22.928 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:13:22.928 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:13:22.928 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:13:22.928 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - 204 null null 1.7501ms
2024-07-25 15:13:22.931 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-25 15:13:22.931 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:13:22.931 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-25 15:13:22.931 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:13:22.931 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:13:22.931 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:13:22.931 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:13:22.933 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:13:22.933 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:13:22.934 -05:00 [DBG] Authorization was successful.
2024-07-25 15:13:22.934 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:13:22.934 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-25 15:13:22.934 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:13:22.934 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:13:22.934 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:13:22.935 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:13:22.935 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:13:22.935 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:13:22.935 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:13:22.935 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-25 15:13:22.935 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-25 15:13:22.935 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:13:22.935 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:13:22.936 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-25 15:13:22.936 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:13:22.941 -05:00 [DBG] Consultando libros...
2024-07-25 15:13:22.948 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:13:22.949 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:13:22.950 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:13:22.950 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:22.950 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:22.950 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:13:22.950 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:22.950 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:22.950 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-25 15:13:22.971 -05:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-25 15:13:22.971 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:22.971 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:13:22.971 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:22.971 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:13:22.974 -05:00 [INF] Consulta de libros exitosa
2024-07-25 15:13:22.974 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:13:22.974 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:13:22.974 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:13:22.974 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:13:22.974 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:13:22.974 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-25 15:13:22.975 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 40.2879ms
2024-07-25 15:13:22.975 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:13:22.975 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:13:22.975 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:22.975 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:13:22.975 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 45.0263ms
2024-07-25 15:13:29.216 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ - null null
2024-07-25 15:13:29.216 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-25 15:13:29.216 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:13:29.216 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:13:29.216 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:13:29.216 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:13:29.216 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:13:29.218 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ - 204 null null 2.2543ms
2024-07-25 15:13:29.220 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Prestmaos/ - application/json 533
2024-07-25 15:13:29.221 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-25 15:13:29.221 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-07-25 15:13:29.221 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)'
2024-07-25 15:13:29.221 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:13:29.221 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:13:29.221 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:13:29.221 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:13:29.221 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:13:29.221 -05:00 [DBG] Authorization was successful.
2024-07-25 15:13:29.221 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)'
2024-07-25 15:13:29.221 -05:00 [INF] Route matched with {action = "Post", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(biblioteca_backend.Models.DTOs.PrestamoModel) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-25 15:13:29.221 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:13:29.221 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:13:29.221 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:13:29.221 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:13:29.221 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:13:29.221 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-25 15:13:29.222 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-25 15:13:29.222 -05:00 [DBG] Attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel' ...
2024-07-25 15:13:29.222 -05:00 [DBG] Attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel' using the name '' in request data ...
2024-07-25 15:13:29.222 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-25 15:13:29.222 -05:00 [DBG] Connection id "0HN5CSLBMGTOB", Request id "0HN5CSLBMGTOB:00000087": started reading request body.
2024-07-25 15:13:29.222 -05:00 [DBG] Connection id "0HN5CSLBMGTOB", Request id "0HN5CSLBMGTOB:00000087": done reading request body.
2024-07-25 15:13:29.222 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.PrestamoModel'
2024-07-25 15:13:29.222 -05:00 [DBG] Done attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel'.
2024-07-25 15:13:29.222 -05:00 [DBG] Done attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel'.
2024-07-25 15:13:29.222 -05:00 [DBG] Attempting to validate the bound parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel' ...
2024-07-25 15:13:29.222 -05:00 [DBG] Done attempting to validate the bound parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel'.
2024-07-25 15:13:29.225 -05:00 [DBG] Guardando préstamo...
2024-07-25 15:13:29.228 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-25 15:13:29.229 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:13:29.232 -05:00 [INF] Libros encontrados exitosamente
2024-07-25 15:13:29.233 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:13:29.233 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:13:29.233 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:29.233 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:29.233 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:13:29.233 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:29.233 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:29.234 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-25 15:13:29.253 -05:00 [INF] Executed DbCommand (20ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-25 15:13:29.253 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:29.253 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:13:29.253 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:29.254 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:13:29.266 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'Prestamo.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:29.266 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:29.267 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:13:29.267 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:13:29.267 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-25 15:13:29.267 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:29.267 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:29.267 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:13:29.267 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:29.268 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:29.268 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Prestamo] ([FechaPrestamo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-07-25 15:13:29.273 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Prestamo] ([FechaPrestamo], [IdPerfil])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-07-25 15:13:29.273 -05:00 [DBG] The foreign key property 'Prestamo.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-25 15:13:29.274 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:29.274 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:13:29.274 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:29.274 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:13:29.274 -05:00 [DBG] An entity of type 'Prestamo' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:29.274 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-25 15:13:29.275 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'DetallePrestamoLibro.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:29.277 -05:00 [DBG] The navigation 'DetallePrestamoLibro.Prestamo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:29.278 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'DetallePrestamoLibro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:29.279 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:13:29.279 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:13:29.279 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-25 15:13:29.279 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:29.280 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:29.280 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:13:29.280 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:29.280 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:29.280 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePrestamoLibro] ([IdLibro], [IdPrestamo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-07-25 15:13:29.283 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePrestamoLibro] ([IdLibro], [IdPrestamo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-07-25 15:13:29.284 -05:00 [DBG] The foreign key property 'DetallePrestamoLibro.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-25 15:13:29.286 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:29.286 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-07-25 15:13:29.286 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:29.286 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:13:29.286 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:29.286 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-25 15:13:29.287 -05:00 [DBG] The navigation 'DetallePrestamoLibro.Libro' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:29.288 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:29.288 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:13:29.288 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:13:29.288 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-25 15:13:29.288 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:29.288 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:29.288 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:13:29.288 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:29.288 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:29.288 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-25 15:13:29.294 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-25 15:13:29.294 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:29.295 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:13:29.295 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:29.295 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:13:29.295 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:29.295 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-25 15:13:29.295 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'DetallePrestamoLibro.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:29.295 -05:00 [DBG] The navigation 'DetallePrestamoLibro.Prestamo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:29.295 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'DetallePrestamoLibro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:29.296 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:13:29.296 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:13:29.296 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-25 15:13:29.296 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:29.296 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:29.296 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:13:29.296 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:29.296 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:29.296 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePrestamoLibro] ([IdLibro], [IdPrestamo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-07-25 15:13:29.298 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePrestamoLibro] ([IdLibro], [IdPrestamo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-07-25 15:13:29.298 -05:00 [DBG] The foreign key property 'DetallePrestamoLibro.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-25 15:13:29.298 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:29.298 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:13:29.298 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:29.298 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:13:29.298 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:29.299 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-25 15:13:29.299 -05:00 [DBG] The navigation 'DetallePrestamoLibro.Libro' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:29.299 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:29.299 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:13:29.299 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:13:29.299 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-25 15:13:29.300 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:29.300 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:29.300 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:13:29.300 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:29.300 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:29.300 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-25 15:13:29.301 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-25 15:13:29.301 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:29.301 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:13:29.301 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:29.301 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:13:29.301 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:29.301 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-25 15:13:29.301 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'DetallePrestamoLibro.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:29.302 -05:00 [DBG] The navigation 'DetallePrestamoLibro.Prestamo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:29.302 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'DetallePrestamoLibro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:29.302 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:13:29.302 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:13:29.302 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-25 15:13:29.302 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:29.302 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:29.302 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:13:29.302 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:29.302 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:29.302 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePrestamoLibro] ([IdLibro], [IdPrestamo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-07-25 15:13:29.304 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePrestamoLibro] ([IdLibro], [IdPrestamo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-07-25 15:13:29.304 -05:00 [DBG] The foreign key property 'DetallePrestamoLibro.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-25 15:13:29.304 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:29.304 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:13:29.304 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:29.304 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:13:29.304 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:29.304 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-25 15:13:29.304 -05:00 [DBG] The navigation 'DetallePrestamoLibro.Libro' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:29.304 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:29.304 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:13:29.304 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:13:29.305 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-25 15:13:29.305 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:29.305 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:29.305 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:13:29.305 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:29.305 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:29.305 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-25 15:13:29.306 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-25 15:13:29.306 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:29.306 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:13:29.306 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:29.306 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:13:29.307 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:29.307 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-25 15:13:29.307 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'DetallePrestamoLibro.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:29.307 -05:00 [DBG] The navigation 'DetallePrestamoLibro.Prestamo' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:29.307 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'DetallePrestamoLibro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:29.307 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:13:29.307 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:13:29.307 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-25 15:13:29.307 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:29.307 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:29.307 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:13:29.307 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:29.308 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:29.308 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePrestamoLibro] ([IdLibro], [IdPrestamo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-07-25 15:13:29.309 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [DetallePrestamoLibro] ([IdLibro], [IdPrestamo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-07-25 15:13:29.309 -05:00 [DBG] The foreign key property 'DetallePrestamoLibro.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-25 15:13:29.309 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:29.309 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:13:29.309 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:29.309 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:13:29.309 -05:00 [DBG] An entity of type 'DetallePrestamoLibro' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:29.309 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-25 15:13:29.309 -05:00 [DBG] The navigation 'DetallePrestamoLibro.Libro' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:29.310 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:29.310 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:13:29.310 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:13:29.310 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-25 15:13:29.311 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:29.311 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:29.311 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:13:29.311 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:29.311 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:29.311 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-25 15:13:29.313 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-25 15:13:29.313 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:29.313 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:13:29.313 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:29.313 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:13:29.313 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:29.313 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-25 15:13:29.316 -05:00 [INF] Préstamo realizado exitosamente
2024-07-25 15:13:29.316 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:13:29.316 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:13:29.316 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:13:29.316 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:13:29.316 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:13:29.317 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-25 15:13:29.317 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend) in 95.163ms
2024-07-25 15:13:29.317 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)'
2024-07-25 15:13:29.317 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:13:29.317 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:29.317 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:13:29.317 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Prestmaos/ - 200 null application/json; charset=utf-8 97.0211ms
2024-07-25 15:13:29.321 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-25 15:13:29.321 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:13:29.321 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:13:29.321 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:13:29.321 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:13:29.321 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:13:29.321 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:13:29.321 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - 204 null null 0.6889ms
2024-07-25 15:13:29.324 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-25 15:13:29.324 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:13:29.324 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-25 15:13:29.324 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:13:29.324 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:13:29.324 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:13:29.324 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:13:29.324 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:13:29.324 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:13:29.324 -05:00 [DBG] Authorization was successful.
2024-07-25 15:13:29.324 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:13:29.324 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-25 15:13:29.324 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:13:29.324 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:13:29.324 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:13:29.324 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:13:29.324 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:13:29.324 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:13:29.325 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:13:29.325 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-25 15:13:29.325 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-25 15:13:29.325 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:13:29.325 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:13:29.325 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-25 15:13:29.325 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:13:29.328 -05:00 [DBG] Consultando libros...
2024-07-25 15:13:29.329 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:13:29.329 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:13:29.329 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:13:29.329 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:29.330 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:29.330 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:13:29.330 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:29.330 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:29.330 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-25 15:13:29.334 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-25 15:13:29.334 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:29.334 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:13:29.335 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:29.335 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:13:29.338 -05:00 [INF] Consulta de libros exitosa
2024-07-25 15:13:29.338 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:13:29.338 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:13:29.339 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:13:29.339 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:13:29.339 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:13:29.339 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-25 15:13:29.339 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 14.7492ms
2024-07-25 15:13:29.339 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:13:29.339 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:13:29.340 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:29.340 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:13:29.340 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 16.687ms
2024-07-25 15:13:31.521 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-25 15:13:31.521 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-25 15:13:31.521 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:13:31.521 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:13:31.521 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:13:31.521 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:13:31.521 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:13:31.521 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 204 null null 0.7907ms
2024-07-25 15:13:31.525 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-25 15:13:31.525 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-25 15:13:31.526 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)' with route pattern 'api/Prestmaos/ConsultarPrestamos' is valid for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-25 15:13:31.526 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-25 15:13:31.526 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:13:31.526 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:13:31.526 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:13:31.528 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:13:31.528 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:13:31.528 -05:00 [DBG] Authorization was successful.
2024-07-25 15:13:31.529 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-25 15:13:31.529 -05:00 [INF] Route matched with {action = "ConsultarPrestamos", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsultarPrestamos() on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-25 15:13:31.529 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:13:31.531 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:13:31.531 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:13:31.531 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:13:31.531 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:13:31.531 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-25 15:13:31.531 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-25 15:13:31.532 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:13:31.532 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:13:31.532 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:13:31.532 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:31.532 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:31.532 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:13:31.532 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:31.532 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:31.532 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-25 15:13:31.535 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-25 15:13:31.535 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:31.535 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:31.536 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:31.536 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:13:31.536 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:31.536 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:13:31.539 -05:00 [DBG] Consultando perfil con id 34
2024-07-25 15:13:31.540 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:31.540 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:31.540 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:13:31.540 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:31.540 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:31.540 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-25 15:13:31.545 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-25 15:13:31.546 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:31.546 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:31.546 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:31.546 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:13:31.546 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:31.546 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:13:31.550 -05:00 [INF] Perfil encontrado con id: 34
2024-07-25 15:13:31.553 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-25 15:13:31.555 -05:00 [INF] Libros encontrados exitosamente
2024-07-25 15:13:31.556 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:31.556 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:31.556 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:13:31.556 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:31.556 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:31.556 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-25 15:13:31.557 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-25 15:13:31.557 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:31.557 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:13:31.557 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:31.557 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:13:31.561 -05:00 [DBG] Consultando perfil con id 31
2024-07-25 15:13:31.562 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:31.562 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:31.562 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:13:31.562 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:31.562 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:31.562 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-25 15:13:31.563 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-25 15:13:31.563 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:31.563 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:31.563 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:31.563 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:13:31.563 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:31.564 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:13:31.566 -05:00 [INF] Perfil encontrado con id: 31
2024-07-25 15:13:31.569 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-25 15:13:31.572 -05:00 [INF] Libros encontrados exitosamente
2024-07-25 15:13:31.572 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:31.572 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:31.572 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:13:31.572 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:31.573 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:31.573 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-25 15:13:31.573 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-25 15:13:31.573 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:31.573 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:13:31.573 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:31.573 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:13:31.574 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:13:31.574 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:13:31.574 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:13:31.574 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:13:31.574 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:13:31.574 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.DTOs.ConsultaPrestamoModel, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-25 15:13:31.574 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) in 42.9195ms
2024-07-25 15:13:31.574 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-25 15:13:31.574 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:13:31.574 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:31.574 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:13:31.574 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 200 null application/json; charset=utf-8 49.1235ms
2024-07-25 15:13:35.124 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-25 15:13:35.126 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-25 15:13:35.126 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:13:35.128 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:13:35.132 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:13:35.132 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:13:35.132 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:13:35.132 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - 204 null null 8.2502ms
2024-07-25 15:13:35.135 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-25 15:13:35.136 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-25 15:13:35.136 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-25 15:13:35.136 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-25 15:13:35.136 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:13:35.136 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:13:35.136 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:13:35.137 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:13:35.137 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:13:35.137 -05:00 [DBG] Authorization was successful.
2024-07-25 15:13:35.137 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-25 15:13:35.139 -05:00 [INF] Route matched with {action = "Get", controller = "Perfiles"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-25 15:13:35.139 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:13:35.139 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:13:35.140 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:13:35.140 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:13:35.140 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:13:35.140 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-25 15:13:35.141 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-25 15:13:35.141 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-07-25 15:13:35.141 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-07-25 15:13:35.141 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-25 15:13:35.141 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-25 15:13:35.142 -05:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-07-25 15:13:35.142 -05:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-07-25 15:13:35.149 -05:00 [DBG] Consultando perfil con id 31
2024-07-25 15:13:35.149 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:13:35.149 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:13:35.150 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:13:35.150 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:35.150 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:35.150 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:13:35.150 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:35.150 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:35.150 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-25 15:13:35.151 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-25 15:13:35.151 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:35.151 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:35.151 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:13:35.151 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:35.151 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:13:35.154 -05:00 [INF] Perfil encontrado con id: 31
2024-07-25 15:13:35.154 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:13:35.154 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:13:35.154 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:13:35.154 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:13:35.154 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:13:35.154 -05:00 [INF] Executing OkObjectResult, writing value of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-25 15:13:35.154 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) in 14.1199ms
2024-07-25 15:13:35.154 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-25 15:13:35.154 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:13:35.155 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:35.155 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:13:35.155 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - 200 null application/json; charset=utf-8 19.8229ms
2024-07-25 15:13:42.132 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - null null
2024-07-25 15:13:42.132 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-25 15:13:42.132 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:13:42.132 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:13:42.132 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:13:42.132 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:13:42.132 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:13:42.132 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - 204 null null 0.5604ms
2024-07-25 15:13:42.134 -05:00 [INF] Request starting HTTP/2 PUT https://localhost:7299/api/Perfiles/ - application/json 130
2024-07-25 15:13:42.134 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-25 15:13:42.134 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-25 15:13:42.134 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)'
2024-07-25 15:13:42.135 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:13:42.135 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:13:42.135 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:13:42.135 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:13:42.135 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:13:42.135 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)'
2024-07-25 15:13:42.139 -05:00 [INF] Route matched with {action = "Put", controller = "Perfiles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(biblioteca_backend.Models.DTOs.UpdateProfileModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-25 15:13:42.139 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:13:42.139 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:13:42.139 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:13:42.139 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:13:42.139 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:13:42.139 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-25 15:13:42.140 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-25 15:13:42.140 -05:00 [DBG] Attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel' ...
2024-07-25 15:13:42.140 -05:00 [DBG] Attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel' using the name '' in request data ...
2024-07-25 15:13:42.140 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-25 15:13:42.140 -05:00 [DBG] Connection id "0HN5CSLBMGTOB", Request id "0HN5CSLBMGTOB:00000097": started reading request body.
2024-07-25 15:13:42.140 -05:00 [DBG] Connection id "0HN5CSLBMGTOB", Request id "0HN5CSLBMGTOB:00000097": done reading request body.
2024-07-25 15:13:42.142 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'
2024-07-25 15:13:42.142 -05:00 [DBG] Done attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-25 15:13:42.142 -05:00 [DBG] Done attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-25 15:13:42.142 -05:00 [DBG] Attempting to validate the bound parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel' ...
2024-07-25 15:13:42.146 -05:00 [DBG] Done attempting to validate the bound parameter 'perfil' of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-25 15:13:42.150 -05:00 [DBG] Actualizando perfil...
2024-07-25 15:13:42.151 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:13:42.152 -05:00 [DBG] Compiling query expression: 
'DbSet<Perfil>()
    .FirstOrDefault(p => p.Id == __perfil_Id_0)'
2024-07-25 15:13:42.155 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Perfil>(
    asyncEnumerable: new SingleQueryingEnumerable<Perfil>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Perfil.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Perfil.Apellido (string) Required, 1], [Property: Perfil.Contrasena (string) Required, 2], [Property: Perfil.Correo (string) Required, 3], [Property: Perfil.Direccion (string) Required, 4], [Property: Perfil.IdRol (int) Required FK Index, 5], [Property: Perfil.Nombre (string) Required, 6], [Property: Perfil.Telefono (string) Required, 7] }
            SELECT TOP(1) p.Id, p.Apellido, p.Contrasena, p.Correo, p.Direccion, p.IdRol, p.Nombre, p.Telefono
            FROM Perfil AS p
            WHERE p.Id == @__perfil_Id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Perfil>, 
        biblioteca_backend.DBBibliotecaContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-07-25 15:13:42.155 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:13:42.155 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:13:42.155 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:42.156 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:42.156 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:13:42.156 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:42.156 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:42.156 -05:00 [DBG] Executing DbCommand [Parameters=[@__perfil_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__perfil_Id_0
2024-07-25 15:13:42.160 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__perfil_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__perfil_Id_0
2024-07-25 15:13:42.160 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:42.161 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:42.161 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-25 15:13:42.161 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:42.162 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:13:42.162 -05:00 [DBG] An entity of type 'Perfil' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:42.162 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:13:42.162 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:13:42.164 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-25 15:13:42.167 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:42.167 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:42.167 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:13:42.167 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:42.167 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:42.167 -05:00 [DBG] Executing DbCommand [Parameters=[@p7='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Perfil] SET [Apellido] = @p0, [Contrasena] = @p1, [Correo] = @p2, [Direccion] = @p3, [IdRol] = @p4, [Nombre] = @p5, [Telefono] = @p6
OUTPUT 1
WHERE [Id] = @p7;
2024-07-25 15:13:42.173 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[@p7='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Perfil] SET [Apellido] = @p0, [Contrasena] = @p1, [Correo] = @p2, [Direccion] = @p3, [IdRol] = @p4, [Nombre] = @p5, [Telefono] = @p6
OUTPUT 1
WHERE [Id] = @p7;
2024-07-25 15:13:42.173 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:42.173 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:13:42.173 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:42.173 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:13:42.174 -05:00 [DBG] An entity of type 'Perfil' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:42.174 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-25 15:13:42.177 -05:00 [INF] Perfil actualizado con id: {_perfil.Id}
2024-07-25 15:13:42.178 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:13:42.178 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:13:42.178 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:13:42.178 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:13:42.179 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:13:42.179 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-25 15:13:42.179 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend) in 39.6631ms
2024-07-25 15:13:42.179 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Put (biblioteca-backend)'
2024-07-25 15:13:42.179 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:13:42.179 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:42.179 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:13:42.179 -05:00 [INF] Request finished HTTP/2 PUT https://localhost:7299/api/Perfiles/ - 200 null application/json; charset=utf-8 44.9233ms
2024-07-25 15:13:42.183 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-25 15:13:42.183 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-25 15:13:42.183 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:13:42.183 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:13:42.183 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:13:42.183 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:13:42.183 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:13:42.184 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - 204 null null 0.6818ms
2024-07-25 15:13:42.184 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-25 15:13:42.184 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-25 15:13:42.184 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:13:42.184 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:13:42.184 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:13:42.184 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:13:42.184 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:13:42.185 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/?id=31 - 204 null null 0.5971ms
2024-07-25 15:13:42.187 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-25 15:13:42.187 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-25 15:13:42.187 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-25 15:13:42.187 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-25 15:13:42.187 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:13:42.188 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:13:42.188 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:13:42.188 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:13:42.188 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:13:42.188 -05:00 [DBG] Authorization was successful.
2024-07-25 15:13:42.188 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-25 15:13:42.188 -05:00 [INF] Route matched with {action = "Get", controller = "Perfiles"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-25 15:13:42.188 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:13:42.188 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:13:42.188 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:13:42.188 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:13:42.188 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:13:42.189 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-25 15:13:42.189 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-25 15:13:42.189 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-07-25 15:13:42.189 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-07-25 15:13:42.189 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-25 15:13:42.189 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-25 15:13:42.189 -05:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-07-25 15:13:42.189 -05:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-07-25 15:13:42.192 -05:00 [DBG] Consultando perfil con id 31
2024-07-25 15:13:42.194 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:13:42.194 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:13:42.194 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:13:42.194 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:42.194 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:42.194 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:13:42.194 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:42.195 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:42.195 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-25 15:13:42.196 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-25 15:13:42.196 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:42.196 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:42.196 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:13:42.196 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:42.196 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:13:42.198 -05:00 [INF] Perfil encontrado con id: 31
2024-07-25 15:13:42.199 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:13:42.199 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:13:42.199 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:13:42.199 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:13:42.199 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:13:42.199 -05:00 [INF] Executing OkObjectResult, writing value of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-25 15:13:42.199 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) in 10.371ms
2024-07-25 15:13:42.199 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-25 15:13:42.199 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:13:42.199 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:42.199 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:13:42.199 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - 200 null application/json; charset=utf-8 12.233ms
2024-07-25 15:13:42.201 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - null null
2024-07-25 15:13:42.201 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-25 15:13:42.201 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-25 15:13:42.201 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-25 15:13:42.201 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:13:42.201 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:13:42.201 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:13:42.202 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:13:42.202 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:13:42.202 -05:00 [DBG] Authorization was successful.
2024-07-25 15:13:42.202 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-25 15:13:42.202 -05:00 [INF] Route matched with {action = "Get", controller = "Perfiles"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Int32) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-25 15:13:42.202 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:13:42.202 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:13:42.202 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:13:42.202 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:13:42.202 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:13:42.202 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-25 15:13:42.203 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-25 15:13:42.203 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-07-25 15:13:42.203 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-07-25 15:13:42.203 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-25 15:13:42.203 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-25 15:13:42.203 -05:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-07-25 15:13:42.203 -05:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-07-25 15:13:42.205 -05:00 [DBG] Consultando perfil con id 31
2024-07-25 15:13:42.206 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:13:42.206 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:13:42.206 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:13:42.206 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:42.206 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:42.206 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:13:42.206 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:42.206 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:13:42.206 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-25 15:13:42.207 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-25 15:13:42.207 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:13:42.207 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:42.207 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:13:42.207 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:42.207 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:13:42.211 -05:00 [INF] Perfil encontrado con id: 31
2024-07-25 15:13:42.211 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:13:42.211 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:13:42.211 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:13:42.211 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:13:42.211 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:13:42.211 -05:00 [INF] Executing OkObjectResult, writing value of type 'biblioteca_backend.Models.DTOs.UpdateProfileModel'.
2024-07-25 15:13:42.211 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend) in 8.8434ms
2024-07-25 15:13:42.211 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Get (biblioteca-backend)'
2024-07-25 15:13:42.211 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:13:42.212 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:13:42.212 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:13:42.212 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Perfiles/?id=31 - 200 null application/json; charset=utf-8 10.9736ms
2024-07-25 15:43:46.760 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-25 15:43:47.088 -05:00 [DBG] Hosting starting
2024-07-25 15:43:47.158 -05:00 [INF] User profile is available. Using 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-25 15:43:47.177 -05:00 [DBG] Reading data from file 'C:\Users\spatino\AppData\Local\ASP.NET\DataProtection-Keys\key-12ed5171-7863-4d3e-a216-6f5439158e60.xml'.
2024-07-25 15:43:47.202 -05:00 [DBG] Found key {12ed5171-7863-4d3e-a216-6f5439158e60}.
2024-07-25 15:43:47.227 -05:00 [DBG] Considering key {12ed5171-7863-4d3e-a216-6f5439158e60} with expiration date 2024-09-28 19:27:42Z as default key.
2024-07-25 15:43:47.236 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-25 15:43:47.240 -05:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-25 15:43:47.242 -05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-25 15:43:47.247 -05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-25 15:43:47.249 -05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-25 15:43:47.251 -05:00 [DBG] Using key {12ed5171-7863-4d3e-a216-6f5439158e60} as the default key.
2024-07-25 15:43:47.252 -05:00 [DBG] Key ring with default key {12ed5171-7863-4d3e-a216-6f5439158e60} was loaded during application startup.
2024-07-25 15:43:47.612 -05:00 [INF] Now listening on: https://localhost:7299
2024-07-25 15:43:47.612 -05:00 [INF] Now listening on: http://localhost:5219
2024-07-25 15:43:47.612 -05:00 [DBG] Loaded hosting startup assembly biblioteca-backend
2024-07-25 15:43:47.612 -05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-25 15:43:47.612 -05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-25 15:43:47.615 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-25 15:43:47.616 -05:00 [INF] Hosting environment: Development
2024-07-25 15:43:47.616 -05:00 [INF] Content root path: C:\Users\spatino\Documents\Proyeco - Biblioteca\biblioteca-backend
2024-07-25 15:43:47.616 -05:00 [DBG] Hosting started
2024-07-25 15:43:47.904 -05:00 [DBG] Connection id "0HN5CT9TSNI0Q" accepted.
2024-07-25 15:43:47.905 -05:00 [DBG] Connection id "0HN5CT9TSNI0Q" started.
2024-07-25 15:43:47.928 -05:00 [DBG] Connection id "0HN5CT9TSNI0Q" received FIN.
2024-07-25 15:43:47.938 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-25 15:43:48.029 -05:00 [DBG] Connection id "0HN5CT9TSNI0Q" stopped.
2024-07-25 15:43:48.034 -05:00 [DBG] Connection id "0HN5CT9TSNI0Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-25 15:43:48.189 -05:00 [DBG] Connection id "0HN5CT9TSNI0R" accepted.
2024-07-25 15:43:48.191 -05:00 [DBG] Connection id "0HN5CT9TSNI0R" started.
2024-07-25 15:43:48.518 -05:00 [DBG] Connection 0HN5CT9TSNI0R established using the following protocol: "Tls12"
2024-07-25 15:43:49.434 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/index.html - null null
2024-07-25 15:43:50.048 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-25 15:43:50.101 -05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-25 15:43:50.102 -05:00 [DBG] Request did not match any endpoints
2024-07-25 15:43:50.364 -05:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-07-25 15:43:50.367 -05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-25 15:43:50.407 -05:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-07-25 15:43:50.408 -05:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-25 15:43:50.413 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/index.html - 200 null text/html;charset=utf-8 985.3946ms
2024-07-25 15:43:50.455 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - null null
2024-07-25 15:43:50.464 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_framework/aspnetcore-browser-refresh.js - 200 13772 application/javascript; charset=utf-8 8.9865ms
2024-07-25 15:43:50.490 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/_vs/browserLink - null null
2024-07-25 15:43:50.569 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/_vs/browserLink - 200 null text/javascript; charset=UTF-8 78.4579ms
2024-07-25 15:43:51.353 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - null null
2024-07-25 15:43:51.354 -05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-25 15:43:51.354 -05:00 [DBG] Request did not match any endpoints
2024-07-25 15:43:51.589 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 236.1603ms
2024-07-25 15:49:08.512 -05:00 [DBG] Connection id "0HN5CT9TSNI0S" accepted.
2024-07-25 15:49:08.531 -05:00 [DBG] Connection id "0HN5CT9TSNI0S" started.
2024-07-25 15:49:08.542 -05:00 [DBG] Connection 0HN5CT9TSNI0S established using the following protocol: "Tls12"
2024-07-25 15:49:08.557 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/Registrarse - null null
2024-07-25 15:49:08.577 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/Registrarse'
2024-07-25 15:49:08.577 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:49:08.581 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:49:08.583 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:49:08.583 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:49:08.585 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:49:08.586 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/Registrarse - 204 null null 28.3556ms
2024-07-25 15:49:08.588 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Perfiles/Registrarse - application/json 157
2024-07-25 15:49:08.590 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/Registrarse'
2024-07-25 15:49:08.594 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Registrarse (biblioteca-backend)' with route pattern 'api/Perfiles/Registrarse' is valid for the request path '/api/Perfiles/Registrarse'
2024-07-25 15:49:08.594 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Registrarse (biblioteca-backend)'
2024-07-25 15:49:08.594 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:49:08.594 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:49:08.595 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:49:08.671 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-25 15:49:08.674 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Registrarse (biblioteca-backend)'
2024-07-25 15:49:08.699 -05:00 [INF] Route matched with {action = "Registrarse", controller = "Perfiles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Registrarse(biblioteca_backend.Models.Perfil) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-25 15:49:08.700 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:49:08.700 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:49:08.701 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:49:08.701 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:49:08.701 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:49:08.702 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-25 15:49:08.831 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-25 15:49:08.851 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-25 15:49:08.865 -05:00 [DBG] Attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.Perfil' ...
2024-07-25 15:49:08.867 -05:00 [DBG] Attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.Perfil' using the name '' in request data ...
2024-07-25 15:49:08.869 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-25 15:49:08.875 -05:00 [DBG] Connection id "0HN5CT9TSNI0S", Request id "0HN5CT9TSNI0S:00000003": started reading request body.
2024-07-25 15:49:08.875 -05:00 [DBG] Connection id "0HN5CT9TSNI0S", Request id "0HN5CT9TSNI0S:00000003": done reading request body.
2024-07-25 15:49:08.880 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.Perfil'
2024-07-25 15:49:08.881 -05:00 [DBG] Done attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.Perfil'.
2024-07-25 15:49:08.881 -05:00 [DBG] Done attempting to bind parameter 'perfil' of type 'biblioteca_backend.Models.Perfil'.
2024-07-25 15:49:08.881 -05:00 [DBG] Attempting to validate the bound parameter 'perfil' of type 'biblioteca_backend.Models.Perfil' ...
2024-07-25 15:49:08.891 -05:00 [DBG] Done attempting to validate the bound parameter 'perfil' of type 'biblioteca_backend.Models.Perfil'.
2024-07-25 15:49:08.918 -05:00 [DBG] Iniciando registro de perfil...
2024-07-25 15:49:09.734 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:49:09.786 -05:00 [DBG] Compiling query expression: 
'DbSet<Perfil>()
    .FirstOrDefault(p => p.Correo == __perfil_Correo_0)'
2024-07-25 15:49:10.010 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Perfil>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Perfil.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Perfil.Apellido (string) Required, 1], [Property: Perfil.Contrasena (string) Required, 2], [Property: Perfil.Correo (string) Required, 3], [Property: Perfil.Direccion (string) Required, 4], [Property: Perfil.IdRol (int) Required FK Index, 5], [Property: Perfil.Nombre (string) Required, 6], [Property: Perfil.Telefono (string) Required, 7] }
        SELECT TOP(1) p.Id, p.Apellido, p.Contrasena, p.Correo, p.Direccion, p.IdRol, p.Nombre, p.Telefono
        FROM Perfil AS p
        WHERE p.Correo == @__perfil_Correo_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Perfil>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-25 15:49:10.043 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:49:10.067 -05:00 [DBG] Created DbConnection. (20ms).
2024-07-25 15:49:10.069 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:49:10.373 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:49:10.376 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:49:10.386 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-07-25 15:49:10.396 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (20ms).
2024-07-25 15:49:10.411 -05:00 [DBG] Executing DbCommand [Parameters=[@__perfil_Correo_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__perfil_Correo_0
2024-07-25 15:49:10.484 -05:00 [INF] Executed DbCommand (80ms) [Parameters=[@__perfil_Correo_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__perfil_Correo_0
2024-07-25 15:49:10.491 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:49:10.504 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 11ms reading results.
2024-07-25 15:49:10.521 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:49:10.529 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (8ms).
2024-07-25 15:49:10.581 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'Perfil.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:49:10.663 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:49:10.667 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:49:10.670 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:49:10.680 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-25 15:49:10.761 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:49:10.764 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:49:10.769 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:49:10.769 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:49:10.769 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:49:10.770 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Perfil] ([Apellido], [Contrasena], [Correo], [Direccion], [IdRol], [Nombre], [Telefono])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-07-25 15:49:10.809 -05:00 [INF] Executed DbCommand (39ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Perfil] ([Apellido], [Contrasena], [Correo], [Direccion], [IdRol], [Nombre], [Telefono])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-07-25 15:49:10.828 -05:00 [DBG] The foreign key property 'Perfil.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-25 15:49:10.838 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:49:10.840 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 30ms reading results.
2024-07-25 15:49:10.843 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:49:10.843 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:49:10.855 -05:00 [DBG] An entity of type 'Perfil' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:49:10.857 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-25 15:49:10.862 -05:00 [DBG] Enviando email al correo: alejocastro3063088@gmail.com...
2024-07-25 15:49:11.630 -05:00 [INF] Email enviado a alejocastro3063088@gmail.com exitosamente
2024-07-25 15:49:11.637 -05:00 [INF] Registro de perfil exitoso
2024-07-25 15:49:11.653 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:49:11.656 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:49:11.657 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:49:11.657 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:49:11.658 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:49:11.658 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-25 15:49:11.673 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Registrarse (biblioteca-backend) in 2967.7432ms
2024-07-25 15:49:11.674 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Registrarse (biblioteca-backend)'
2024-07-25 15:49:11.679 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:49:11.687 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:49:11.690 -05:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-07-25 15:49:11.691 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Perfiles/Registrarse - 200 null application/json; charset=utf-8 3103ms
2024-07-25 15:50:38.013 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - null null
2024-07-25 15:50:38.013 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-25 15:50:38.013 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:50:38.013 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:50:38.014 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:50:38.015 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:50:38.017 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:50:38.017 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Perfiles/ - 204 null null 4.7862ms
2024-07-25 15:50:38.031 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Perfiles/ - application/json 54
2024-07-25 15:50:38.035 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Perfiles/'
2024-07-25 15:50:38.035 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)' with route pattern 'api/Perfiles' is valid for the request path '/api/Perfiles/'
2024-07-25 15:50:38.036 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-25 15:50:38.036 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:50:38.036 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:50:38.036 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:50:38.039 -05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-25 15:50:38.039 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-25 15:50:38.041 -05:00 [INF] Route matched with {action = "Post", controller = "Perfiles"}. Executing controller action with signature System.Object Post(biblioteca_backend.Models.DTOs.LogInModel) on controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend).
2024-07-25 15:50:38.041 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:50:38.041 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:50:38.041 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:50:38.041 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:50:38.041 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:50:38.042 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-25 15:50:38.044 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PerfilesController (biblioteca-backend)
2024-07-25 15:50:38.044 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-25 15:50:38.044 -05:00 [DBG] Attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' using the name '' in request data ...
2024-07-25 15:50:38.044 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-25 15:50:38.045 -05:00 [DBG] Connection id "0HN5CT9TSNI0S", Request id "0HN5CT9TSNI0S:00000007": started reading request body.
2024-07-25 15:50:38.045 -05:00 [DBG] Connection id "0HN5CT9TSNI0S", Request id "0HN5CT9TSNI0S:00000007": done reading request body.
2024-07-25 15:50:38.046 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.LogInModel'
2024-07-25 15:50:38.046 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-25 15:50:38.046 -05:00 [DBG] Done attempting to bind parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-25 15:50:38.046 -05:00 [DBG] Attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel' ...
2024-07-25 15:50:38.047 -05:00 [DBG] Done attempting to validate the bound parameter 'logInModel' of type 'biblioteca_backend.Models.DTOs.LogInModel'.
2024-07-25 15:50:38.051 -05:00 [DBG] Iniciando sesión...
2024-07-25 15:50:38.066 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:50:38.068 -05:00 [DBG] Compiling query expression: 
'DbSet<Perfil>()
    .FirstOrDefault(p => p.Correo == __8__locals1_logInModel_Correo_0 && p.Contrasena == __claveCifrada_1)'
2024-07-25 15:50:38.073 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Perfil>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Perfil.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Perfil.Apellido (string) Required, 1], [Property: Perfil.Contrasena (string) Required, 2], [Property: Perfil.Correo (string) Required, 3], [Property: Perfil.Direccion (string) Required, 4], [Property: Perfil.IdRol (int) Required FK Index, 5], [Property: Perfil.Nombre (string) Required, 6], [Property: Perfil.Telefono (string) Required, 7] }
        SELECT TOP(1) p.Id, p.Apellido, p.Contrasena, p.Correo, p.Direccion, p.IdRol, p.Nombre, p.Telefono
        FROM Perfil AS p
        WHERE (p.Correo == @__8__locals1_logInModel_Correo_0) && (p.Contrasena == @__claveCifrada_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Perfil>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-25 15:50:38.077 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:50:38.077 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:50:38.077 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:50:38.078 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:50:38.078 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:50:38.078 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:50:38.078 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:50:38.078 -05:00 [DBG] Executing DbCommand [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-25 15:50:38.081 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__8__locals1_logInModel_Correo_0='?' (Size = 4000), @__claveCifrada_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Correo] = @__8__locals1_logInModel_Correo_0 AND [p].[Contrasena] = @__claveCifrada_1
2024-07-25 15:50:38.084 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:50:38.085 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:50:38.085 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-07-25 15:50:38.085 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:50:38.085 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:50:38.086 -05:00 [DBG] Compiling query expression: 
'DbSet<Rol>()
    .FirstOrDefault(r => r.Id == ___perfil_IdRol_0)'
2024-07-25 15:50:38.089 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Rol>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Rol.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Rol.Nombre (string) Required, 1] }
        SELECT TOP(1) r.Id, r.Nombre
        FROM Rol AS r
        WHERE r.Id == @___perfil_IdRol_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Rol>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-25 15:50:38.090 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:50:38.090 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:50:38.090 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:50:38.090 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:50:38.090 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:50:38.090 -05:00 [DBG] Executing DbCommand [Parameters=[@___perfil_IdRol_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Nombre]
FROM [Rol] AS [r]
WHERE [r].[Id] = @___perfil_IdRol_0
2024-07-25 15:50:38.092 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@___perfil_IdRol_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Nombre]
FROM [Rol] AS [r]
WHERE [r].[Id] = @___perfil_IdRol_0
2024-07-25 15:50:38.100 -05:00 [DBG] The navigation 'Perfil.Rol' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:50:38.110 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Rol' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:50:38.113 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:50:38.113 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 21ms reading results.
2024-07-25 15:50:38.113 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:50:38.113 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:50:38.145 -05:00 [INF] Inicio de sesión exitoso
2024-07-25 15:50:38.147 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:50:38.147 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:50:38.147 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:50:38.147 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:50:38.148 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:50:38.148 -05:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-25 15:50:38.149 -05:00 [INF] Executed action biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend) in 107.3991ms
2024-07-25 15:50:38.149 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PerfilesController.Post (biblioteca-backend)'
2024-07-25 15:50:38.149 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:50:38.149 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:50:38.150 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:50:38.150 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Perfiles/ - 200 null application/json; charset=utf-8 119.1176ms
2024-07-25 15:50:38.177 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-07-25 15:50:38.177 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-25 15:50:38.177 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-25 15:50:38.177 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:50:38.177 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:50:38.177 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:50:38.177 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:50:38.177 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:50:38.177 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:50:38.177 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:50:38.177 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:50:38.177 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:50:38.177 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:50:38.177 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:50:38.177 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 0.5653ms
2024-07-25 15:50:38.177 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 0.6408ms
2024-07-25 15:50:38.185 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-07-25 15:50:38.185 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-25 15:50:38.185 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-07-25 15:50:38.185 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-25 15:50:38.186 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-25 15:50:38.186 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:50:38.186 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:50:38.186 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-25 15:50:38.186 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:50:38.186 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:50:38.186 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:50:38.186 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:50:38.186 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:50:38.186 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:50:38.256 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:50:38.256 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:50:38.258 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:50:38.258 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:50:38.265 -05:00 [DBG] Authorization was successful.
2024-07-25 15:50:38.265 -05:00 [DBG] Authorization was successful.
2024-07-25 15:50:38.266 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:50:38.266 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-25 15:50:38.268 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-25 15:50:38.268 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:50:38.268 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:50:38.268 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:50:38.268 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:50:38.268 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:50:38.268 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:50:38.269 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-07-25 15:50:38.269 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:50:38.269 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:50:38.269 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:50:38.269 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:50:38.269 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:50:38.269 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-25 15:50:38.270 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-25 15:50:38.270 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:50:38.275 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-25 15:50:38.278 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-25 15:50:38.280 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:50:38.280 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:50:38.280 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-25 15:50:38.280 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:50:38.289 -05:00 [DBG] Consultando libros...
2024-07-25 15:50:38.367 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:50:38.367 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:50:38.370 -05:00 [DBG] Compiling query expression: 
'DbSet<Genero>()'
2024-07-25 15:50:38.375 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Genero>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Genero.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Genero.Nombre (string) Required, 1] }
        SELECT g.Id, g.Nombre
        FROM Genero AS g), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Genero>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-25 15:50:38.379 -05:00 [DBG] Compiling query expression: 
'DbSet<Libro>()
    .Join(
        inner: DbSet<Genero>(), 
        outerKeySelector: L => L.IdGenero, 
        innerKeySelector: G => G.Id, 
        resultSelector: (L, G) => new { 
            L = L, 
            G = G
         })
    .Where(<>h__TransparentIdentifier0 => True)
    .Select(<>h__TransparentIdentifier0 => new { 
        id = <>h__TransparentIdentifier0.L.Id, 
        titulo = <>h__TransparentIdentifier0.L.Titulo, 
        autor = <>h__TransparentIdentifier0.L.Autor, 
        anio = <>h__TransparentIdentifier0.L.Anio, 
        idGenero = <>h__TransparentIdentifier0.L.IdGenero, 
        genero = <>h__TransparentIdentifier0.G.Nombre, 
        activo = <>h__TransparentIdentifier0.L.Activo
     })'
2024-07-25 15:50:38.384 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:50:38.385 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:50:38.385 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:50:38.385 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:50:38.385 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:50:38.385 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:50:38.385 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:50:38.386 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-25 15:50:38.389 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-25 15:50:38.406 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:50:38.412 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:50:38.412 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:50:38.412 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:50:38.412 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:50:38.412 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:50:38.412 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:50:38.413 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:50:38.413 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:50:38.413 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:50:38.413 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:50:38.413 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:50:38.413 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:50:38.413 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:50:38.414 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 24ms reading results.
2024-07-25 15:50:38.414 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:50:38.414 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:50:38.414 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:50:38.414 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:50:38.414 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:50:38.414 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:50:38.414 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:50:38.414 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-25 15:50:38.418 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 148.7398ms
2024-07-25 15:50:38.418 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-25 15:50:38.418 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:50:38.418 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:50:38.419 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:50:38.419 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 234.18ms
2024-07-25 15:50:38.457 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType1<int, string, string, int, int, string, bool>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            id -> 0
            titulo -> 1
            autor -> 2
            anio -> 3
            idGenero -> 4
            genero -> 5
            activo -> 6
        SELECT l.Id AS id, l.Titulo AS titulo, l.Autor AS autor, l.Anio AS anio, l.IdGenero AS idGenero, g.Nombre AS genero, l.Activo AS activo
        FROM Libro AS l
        INNER JOIN Genero AS g ON l.IdGenero == g.Id), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType1<int, string, string, int, int, string, bool>>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-25 15:50:38.458 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:50:38.458 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:50:38.458 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:50:38.458 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:50:38.458 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:50:38.459 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:50:38.459 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:50:38.459 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-25 15:50:38.464 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-25 15:50:38.465 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:50:38.465 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:50:38.465 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:50:38.465 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:50:38.467 -05:00 [INF] Consulta de libros exitosa
2024-07-25 15:50:38.468 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:50:38.468 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:50:38.468 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:50:38.468 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:50:38.468 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:50:38.468 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-25 15:50:38.473 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 204.759ms
2024-07-25 15:50:38.473 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:50:38.473 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:50:38.473 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:50:38.473 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:50:38.473 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 288.0002ms
2024-07-25 15:50:59.066 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-25 15:50:59.066 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Generos - null null
2024-07-25 15:50:59.066 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:50:59.066 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-25 15:50:59.066 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:50:59.066 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:50:59.066 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:50:59.066 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:50:59.066 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:50:59.066 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:50:59.066 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:50:59.066 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:50:59.066 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:50:59.066 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:50:59.067 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 1.0083ms
2024-07-25 15:50:59.067 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Generos - 204 null null 0.8735ms
2024-07-25 15:50:59.072 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Generos - null null
2024-07-25 15:50:59.072 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-25 15:50:59.072 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Generos'
2024-07-25 15:50:59.072 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)' with route pattern 'api/Generos' is valid for the request path '/api/Generos'
2024-07-25 15:50:59.072 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:50:59.072 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-25 15:50:59.072 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-25 15:50:59.072 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:50:59.072 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:50:59.072 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:50:59.072 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:50:59.072 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:50:59.072 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:50:59.072 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:50:59.073 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:50:59.073 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:50:59.073 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:50:59.073 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:50:59.076 -05:00 [DBG] Authorization was successful.
2024-07-25 15:50:59.077 -05:00 [DBG] Authorization was successful.
2024-07-25 15:50:59.077 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-25 15:50:59.077 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:50:59.077 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-25 15:50:59.077 -05:00 [INF] Route matched with {action = "Get", controller = "Generos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend).
2024-07-25 15:50:59.077 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:50:59.077 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:50:59.077 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:50:59.077 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:50:59.077 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:50:59.077 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:50:59.077 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:50:59.077 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:50:59.077 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:50:59.077 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:50:59.077 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:50:59.077 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-25 15:50:59.078 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.GenerosController (biblioteca-backend)
2024-07-25 15:50:59.078 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:50:59.078 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-25 15:50:59.079 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-25 15:50:59.079 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:50:59.079 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:50:59.079 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-25 15:50:59.079 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:50:59.081 -05:00 [DBG] Consultando libros...
2024-07-25 15:50:59.082 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:50:59.082 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:50:59.082 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:50:59.083 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:50:59.082 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:50:59.083 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:50:59.083 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:50:59.083 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:50:59.083 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:50:59.083 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-25 15:50:59.100 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:50:59.100 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:50:59.100 -05:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[Nombre]
FROM [Genero] AS [g]
2024-07-25 15:50:59.100 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:50:59.101 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:50:59.102 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:50:59.102 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:50:59.102 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:50:59.102 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:50:59.102 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:50:59.102 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:50:59.103 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:50:59.103 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:50:59.103 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:50:59.103 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:50:59.103 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:50:59.103 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Genero' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:50:59.104 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:50:59.106 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-07-25 15:50:59.106 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:50:59.106 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:50:59.110 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:50:59.111 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:50:59.113 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:50:59.113 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:50:59.113 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:50:59.113 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.Genero, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-25 15:50:59.113 -05:00 [INF] Executed action biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend) in 35.7905ms
2024-07-25 15:50:59.113 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.GenerosController.Get (biblioteca-backend)'
2024-07-25 15:50:59.114 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:50:59.114 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:50:59.114 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:50:59.114 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Generos - 200 null application/json; charset=utf-8 42.3285ms
2024-07-25 15:50:59.117 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:50:59.117 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:50:59.117 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:50:59.117 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:50:59.117 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-25 15:50:59.146 -05:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-25 15:50:59.147 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:50:59.147 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:50:59.147 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:50:59.147 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:50:59.152 -05:00 [INF] Consulta de libros exitosa
2024-07-25 15:50:59.152 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:50:59.152 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:50:59.152 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:50:59.152 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:50:59.152 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:50:59.153 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-25 15:50:59.153 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 75.4342ms
2024-07-25 15:50:59.153 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:50:59.153 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:50:59.153 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:50:59.153 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:50:59.153 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 81.7268ms
2024-07-25 15:51:09.856 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/ - null null
2024-07-25 15:51:09.857 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:51:09.857 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:51:09.857 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:51:09.864 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:51:09.865 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:51:09.867 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:51:09.868 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/ - 204 null null 11.8903ms
2024-07-25 15:51:09.871 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Libros/ - application/json 118
2024-07-25 15:51:09.871 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:51:09.871 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Post (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-25 15:51:09.871 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Post (biblioteca-backend)'
2024-07-25 15:51:09.871 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:51:09.871 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:51:09.871 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:51:09.872 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:51:09.872 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:51:09.873 -05:00 [DBG] Authorization was successful.
2024-07-25 15:51:09.873 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Post (biblioteca-backend)'
2024-07-25 15:51:09.879 -05:00 [INF] Route matched with {action = "Post", controller = "Libros"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(biblioteca_backend.Models.Libro) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-25 15:51:09.879 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:51:09.879 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:51:09.879 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:51:09.879 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:51:09.879 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:51:09.880 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:51:09.880 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:51:09.880 -05:00 [DBG] Attempting to bind parameter 'libro' of type 'biblioteca_backend.Models.Libro' ...
2024-07-25 15:51:09.880 -05:00 [DBG] Attempting to bind parameter 'libro' of type 'biblioteca_backend.Models.Libro' using the name '' in request data ...
2024-07-25 15:51:09.881 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-25 15:51:09.882 -05:00 [DBG] Connection id "0HN5CT9TSNI0S", Request id "0HN5CT9TSNI0S:0000001B": started reading request body.
2024-07-25 15:51:09.882 -05:00 [DBG] Connection id "0HN5CT9TSNI0S", Request id "0HN5CT9TSNI0S:0000001B": done reading request body.
2024-07-25 15:51:09.884 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.Libro'
2024-07-25 15:51:09.885 -05:00 [DBG] Done attempting to bind parameter 'libro' of type 'biblioteca_backend.Models.Libro'.
2024-07-25 15:51:09.885 -05:00 [DBG] Done attempting to bind parameter 'libro' of type 'biblioteca_backend.Models.Libro'.
2024-07-25 15:51:09.885 -05:00 [DBG] Attempting to validate the bound parameter 'libro' of type 'biblioteca_backend.Models.Libro' ...
2024-07-25 15:51:09.888 -05:00 [DBG] Done attempting to validate the bound parameter 'libro' of type 'biblioteca_backend.Models.Libro'.
2024-07-25 15:51:09.892 -05:00 [DBG] Guardando libro...
2024-07-25 15:51:09.894 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:51:09.898 -05:00 [DBG] 'DBBibliotecaContext' generated a temporary value for the property 'Libro.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:51:09.912 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:51:09.912 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:51:09.912 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:51:09.916 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-25 15:51:09.917 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:51:09.917 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:51:09.917 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:09.918 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:09.918 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:51:09.918 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:51:09.918 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:51:09.918 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Libro] ([Activo], [Anio], [Autor], [IdGenero], [Titulo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-07-25 15:51:09.922 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Libro] ([Activo], [Anio], [Autor], [IdGenero], [Titulo])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-07-25 15:51:09.923 -05:00 [DBG] The foreign key property 'Libro.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-25 15:51:09.923 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:09.923 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-07-25 15:51:09.923 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:09.923 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:51:09.924 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:51:09.925 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-25 15:51:09.928 -05:00 [INF] Libro guardado exitosamente
2024-07-25 15:51:09.928 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:51:09.928 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:51:09.928 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:51:09.928 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:51:09.928 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:51:09.929 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-25 15:51:09.929 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Post (biblioteca-backend) in 49.1259ms
2024-07-25 15:51:09.929 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Post (biblioteca-backend)'
2024-07-25 15:51:09.929 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:51:09.929 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:09.929 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:51:09.929 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Libros/ - 200 null application/json; charset=utf-8 58.766ms
2024-07-25 15:51:09.934 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-25 15:51:09.934 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:51:09.934 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:51:09.934 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:51:09.934 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:51:09.934 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:51:09.934 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:51:09.934 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 0.4523ms
2024-07-25 15:51:09.937 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-25 15:51:09.937 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:51:09.937 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-25 15:51:09.937 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:51:09.937 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:51:09.937 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:51:09.937 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:51:09.938 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:51:09.938 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:51:09.938 -05:00 [DBG] Authorization was successful.
2024-07-25 15:51:09.938 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:51:09.938 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-25 15:51:09.938 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:51:09.938 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:51:09.938 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:51:09.938 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:51:09.938 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:51:09.938 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:51:09.938 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:51:09.938 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-25 15:51:09.938 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-25 15:51:09.939 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:51:09.939 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:51:09.939 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-25 15:51:09.939 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:51:09.941 -05:00 [DBG] Consultando libros...
2024-07-25 15:51:09.943 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:51:09.944 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:51:09.944 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:51:09.944 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:09.945 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:09.945 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:51:09.945 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:51:09.945 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:51:09.945 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-25 15:51:09.946 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-25 15:51:09.946 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:09.946 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:51:09.946 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:09.946 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:51:09.949 -05:00 [INF] Consulta de libros exitosa
2024-07-25 15:51:09.949 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:51:09.949 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:51:09.949 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:51:09.949 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:51:09.949 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:51:09.949 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-25 15:51:09.950 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 11.5761ms
2024-07-25 15:51:09.950 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:51:09.950 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:51:09.950 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:09.950 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:51:09.950 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 13.7426ms
2024-07-25 15:51:18.982 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/ - null null
2024-07-25 15:51:18.982 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:51:18.983 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:51:18.983 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:51:18.983 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:51:18.983 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:51:18.983 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:51:18.983 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/ - 204 null null 0.699ms
2024-07-25 15:51:18.987 -05:00 [INF] Request starting HTTP/2 PUT https://localhost:7299/api/Libros/ - application/json 102
2024-07-25 15:51:18.988 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:51:18.988 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Put (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-25 15:51:18.988 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Put (biblioteca-backend)'
2024-07-25 15:51:18.988 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:51:18.989 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:51:19.000 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:51:19.001 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:51:19.012 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:51:19.013 -05:00 [DBG] Authorization was successful.
2024-07-25 15:51:19.017 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Put (biblioteca-backend)'
2024-07-25 15:51:19.022 -05:00 [INF] Route matched with {action = "Put", controller = "Libros"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(biblioteca_backend.Models.Libro) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-25 15:51:19.023 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:51:19.023 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:51:19.023 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:51:19.023 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:51:19.023 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:51:19.023 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:51:19.023 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:51:19.023 -05:00 [DBG] Attempting to bind parameter 'libro' of type 'biblioteca_backend.Models.Libro' ...
2024-07-25 15:51:19.023 -05:00 [DBG] Attempting to bind parameter 'libro' of type 'biblioteca_backend.Models.Libro' using the name '' in request data ...
2024-07-25 15:51:19.023 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-25 15:51:19.023 -05:00 [DBG] Connection id "0HN5CT9TSNI0S", Request id "0HN5CT9TSNI0S:00000023": started reading request body.
2024-07-25 15:51:19.024 -05:00 [DBG] Connection id "0HN5CT9TSNI0S", Request id "0HN5CT9TSNI0S:00000023": done reading request body.
2024-07-25 15:51:19.025 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.Libro'
2024-07-25 15:51:19.025 -05:00 [DBG] Done attempting to bind parameter 'libro' of type 'biblioteca_backend.Models.Libro'.
2024-07-25 15:51:19.025 -05:00 [DBG] Done attempting to bind parameter 'libro' of type 'biblioteca_backend.Models.Libro'.
2024-07-25 15:51:19.025 -05:00 [DBG] Attempting to validate the bound parameter 'libro' of type 'biblioteca_backend.Models.Libro' ...
2024-07-25 15:51:19.026 -05:00 [DBG] Done attempting to validate the bound parameter 'libro' of type 'biblioteca_backend.Models.Libro'.
2024-07-25 15:51:19.031 -05:00 [DBG] Actualizando libro con id 85...
2024-07-25 15:51:19.032 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:51:19.033 -05:00 [DBG] Compiling query expression: 
'DbSet<Libro>()
    .FirstOrDefault(e => e.Id == __libro_Id_0)'
2024-07-25 15:51:19.038 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Libro>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Libro.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Libro.Activo (bool) Required, 1], [Property: Libro.Anio (int) Required, 2], [Property: Libro.Autor (string) Required, 3], [Property: Libro.IdGenero (int) Required FK Index, 4], [Property: Libro.Titulo (string) Required, 5] }
        SELECT TOP(1) l.Id, l.Activo, l.Anio, l.Autor, l.IdGenero, l.Titulo
        FROM Libro AS l
        WHERE l.Id == @__libro_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Libro>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-25 15:51:19.038 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:51:19.039 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:51:19.039 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:19.039 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:19.039 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:51:19.039 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:51:19.039 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:51:19.039 -05:00 [DBG] Executing DbCommand [Parameters=[@__libro_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Activo], [l].[Anio], [l].[Autor], [l].[IdGenero], [l].[Titulo]
FROM [Libro] AS [l]
WHERE [l].[Id] = @__libro_Id_0
2024-07-25 15:51:19.043 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__libro_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Activo], [l].[Anio], [l].[Autor], [l].[IdGenero], [l].[Titulo]
FROM [Libro] AS [l]
WHERE [l].[Id] = @__libro_Id_0
2024-07-25 15:51:19.043 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:51:19.043 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:19.043 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:51:19.043 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:19.043 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:51:19.044 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:51:19.044 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:51:19.044 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:51:19.044 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-25 15:51:19.048 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:19.048 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:19.048 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:51:19.048 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:51:19.048 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:51:19.049 -05:00 [DBG] Executing DbCommand [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-25 15:51:19.058 -05:00 [INF] Executed DbCommand (9ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Libro] SET [Activo] = @p0, [Anio] = @p1, [Autor] = @p2, [IdGenero] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-07-25 15:51:19.060 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:19.060 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-07-25 15:51:19.061 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:19.061 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:51:19.061 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:51:19.061 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-25 15:51:19.064 -05:00 [INF] Libro actualizado con id 85
2024-07-25 15:51:19.064 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:51:19.065 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:51:19.065 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:51:19.065 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:51:19.065 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:51:19.065 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-25 15:51:19.065 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Put (biblioteca-backend) in 42.1336ms
2024-07-25 15:51:19.065 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Put (biblioteca-backend)'
2024-07-25 15:51:19.065 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:51:19.065 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:19.065 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:51:19.066 -05:00 [INF] Request finished HTTP/2 PUT https://localhost:7299/api/Libros/ - 200 null application/json; charset=utf-8 78.0384ms
2024-07-25 15:51:19.070 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-25 15:51:19.071 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:51:19.071 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:51:19.071 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:51:19.071 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:51:19.071 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:51:19.071 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:51:19.072 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 1.644ms
2024-07-25 15:51:19.077 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-25 15:51:19.077 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:51:19.077 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-25 15:51:19.077 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:51:19.077 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:51:19.077 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:51:19.077 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:51:19.078 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:51:19.078 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:51:19.078 -05:00 [DBG] Authorization was successful.
2024-07-25 15:51:19.078 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:51:19.078 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-25 15:51:19.078 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:51:19.078 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:51:19.079 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:51:19.079 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:51:19.079 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:51:19.079 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:51:19.080 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:51:19.080 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-25 15:51:19.080 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-25 15:51:19.081 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:51:19.081 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:51:19.081 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-25 15:51:19.081 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:51:19.086 -05:00 [DBG] Consultando libros...
2024-07-25 15:51:19.087 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:51:19.089 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:51:19.089 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:51:19.089 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:19.089 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:19.089 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:51:19.089 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:51:19.089 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:51:19.090 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-25 15:51:19.093 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-25 15:51:19.094 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:19.094 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:51:19.094 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:19.094 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:51:19.100 -05:00 [INF] Consulta de libros exitosa
2024-07-25 15:51:19.100 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:51:19.100 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:51:19.100 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:51:19.101 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:51:19.101 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:51:19.101 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-25 15:51:19.101 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 22.2212ms
2024-07-25 15:51:19.101 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:51:19.102 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:51:19.102 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:19.102 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:51:19.102 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 25.5295ms
2024-07-25 15:51:43.605 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/85 - null null
2024-07-25 15:51:43.606 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/85'
2024-07-25 15:51:43.606 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:51:43.606 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:51:43.615 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:51:43.615 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:51:43.619 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:51:43.619 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/85 - 204 null null 14.2649ms
2024-07-25 15:51:43.621 -05:00 [INF] Request starting HTTP/2 DELETE https://localhost:7299/api/Libros/85 - null null
2024-07-25 15:51:43.622 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/85'
2024-07-25 15:51:43.622 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Delete (biblioteca-backend)' with route pattern 'api/Libros/{id}' is valid for the request path '/api/Libros/85'
2024-07-25 15:51:43.622 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Delete (biblioteca-backend)'
2024-07-25 15:51:43.622 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:51:43.622 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:51:43.622 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:51:43.622 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:51:43.622 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:51:43.622 -05:00 [DBG] Authorization was successful.
2024-07-25 15:51:43.623 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Delete (biblioteca-backend)'
2024-07-25 15:51:43.626 -05:00 [INF] Route matched with {action = "Delete", controller = "Libros"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-25 15:51:43.626 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:51:43.626 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:51:43.626 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:51:43.626 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:51:43.626 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:51:43.626 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:51:43.627 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:51:43.627 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-07-25 15:51:43.627 -05:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-07-25 15:51:43.627 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-25 15:51:43.627 -05:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-07-25 15:51:43.627 -05:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-07-25 15:51:43.627 -05:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-07-25 15:51:43.632 -05:00 [DBG] Eliminando libro con id 85...
2024-07-25 15:51:43.633 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:51:43.641 -05:00 [DBG] Compiling query expression: 
'DbSet<Libro>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)'
2024-07-25 15:51:43.660 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Libro>(
    asyncEnumerable: new SingleQueryingEnumerable<Libro>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Libro.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Libro.Activo (bool) Required, 1], [Property: Libro.Anio (int) Required, 2], [Property: Libro.Autor (string) Required, 3], [Property: Libro.IdGenero (int) Required FK Index, 4], [Property: Libro.Titulo (string) Required, 5] }
            SELECT TOP(1) l.Id, l.Activo, l.Anio, l.Autor, l.IdGenero, l.Titulo
            FROM Libro AS l
            WHERE l.Id == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Libro>, 
        biblioteca_backend.DBBibliotecaContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-07-25 15:51:43.662 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:51:43.662 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:51:43.662 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:43.663 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:43.663 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:51:43.663 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:51:43.663 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:51:43.663 -05:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Activo], [l].[Anio], [l].[Autor], [l].[IdGenero], [l].[Titulo]
FROM [Libro] AS [l]
WHERE [l].[Id] = @__p_0
2024-07-25 15:51:43.665 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Activo], [l].[Anio], [l].[Autor], [l].[IdGenero], [l].[Titulo]
FROM [Libro] AS [l]
WHERE [l].[Id] = @__p_0
2024-07-25 15:51:43.665 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Libro' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:51:43.668 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:43.668 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-07-25 15:51:43.668 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:43.668 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:51:43.670 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:51:43.671 -05:00 [DBG] SaveChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:51:43.671 -05:00 [DBG] DetectChanges starting for 'DBBibliotecaContext'.
2024-07-25 15:51:43.671 -05:00 [DBG] DetectChanges completed for 'DBBibliotecaContext'.
2024-07-25 15:51:43.674 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:43.675 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:43.675 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:51:43.675 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:51:43.675 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:51:43.675 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Libro]
OUTPUT 1
WHERE [Id] = @p0;
2024-07-25 15:51:43.681 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Libro]
OUTPUT 1
WHERE [Id] = @p0;
2024-07-25 15:51:43.681 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:43.681 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:51:43.681 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:43.681 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:51:43.684 -05:00 [DBG] An entity of type 'Libro' tracked by 'DBBibliotecaContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:51:43.684 -05:00 [DBG] SaveChanges completed for 'DBBibliotecaContext' with 1 entities written to the database.
2024-07-25 15:51:43.687 -05:00 [INF] Libro eliminado con id 85
2024-07-25 15:51:43.687 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:51:43.687 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:51:43.687 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:51:43.688 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:51:43.688 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:51:43.688 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-25 15:51:43.688 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Delete (biblioteca-backend) in 61.3831ms
2024-07-25 15:51:43.688 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Delete (biblioteca-backend)'
2024-07-25 15:51:43.688 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:51:43.688 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:43.688 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:51:43.689 -05:00 [INF] Request finished HTTP/2 DELETE https://localhost:7299/api/Libros/85 - 200 null application/json; charset=utf-8 67.4775ms
2024-07-25 15:51:43.694 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-25 15:51:43.694 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:51:43.694 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:51:43.694 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:51:43.695 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:51:43.695 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:51:43.695 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:51:43.695 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=false - 204 null null 0.9863ms
2024-07-25 15:51:43.698 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - null null
2024-07-25 15:51:43.698 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:51:43.698 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-25 15:51:43.698 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:51:43.698 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:51:43.698 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:51:43.698 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:51:43.698 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:51:43.698 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:51:43.699 -05:00 [DBG] Authorization was successful.
2024-07-25 15:51:43.699 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:51:43.699 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-25 15:51:43.699 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:51:43.699 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:51:43.699 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:51:43.699 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:51:43.699 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:51:43.699 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:51:43.699 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:51:43.700 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-25 15:51:43.700 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-25 15:51:43.700 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:51:43.700 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:51:43.700 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-25 15:51:43.700 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:51:43.703 -05:00 [DBG] Consultando libros...
2024-07-25 15:51:43.705 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:51:43.708 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:51:43.708 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:51:43.709 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:43.709 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:43.709 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:51:43.709 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:51:43.709 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:51:43.709 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-25 15:51:43.710 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
2024-07-25 15:51:43.710 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:43.710 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:51:43.710 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:43.710 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:51:43.714 -05:00 [INF] Consulta de libros exitosa
2024-07-25 15:51:43.714 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:51:43.714 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:51:43.714 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:51:43.714 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:51:43.714 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:51:43.714 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-25 15:51:43.714 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 15.5455ms
2024-07-25 15:51:43.715 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:51:43.715 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:51:43.715 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:43.715 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:51:43.715 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=false - 200 null application/json; charset=utf-8 17.4496ms
2024-07-25 15:51:46.425 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-25 15:51:46.425 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:51:46.425 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:51:46.425 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:51:46.425 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:51:46.425 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:51:46.425 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:51:46.425 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Libros/?mostrarActivos=true - 204 null null 0.7297ms
2024-07-25 15:51:46.437 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - null null
2024-07-25 15:51:46.437 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Libros/'
2024-07-25 15:51:46.437 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)' with route pattern 'api/Libros' is valid for the request path '/api/Libros/'
2024-07-25 15:51:46.437 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:51:46.437 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:51:46.437 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:51:46.437 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:51:46.438 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:51:46.438 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:51:46.438 -05:00 [DBG] Authorization was successful.
2024-07-25 15:51:46.438 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:51:46.438 -05:00 [INF] Route matched with {action = "Get", controller = "Libros"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get(Boolean) on controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend).
2024-07-25 15:51:46.438 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:51:46.438 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:51:46.438 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:51:46.438 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:51:46.438 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:51:46.439 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:51:46.439 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.LibrosController (biblioteca-backend)
2024-07-25 15:51:46.440 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-25 15:51:46.440 -05:00 [DBG] Attempting to bind parameter 'mostrarActivos' of type 'System.Boolean' using the name 'mostrarActivos' in request data ...
2024-07-25 15:51:46.440 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:51:46.440 -05:00 [DBG] Done attempting to bind parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:51:46.440 -05:00 [DBG] Attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean' ...
2024-07-25 15:51:46.440 -05:00 [DBG] Done attempting to validate the bound parameter 'mostrarActivos' of type 'System.Boolean'.
2024-07-25 15:51:46.448 -05:00 [DBG] Consultando libros...
2024-07-25 15:51:46.448 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:51:46.449 -05:00 [DBG] Compiling query expression: 
'DbSet<Libro>()
    .Join(
        inner: DbSet<Genero>(), 
        outerKeySelector: L => L.IdGenero, 
        innerKeySelector: G => G.Id, 
        resultSelector: (L, G) => new { 
            L = L, 
            G = G
         })
    .Where(<>h__TransparentIdentifier0 => True && <>h__TransparentIdentifier0.L.Activo == True || False)
    .Select(<>h__TransparentIdentifier0 => new { 
        id = <>h__TransparentIdentifier0.L.Id, 
        titulo = <>h__TransparentIdentifier0.L.Titulo, 
        autor = <>h__TransparentIdentifier0.L.Autor, 
        anio = <>h__TransparentIdentifier0.L.Anio, 
        idGenero = <>h__TransparentIdentifier0.L.IdGenero, 
        genero = <>h__TransparentIdentifier0.G.Nombre, 
        activo = <>h__TransparentIdentifier0.L.Activo
     })'
2024-07-25 15:51:46.453 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType1<int, string, string, int, int, string, bool>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            id -> 0
            titulo -> 1
            autor -> 2
            anio -> 3
            idGenero -> 4
            genero -> 5
            activo -> 6
        SELECT l.Id AS id, l.Titulo AS titulo, l.Autor AS autor, l.Anio AS anio, l.IdGenero AS idGenero, g.Nombre AS genero, l.Activo AS activo
        FROM Libro AS l
        INNER JOIN Genero AS g ON l.IdGenero == g.Id
        WHERE (CAST(1 AS bit) && (l.Activo == CAST(1 AS bit))) || CAST(0 AS bit)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType1<int, string, string, int, int, string, bool>>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-25 15:51:46.454 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:51:46.454 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:51:46.454 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:46.454 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:46.454 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:51:46.454 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:51:46.454 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:51:46.454 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-25 15:51:46.461 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id] AS [id], [l].[Titulo] AS [titulo], [l].[Autor] AS [autor], [l].[Anio] AS [anio], [l].[IdGenero] AS [idGenero], [g].[Nombre] AS [genero], [l].[Activo] AS [activo]
FROM [Libro] AS [l]
INNER JOIN [Genero] AS [g] ON [l].[IdGenero] = [g].[Id]
WHERE [l].[Activo] = CAST(1 AS bit)
2024-07-25 15:51:46.461 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:46.462 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:51:46.462 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:46.462 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:51:46.464 -05:00 [INF] Consulta de libros exitosa
2024-07-25 15:51:46.464 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:51:46.464 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:51:46.464 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:51:46.464 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:51:46.464 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:51:46.464 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType1`7[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-25 15:51:46.465 -05:00 [INF] Executed action biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend) in 26.1207ms
2024-07-25 15:51:46.465 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.LibrosController.Get (biblioteca-backend)'
2024-07-25 15:51:46.465 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:51:46.465 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:46.465 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:51:46.465 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Libros/?mostrarActivos=true - 200 null application/json; charset=utf-8 28.4544ms
2024-07-25 15:51:53.645 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ - null null
2024-07-25 15:51:53.646 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-25 15:51:53.646 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:51:53.646 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:51:53.646 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:51:53.646 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:51:53.646 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:51:53.646 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ - 204 null null 0.5709ms
2024-07-25 15:51:53.648 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/Prestmaos/ - application/json 387
2024-07-25 15:51:53.648 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/'
2024-07-25 15:51:53.648 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)' with route pattern 'api/Prestmaos' is valid for the request path '/api/Prestmaos/'
2024-07-25 15:51:53.648 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)'
2024-07-25 15:51:53.648 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:51:53.649 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:51:53.649 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:51:53.649 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:51:53.649 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:51:53.649 -05:00 [DBG] Authorization was successful.
2024-07-25 15:51:53.649 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)'
2024-07-25 15:51:53.652 -05:00 [INF] Route matched with {action = "Post", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(biblioteca_backend.Models.DTOs.PrestamoModel) on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-25 15:51:53.652 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:51:53.652 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:51:53.652 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:51:53.652 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:51:53.652 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:51:53.652 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-25 15:51:53.653 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-25 15:51:53.653 -05:00 [DBG] Attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel' ...
2024-07-25 15:51:53.653 -05:00 [DBG] Attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel' using the name '' in request data ...
2024-07-25 15:51:53.653 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-25 15:51:53.657 -05:00 [DBG] Connection id "0HN5CT9TSNI0S", Request id "0HN5CT9TSNI0S:00000037": started reading request body.
2024-07-25 15:51:53.657 -05:00 [DBG] Connection id "0HN5CT9TSNI0S", Request id "0HN5CT9TSNI0S:00000037": done reading request body.
2024-07-25 15:51:53.660 -05:00 [DBG] JSON input formatter succeeded, deserializing to type 'biblioteca_backend.Models.DTOs.PrestamoModel'
2024-07-25 15:51:53.660 -05:00 [DBG] Done attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel'.
2024-07-25 15:51:53.660 -05:00 [DBG] Done attempting to bind parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel'.
2024-07-25 15:51:53.660 -05:00 [DBG] Attempting to validate the bound parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel' ...
2024-07-25 15:51:53.662 -05:00 [DBG] Done attempting to validate the bound parameter 'prestamoModel' of type 'biblioteca_backend.Models.DTOs.PrestamoModel'.
2024-07-25 15:51:53.668 -05:00 [DBG] Guardando préstamo...
2024-07-25 15:51:53.674 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-25 15:51:53.675 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:51:53.679 -05:00 [INF] Libros encontrados exitosamente
2024-07-25 15:51:53.683 -05:00 [DBG] Compiling query expression: 
'DbSet<Perfil>()
    .Join(
        inner: DbSet<Prestamo>(), 
        outerKeySelector: P => P.Id, 
        innerKeySelector: PR => PR.IdPerfil, 
        resultSelector: (P, PR) => new { 
            P = P, 
            PR = PR
         })
    .Join(
        inner: DbSet<DetallePrestamoLibro>(), 
        outerKeySelector: <>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.PR.Id, 
        innerKeySelector: DP => DP.IdPrestamo, 
        resultSelector: (<>h__TransparentIdentifier0, DP) => new { 
            <>h__TransparentIdentifier0 = <>h__TransparentIdentifier0, 
            DP = DP
         })
    .Join(
        inner: DbSet<Libro>(), 
        outerKeySelector: <>h__TransparentIdentifier1 => <>h__TransparentIdentifier1.DP.IdLibro, 
        innerKeySelector: L => L.Id, 
        resultSelector: (<>h__TransparentIdentifier1, L) => new { 
            <>h__TransparentIdentifier1 = <>h__TransparentIdentifier1, 
            L = L
         })
    .Where(<>h__TransparentIdentifier2 => <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.<>h__TransparentIdentifier0.P.Id == __idPerfil_0)
    .Select(<>h__TransparentIdentifier2 => new Libro{ 
        Id = <>h__TransparentIdentifier2.L.Id, 
        Titulo = <>h__TransparentIdentifier2.L.Titulo, 
        Autor = <>h__TransparentIdentifier2.L.Autor, 
        IdGenero = <>h__TransparentIdentifier2.L.IdGenero, 
        Anio = <>h__TransparentIdentifier2.L.Anio, 
        Activo = <>h__TransparentIdentifier2.L.Activo 
    }
    )'
2024-07-25 15:51:53.692 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Libro>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            Id -> 0
            Titulo -> 1
            Autor -> 2
            IdGenero -> 3
            Anio -> 4
            Activo -> 5
        SELECT l.Id, l.Titulo, l.Autor, l.IdGenero, l.Anio, l.Activo
        FROM Perfil AS p
        INNER JOIN Prestamo AS p0 ON p.Id == p0.IdPerfil
        INNER JOIN DetallePrestamoLibro AS d ON p0.Id == d.IdPrestamo
        INNER JOIN Libro AS l ON d.IdLibro == l.Id
        WHERE p.Id == @__idPerfil_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Libro>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-25 15:51:53.692 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:51:53.692 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:51:53.692 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:53.693 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:53.693 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:51:53.693 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:51:53.693 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:51:53.693 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-25 15:51:53.702 -05:00 [INF] Executed DbCommand (9ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-25 15:51:53.702 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:53.702 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:51:53.702 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:53.702 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:51:53.712 -05:00 [WRN] Aún hay préstamos activos del perfil con id 31
2024-07-25 15:51:53.859 -05:00 [ERR] Error al hacer el préstamo: Aún tiene préstamos activos
2024-07-25 15:51:53.970 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:51:53.970 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:51:53.970 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:51:53.970 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:51:53.971 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-07-25 15:51:53.971 -05:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-07-25 15:51:53.971 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend) in 318.375ms
2024-07-25 15:51:53.971 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.Post (biblioteca-backend)'
2024-07-25 15:51:53.971 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:51:53.971 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:53.971 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:51:53.971 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/Prestmaos/ - 400 null text/plain; charset=utf-8 323.8412ms
2024-07-25 15:51:56.514 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-25 15:51:56.514 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-25 15:51:56.514 -05:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-07-25 15:51:56.514 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:51:56.514 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:51:56.514 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:51:56.514 -05:00 [DBG] The request is a preflight request.
2024-07-25 15:51:56.515 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 204 null null 0.6808ms
2024-07-25 15:51:56.517 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - null null
2024-07-25 15:51:56.517 -05:00 [DBG] 1 candidate(s) found for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-25 15:51:56.517 -05:00 [DBG] Endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)' with route pattern 'api/Prestmaos/ConsultarPrestamos' is valid for the request path '/api/Prestmaos/ConsultarPrestamos'
2024-07-25 15:51:56.517 -05:00 [DBG] Request matched endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-25 15:51:56.518 -05:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-25 15:51:56.518 -05:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-07-25 15:51:56.518 -05:00 [INF] CORS policy execution successful.
2024-07-25 15:51:56.518 -05:00 [DBG] Successfully validated the token.
2024-07-25 15:51:56.518 -05:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-07-25 15:51:56.519 -05:00 [DBG] Authorization was successful.
2024-07-25 15:51:56.519 -05:00 [INF] Executing endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-25 15:51:56.524 -05:00 [INF] Route matched with {action = "ConsultarPrestamos", controller = "Prestmaos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConsultarPrestamos() on controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend).
2024-07-25 15:51:56.524 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-25 15:51:56.524 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-25 15:51:56.525 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-25 15:51:56.525 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-25 15:51:56.525 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-25 15:51:56.525 -05:00 [DBG] Executing controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-25 15:51:56.525 -05:00 [DBG] Executed controller factory for controller biblioteca_backend.Controllers.PrestmaosController (biblioteca-backend)
2024-07-25 15:51:56.529 -05:00 [DBG] Entity Framework Core 8.0.6 initialized 'DBBibliotecaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-25 15:51:56.530 -05:00 [DBG] Compiling query expression: 
'DbSet<Prestamo>()'
2024-07-25 15:51:56.536 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Prestamo>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Prestamo.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Prestamo.FechaPrestamo (DateTime) Required, 1], [Property: Prestamo.IdPerfil (int) Required FK Index, 2] }
        SELECT p.Id, p.FechaPrestamo, p.IdPerfil
        FROM Prestamo AS p), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Prestamo>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)'
2024-07-25 15:51:56.537 -05:00 [DBG] Creating DbConnection.
2024-07-25 15:51:56.537 -05:00 [DBG] Created DbConnection. (0ms).
2024-07-25 15:51:56.537 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:56.537 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:56.537 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:51:56.537 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:51:56.538 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:51:56.538 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-25 15:51:56.543 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[FechaPrestamo], [p].[IdPerfil]
FROM [Prestamo] AS [p]
2024-07-25 15:51:56.547 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:51:56.552 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Prestamo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:51:56.552 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:56.552 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 8ms reading results.
2024-07-25 15:51:56.552 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:56.552 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:51:56.555 -05:00 [DBG] Consultando perfil con id 34
2024-07-25 15:51:56.558 -05:00 [DBG] Compiling query expression: 
'DbSet<Perfil>()
    .FirstOrDefault(p => p.Id == __id_0)'
2024-07-25 15:51:56.561 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Perfil>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Perfil.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Perfil.Apellido (string) Required, 1], [Property: Perfil.Contrasena (string) Required, 2], [Property: Perfil.Correo (string) Required, 3], [Property: Perfil.Direccion (string) Required, 4], [Property: Perfil.IdRol (int) Required FK Index, 5], [Property: Perfil.Nombre (string) Required, 6], [Property: Perfil.Telefono (string) Required, 7] }
        SELECT TOP(1) p.Id, p.Apellido, p.Contrasena, p.Correo, p.Direccion, p.IdRol, p.Nombre, p.Telefono
        FROM Perfil AS p
        WHERE p.Id == @__id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Perfil>, 
    biblioteca_backend.DBBibliotecaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-25 15:51:56.562 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:56.562 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:56.562 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:51:56.562 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:51:56.562 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:51:56.562 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-25 15:51:56.564 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-25 15:51:56.565 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:51:56.566 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:51:56.567 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:56.567 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-07-25 15:51:56.567 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:56.567 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:51:56.570 -05:00 [INF] Perfil encontrado con id: 34
2024-07-25 15:51:56.574 -05:00 [DBG] Consultando libros del préstamo del perfil con id 34
2024-07-25 15:51:56.577 -05:00 [INF] Libros encontrados exitosamente
2024-07-25 15:51:56.579 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:56.579 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:56.579 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:51:56.579 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:51:56.579 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:51:56.579 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-25 15:51:56.580 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-25 15:51:56.580 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:56.580 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:51:56.580 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:56.580 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:51:56.583 -05:00 [DBG] Consultando perfil con id 31
2024-07-25 15:51:56.583 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:56.584 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:56.584 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:51:56.584 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:51:56.584 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:51:56.584 -05:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-25 15:51:56.584 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Apellido], [p].[Contrasena], [p].[Correo], [p].[Direccion], [p].[IdRol], [p].[Nombre], [p].[Telefono]
FROM [Perfil] AS [p]
WHERE [p].[Id] = @__id_0
2024-07-25 15:51:56.585 -05:00 [DBG] The navigation 'Prestamo.Perfil' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:51:56.585 -05:00 [DBG] Context 'DBBibliotecaContext' started tracking 'Perfil' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-25 15:51:56.585 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:56.585 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:51:56.585 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:56.585 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:51:56.587 -05:00 [INF] Perfil encontrado con id: 31
2024-07-25 15:51:56.591 -05:00 [DBG] Consultando libros del préstamo del perfil con id 31
2024-07-25 15:51:56.594 -05:00 [INF] Libros encontrados exitosamente
2024-07-25 15:51:56.594 -05:00 [DBG] Opening connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:56.594 -05:00 [DBG] Opened connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:56.594 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-25 15:51:56.594 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:51:56.594 -05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-07-25 15:51:56.595 -05:00 [DBG] Executing DbCommand [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-25 15:51:56.595 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idPerfil_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Titulo], [l].[Autor], [l].[IdGenero], [l].[Anio], [l].[Activo]
FROM [Perfil] AS [p]
INNER JOIN [Prestamo] AS [p0] ON [p].[Id] = [p0].[IdPerfil]
INNER JOIN [DetallePrestamoLibro] AS [d] ON [p0].[Id] = [d].[IdPrestamo]
INNER JOIN [Libro] AS [l] ON [d].[IdLibro] = [l].[Id]
WHERE [p].[Id] = @__idPerfil_0
2024-07-25 15:51:56.595 -05:00 [DBG] Closing data reader to 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:56.595 -05:00 [DBG] A data reader for 'DBBiblioteca' on server '(local)\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-07-25 15:51:56.595 -05:00 [DBG] Closing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:56.595 -05:00 [DBG] Closed connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS' (0ms).
2024-07-25 15:51:56.596 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-25 15:51:56.596 -05:00 [DBG] No information found on request to perform content negotiation.
2024-07-25 15:51:56.596 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-25 15:51:56.596 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-25 15:51:56.596 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-25 15:51:56.596 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[biblioteca_backend.Models.DTOs.ConsultaPrestamoModel, biblioteca-backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-25 15:51:56.604 -05:00 [INF] Executed action biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend) in 79.4158ms
2024-07-25 15:51:56.604 -05:00 [INF] Executed endpoint 'biblioteca_backend.Controllers.PrestmaosController.ConsultarPrestamos (biblioteca-backend)'
2024-07-25 15:51:56.604 -05:00 [DBG] 'DBBibliotecaContext' disposed.
2024-07-25 15:51:56.605 -05:00 [DBG] Disposing connection to database 'DBBiblioteca' on server '(local)\SQLEXPRESS'.
2024-07-25 15:51:56.605 -05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-07-25 15:51:56.605 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/Prestmaos/ConsultarPrestamos - 200 null application/json; charset=utf-8 87.6913ms
